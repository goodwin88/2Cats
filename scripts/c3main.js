// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

{let O=function(t){xr=t},L=function(t){return t*Or},B=function(t,s){return Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},N=function(){var t=new xr(4);return xr!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},W=function(t){var s=new xr(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},U=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},j=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},V=function(t,s,e,i){var r=new xr(4);return r[0]=t,r[1]=s,r[2]=e,r[3]=i,r},H=function(t,s,e,i,r){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t},z=function(t,s){var e;return t===s?(e=s[1],t[1]=s[2],t[2]=e):(t[0]=s[0],t[1]=s[2],t[2]=s[1],t[3]=s[3]),t},J=function(t,s){var e=s[0],i=s[1],r=s[2],n=e*(s=s[3])-r*i;return n?(t[0]=s*(n=1/n),t[1]=-i*n,t[2]=-r*n,t[3]=e*n,t):null},q=function(t,s){var e=s[0];return t[0]=s[3],t[1]=-s[1],t[2]=-s[2],t[3]=e,t},$=function(t){return t[0]*t[3]-t[2]*t[1]},t=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=e[0],o=e[1],a=e[2],e=e[3];return t[0]=i*h+n*o,t[1]=r*h+s*o,t[2]=i*a+n*e,t[3]=r*a+s*e,t},X=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=Math.sin(e),e=Math.cos(e);return t[0]=i*e+n*h,t[1]=r*e+s*h,t[2]=i*-h+n*e,t[3]=r*-h+s*e,t},Y=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=e[0],e=e[1];return t[0]=i*h,t[1]=r*h,t[2]=n*e,t[3]=s*e,t},K=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=e,t[2]=-e,t[3]=s,t},Z=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t},Q=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},tt=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},st=function(t,s,e,i){return t[2]=i[2]/i[0],e[0]=i[0],e[1]=i[1],e[3]=i[3]-t[2]*e[1],[t,s,e]},et=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t},s=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t},it=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},rt=function(t,s){var e=t[0],i=t[1],r=t[2],t=t[3],n=s[0],h=s[1],o=s[2],s=s[3];return Math.abs(e-n)<=vr*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(i-h)<=vr*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-o)<=vr*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},nt=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t},ht=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t},ot=function(){var t=new xr(6);return xr!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},at=function(t){var s=new xr(6);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s},lt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t},ut=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},ct=function(t,s,e,i,r,n){var h=new xr(6);return h[0]=t,h[1]=s,h[2]=e,h[3]=i,h[4]=r,h[5]=n,h},ft=function(t,s,e,i,r,n,h){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t[4]=n,t[5]=h,t},dt=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],s=s[5],o=e*n-i*r;return o?(t[0]=n*(o=1/o),t[1]=-i*o,t[2]=-r*o,t[3]=e*o,t[4]=(r*s-n*h)*o,t[5]=(i*h-e*s)*o,t):null},pt=function(t){return t[0]*t[3]-t[1]*t[2]},e=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],s=s[5],a=e[0],l=e[1],u=e[2],c=e[3],f=e[4],e=e[5];return t[0]=i*a+n*l,t[1]=r*a+h*l,t[2]=i*u+n*c,t[3]=r*u+h*c,t[4]=i*f+n*e+o,t[5]=r*f+h*e+s,t},mt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],s=s[5],a=Math.sin(e),e=Math.cos(e);return t[0]=i*e+n*a,t[1]=r*e+h*a,t[2]=i*-a+n*e,t[3]=r*-a+h*e,t[4]=o,t[5]=s,t},gt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],s=s[5],a=e[0],e=e[1];return t[0]=i*a,t[1]=r*a,t[2]=n*e,t[3]=h*e,t[4]=o,t[5]=s,t},yt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],s=s[5],a=e[0],e=e[1];return t[0]=i,t[1]=r,t[2]=n,t[3]=h,t[4]=i*a+n*e+o,t[5]=r*a+h*e+s,t},St=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=e,t[2]=-e,t[3]=s,t[4]=0,t[5]=0,t},wt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t[4]=0,t[5]=0,t},bt=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=s[0],t[5]=s[1],t},vt=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},xt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},Mt=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t[4]=s[4]+e[4],t[5]=s[5]+e[5],t},i=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t[4]=s[4]-e[4],t[5]=s[5]-e[5],t},Tt=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*e,t[5]=s[5]*e,t},Gt=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t[4]=s[4]+e[4]*i,t[5]=s[5]+e[5]*i,t},_t=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]},It=function(t,s){var e=t[0],i=t[1],r=t[2],n=t[3],h=t[4],t=t[5],o=s[0],a=s[1],l=s[2],u=s[3],c=s[4],s=s[5];return Math.abs(e-o)<=vr*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(i-a)<=vr*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-l)<=vr*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=vr*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(h-c)<=vr*Math.max(1,Math.abs(h),Math.abs(c))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},r=function(){var t=new xr(9);return xr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},Ct=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[4],t[4]=s[5],t[5]=s[6],t[6]=s[8],t[7]=s[9],t[8]=s[10],t},Rt=function(t){var s=new xr(9);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s},Et=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Ft=function(t,s,e,i,r,n,h,o,a){var l=new xr(9);return l[0]=t,l[1]=s,l[2]=e,l[3]=i,l[4]=r,l[5]=n,l[6]=h,l[7]=o,l[8]=a,l},Pt=function(t,s,e,i,r,n,h,o,a,l){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t[4]=n,t[5]=h,t[6]=o,t[7]=a,t[8]=l,t},At=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},kt=function(t,s){var e,i,r;return t===s?(e=s[1],i=s[2],r=s[5],t[1]=s[3],t[2]=s[6],t[3]=e,t[5]=s[7],t[6]=i,t[7]=r):(t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8]),t},Dt=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=(s=s[8])*h-o*l,c=-s*n+o*a,f=l*n-h*a,d=e*u+i*c+r*f;return d?(t[0]=u*(d=1/d),t[1]=(-s*i+r*l)*d,t[2]=(o*i-r*h)*d,t[3]=c*d,t[4]=(s*e-r*a)*d,t[5]=(-o*e+r*n)*d,t[6]=f*d,t[7]=(-l*e+i*a)*d,t[8]=(h*e-i*n)*d,t):null},Ot=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],s=s[8];return t[0]=h*s-o*l,t[1]=r*l-i*s,t[2]=i*o-r*h,t[3]=o*a-n*s,t[4]=e*s-r*a,t[5]=r*n-e*o,t[6]=n*l-h*a,t[7]=i*a-e*l,t[8]=e*h-i*n,t},Lt=function(t){var s=t[0],e=t[3],i=t[4],r=t[5],n=t[6],h=t[7],o=t[8];return s*(o*i-r*h)+t[1]*(-o*e+r*n)+t[2]*(h*e-i*n)},n=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],s=s[8],c=e[0],f=e[1],d=e[2],p=e[3],m=e[4],g=e[5],y=e[6],S=e[7],e=e[8];return t[0]=c*i+f*h+d*l,t[1]=c*r+f*o+d*u,t[2]=c*n+f*a+d*s,t[3]=p*i+m*h+g*l,t[4]=p*r+m*o+g*u,t[5]=p*n+m*a+g*s,t[6]=y*i+S*h+e*l,t[7]=y*r+S*o+e*u,t[8]=y*n+S*a+e*s,t},Bt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],s=s[8],c=e[0],e=e[1];return t[0]=i,t[1]=r,t[2]=n,t[3]=h,t[4]=o,t[5]=a,t[6]=c*i+e*h+l,t[7]=c*r+e*o+u,t[8]=c*n+e*a+s,t},Nt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],s=s[8],c=Math.sin(e),e=Math.cos(e);return t[0]=e*i+c*h,t[1]=e*r+c*o,t[2]=e*n+c*a,t[3]=e*h-c*i,t[4]=e*o-c*r,t[5]=e*a-c*n,t[6]=l,t[7]=u,t[8]=s,t},Wt=function(t,s,e){var i=e[0],e=e[1];return t[0]=i*s[0],t[1]=i*s[1],t[2]=i*s[2],t[3]=e*s[3],t[4]=e*s[4],t[5]=e*s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Ut=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=s[0],t[7]=s[1],t[8]=1,t},jt=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=e,t[2]=0,t[3]=-e,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Vt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=s[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Ht=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=0,t[3]=s[2],t[4]=s[3],t[5]=0,t[6]=s[4],t[7]=s[5],t[8]=1,t},zt=function(t,s){var e=s[0],i=s[2],r=i+i,e=e*(l=e+e),n=(h=s[1])*l,h=h*(u=h+h),o=i*l,a=i*u,l=(s=s[3])*l,u=s*u,s=s*r;return t[0]=1-h-(i=i*r),t[3]=n-s,t[6]=o+u,t[1]=n+s,t[4]=1-e-i,t[7]=a-l,t[2]=o-u,t[5]=a+l,t[8]=1-e-h,t},Jt=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=e*o-i*h,S=e*a-r*h,w=e*l-n*h,b=i*a-r*o,v=i*l-n*o,x=r*l-n*a,M=u*m-c*p,T=u*g-f*p,G=c*g-f*m;return(d=y*(f=f*(s=s[15])-d*g)-S*(c=c*s-d*m)+w*G+b*(u=u*s-d*p)-v*T+x*M)?(t[0]=(o*f-a*c+l*G)*(d=1/d),t[1]=(a*u-h*f-l*T)*d,t[2]=(h*c-o*u+l*M)*d,t[3]=(r*c-i*f-n*G)*d,t[4]=(e*f-r*u+n*T)*d,t[5]=(i*u-e*c-n*M)*d,t[6]=(m*x-g*v+s*b)*d,t[7]=(g*w-p*x-s*S)*d,t[8]=(p*v-m*w+s*y)*d,t):null},qt=function(t,s,e){return t[0]=2/s,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},$t=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},Xt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},Yt=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t[4]=s[4]+e[4],t[5]=s[5]+e[5],t[6]=s[6]+e[6],t[7]=s[7]+e[7],t[8]=s[8]+e[8],t},h=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t[4]=s[4]-e[4],t[5]=s[5]-e[5],t[6]=s[6]-e[6],t[7]=s[7]-e[7],t[8]=s[8]-e[8],t},Kt=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*e,t[5]=s[5]*e,t[6]=s[6]*e,t[7]=s[7]*e,t[8]=s[8]*e,t},Zt=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t[4]=s[4]+e[4]*i,t[5]=s[5]+e[5]*i,t[6]=s[6]+e[6]*i,t[7]=s[7]+e[7]*i,t[8]=s[8]+e[8]*i,t},Qt=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]},ts=function(t,s){var e=t[0],i=t[1],r=t[2],n=t[3],h=t[4],o=t[5],a=t[6],l=t[7],t=t[8],u=s[0],c=s[1],f=s[2],d=s[3],p=s[4],m=s[5],g=s[6],y=s[7],s=s[8];return Math.abs(e-u)<=vr*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(i-c)<=vr*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(r-f)<=vr*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-d)<=vr*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(h-p)<=vr*Math.max(1,Math.abs(h),Math.abs(p))&&Math.abs(o-m)<=vr*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=vr*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(l-y)<=vr*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},ss=function(){var t=new xr(16);return xr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},es=function(t){var s=new xr(16);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s},is=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},rs=function(t,s,e,i,r,n,h,o,a,l,u,c,f,d,p,m){var g=new xr(16);return g[0]=t,g[1]=s,g[2]=e,g[3]=i,g[4]=r,g[5]=n,g[6]=h,g[7]=o,g[8]=a,g[9]=l,g[10]=u,g[11]=c,g[12]=f,g[13]=d,g[14]=p,g[15]=m,g},ns=function(t,s,e,i,r,n,h,o,a,l,u,c,f,d,p,m,g){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t[4]=n,t[5]=h,t[6]=o,t[7]=a,t[8]=l,t[9]=u,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},p=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},hs=function(t,s){var e,i,r,n,h,o;return t===s?(e=s[1],i=s[2],r=s[3],n=s[6],h=s[7],o=s[11],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=e,t[6]=s[9],t[7]=s[13],t[8]=i,t[9]=n,t[11]=s[14],t[12]=r,t[13]=h,t[14]=o):(t[0]=s[0],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=s[1],t[5]=s[5],t[6]=s[9],t[7]=s[13],t[8]=s[2],t[9]=s[6],t[10]=s[10],t[11]=s[14],t[12]=s[3],t[13]=s[7],t[14]=s[11],t[15]=s[15]),t},os=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=e*o-i*h,S=e*a-r*h,w=e*l-n*h,b=i*a-r*o,v=i*l-n*o,x=r*l-n*a,M=u*m-c*p,T=u*g-f*p,G=u*(s=s[15])-d*p,_=c*g-f*m,I=c*s-d*m,C=f*s-d*g,R=y*C-S*I+w*_+b*G-v*T+x*M;return R?(t[0]=(o*C-a*I+l*_)*(R=1/R),t[1]=(r*I-i*C-n*_)*R,t[2]=(m*x-g*v+s*b)*R,t[3]=(f*v-c*x-d*b)*R,t[4]=(a*G-h*C-l*T)*R,t[5]=(e*C-r*G+n*T)*R,t[6]=(g*w-p*x-s*S)*R,t[7]=(u*x-f*w+d*S)*R,t[8]=(h*I-o*G+l*M)*R,t[9]=(i*G-e*I-n*M)*R,t[10]=(p*v-m*w+s*y)*R,t[11]=(c*w-u*v-d*y)*R,t[12]=(o*T-h*_-a*M)*R,t[13]=(e*_-i*T+r*M)*R,t[14]=(m*S-p*b-g*y)*R,t[15]=(u*b-c*S+f*y)*R,t):null},as=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=e*o-i*h,S=e*a-r*h,w=e*l-n*h,b=i*a-r*o,v=i*l-n*o,x=r*l-n*a,M=u*m-c*p,T=u*g-f*p,G=u*(s=s[15])-d*p,_=c*g-f*m,I=c*s-d*m,C=f*s-d*g;return t[0]=o*C-a*I+l*_,t[1]=r*I-i*C-n*_,t[2]=m*x-g*v+s*b,t[3]=f*v-c*x-d*b,t[4]=a*G-h*C-l*T,t[5]=e*C-r*G+n*T,t[6]=g*w-p*x-s*S,t[7]=u*x-f*w+d*S,t[8]=h*I-o*G+l*M,t[9]=i*G-e*I-n*M,t[10]=p*v-m*w+s*y,t[11]=c*w-u*v-d*y,t[12]=o*T-h*_-a*M,t[13]=e*_-i*T+r*M,t[14]=m*S-p*b-g*y,t[15]=u*b-c*S+f*y,t},ls=function(t){var s=t[0],e=t[1],i=t[2],r=t[4],n=t[5],h=t[6],o=t[8],a=t[9],l=t[10],u=t[12],c=t[13],f=t[14],d=s*n-e*r,p=s*h-i*r,m=e*h-i*n,g=o*c-a*u,y=o*f-l*u,S=a*f-l*c;return t[7]*(s*S-e*y+i*g)-t[3]*(r*S-n*y+h*g)+t[15]*(o*m-a*p+l*d)-t[11]*(u*m-c*p+f*d)},o=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=s[9],d=s[10],p=s[11],m=s[12],g=s[13],y=s[14],s=s[15],S=e[0],w=e[1],b=e[2],v=e[3];return t[0]=S*i+w*o+b*c+v*m,t[1]=S*r+w*a+b*f+v*g,t[2]=S*n+w*l+b*d+v*y,t[3]=S*h+w*u+b*p+v*s,t[4]=(S=e[4])*i+(w=e[5])*o+(b=e[6])*c+(v=e[7])*m,t[5]=S*r+w*a+b*f+v*g,t[6]=S*n+w*l+b*d+v*y,t[7]=S*h+w*u+b*p+v*s,t[8]=(S=e[8])*i+(w=e[9])*o+(b=e[10])*c+(v=e[11])*m,t[9]=S*r+w*a+b*f+v*g,t[10]=S*n+w*l+b*d+v*y,t[11]=S*h+w*u+b*p+v*s,t[12]=(S=e[12])*i+(w=e[13])*o+(b=e[14])*c+(v=e[15])*m,t[13]=S*r+w*a+b*f+v*g,t[14]=S*n+w*l+b*d+v*y,t[15]=S*h+w*u+b*p+v*s,t},us=function(t,s,e){var i,r,n,h,o,a,l,u,c,f,d,p,m=e[0],g=e[1],e=e[2];return s===t?(t[12]=s[0]*m+s[4]*g+s[8]*e+s[12],t[13]=s[1]*m+s[5]*g+s[9]*e+s[13],t[14]=s[2]*m+s[6]*g+s[10]*e+s[14],t[15]=s[3]*m+s[7]*g+s[11]*e+s[15]):(i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=s[9],d=s[10],p=s[11],t[0]=i,t[1]=r,t[2]=n,t[3]=h,t[4]=o,t[5]=a,t[6]=l,t[7]=u,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=i*m+o*g+c*e+s[12],t[13]=r*m+a*g+f*e+s[13],t[14]=n*m+l*g+d*e+s[14],t[15]=h*m+u*g+p*e+s[15]),t},cs=function(t,s,e){var i=e[0],r=e[1],e=e[2];return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*r,t[5]=s[5]*r,t[6]=s[6]*r,t[7]=s[7]*r,t[8]=s[8]*e,t[9]=s[9]*e,t[10]=s[10]*e,t[11]=s[11]*e,t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},fs=function(t,s,e,i){var r,n,h,o,a,l,u,c,f,d,p,m,g,y,S,w,b,v,x,M,T=i[0],G=i[1],i=i[2],_=Math.hypot(T,G,i);return _<vr?null:(T*=_=1/_,G*=_,i*=_,_=Math.sin(e),e=Math.cos(e),n=s[0],h=s[1],o=s[2],a=s[3],u=s[5],c=s[6],f=s[7],p=s[9],m=s[10],g=s[11],S=T*G*(r=1-e)-i*_,w=G*G*r+e,b=i*G*r+T*_,v=T*i*r+G*_,x=G*i*r-T*_,M=i*i*r+e,t[0]=n*(e=T*T*r+e)+(l=s[4])*(y=G*T*r+i*_)+(d=s[8])*(i=i*T*r-G*_),t[1]=h*e+u*y+p*i,t[2]=o*e+c*y+m*i,t[3]=a*e+f*y+g*i,t[4]=n*S+l*w+d*b,t[5]=h*S+u*w+p*b,t[6]=o*S+c*w+m*b,t[7]=a*S+f*w+g*b,t[8]=n*v+l*x+d*M,t[9]=h*v+u*x+p*M,t[10]=o*v+c*x+m*M,t[11]=a*v+f*x+g*M,s!==t&&(t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t)},ds=function(t,s,e){var i=Math.sin(e),e=Math.cos(e),r=s[4],n=s[5],h=s[6],o=s[7],a=s[8],l=s[9],u=s[10],c=s[11];return s!==t&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[4]=r*e+a*i,t[5]=n*e+l*i,t[6]=h*e+u*i,t[7]=o*e+c*i,t[8]=a*e-r*i,t[9]=l*e-n*i,t[10]=u*e-h*i,t[11]=c*e-o*i,t},ps=function(t,s,e){var i=Math.sin(e),e=Math.cos(e),r=s[0],n=s[1],h=s[2],o=s[3],a=s[8],l=s[9],u=s[10],c=s[11];return s!==t&&(t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=r*e-a*i,t[1]=n*e-l*i,t[2]=h*e-u*i,t[3]=o*e-c*i,t[8]=r*i+a*e,t[9]=n*i+l*e,t[10]=h*i+u*e,t[11]=o*i+c*e,t},ms=function(t,s,e){var i=Math.sin(e),e=Math.cos(e),r=s[0],n=s[1],h=s[2],o=s[3],a=s[4],l=s[5],u=s[6],c=s[7];return s!==t&&(t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=r*e+a*i,t[1]=n*e+l*i,t[2]=h*e+u*i,t[3]=o*e+c*i,t[4]=a*e-r*i,t[5]=l*e-n*i,t[6]=u*e-h*i,t[7]=c*e-o*i,t},gs=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},ys=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ss=function(t,s,e){var i,r=e[0],n=e[1],e=e[2],h=Math.hypot(r,n,e);return h<vr?null:(r*=h=1/h,n*=h,e*=h,h=Math.sin(s),s=Math.cos(s),t[0]=r*r*(i=1-s)+s,t[1]=n*r*i+e*h,t[2]=e*r*i-n*h,t[3]=0,t[4]=r*n*i-e*h,t[5]=n*n*i+s,t[6]=e*n*i+r*h,t[7]=0,t[8]=r*e*i+n*h,t[9]=n*e*i-r*h,t[10]=e*e*i+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},ws=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},bs=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},vs=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},f=function(t,s,e){var i=s[0],r=s[2],n=r+r,h=i*(u=i+i),o=i*(c=(l=s[1])+l),i=i*n,a=l*c,l=l*n,u=(s=s[3])*u,c=s*c,s=s*n;return t[0]=1-(a+(r=r*n)),t[1]=o+s,t[2]=i-c,t[3]=0,t[4]=o-s,t[5]=1-(h+r),t[6]=l+u,t[7]=0,t[8]=i+c,t[9]=l-u,t[10]=1-(h+a),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},xs=function(t,s){var e=new xr(3),i=-s[0],r=-s[1],n=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=i*i+r*r+n*n+h*h;return 0<c?(e[0]=2*(o*h+u*i+a*n-l*r)/c,e[1]=2*(a*h+u*r+l*i-o*n)/c,e[2]=2*(l*h+u*n+o*r-a*i)/c):(e[0]=2*(o*h+u*i+a*n-l*r),e[1]=2*(a*h+u*r+l*i-o*n),e[2]=2*(l*h+u*n+o*r-a*i)),f(t,s,e),t},a=function(t,s){return t[0]=s[12],t[1]=s[13],t[2]=s[14],t},d=function(t,s){var e=s[0],i=s[4],r=s[5],n=s[6],h=s[8],o=s[9],a=s[10];return t[0]=Math.hypot(e,s[1],s[2]),t[1]=Math.hypot(i,r,n),t[2]=Math.hypot(h,o,a),t},l=function(t,s){var e=new xr(3),i=(d(e,s),1/e[0]),r=s[0]*i,n=s[1]*(u=1/e[1]),h=s[2]*(e=1/e[2]),o=s[4]*i,a=s[5]*u,l=s[6]*e,i=s[8]*i,u=s[9]*u,c=0;return 0<(e=r+a+(s=s[10]*e))?(c=2*Math.sqrt(1+e),t[3]=.25*c,t[0]=(l-u)/c,t[1]=(i-h)/c,t[2]=(n-o)/c):a<r&&s<r?(c=2*Math.sqrt(1+r-a-s),t[3]=(l-u)/c,t[0]=.25*c,t[1]=(n+o)/c,t[2]=(i+h)/c):s<a?(c=2*Math.sqrt(1+a-r-s),t[3]=(i-h)/c,t[0]=(n+o)/c,t[1]=.25*c,t[2]=(l+u)/c):(c=2*Math.sqrt(1+s-r-a),t[3]=(n-o)/c,t[0]=(i+h)/c,t[1]=(l+u)/c,t[2]=.25*c),t},Ms=function(t,s,e,i){s[0]=i[12],s[1]=i[13],s[2]=i[14];var s=i[0],r=i[1],n=i[2],h=i[4],o=i[5],a=i[6],l=i[8],u=i[9],i=i[10],c=(e[0]=Math.hypot(s,r,n),e[1]=Math.hypot(h,o,a),e[2]=Math.hypot(l,u,i),1/e[0]),f=1/e[1],s=s*c,r=r*f,n=n*(e=1/e[2]),h=h*c,a=a*e,l=l*c,c=u*f,u=i*e,i=0;return 0<(f=s+(o=o*f)+u)?(i=2*Math.sqrt(1+f),t[3]=.25*i,t[0]=(a-c)/i,t[1]=(l-n)/i,t[2]=(r-h)/i):o<s&&u<s?(i=2*Math.sqrt(1+s-o-u),t[3]=(a-c)/i,t[0]=.25*i,t[1]=(r+h)/i,t[2]=(l+n)/i):u<o?(i=2*Math.sqrt(1+o-s-u),t[3]=(l-n)/i,t[0]=(r+h)/i,t[1]=.25*i,t[2]=(a+c)/i):(i=2*Math.sqrt(1+u-s-o),t[3]=(r-h)/i,t[0]=(l+n)/i,t[1]=(a+c)/i,t[2]=.25*i),t},Ts=function(t,s,e,i){var r=(h=s[0])*(u=h+h),n=h*(c=(a=s[1])+a),h=h*(f=(l=s[2])+l),o=a*c,a=a*f,l=l*f,u=(s=s[3])*u,c=s*c,s=s*f,f=i[0],d=i[1],i=i[2];return t[0]=(1-(o+l))*f,t[1]=(n+s)*f,t[2]=(h-c)*f,t[3]=0,t[4]=(n-s)*d,t[5]=(1-(r+l))*d,t[6]=(a+u)*d,t[7]=0,t[8]=(h+c)*i,t[9]=(a-u)*i,t[10]=(1-(r+o))*i,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},Gs=function(t,s,e,i,r){var n=(o=s[0])*(c=o+o),h=o*(f=(l=s[1])+l),o=o*(d=(u=s[2])+u),a=l*f,l=l*d,u=u*d,c=(s=s[3])*c,f=s*f,s=s*d,d=i[0],p=i[1],i=i[2],m=r[0],g=r[1],r=r[2],y=(1-(a+u))*d,S=(h+s)*d,d=(o-f)*d,h=(h-s)*p,s=(1-(n+u))*p,u=(l+c)*p,p=(o+f)*i,o=(l-c)*i,f=(1-(n+a))*i;return t[0]=y,t[1]=S,t[2]=d,t[3]=0,t[4]=h,t[5]=s,t[6]=u,t[7]=0,t[8]=p,t[9]=o,t[10]=f,t[11]=0,t[12]=e[0]+m-(y*m+h*g+p*r),t[13]=e[1]+g-(S*m+s*g+o*r),t[14]=e[2]+r-(d*m+u*g+f*r),t[15]=1,t},_s=function(t,s){var e=s[0],i=s[2],r=i+i,e=e*(l=e+e),n=(h=s[1])*l,h=h*(u=h+h),o=i*l,a=i*u,l=(s=s[3])*l,u=s*u,s=s*r;return t[0]=1-h-(i=i*r),t[1]=n+s,t[2]=o-u,t[3]=0,t[4]=n-s,t[5]=1-e-i,t[6]=a+l,t[7]=0,t[8]=o+u,t[9]=a-l,t[10]=1-e-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Is=function(t,s,e,i,r,n,h){var o=1/(e-s),a=1/(r-i),l=1/(n-h);return t[0]=2*n*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*a,t[6]=0,t[7]=0,t[8]=(e+s)*o,t[9]=(r+i)*a,t[10]=(h+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=h*n*2*l,t[15]=0,t},u=function(t,s,e,i,r){return s=1/Math.tan(s/2),t[0]=s/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=(r+i)*(e=1/(i-r)),t[14]=2*r*i*e):(t[10]=-1,t[14]=-2*i),t},Cs=function(t,s,e,i,r){return s=1/Math.tan(s/2),t[0]=s/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=r*(e=1/(i-r)),t[14]=r*i*e):(t[10]=-1,t[14]=-i),t},Rs=function(t,s,e,i){var r=Math.tan(s.upDegrees*Math.PI/180),n=Math.tan(s.downDegrees*Math.PI/180),h=Math.tan(s.leftDegrees*Math.PI/180),o=2/(h+(s=Math.tan(s.rightDegrees*Math.PI/180))),a=2/(r+n);return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=-(h-s)*o*.5,t[9]=(r-n)*a*.5,t[10]=i/(e-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*e/(e-i),t[15]=0,t},c=function(t,s,e,i,r,n,h){var o=1/(s-e),a=1/(i-r),l=1/(n-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(s+e)*o,t[13]=(r+i)*a,t[14]=(h+n)*l,t[15]=1,t},Es=function(t,s,e,i,r,n,h){var o=1/(s-e),a=1/(i-r),h=1/(n-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=h,t[11]=0,t[12]=(s+e)*o,t[13]=(r+i)*a,t[14]=n*h,t[15]=1,t},Fs=function(t,s,e,i){var r,n,h,o,a=s[0],l=s[1],s=s[2],u=i[0],c=i[1],i=i[2],f=e[0],d=e[1],e=e[2];return Math.abs(a-f)<vr&&Math.abs(l-d)<vr&&Math.abs(s-e)<vr?p(t):(f=a-f,d=l-d,e=s-e,r=c*(e*=o=1/Math.hypot(f,d,e))-i*(d*=o),i=i*(f*=o)-u*e,u=u*d-c*f,(o=Math.hypot(r,i,u))?(r*=o=1/o,i*=o,u*=o):u=i=r=0,c=d*u-e*i,n=e*r-f*u,h=f*i-d*r,(o=Math.hypot(c,n,h))?(c*=o=1/o,n*=o,h*=o):h=n=c=0,t[0]=r,t[1]=c,t[2]=f,t[3]=0,t[4]=i,t[5]=n,t[6]=d,t[7]=0,t[8]=u,t[9]=h,t[10]=e,t[11]=0,t[12]=-(r*a+i*l+u*s),t[13]=-(c*a+n*l+h*s),t[14]=-(f*a+d*l+e*s),t[15]=1,t)},Ps=function(t,s,e,i){var r=s[0],n=s[1],s=s[2],h=i[0],o=i[1],i=i[2],a=r-e[0],l=n-e[1],u=a*a+l*l+(e=s-e[2])*e,c=(0<u&&(a*=u=1/Math.sqrt(u),l*=u,e*=u),o*e-i*l);return 0<(u=c*c+(i=i*a-h*e)*i+(h=h*l-o*a)*h)&&(c*=u=1/Math.sqrt(u),i*=u,h*=u),t[0]=c,t[1]=i,t[2]=h,t[3]=0,t[4]=l*h-e*i,t[5]=e*c-a*h,t[6]=a*i-l*c,t[7]=0,t[8]=a,t[9]=l,t[10]=e,t[11]=0,t[12]=r,t[13]=n,t[14]=s,t[15]=1,t},As=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},ks=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},Ds=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t[4]=s[4]+e[4],t[5]=s[5]+e[5],t[6]=s[6]+e[6],t[7]=s[7]+e[7],t[8]=s[8]+e[8],t[9]=s[9]+e[9],t[10]=s[10]+e[10],t[11]=s[11]+e[11],t[12]=s[12]+e[12],t[13]=s[13]+e[13],t[14]=s[14]+e[14],t[15]=s[15]+e[15],t},Os=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t[4]=s[4]-e[4],t[5]=s[5]-e[5],t[6]=s[6]-e[6],t[7]=s[7]-e[7],t[8]=s[8]-e[8],t[9]=s[9]-e[9],t[10]=s[10]-e[10],t[11]=s[11]-e[11],t[12]=s[12]-e[12],t[13]=s[13]-e[13],t[14]=s[14]-e[14],t[15]=s[15]-e[15],t},Ls=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*e,t[5]=s[5]*e,t[6]=s[6]*e,t[7]=s[7]*e,t[8]=s[8]*e,t[9]=s[9]*e,t[10]=s[10]*e,t[11]=s[11]*e,t[12]=s[12]*e,t[13]=s[13]*e,t[14]=s[14]*e,t[15]=s[15]*e,t},Bs=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t[4]=s[4]+e[4]*i,t[5]=s[5]+e[5]*i,t[6]=s[6]+e[6]*i,t[7]=s[7]+e[7]*i,t[8]=s[8]+e[8]*i,t[9]=s[9]+e[9]*i,t[10]=s[10]+e[10]*i,t[11]=s[11]+e[11]*i,t[12]=s[12]+e[12]*i,t[13]=s[13]+e[13]*i,t[14]=s[14]+e[14]*i,t[15]=s[15]+e[15]*i,t},Ns=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]&&t[9]===s[9]&&t[10]===s[10]&&t[11]===s[11]&&t[12]===s[12]&&t[13]===s[13]&&t[14]===s[14]&&t[15]===s[15]},Ws=function(t,s){var e=t[0],i=t[1],r=t[2],n=t[3],h=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],t=t[15],y=s[0],S=s[1],w=s[2],b=s[3],v=s[4],x=s[5],M=s[6],T=s[7],G=s[8],_=s[9],I=s[10],C=s[11],R=s[12],E=s[13],F=s[14],s=s[15];return Math.abs(e-y)<=vr*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(i-S)<=vr*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(r-w)<=vr*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(n-b)<=vr*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(h-v)<=vr*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(o-x)<=vr*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-M)<=vr*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(l-T)<=vr*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-G)<=vr*Math.max(1,Math.abs(u),Math.abs(G))&&Math.abs(c-_)<=vr*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(f-I)<=vr*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(d-C)<=vr*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-R)<=vr*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(m-E)<=vr*Math.max(1,Math.abs(m),Math.abs(E))&&Math.abs(g-F)<=vr*Math.max(1,Math.abs(g),Math.abs(F))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},m=function(){var t=new xr(3);return xr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t},Us=function(t){var s=new xr(3);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s},js=function(t){var s=t[0];return Math.hypot(s,t[1],t[2])},g=function(t,s,e){var i=new xr(3);return i[0]=t,i[1]=s,i[2]=e,i},Vs=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t},Hs=function(t,s,e,i){return t[0]=s,t[1]=e,t[2]=i,t},zs=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t},Js=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t},qs=function(t,s,e){return t[0]=s[0]*e[0],t[1]=s[1]*e[1],t[2]=s[2]*e[2],t},$s=function(t,s,e){return t[0]=s[0]/e[0],t[1]=s[1]/e[1],t[2]=s[2]/e[2],t},Xs=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t},Ys=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t},Ks=function(t,s,e){return t[0]=Math.min(s[0],e[0]),t[1]=Math.min(s[1],e[1]),t[2]=Math.min(s[2],e[2]),t},Zs=function(t,s,e){return t[0]=Math.max(s[0],e[0]),t[1]=Math.max(s[1],e[1]),t[2]=Math.max(s[2],e[2]),t},Qs=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t},te=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t},se=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t},ee=function(t,s){var e=s[0]-t[0];return Math.hypot(e,s[1]-t[1],s[2]-t[2])},ie=function(t,s){var e=s[0]-t[0],i=s[1]-t[1];return e*e+i*i+(s=s[2]-t[2])*s},re=function(t){var s=t[0],e=t[1];return s*s+e*e+(t=t[2])*t},ne=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t},he=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t},y=function(t,s){var e=s[0],i=s[1],r=s[2];return 0<(e=e*e+i*i+r*r)&&(e=1/Math.sqrt(e)),t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t},S=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]},w=function(t,s,e){var i=s[0],r=s[1],s=s[2],n=e[0],h=e[1],e=e[2];return t[0]=r*e-s*h,t[1]=s*n-i*e,t[2]=i*h-r*n,t},oe=function(t,s,e,i){var r=s[0],n=s[1],s=s[2];return t[0]=r+i*(e[0]-r),t[1]=n+i*(e[1]-n),t[2]=s+i*(e[2]-s),t},ae=function(t,s,e,i){var r=Math.acos(Math.min(Math.max(S(s,e),-1),1)),n=Math.sin(r),h=Math.sin((1-i)*r)/n,i=Math.sin(i*r)/n;return t[0]=h*s[0]+i*e[0],t[1]=h*s[1]+i*e[1],t[2]=h*s[2]+i*e[2],t},le=function(t,s,e,i,r,n){var h=n*n,o=h*(2*n-3)+1,a=h*(n-2)+n,l=h*(n-1);return t[0]=s[0]*o+e[0]*a+i[0]*l+r[0]*(h=h*(3-2*n)),t[1]=s[1]*o+e[1]*a+i[1]*l+r[1]*h,t[2]=s[2]*o+e[2]*a+i[2]*l+r[2]*h,t},ue=function(t,s,e,i,r,n){var h=1-n,o=h*h,a=n*n,l=o*h;return t[0]=s[0]*l+e[0]*(o=3*n*o)+i[0]*(h=3*a*h)+r[0]*(a=a*n),t[1]=s[1]*l+e[1]*o+i[1]*h+r[1]*a,t[2]=s[2]*l+e[2]*o+i[2]*h+r[2]*a,t},ce=function(t,s){s=s||1;var e=2*kr()*Math.PI,i=2*kr()-1,r=Math.sqrt(1-i*i)*s;return t[0]=Math.cos(e)*r,t[1]=Math.sin(e)*r,t[2]=i*s,t},fe=function(t,s,e){var i=s[0],r=s[1],s=s[2],n=e[3]*i+e[7]*r+e[11]*s+e[15];return t[0]=(e[0]*i+e[4]*r+e[8]*s+e[12])/(n=n||1),t[1]=(e[1]*i+e[5]*r+e[9]*s+e[13])/n,t[2]=(e[2]*i+e[6]*r+e[10]*s+e[14])/n,t},de=function(t,s,e){var i=s[0],r=s[1],s=s[2];return t[0]=i*e[0]+r*e[3]+s*e[6],t[1]=i*e[1]+r*e[4]+s*e[7],t[2]=i*e[2]+r*e[5]+s*e[8],t},pe=function(t,s,e){var i=e[0],r=e[1],n=s[0],h=s[1],o=r*(s=s[2])-(c=e[2])*h,a=c*n-i*s,l=i*h-r*n,u=r*l-c*a,c=c*o-i*l,i=i*a-r*o;return a*=r=2*e[3],l*=r,c*=2,i*=2,t[0]=n+(o*=r)+(u*=2),t[1]=h+a+c,t[2]=s+l+i,t},me=function(t,s,e,i){var r=[],n=[];return r[0]=s[0]-e[0],r[1]=s[1]-e[1],r[2]=s[2]-e[2],n[0]=r[0],n[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),n[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},ge=function(t,s,e,i){var r=[],n=[];return r[0]=s[0]-e[0],r[1]=s[1]-e[1],r[2]=s[2]-e[2],n[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),n[1]=r[1],n[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},ye=function(t,s,e,i){var r=[],n=[];return r[0]=s[0]-e[0],r[1]=s[1]-e[1],r[2]=s[2]-e[2],n[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),n[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),n[2]=r[2],t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},Se=function(t,s){var e=t[0],i=t[1],r=t[2],n=s[0],h=s[1],o=s[2],i=(e=Math.sqrt((e*e+i*i+r*r)*(n*n+h*h+o*o)))&&S(t,s)/e;return Math.acos(Math.min(Math.max(i,-1),1))},we=function(t){return t[0]=0,t[1]=0,t[2]=0,t},be=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},ve=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]},xe=function(t,s){var e=t[0],i=t[1],t=t[2],r=s[0],n=s[1],s=s[2];return Math.abs(e-r)<=vr*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(i-n)<=vr*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},b=function(){var t=new xr(4);return xr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t},Me=function(t){var s=new xr(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},Te=function(t,s,e,i){var r=new xr(4);return r[0]=t,r[1]=s,r[2]=e,r[3]=i,r},Ge=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},_e=function(t,s,e,i,r){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t},Ie=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t},Ce=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t},Re=function(t,s,e){return t[0]=s[0]*e[0],t[1]=s[1]*e[1],t[2]=s[2]*e[2],t[3]=s[3]*e[3],t},Ee=function(t,s,e){return t[0]=s[0]/e[0],t[1]=s[1]/e[1],t[2]=s[2]/e[2],t[3]=s[3]/e[3],t},Fe=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t[3]=Math.ceil(s[3]),t},Pe=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t[3]=Math.floor(s[3]),t},Ae=function(t,s,e){return t[0]=Math.min(s[0],e[0]),t[1]=Math.min(s[1],e[1]),t[2]=Math.min(s[2],e[2]),t[3]=Math.min(s[3],e[3]),t},ke=function(t,s,e){return t[0]=Math.max(s[0],e[0]),t[1]=Math.max(s[1],e[1]),t[2]=Math.max(s[2],e[2]),t[3]=Math.max(s[3],e[3]),t},De=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t[3]=Math.round(s[3]),t},Oe=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t},Le=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t},Be=function(t,s){var e=s[0]-t[0];return Math.hypot(e,s[1]-t[1],s[2]-t[2],s[3]-t[3])},Ne=function(t,s){var e=s[0]-t[0],i=s[1]-t[1],r=s[2]-t[2];return e*e+i*i+r*r+(s=s[3]-t[3])*s},v=function(t){var s=t[0];return Math.hypot(s,t[1],t[2],t[3])},x=function(t){var s=t[0],e=t[1],i=t[2];return s*s+e*e+i*i+(t=t[3])*t},We=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=-s[3],t},Ue=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t[3]=1/s[3],t},je=function(t,s){var e=s[0],i=s[1],r=s[2],n=e*e+i*i+r*r+(s=s[3])*s;return 0<n&&(n=1/Math.sqrt(n)),t[0]=e*n,t[1]=i*n,t[2]=r*n,t[3]=s*n,t},M=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]+t[3]*s[3]},Ve=function(t,s,e,i){var r=e[0]*i[1]-e[1]*i[0],n=e[0]*i[2]-e[2]*i[0],h=e[0]*i[3]-e[3]*i[0],o=e[1]*i[2]-e[2]*i[1],a=e[1]*i[3]-e[3]*i[1],e=e[2]*i[3]-e[3]*i[2],i=s[0],l=s[1],u=s[2],s=s[3];return t[0]=l*e-u*a+s*o,t[1]=-i*e+u*h-s*n,t[2]=i*a-l*h+s*r,t[3]=-i*o+l*n-u*r,t},He=function(t,s,e,i){var r=s[0],n=s[1],h=s[2],s=s[3];return t[0]=r+i*(e[0]-r),t[1]=n+i*(e[1]-n),t[2]=h+i*(e[2]-h),t[3]=s+i*(e[3]-s),t},ze=function(t,s){var e,i,r,n,h,o;for(s=s||1;1<=(h=(e=2*kr()-1)*e+(i=2*kr()-1)*i););for(;1<=(o=(r=2*kr()-1)*r+(n=2*kr()-1)*n););var a=Math.sqrt((1-h)/o);return t[0]=s*e,t[1]=s*i,t[2]=s*r*a,t[3]=s*n*a,t},Je=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3];return t[0]=e[0]*i+e[4]*r+e[8]*n+e[12]*s,t[1]=e[1]*i+e[5]*r+e[9]*n+e[13]*s,t[2]=e[2]*i+e[6]*r+e[10]*n+e[14]*s,t[3]=e[3]*i+e[7]*r+e[11]*n+e[15]*s,t},qe=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=e[0],o=e[1],a=e[2],l=(e=e[3])*i+o*n-a*r,u=e*r+a*i-h*n,c=e*n+h*r-o*i;return t[0]=l*e+(i=-h*i-o*r-a*n)*-h+u*-a-c*-o,t[1]=u*e+i*-o+c*-h-l*-a,t[2]=c*e+i*-a+l*-o-u*-h,t[3]=s[3],t},$e=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},Xe=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Ye=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},Ke=function(t,s){var e=t[0],i=t[1],r=t[2],t=t[3],n=s[0],h=s[1],o=s[2],s=s[3];return Math.abs(e-n)<=vr*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(i-h)<=vr*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-o)<=vr*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},T=function(){var t=new xr(4);return xr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t},Ze=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},G=function(t,s,e){e*=.5;var i=Math.sin(e);return t[0]=i*s[0],t[1]=i*s[1],t[2]=i*s[2],t[3]=Math.cos(e),t},Qe=function(t,s){var e=2*Math.acos(s[3]),i=Math.sin(e/2);return vr<i?(t[0]=s[0]/i,t[1]=s[1]/i,t[2]=s[2]/i):(t[0]=1,t[1]=0,t[2]=0),e},ti=function(t,s){return t=zr(t,s),Math.acos(2*t*t-1)},si=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=e[0],o=e[1],a=e[2],e=e[3];return t[0]=i*e+s*h+r*a-n*o,t[1]=r*e+s*o+n*h-i*a,t[2]=n*e+s*a+i*o-r*h,t[3]=s*e-i*h-r*o-n*a,t},_=function(t,s,e){e*=.5;var i=s[0],r=s[1],n=s[2],s=s[3],h=Math.sin(e),e=Math.cos(e);return t[0]=i*e+s*h,t[1]=r*e+n*h,t[2]=n*e-r*h,t[3]=s*e-i*h,t},I=function(t,s,e){e*=.5;var i=s[0],r=s[1],n=s[2],s=s[3],h=Math.sin(e),e=Math.cos(e);return t[0]=i*e-n*h,t[1]=r*e+s*h,t[2]=n*e+i*h,t[3]=s*e-r*h,t},C=function(t,s,e){e*=.5;var i=s[0],r=s[1],n=s[2],s=s[3],h=Math.sin(e),e=Math.cos(e);return t[0]=i*e+r*h,t[1]=r*e-i*h,t[2]=n*e+s*h,t[3]=s*e-n*h,t},ei=function(t,s){var e=s[0],i=s[1],s=s[2];return t[0]=e,t[1]=i,t[2]=s,t[3]=Math.sqrt(Math.abs(1-e*e-i*i-s*s)),t},R=function(t,s){var e=s[0],i=s[1],r=s[2],s=s[3],n=Math.sqrt(e*e+i*i+r*r),s=Math.exp(s),h=0<n?s*Math.sin(n)/n:0;return t[0]=e*h,t[1]=i*h,t[2]=r*h,t[3]=s*Math.cos(n),t},E=function(t,s){var e=s[0],i=s[1],r=s[2],s=s[3],n=0<(n=Math.sqrt(e*e+i*i+r*r))?Math.atan2(n,s)/n:0;return t[0]=e*n,t[1]=i*n,t[2]=r*n,t[3]=.5*Math.log(e*e+i*i+r*r+s*s),t},ii=function(t,s,e){return E(t,s),Hr(t,t,e),R(t,t),t},F=function(t,s,e,i){var r,n,h=s[0],o=s[1],a=s[2],s=s[3],l=e[0],u=e[1],c=e[2],f=h*l+o*u+a*c+s*(e=e[3]);return f<0&&(f=-f,l=-l,u=-u,c=-c,e=-e),f=vr<1-f?(f=Math.acos(f),r=Math.sin(f),n=Math.sin((1-i)*f)/r,Math.sin(i*f)/r):(n=1-i,i),t[0]=n*h+f*l,t[1]=n*o+f*u,t[2]=n*a+f*c,t[3]=n*s+f*e,t},ri=function(t){var s=kr(),e=kr(),i=kr(),r=Math.sqrt(1-s),s=Math.sqrt(s);return t[0]=r*Math.sin(2*Math.PI*e),t[1]=r*Math.cos(2*Math.PI*e),t[2]=s*Math.sin(2*Math.PI*i),t[3]=s*Math.cos(2*Math.PI*i),t},ni=function(t,s){var e=s[0],i=s[1],r=s[2],n=e*e+i*i+r*r+(s=s[3])*s;return t[0]=-e*(n=n?1/n:0),t[1]=-i*n,t[2]=-r*n,t[3]=s*n,t},hi=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t},P=function(t,s){var e,i,r,n=s[0]+s[4]+s[8];return 0<n?(r=Math.sqrt(n+1),t[3]=.5*r,t[0]=(s[5]-s[7])*(r=.5/r),t[1]=(s[6]-s[2])*r,t[2]=(s[1]-s[3])*r):(e=(1+(n=s[3*(n=s[4]>s[0]?1:0)+n]<s[8]?2:n))%3,i=(2+n)%3,r=Math.sqrt(s[3*n+n]-s[3*e+e]-s[3*i+i]+1),t[n]=.5*r,t[3]=(s[3*e+i]-s[3*i+e])*(r=.5/r),t[e]=(s[3*e+n]+s[3*n+e])*r,t[i]=(s[3*i+n]+s[3*n+i])*r),t},oi=function(t,s,e,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Dr,n=Math.PI/360,h=(i*=n,e*=n,Math.sin(s*=n)),o=Math.cos(s),a=Math.sin(e),l=Math.cos(e),u=Math.sin(i),c=Math.cos(i);switch(r){case"xyz":t[0]=h*l*c+o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c-h*a*u;break;case"xzy":t[0]=h*l*c-o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c+h*a*u;break;case"yxz":t[0]=h*l*c+o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c+h*a*u;break;case"yzx":t[0]=h*l*c+o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c-h*a*u;break;case"zxy":t[0]=h*l*c-o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c-h*a*u;break;case"zyx":t[0]=h*l*c-o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c+h*a*u;break;default:throw new Error("Unknown angle order "+r)}return t},ai=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},li=function(t,s){return Math.abs(M(t,s))>=1-vr},ui=function(){var t=new xr(8);return xr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},ci=function(t){var s=new xr(8);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s},fi=function(t,s,e,i,r,n,h,o){var a=new xr(8);return a[0]=t,a[1]=s,a[2]=e,a[3]=i,a[4]=r,a[5]=n,a[6]=h,a[7]=o,a},di=function(t,s,e,i,r,n,h){var o=new xr(8),r=(o[0]=t,o[1]=s,o[2]=e,o[3]=i,.5*r),n=.5*n,h=.5*h;return o[4]=r*i+n*e-h*s,o[5]=n*i+h*t-r*e,o[6]=h*i+r*s-n*t,o[7]=-r*t-n*s-h*e,o},A=function(t,s,e){var i=.5*e[0],r=.5*e[1],e=.5*e[2],n=s[0],h=s[1],o=s[2],s=s[3];return t[0]=n,t[1]=h,t[2]=o,t[3]=s,t[4]=i*s+r*o-e*h,t[5]=r*s+e*n-i*o,t[6]=e*s+i*h-r*n,t[7]=-i*n-r*h-e*o,t},pi=function(t,s){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*s[0],t[5]=.5*s[1],t[6]=.5*s[2],t[7]=0,t},mi=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},gi=function(t,s){var e=T(),i=(l(e,s),new xr(3));return a(i,s),A(t,e,i),t},k=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t},yi=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Si=function(t,s,e,i,r,n,h,o,a){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t[4]=n,t[5]=h,t[6]=o,t[7]=a,t},wi=function(t,s){return t[0]=s[4],t[1]=s[5],t[2]=s[6],t[3]=s[7],t},bi=function(t,s){return t[4]=s[0],t[5]=s[1],t[6]=s[2],t[7]=s[3],t},vi=function(t,s){var e=s[4],i=s[5],r=s[6],n=s[7],h=-s[0],o=-s[1],a=-s[2],s=s[3];return t[0]=2*(e*s+n*h+i*a-r*o),t[1]=2*(i*s+n*o+r*h-e*a),t[2]=2*(r*s+n*a+e*o-i*h),t},xi=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=.5*e[0],a=.5*e[1],e=.5*e[2],l=s[4],u=s[5],c=s[6],s=s[7];return t[0]=i,t[1]=r,t[2]=n,t[3]=h,t[4]=h*o+r*e-n*a+l,t[5]=h*a+n*o-i*e+u,t[6]=h*e+i*a-r*o+c,t[7]=-i*o-r*a-n*e+s,t},Mi=function(t,s,e){var i=-s[0],r=-s[1],n=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=o*h+(d=s[7])*i+a*n-l*r,c=a*h+d*r+l*i-o*n,f=l*h+d*n+o*r-a*i,d=d*h-o*i-a*r-l*n;return _(t,s,e),i=t[0],t[4]=u*(h=t[3])+d*i+c*(n=t[2])-f*(r=t[1]),t[5]=c*h+d*r+f*i-u*n,t[6]=f*h+d*n+u*r-c*i,t[7]=d*h-u*i-c*r-f*n,t},Ti=function(t,s,e){var i=-s[0],r=-s[1],n=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=o*h+(d=s[7])*i+a*n-l*r,c=a*h+d*r+l*i-o*n,f=l*h+d*n+o*r-a*i,d=d*h-o*i-a*r-l*n;return I(t,s,e),i=t[0],t[4]=u*(h=t[3])+d*i+c*(n=t[2])-f*(r=t[1]),t[5]=c*h+d*r+f*i-u*n,t[6]=f*h+d*n+u*r-c*i,t[7]=d*h-u*i-c*r-f*n,t},Gi=function(t,s,e){var i=-s[0],r=-s[1],n=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=o*h+(d=s[7])*i+a*n-l*r,c=a*h+d*r+l*i-o*n,f=l*h+d*n+o*r-a*i,d=d*h-o*i-a*r-l*n;return C(t,s,e),i=t[0],t[4]=u*(h=t[3])+d*i+c*(n=t[2])-f*(r=t[1]),t[5]=c*h+d*r+f*i-u*n,t[6]=f*h+d*n+u*r-c*i,t[7]=d*h-u*i-c*r-f*n,t},_i=function(t,s,e){var i=e[0],r=e[1],n=e[2],e=e[3],h=s[0],o=s[1],a=s[2],l=s[3];return t[0]=h*e+l*i+o*n-a*r,t[1]=o*e+l*r+a*i-h*n,t[2]=a*e+l*n+h*r-o*i,t[3]=l*e-h*i-o*r-a*n,t[4]=(h=s[4])*e+(l=s[7])*i+(o=s[5])*n-(a=s[6])*r,t[5]=o*e+l*r+a*i-h*n,t[6]=a*e+l*n+h*r-o*i,t[7]=l*e-h*i-o*r-a*n,t},Ii=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=e[0],o=e[1],a=e[2],l=e[3];return t[0]=i*l+s*h+r*a-n*o,t[1]=r*l+s*o+n*h-i*a,t[2]=n*l+s*a+i*o-r*h,t[3]=s*l-i*h-r*o-n*a,t[4]=i*(l=e[7])+s*(h=e[4])+r*(a=e[6])-n*(o=e[5]),t[5]=r*l+s*o+n*h-i*a,t[6]=n*l+s*a+i*o-r*h,t[7]=s*l-i*h-r*o-n*a,t},Ci=function(t,s,e,i){var r,n,h,o,a,l;return Math.abs(i)<vr?k(t,s):(l=Math.hypot(e[0],e[1],e[2]),i*=.5,r=(h=Math.sin(i))*e[0]/l,n=h*e[1]/l,h=h*e[2]/l,e=Math.cos(i),l=s[0],t[0]=l*e+(i=s[3])*r+(o=s[1])*h-(a=s[2])*n,t[1]=o*e+i*n+a*r-l*h,t[2]=a*e+i*h+l*n-o*r,t[3]=i*e-l*r-o*n-a*h,t[4]=(i=s[4])*e+(l=s[7])*r+(o=s[5])*h-(a=s[6])*n,t[5]=o*e+l*n+a*r-i*h,t[6]=a*e+l*h+i*n-o*r,t[7]=l*e-i*r-o*n-a*h,t)},Ri=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t[4]=s[4]+e[4],t[5]=s[5]+e[5],t[6]=s[6]+e[6],t[7]=s[7]+e[7],t},Ei=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=e[4],a=e[5],l=e[6],u=e[7],c=s[4],f=s[5],d=s[6],s=s[7],p=e[0],m=e[1],g=e[2],e=e[3];return t[0]=i*e+h*p+r*g-n*m,t[1]=r*e+h*m+n*p-i*g,t[2]=n*e+h*g+i*m-r*p,t[3]=h*e-i*p-r*m-n*g,t[4]=i*u+h*o+r*l-n*a+c*e+s*p+f*g-d*m,t[5]=r*u+h*a+n*o-i*l+f*e+s*m+d*p-c*g,t[6]=n*u+h*l+i*a-r*o+d*e+s*g+c*m-f*p,t[7]=h*u-i*o-r*a-n*l+s*e-c*p-f*m-d*g,t},Fi=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*e,t[5]=s[5]*e,t[6]=s[6]*e,t[7]=s[7]*e,t},Pi=function(t,s,e,i){var r=1-i;return Yr(s,e)<0&&(i=-i),t[0]=s[0]*r+e[0]*i,t[1]=s[1]*r+e[1]*i,t[2]=s[2]*r+e[2]*i,t[3]=s[3]*r+e[3]*i,t[4]=s[4]*r+e[4]*i,t[5]=s[5]*r+e[5]*i,t[6]=s[6]*r+e[6]*i,t[7]=s[7]*r+e[7]*i,t},Ai=function(t,s){var e=Kr(s);return t[0]=-s[0]/e,t[1]=-s[1]/e,t[2]=-s[2]/e,t[3]=s[3]/e,t[4]=-s[4]/e,t[5]=-s[5]/e,t[6]=-s[6]/e,t[7]=s[7]/e,t},ki=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t[4]=-s[4],t[5]=-s[5],t[6]=-s[6],t[7]=s[7],t},Di=function(t,s){var e,i,r,n,h,o,a,l,u=Kr(s);return 0<u&&(u=Math.sqrt(u),l=(e=s[0]/u)*(h=s[4])+(i=s[1]/u)*(o=s[5])+(r=s[2]/u)*(a=s[6])+(n=s[3]/u)*(s=s[7]),t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=(h-e*l)/u,t[5]=(o-i*l)/u,t[6]=(a-r*l)/u,t[7]=(s-n*l)/u),t},Oi=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},Li=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]},Bi=function(t,s){var e=t[0],i=t[1],r=t[2],n=t[3],h=t[4],o=t[5],a=t[6],t=t[7],l=s[0],u=s[1],c=s[2],f=s[3],d=s[4],p=s[5],m=s[6],s=s[7];return Math.abs(e-l)<=vr*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(i-u)<=vr*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-c)<=vr*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-f)<=vr*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(h-d)<=vr*Math.max(1,Math.abs(h),Math.abs(d))&&Math.abs(o-p)<=vr*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=vr*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},D=function(){var t=new xr(2);return xr!=Float32Array&&(t[0]=0,t[1]=0),t},Ni=function(t){var s=new xr(2);return s[0]=t[0],s[1]=t[1],s},Wi=function(t,s){var e=new xr(2);return e[0]=t,e[1]=s,e},Ui=function(t,s){return t[0]=s[0],t[1]=s[1],t},ji=function(t,s,e){return t[0]=s,t[1]=e,t},Vi=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t},Hi=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t},zi=function(t,s,e){return t[0]=s[0]*e[0],t[1]=s[1]*e[1],t},Ji=function(t,s,e){return t[0]=s[0]/e[0],t[1]=s[1]/e[1],t},qi=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t},$i=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t},Xi=function(t,s,e){return t[0]=Math.min(s[0],e[0]),t[1]=Math.min(s[1],e[1]),t},Yi=function(t,s,e){return t[0]=Math.max(s[0],e[0]),t[1]=Math.max(s[1],e[1]),t},Ki=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t},Zi=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t},Qi=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t},tr=function(t,s){var e=s[0]-t[0];return Math.hypot(e,s[1]-t[1])},sr=function(t,s){var e=s[0]-t[0];return e*e+(s=s[1]-t[1])*s},er=function(t){var s=t[0];return Math.hypot(s,t[1])},ir=function(t){var s=t[0];return s*s+(t=t[1])*t},rr=function(t,s){return t[0]=-s[0],t[1]=-s[1],t},nr=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t},hr=function(t,s){var e=s[0],i=s[1];return 0<(e=e*e+i*i)&&(e=1/Math.sqrt(e)),t[0]=s[0]*e,t[1]=s[1]*e,t},or=function(t,s){return t[0]*s[0]+t[1]*s[1]},ar=function(t,s,e){return s=s[0]*e[1]-s[1]*e[0],t[0]=t[1]=0,t[2]=s,t},lr=function(t,s,e,i){var r=s[0],s=s[1];return t[0]=r+i*(e[0]-r),t[1]=s+i*(e[1]-s),t},ur=function(t,s){s=s||1;var e=2*kr()*Math.PI;return t[0]=Math.cos(e)*s,t[1]=Math.sin(e)*s,t},cr=function(t,s,e){var i=s[0],s=s[1];return t[0]=e[0]*i+e[2]*s,t[1]=e[1]*i+e[3]*s,t},fr=function(t,s,e){var i=s[0],s=s[1];return t[0]=e[0]*i+e[2]*s+e[4],t[1]=e[1]*i+e[3]*s+e[5],t},dr=function(t,s,e){var i=s[0],s=s[1];return t[0]=e[0]*i+e[3]*s+e[6],t[1]=e[1]*i+e[4]*s+e[7],t},pr=function(t,s,e){var i=s[0],s=s[1];return t[0]=e[0]*i+e[4]*s+e[12],t[1]=e[1]*i+e[5]*s+e[13],t},mr=function(t,s,e,i){var r=s[0]-e[0],s=s[1]-e[1],n=Math.sin(i),i=Math.cos(i);return t[0]=r*i-s*n+e[0],t[1]=r*n+s*i+e[1],t},gr=function(t,s){var e=t[0],t=t[1],i=s[0],s=s[1],r=Math.sqrt((e*e+t*t)*(i*i+s*s));return Math.acos(Math.min(Math.max(r&&(e*i+t*s)/r,-1),1))},yr=function(t){return t[0]=0,t[1]=0,t},Sr=function(t){return"vec2("+t[0]+", "+t[1]+")"},wr=function(t,s){return t[0]===s[0]&&t[1]===s[1]},br=function(t,s){var e=t[0],t=t[1],i=s[0],s=s[1];return Math.abs(e-i)<=vr*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))};r,p,f,a,d,l,m,g,y,S,w,b,M,T,G,_,I,C,R,E,F,P,A,k,D,vr=1e-6,xr="undefined"!=typeof Float32Array?Float32Array:Array,kr=Math.random,Dr="zyx",Or=Math.PI/180,Math.hypot||(Math.hypot=function(){for(var t=0,s=arguments.length;s--;)t+=arguments[s]*arguments[s];return Math.sqrt(t)}),Lr={__proto__:null,EPSILON:vr,get S(){return xr},M:kr,T:Dr,G:O,_:L,equals:B},Br=Object.freeze({__proto__:null,create:N,clone:W,I:U,identity:j,C:V,set:H,R:z,F:J,P:q,A:$,multiply:t,rotate:X,scale:Y,D:K,O:Z,L:Q,B:tt,N:st,add:et,W:s,U:it,equals:rt,j:nt,V:ht,mul:t,sub:s}),Nr=Object.freeze({__proto__:null,create:ot,clone:at,I:lt,identity:ut,C:ct,set:ft,F:dt,A:pt,multiply:e,rotate:mt,scale:gt,translate:yt,D:St,O:wt,H:bt,L:vt,B:xt,add:Mt,W:i,j:Tt,V:Gt,U:_t,equals:It,mul:e,sub:i}),Wr=Object.freeze({__proto__:null,create:r,J:Ct,clone:Rt,I:Et,C:Ft,set:Pt,identity:At,R:kt,F:Dt,P:Ot,A:Lt,multiply:n,translate:Bt,rotate:Nt,scale:Wt,H:Ut,D:jt,O:Vt,$:Ht,X:zt,Y:Jt,K:qt,L:$t,B:Xt,add:Yt,W:h,j:Kt,V:Zt,U:Qt,equals:ts,mul:n,sub:h}),Mr=Object.freeze({__proto__:null,create:ss,clone:es,I:is,C:rs,set:ns,identity:p,R:hs,F:os,P:as,A:ls,multiply:o,translate:us,scale:cs,rotate:fs,Z:ds,tt:ps,et:ms,H:gs,O:ys,D:Ss,it:ws,nt:bs,ht:vs,ot:f,lt:xs,ut:a,ct:d,dt:l,gt:Ms,yt:Ts,St:Gs,X:_s,bt:Is,vt:u,perspective:u,xt:Cs,Mt:Rs,Tt:c,ortho:c,Gt:Es,_t:Fs,It:Ps,L:As,B:ks,add:Ds,W:Os,j:Ls,V:Bs,U:Ns,equals:Ws,mul:o,sub:Os}),Xr=Js,Zr=qs,Vr=$s,Qr=ee,tn=ie,Ur=js,sn=re,Ar=m(),Tr=Object.freeze({__proto__:null,create:m,clone:Us,length:js,C:g,I:Vs,set:Hs,add:zs,W:Js,multiply:qs,Ct:$s,ceil:Xs,floor:Ys,min:Ks,max:Zs,round:Qs,scale:te,Rt:se,Et:ee,Ft:ie,Pt:re,At:ne,inverse:he,normalize:y,kt:S,Dt:w,Ot:oe,Lt:ae,Bt:le,Nt:ue,random:ce,Wt:fe,Ut:de,jt:pe,Z:me,tt:ge,et:ye,angle:Se,Vt:we,L:be,U:ve,equals:xe,sub:Xr,mul:Zr,div:Vr,Ht:Qr,zt:tn,Jt:Ur,qt:sn,forEach:function(t,s,e,i,r,n){var h,o;for(s=s||3,e=e||0,o=i?Math.min(i*s+e,t.length):t.length,h=e;h<o;h+=s)Ar[0]=t[h],Ar[1]=t[h+1],Ar[2]=t[h+2],r(Ar,Ar,n),t[h]=Ar[0],t[h+1]=Ar[1],t[h+2]=Ar[2];return t}}),Xr=Ce,Zr=Re,Vr=Ee,Qr=Be,tn=Ne,sn=v,en=x,Pr=b(),jr=Object.freeze({__proto__:null,create:b,clone:Me,C:Te,I:Ge,set:_e,add:Ie,W:Ce,multiply:Re,Ct:Ee,ceil:Fe,floor:Pe,min:Ae,max:ke,round:De,scale:Oe,Rt:Le,Et:Be,Ft:Ne,length:v,Pt:x,At:We,inverse:Ue,normalize:je,kt:M,Dt:Ve,Ot:He,random:ze,Wt:Je,jt:qe,Vt:$e,L:Xe,U:Ye,equals:Ke,sub:Xr,mul:Zr,div:Vr,Ht:Qr,zt:tn,Jt:sn,qt:en,forEach:function(t,s,e,i,r,n){var h,o;for(s=s||4,e=e||0,o=i?Math.min(i*s+e,t.length):t.length,h=e;h<o;h+=s)Pr[0]=t[h],Pr[1]=t[h+1],Pr[2]=t[h+2],Pr[3]=t[h+3],r(Pr,Pr,n),t[h]=Pr[0],t[h+1]=Pr[1],t[h+2]=Pr[2],t[h+3]=Pr[3];return t}}),Xr=Me,Zr=Te,Vr=Ge,Qr=_e,tn=Ie,sn=si,Hr=Oe,zr=M,en=He,rn=Jr=v,nn=qr=x,$r=je,hn=Ye,Rr=m(),Er=g(1,0,0),Fr=g(0,1,0),on=function(t,s,e){var i=S(s,e);return i<-.999999?(w(Rr,Er,s),Ur(Rr)<1e-6&&w(Rr,Fr,s),y(Rr,Rr),G(t,Rr,Math.PI),t):.999999<i?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(w(Rr,s,e),t[0]=Rr[0],t[1]=Rr[1],t[2]=Rr[2],t[3]=1+i,$r(t,t))},Ir=T(),Cr=T(),an=function(t,s,e,i,r,n){return F(Ir,s,r,n),F(Cr,e,i,n),F(t,Ir,Cr,2*n*(1-n)),t},_r=r(),Xr=Object.freeze({__proto__:null,create:T,identity:Ze,$t:G,Xt:Qe,Yt:ti,multiply:si,Z:_,tt:I,et:C,Kt:ei,exp:R,Zt:E,pow:ii,Lt:F,random:ri,F:ni,Qt:hi,ts:P,ss:oi,L:ai,clone:Xr,C:Zr,I:Vr,set:Qr,add:tn,mul:sn,scale:Hr,kt:zr,Ot:en,length:Jr,Jt:rn,Pt:qr,qt:nn,normalize:$r,U:hn,equals:li,es:on,ns:an,hs:function(t,s,e,i){return _r[0]=e[0],_r[3]=e[1],_r[6]=e[2],_r[1]=i[0],_r[4]=i[1],_r[7]=i[2],_r[2]=-s[0],_r[5]=-s[1],_r[8]=-s[2],$r(t,P(t,_r))}}),Yr=zr,Zr=Kr=qr,Qr=Object.freeze({__proto__:null,create:ui,clone:ci,C:fi,os:di,ot:A,H:pi,D:mi,J:gi,I:k,identity:yi,set:Si,ls:Vr,us:wi,cs:Vr,ds:bi,ut:vi,translate:xi,Z:Mi,tt:Ti,et:Gi,gs:_i,ys:Ii,Ss:Ci,add:Ri,multiply:Ei,mul:Ei,scale:Fi,kt:Yr,Ot:Pi,F:Ai,Qt:ki,length:Jr,Jt:Jr,Pt:Kr,qt:Zr,normalize:Di,L:Oi,U:Li,equals:Bi}),tn=er,sn=Hi,en=zi,rn=Ji,nn=tr,hn=sr,on=ir,Gr=D(),an=Object.freeze({__proto__:null,create:D,clone:Ni,C:Wi,I:Ui,set:ji,add:Vi,W:Hi,multiply:zi,Ct:Ji,ceil:qi,floor:$i,min:Xi,max:Yi,round:Ki,scale:Zi,Rt:Qi,Et:tr,Ft:sr,length:er,Pt:ir,At:rr,inverse:nr,normalize:hr,kt:or,Dt:ar,Ot:lr,random:ur,ws:cr,bs:fr,Ut:dr,Wt:pr,rotate:mr,angle:gr,Vt:yr,L:Sr,U:wr,equals:br,Jt:tn,sub:sn,mul:en,div:rn,Ht:nn,zt:hn,qt:on,forEach:function(t,s,e,i,r,n){var h,o;for(s=s||2,e=e||0,o=i?Math.min(i*s+e,t.length):t.length,h=e;h<o;h+=s)Gr[0]=t[h],Gr[1]=t[h+1],r(Gr,Gr,n),t[h]=Gr[0],t[h+1]=Gr[1];return t}}),globalThis.vs=Lr,globalThis.vs.xs=Br,globalThis.vs.Ms=Nr,globalThis.vs.Ts=Wr,globalThis.vs.Gs=Mr,globalThis.vs._s=Xr,globalThis.vs.Is=Qr,globalThis.vs.Cs=an,globalThis.vs.Rs=Tr,globalThis.vs.Es=jr}var Gr,_r,Ir,Cr,Rr,Er,Fr,Pr,Ar,vr,xr,kr,Dr,Or,Lr,Br,Nr,Wr,Mr,Ur,Tr,jr,Vr,Hr,zr,Jr,qr,$r,Xr,Yr,Kr,Zr,Qr,tn,sn,en,rn,nn,hn,on,an,k,D,O,L;{let a=function(t,s,e){var i=[0,0],r=t[1][1]-t[0][1],n=t[0][0]-t[1][0],t=r*t[0][0]+n*t[0][1],h=s[1][1]-s[0][1],o=s[0][0]-s[1][0],s=h*s[0][0]+o*s[0][1],a=r*o-h*n;return m(a,0,e=e||0)||(i[0]=(o*t-n*s)/a,i[1]=(r*s-h*t)/a),i},r=function(t,s,e,i){var r,n=s[0]-t[0],s=s[1]-t[1],h=i[0]-e[0];return h*s-(i=i[1]-e[1])*n!=0&&(r=(h*(t[1]-e[1])+i*(e[0]-t[0]))/(i*n-h*s),0<=(t=(n*(e[1]-t[1])+s*(t[0]-e[0]))/(h*s-i*n)))&&t<=1&&0<=r&&r<=1},o=function(t,s,e){return(s[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(s[1]-t[1])},M=function(t,s,e){return 0<o(t,s,e)},T=function(t,s,e){return 0<=o(t,s,e)},G=function(t,s,e){return o(t,s,e)<0},_=function(t,s,e){return o(t,s,e)<=0},n=function(t,s,e,i){var r,n,h;return i?(h=D,(n=k)[0]=s[0]-t[0],n[1]=s[1]-t[1],h[0]=e[0]-s[0],h[1]=e[1]-s[1],r=n[0]*h[0]+n[1]*h[1],n=Math.sqrt(n[0]*n[0]+n[1]*n[1]),h=Math.sqrt(h[0]*h[0]+h[1]*h[1]),Math.acos(r/(n*h))<i):0===o(t,s,e)},I=function(t,s){var e=s[0]-t[0];return e*e+(s=s[1]-t[1])*s},C=function(t,s){var e=t.length;return t[s<0?s%e+e:s%e]},h=function(t){t.length=0},R=function(t,s,e,i){for(var r=e;r<i;r++)t.push(s[r])},t=function(t){for(var s=0,e=t,i=1;i<t.length;++i)(e[i][1]<e[s][1]||e[i][1]===e[s][1]&&e[i][0]>e[s][0])&&(s=i);return!M(C(t,s-1),C(t,s),C(t,s+1))&&(l(t),!0)},l=function(t){for(var s=[],e=t.length,i=0;i!==e;i++)s.push(t.pop());for(i=0;i!==e;i++)t[i]=s[i]},E=function(t,s){return G(C(t,s-1),C(t,s),C(t,s+1))},u=function(t,s,e){var i,r=O,n=L;if(T(C(t,s+1),C(t,s),C(t,e))&&_(C(t,s-1),C(t,s),C(t,e)))return!1;for(var h=I(C(t,s),C(t,e)),o=0;o!==t.length;++o)if((o+1)%t.length!==s&&o!==s&&T(C(t,s),C(t,e),C(t,o+1))&&_(C(t,s),C(t,e),C(t,o))&&(r[0]=C(t,s),r[1]=C(t,e),n[0]=C(t,o),n[1]=C(t,o+1),i=a(r,n),I(C(t,s),i)<h))return!1;return!0},F=function(t,s,e){for(var i=0;i!==t.length;++i)if(i!==s&&i!==e&&(i+1)%t.length!==s&&(i+1)%t.length!==e&&r(C(t,s),C(t,e),C(t,i),C(t,i+1)))return!1;return!0},c=function(t,s,e,i){var r=i||[];if(h(r),s<e)for(var n=s;n<=e;n++)r.push(t[n]);else{for(n=0;n<=e;n++)r.push(t[n]);for(n=s;n<t.length;n++)r.push(t[n])}return r},f=function(t){for(var s=[],e=[],i=[],r=Number.MAX_VALUE,n=0;n<t.length;++n)if(E(t,n))for(var h=0;h<t.length;++h)if(u(t,n,h)){for(var e=f(c(t,n,h,i)),o=f(c(t,h,n,i)),a=0;a<o.length;a++)e.push(o[a]);e.length<r&&(r=(s=e).length,s.push([C(t,n),C(t,h)]))}return s},s=function(t){var s=f(t);return 0<s.length?d(t,s):[t]},d=function(t,s){if(0===s.length)return[t];if(s instanceof Array&&s.length&&s[0]instanceof Array&&2===s[0].length&&s[0][0]instanceof Array){for(var e=[t],i=0;i<s.length;i++)for(var r=s[i],n=0;n<e.length;n++){var h=d(e[n],r);if(h){e.splice(n,1),e.push(h[0],h[1]);break}}return e}return i=t.indexOf((r=s)[0]),n=t.indexOf(r[1]),-1!==i&&-1!==n&&[c(t,i,n),c(t,n,i)]},e=function(t){for(var s=t,e=0;e<s.length-1;e++)for(var i=0;i<e-1;i++)if(r(s[e],s[e+1],s[i],s[i+1]))return!1;for(e=1;e<s.length-2;e++)if(r(s[0],s[s.length-1],s[e],s[e+1]))return!1;return!0},P=function(t,s,e,i,r){var n=s[1]-t[1],s=t[0]-s[0],t=n*t[0]+s*t[1],h=i[1]-e[1],i=e[0]-i[0],e=h*e[0]+i*e[1],o=n*i-h*s;return m(o,0,r=r||0)?[0,0]:[(i*t-s*e)/o,(n*e-h*t)/o]},A=function(t,s,e,i,r,n,h){n=n||100,h=h||0,r=r||25,s=void 0!==s?s:[],e=e||[],i=i||[];var o=[0,0],a=[0,0],l=[0,0],u=0,c=0,f=0,d=0,p=0,m=0,g=0,y=[],S=[],w=t,b=t;if(!(b.length<3))if(n<++h)console.warn("quickDecomp: max level ("+n+") reached.");else{for(var v=0;v<t.length;++v)if(E(w,v)){e.push(w[v]);for(var u=c=Number.MAX_VALUE,x=0;x<t.length;++x)M(C(w,v-1),C(w,v),C(w,x))&&_(C(w,v-1),C(w,v),C(w,x-1))&&(l=P(C(w,v-1),C(w,v),C(w,x),C(w,x-1)),G(C(w,v+1),C(w,v),l))&&(f=I(w[v],l))<c&&(c=f,a=l,m=x),M(C(w,v+1),C(w,v),C(w,x+1))&&_(C(w,v+1),C(w,v),C(w,x))&&(l=P(C(w,v+1),C(w,v),C(w,x),C(w,x+1)),M(C(w,v-1),C(w,v),l))&&(f=I(w[v],l))<u&&(u=f,o=l,p=x);if(m===(p+1)%t.length)l[0]=(a[0]+o[0])/2,l[1]=(a[1]+o[1])/2,i.push(l),v<p?(R(y,w,v,p+1),y.push(l),S.push(l),0!==m&&R(S,w,m,w.length),R(S,w,0,v+1)):(0!==v&&R(y,w,v,w.length),R(y,w,0,p+1),y.push(l),S.push(l),R(S,w,m,v+1));else{if(p<m&&(p+=t.length),d=Number.MAX_VALUE,p<m)return s;for(x=m;x<=p;++x)T(C(w,v-1),C(w,v),C(w,x))&&_(C(w,v+1),C(w,v),C(w,x))&&(f=I(C(w,v),C(w,x)))<d&&F(w,v,x)&&(d=f,g=x%t.length);v<g?(R(y,w,v,g+1),0!==g&&R(S,w,g,b.length),R(S,w,0,v+1)):(0!==v&&R(y,w,v,b.length),R(y,w,0,g+1),R(S,w,g,v+1))}return y.length<S.length?(A(y,s,e,i,r,n,h),A(S,s,e,i,r,n,h)):(A(S,s,e,i,r,n,h),A(y,s,e,i,r,n,h)),s}s.push(t)}return s},i=function(t,s){for(var e=0,i=t.length-1;3<t.length&&0<=i;--i)n(C(t,i-1),C(t,i),C(t,i+1),s)&&(t.splice(i%t.length,1),e++);return e},p=function(t,s){for(var e=t.length-1;1<=e;--e)for(var i=t[e],r=e-1;0<=r;--r)g(i,t[r],s)&&t.splice(e,1)},m=function(t,s,e){return e=e||0,Math.abs(t-s)<=e},g=function(t,s,e){return m(t[0],s[0],e)&&m(t[1],s[1],e)};a,r,o,M,T,G,_,n,I,C,h,R,l,E,u,F,c,f,d,P,A,m,g,k=[],D=[],O=[],L=[],self.Fs={Ps:s,As:A,ks:e,Ds:i,Os:p,Ls:t}}{let t=!1,s=!1,e="dev",i=Symbol("Construct internal API token"),r=14,n=self.Bs=class{constructor(){throw TypeError("static class can't be instantiated")}static Ns(){if(r<=0)throw new Error("cannot obtain internal API token");return--r,i}static Ws(){t=!0}static Us(){return t}static js(){s=!0}static Vs(){return s}static Hs(t){e=t}static zs(){return e}static Js(){return"final"===e}};n.isDebug=!1,n.qs=!1,n.hardwareConcurrency=navigator.hardwareConcurrency||2,self.$s={}}{const s=self.Bs;s.Xs=class{constructor(t){this.Ys=t,this.Ks=new Map,this.Zs()}Zs(){let t=this.Ys,s=(t=t.startsWith("?")||t.startsWith("#")?t.substr(1):t).split("&");for(const e of s)this.Qs(e)}Qs(t){if(t)if(t.includes("=")){const s=t.indexOf("="),e=decodeURIComponent(t.substring(0,s)),i=decodeURIComponent(t.substring(s+1));this.Ks.set(e,i)}else this.Ks.set(t,null)}te(){for(const t of this.Ks)console.log("[QueryParser] Parameter '"+t[0]+"' = "+(null===t[1]?"null":"'"+t[1]+"'"))}ie(t){return this.Ks.has(t)}re(t){const s=this.Ks.get(t);return void 0===s?null:s}ne(){history.replaceState("",document.title,location.pathname+location.search)}he(t){this.Ys=t,this.Ks.clear(),this.Zs()}},s.oe=new s.Xs(location.search),s.ae=new s.Xs(location.hash),s.oe.ie("perf")&&(s.le=!0),"dev"!==s.oe.re("mode")&&s.Hs("final")}{let i=function(t){const s=parseFloat(t),e=U.get(s);return e||(13<=s?"11":"NT "+t)};i;const a=self.Bs,W="(unknown)",U=(a.ue={fe:W,de:W,pe:W,me:W,ge:NaN,ye:W,Se:"browser",we:!0,ve:!1,xe:!1,Me:!1,Te:async()=>{}},new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]])),j=navigator.userAgent,V=navigator.userAgentData;if(V&&0<V.brands.length){let s=function(t){let s="",e="",i="",r="";for(const n of t){const h=H.get(n.brand),o=(!s&&h&&(s=h,e=n.version),z.get(n.brand));!i&&o&&(i=o,r=n.version)}s||"Chromium"!==i||(a.ue.pe="Chromium",a.ue.me=r),a.ue.pe=s||W,a.ue.me=e||W,a.ue.ye=i||W};s,a.ue.fe=V.platform,a.ue.ve=V.mobile,a.ue.we=!a.ue.ve;const H=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),z=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);s(V.brands);let e=!1;a.ue.Te=async()=>{if(!e)try{const t=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);s(t.fullVersionList),"Windows"===a.ue.fe?a.ue.de=i(t.platformVersion):a.ue.de=t.platformVersion,e=!0}catch(t){console.warn("Failed to get detailed user agent information: ",t)}}}else{let t=function(t,s){const e=Array.isArray(t)?t:[t];for(const i of e){const r=i.exec(j);if(r){s(r);break}}};t(/windows\s+nt\s+([\d\.]+)/i,t=>{a.ue.fe="Windows";const s=t[1];a.ue.de=i(s)}),t(/mac\s+os\s+x\s+([\d\._]+)/i,t=>{a.ue.fe="macOS",a.ue.de=t[1].replace(/_/g,".")}),t(/CrOS/,()=>{a.ue.fe="Chrome OS"}),t(/linux|openbsd|freebsd|netbsd/i,()=>{a.ue.fe="Linux"}),t(/android/i,()=>{a.ue.fe="Android"}),t(/android\s+([\d\.]+)/i,t=>{a.ue.fe="Android",a.ue.de=t[1]}),a.ue.fe===W&&(t(/(iphone|ipod|ipad)/i,t=>{a.ue.fe="iOS"}),t([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],t=>{a.ue.fe="iOS",a.ue.de=t[1].replace(/_/g,".")}));const J=/chrome\//i.test(j),q=/chromium\//i.test(j),$=/edg\//i.test(j),X=/OPR\//.test(j),Y=/nwjs/i.test(j),K=/safari\//i.test(j),Z=/webkit/i.test(j),Q=($||X||t(/chrome\/([\d\.]+)/i,t=>{a.ue.pe="Chrome",a.ue.me=t[1],a.ue.ye="Chromium"}),t(/edg\/([\d\.]+)/i,t=>{a.ue.pe="Edge",a.ue.me=t[1],a.ue.ye="Chromium"}),t(/OPR\/([\d\.]+)/,t=>{a.ue.pe="Opera",a.ue.me=t[1],a.ue.ye="Chromium"}),t(/chromium\/([\d\.]+)/i,t=>{a.ue.pe="Chromium",a.ue.me=t[1],a.ue.ye="Chromium"}),t(/nwjs\/[0-9.]+/i,t=>{a.ue.pe="NW.js",a.ue.me=t[1],a.ue.ye="Chromium",a.ue.Se="nwjs"}),t(/firefox\/([\d\.]+)/i,t=>{a.ue.pe="Firefox",a.ue.me=t[1],a.ue.ye="Gecko"}),!K||J||q||$||X||Y||(a.ue.pe="Safari",a.ue.ye="WebKit",t(/version\/([\d\.]+)/i,t=>{a.ue.me=t[1]}),t(/crios\/([\d\.]+)/i,t=>{a.ue.pe="Chrome for iOS",a.ue.me=t[1]}),t(/fxios\/([\d\.]+)/i,t=>{a.ue.pe="Firefox for iOS",a.ue.me=t[1]}),t(/edgios\/([\d\.]+)/i,t=>{a.ue.pe="Edge for iOS",a.ue.me=t[1]})),a.ue.ye===W&&Z&&(a.ue.ye="WebKit"),"Android"===a.ue.fe&&"Safari"===a.ue.pe&&(a.ue.pe="Stock"),new Set(["Windows","macOS","Linux","Chrome OS"])),tt=Q.has(a.ue.fe)||"nwjs"===a.ue.Se;a.ue.we=tt,a.ue.ve=!tt}"Chrome"===a.ue.pe&&"browser"===a.ue.Se&&/wv\)/.test(j)&&(a.ue.Se="webview"),"nwjs"!==a.ue.Se&&"undefined"!=typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(a.ue.Se="webapp"),a.ue.ge=parseFloat(a.ue.me);const e="macOS"===a.ue.fe&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;e&&(a.ue.fe="iOS",a.ue.de=a.ue.me,a.ue.we=!1,a.ue.ve=!0,a.ue.Me=!0),a.ue.xe="macOS"===a.ue.fe||"iOS"===a.ue.fe}{let h=function(e){return new Promise((t,s)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error)})},o=function(e){return new Promise((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)})},t=function(t,s){return B(t,s)},s=function(t,s){return B(t,s,!0)},a=function(s){i(s);let t=it.get(s);return t instanceof Promise||(t=(async e=>{i(e);const t=indexedDB.open(e,st);return t.addEventListener("upgradeneeded",t=>{try{const s=t.target.result;s.createObjectStore(et)}catch(t){console.error("Failed to create objectstore for database "+e,t)}}),h(t)})(s),it.set(s,t),t.catch(t=>it.delete(s))),t},i=function(t){if("string"!=typeof t)throw new TypeError("expected string")},n=function(t,r){const s=t.objectStore(et).openCursor();return new Promise(e=>{const i=[];s.onsuccess=t=>{const s=t.target.result;if(s){switch(r){case"entries":i.push([s.key,s.value]);break;case"keys":i.push(s.key);break;case"values":i.push(s.value)}s.continue()}else e(i)}})};h,o,t,s,a,i,n;const st=2,et="keyvaluepairs",it=new Map,rt="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAll,nt="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAllKeys;async function B(s,e,i=!1,r=!0){const t=await a(s);try{const n=t.transaction([et],i?"readwrite":"readonly");return e(n)}catch(t){if(r&&"InvalidStateError"===t.name)return it.delete(s),B(s,e,i,!1);throw t}}class ht{constructor(t){i(t),this.name=t}async ready(){await a(this.name)}set(r,n){return i(r),s(this.name,async t=>{const s=t.objectStore(et).put(n,r),e=h(s),i=o(t);await Promise.all([i,e])})}get(n){return i(n),t(this.name,async t=>{const s=t.objectStore(et).get(n),e=h(s),i=o(t),[,r]=await Promise.all([i,e]);return r})}delete(r){return i(r),s(this.name,async t=>{const s=t.objectStore(et).delete(r),e=h(s),i=o(t);await Promise.all([i,e])})}clear(){return s(this.name,async t=>{const s=t.objectStore(et).clear(),e=h(s),i=o(t);await Promise.all([i,e])})}keys(){return t(this.name,async t=>{let s;if(nt){const r=t.objectStore(et).getAllKeys();s=h(r)}else s=n(t,"keys");const e=o(t),[,i]=await Promise.all([e,s]);return i})}values(){return t(this.name,async t=>{let s;if(rt){const r=t.objectStore(et).getAll();s=h(r)}else s=n(t,"values");const e=o(t),[,i]=await Promise.all([e,s]);return i})}entries(){return t(this.name,async t=>{const s=n(t,"entries"),e=o(t),[,i]=await Promise.all([e,s]);return i})}}self.Ge=ht}{let e=function(t){throw new Error(`"${t}" is not implemented`)},i=function(t){if("function"==typeof t)throw new Error("localforage callback API is not implemented; please use the promise API instead")},r=function(i){return"object"==typeof i?new Promise(s=>{const{port1:t,port2:e}=new MessageChannel;e.onmessage=t=>s(t.data),t.postMessage(i)}):Promise.resolve(i)};e,i,r;const ot=self.Ge,at=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i];new WeakMap;class lt{constructor(t){this._e=t,this.Ie=!this._e,this.Ie||"undefined"!=typeof indexedDB||(this.Ie=!0,console.warn("Unable to use local storage because IndexedDB API is not available")),this.Ce=new Map}Re(t){if(!this.Ie)for(const s of at)if(t&&s.test(t.message)){console.error("Unable to use local storage, reverting to in-memory store: ",t,t.message),this.Ie=!0;break}}async Ee(t){const s=this.Ce.get(t),e=await r(s);return void 0===e?null:e}async Fe(t,s){s=await r(s),this.Ce.set(t,s)}Pe(t){this.Ce.delete(t)}Ae(){this.Ce.clear()}ke(){return Array.from(this.Ce.keys())}De(){return this.Ie}Oe(){return this.Ce}Le(t){this.Ce=t}async getItem(s,t){if(i(t),this.Ie)return this.Ee(s);let e;try{e=await this._e.get(s)}catch(t){return this.Re(t),this.Ie?this.Ee(s):(console.error(`Error reading '${s}' from storage, returning null: `,t),null)}return void 0===e?null:e}async setItem(s,e,t){if(i(t),void 0===e&&(e=null),this.Ie)await this.Fe(s,e);else try{await this._e.set(s,e)}catch(t){if(this.Re(t),!this.Ie)throw t;await this.Fe(s,e)}}async removeItem(s,t){if(i(t),this.Ie)this.Pe(s);else try{await this._e.delete(s)}catch(t){this.Re(t),this.Ie?this.Pe(s):console.error(`Error removing '${s}' from storage: `,t)}}async clear(t){if(i(t),this.Ie)this.Ae();else try{await this._e.clear()}catch(t){this.Re(t),this.Ie?this.Ae():console.error("Error clearing storage: ",t)}}async keys(t){if(i(t),this.Ie)return this.ke();let s=[];try{s=await this._e.keys()}catch(t){if(this.Re(t),this.Ie)return this.ke();console.error("Error getting storage keys: ",t)}return s}ready(t){return i(t),this.Ie?Promise.resolve(!0):this._e.ready()}Be(t){if(t.forceInMemoryFallback)return new lt(null);{const s=t.name;if("string"!=typeof s)throw new TypeError("invalid store name");const e=new ot(s);return new lt(e)}}length(t){e("localforage.length()")}key(t,s){e("localforage.key()")}iterate(t,s){e("localforage.iterate()")}Ne(t){e("localforage.setDriver()")}config(t){e("localforage.config()")}We(t){e("localforage.defineDriver()")}Ue(){e("localforage.driver()")}supports(t){e("localforage.supports()")}dropInstance(){e("localforage.dropInstance()")}}self.localforage=new lt(new ot("localforage"))}{const i=self.Bs;if(i.je={},i.je.Ve=(()=>{try{if("undefined"==typeof document)return!1;const t=document.createElement("div");if(void 0===t.animate)return!1;const s=t.animate([{opacity:"0"},{opacity:"1"}],1e3);return void 0!==s.reverse}catch(t){return!1}})(),i.je.He="undefined"!=typeof HTMLDialogElement,i.je.Je=!!self.requestIdleCallback,i.je.ImageBitmap=!!self.createImageBitmap,i.je.ImageBitmapOptions=!1,i.je.qe=!1,i.je.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{i.je.ImageBitmapOptions=!0}).catch(()=>{i.je.ImageBitmapOptions=!1})}catch(t){i.je.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(t=>{i.je.qe=10===t.width&&10===t.height}).catch(()=>{i.je.qe=!1})}catch(t){i.je.qe=!1}}if(i.je.$e=!(!navigator.clipboard||!navigator.clipboard.readText),i.je.Xe=!(!navigator.permissions||!navigator.permissions.query),i.je.Ye=!1,i.je.Xe){const ut={name:"clipboard-read"};navigator.permissions.query(ut).then(()=>{i.je.Ye=!0}).catch(()=>{i.je.Ye=!1})}i.je.Ke=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem),i.je.Ze="undefined"!=typeof Proxy,i.je.Qe=(()=>{if("undefined"==typeof document)return!1;const t=document.createElement("a");return void 0!==t.download})(),i.je.ti="function"==typeof fetch,i.je.si=!!(self.isSecureContext&&"Opera"!==i.ue.pe&&navigator.storage&&navigator.storage.persist),i.je.ei=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate),i.je.ii=(()=>{if("undefined"==typeof document)return!1;if("iOS"===i.ue.fe)return!1;const t=document.documentElement;return!!(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen)})(),i.je.ImageDecoder=void 0!==self.ImageDecoder,i.je.ri=!!self.VideoEncoder,i.je.ni=!!self.showOpenFilePicker,i.je.hi=!!self.queryLocalFonts,i.je.UserActivation=!!navigator.userActivation,i.je.oi=!1,(async()=>{let s;"undefined"==typeof document?s=new OffscreenCanvas(32,32):((s=document.createElement("canvas")).width=32,s.height=32);const t=s.getContext("2d");t.fillStyle="blue",t.fillRect(0,0,32,32);let e=null;try{s.convertToBlob?e=await s.convertToBlob({type:"image/webp",quality:1}):s.toBlob&&(e=await new Promise(t=>s.toBlob(t,"image/webp",1))),i.je.oi=e&&"image/webp"===e.type}catch(t){i.je.oi=!1}})()}{let i=function(t,e){return t.reduce((t,s)=>(0<e&&Array.isArray(s)?Array.prototype.push.apply(t,i(s,e-1)):t.push(s),t),[])};i;const ct=self.Bs;if(!String.prototype.trimStart){const ft=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(ft,"")}}if(!String.prototype.trimEnd){const dt=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(dt,"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(t,s){return this.replace(new RegExp(ct.ai(t),"g"),s)}),Array.prototype.values||(Array.prototype.values=function*(){for(const t of this)yield t}),Array.prototype.flat||(Array.prototype.flat=function(t=1){return i(this,t)}),Array.prototype.at||(Array.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),String.prototype.at||(String.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),RegExp.escape||(RegExp.escape=function(t){return String(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}),Set.prototype.isSubsetOf||(Set.prototype.isSubsetOf=function(t){if(!(t instanceof Set))throw new TypeError("argument must be a Set");for(const s of this)if(!t.has(s))return!1;return!0}),navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((e,t)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((t,s)=>e({usage:t,quota:s}),t))}),void 0===self.isSecureContext&&(self.isSecureContext="https:"===location.protocol),void 0===self.globalThis&&(self.globalThis=self)}{let e=function(t){let s=pt.li(),e="Assertion failure: "+t+"\n\nStack trace:\n"+s;console.error(e)};e;const pt=self.Bs;self.assert=function(t,s){t||e(s)}}{const r=self.Bs,mt=self.$s,gt=(r.ci=function(t){return"number"==typeof t},r.fi=function(t){return r.ci(t)&&isFinite(t)},r.di=function(t){if(!r.ci(t))throw new TypeError("expected number")},r.mi=function(t){r.gi(t)},r.yi=function(t,s,e){if(!r.ci(t)||isNaN(t)||t<s||e<t)throw new RangeError("number outside of range")},r.Si=function(...s){for(let t of s);},r.wi=function(t){if(!r.fi(t))throw new TypeError("expected finite number")},r.bi=function(t){r.gi(t)},r.vi=function(...s){for(let t of s);},r.xi=function(t){return"string"==typeof t},r.Mi=function(t){if(!r.xi(t))throw new TypeError("expected string")},r.Ti=function(t){r.gi(t)},r.Gi=function(...s){for(let t of s);},r._i=function(t){if("object"!=typeof t||null===t)return!1;let s=Object.getPrototypeOf(t);return s?s.constructor===Object:null===s},r.Ii=function(t){if(!r._i(t))throw new TypeError("expected simple object")},r.Ci=function(t){if(!r.gi(t)&&!r._i(t))throw new TypeError("expected simple object")},r.Ri=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},r.Ei=function(t){if(!r.Ri(t))throw new TypeError("expected object")},r.Fi=function(t){r.gi(t)},r.Pi=function(...s){for(let t of s);},r.Ai=function(t){return r.ki(t,Blob)&&"string"==typeof t.name},r.Di=function(t){if(!r.Ai(t))throw new TypeError("expected file")},r.Oi=function(t){r.gi(t)},r.Li=function(t){return Array.isArray(t)},r.Bi=function(t){if(!r.Li(t))throw new TypeError("expected array")},r.Ni=function(t){r.gi(t)},r.Wi=function(...s){for(let t of s);},r.Ui=function(t){return!(!r.Li(t)||t.length&&!r.Li(t[0]))},r.ji=function(s){if(!r.Ui(s))throw new TypeError("expected 2d array");for(let t of s)if(!r.Li(t))throw new TypeError("expected 2d array")},r.Vi=function(t){r.gi(t)},r.Hi=function(t){return"function"==typeof t},r.Ji=function(t,s){if(!r.Hi(t))throw new TypeError("expected function");if(!r.gi(s)&&t!==s)throw new TypeError("expected same function reference")},r.$i=function(t){r.gi(t)},r.Xi=function(...s){for(let t of s);},r.Yi=function(s,...e){if(!r.Hi(s))throw new TypeError("expected function");if(!e.length)throw new Error("missing comparison functions");for(let t of e)if(!r.gi(t)&&s===t)return;throw new TypeError("expected same function reference")},r.Ki=function(...s){if(!r.gi(s))for(let t of s);},r.Zi=function(t,s){return t instanceof s},r.Qi=function(s,...e){for(let t of e)if(r.Zi(s,t))return!0;return!1},r.tr=function(t,s){if(!r.Zi(t,s))throw new TypeError("unexpected type")},r.er=function(t,s){r.gi(t)},r.ir=function(t,...s){for(let t of s);},r.rr=function(t,...s){if(!r.Qi(t,...s))throw new TypeError("unexpected type")},r.nr=function(t,...s){if(!r.gi(t)&&!r.Qi(t,...s))throw new TypeError("unexpected type")},r.hr=function(s,e){for(let t of s)if(!r.Zi(t,e))return!1;return!0},r.lr=function(s){for(let t of s)if(!r.fi(t))return!1;return!0},r.ur=function(s,t){for(let t of s);},r.cr=function(s,t){if(!r.gi(s))for(let t of s);},r.dr=function(s,t){if(!r.gi(s))for(let t of s);},r.pr=function(s){for(let t of s);},r.mr=function(s){if(!r.gi(s))for(let t of s);},r.Sr=function(t,s){return!(r.gi(t)||!r.xi(t.nodeName))&&(!s||r.br(t.nodeName,s))},r.vr=function(t,s){if(r.gi(t)||!r.xi(t.nodeName))throw new TypeError("expected DOM node");if(s&&!r.br(t.nodeName,s))throw new TypeError(`expected DOM '${s}' node`)},r.Mr=function(t,s){r.gi(t)},r.Tr=function(t,s){return!(r.gi(t)||!r.xi(t.tagName))&&(!s||r.br(t.tagName,s))},r.Gr=function(t,s){if(r.gi(t)||!r.xi(t.tagName))throw new TypeError("expected HTML element");if(s&&!r.br(t.tagName,s))throw new TypeError(`expected HTML '${s}' element`)},r._r=function(t,s){r.gi(t)},r.Ir=function(t){return r.Tr(t,"img")||r.Tr(t,"canvas")||r.Tr(t,"video")||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},r.Cr=function(t){if(!r.Ir(t))throw new TypeError("expected drawable")},r.Rr=function(t){r.gi(t)},r.Er=function(t){return t instanceof ImageData||r.Ir(t)},r.Fr=function(t){if(!r.Er(t))throw new TypeError("expected drawable or image data")},r.Pr=function(t){if(!r.gi(t)&&!r.Er(t))throw new TypeError("expected drawable or image data")},r.Ar=function(t){return"string"==typeof t||r.HtmlString&&t instanceof r.HtmlString||t instanceof r.kr},r.Dr=function(t){if(!r.Ar(t))throw new TypeError("expected string-like")},r.Or=function(t){r.gi(t)},r.Lr=function(...s){for(let t of s);},r.Br=function(){throw new Error("must be overridden")},r.Nr=function(){throw new Error("not yet implemented")},r.Wr=function(t,...s){let e=t;if(void 0===e)return!1;for(let t of s){if(void 0===e[t])return!1;e=e[t]}return!0},r.gi=function(t){return null==t},r.Ur=function(s){let e=s[0].constructor;for(let t of s)if(t.constructor!==e)return!1;return e},r.jr=function(s,e){for(let t of s)if(!(t instanceof e))return!1;return!0},Object.getPrototypeOf(Uint8Array));r.Vr=function(t){return r.Zi(t,gt)},r.Hr=function(t){},r.zr=function(t){r.Jr(t,gt)},r.qr=function(t,...s){if(!r.$r(t,...s))throw new TypeError("unexpected type")},r.$r=function(t,...s){for(const e of s)if(r.ki(t,e))return!0;return!1},r.Jr=function(t,s){if(!r.ki(t,s))throw new TypeError("unexpected type")},r.ki=function(t,s){for(;t=Object.getPrototypeOf(t);)if(t.constructor.name===s.name)return!0;return!1},mt.di=r.di,mt.mi=r.mi,mt.wi=r.wi,mt.bi=r.bi,mt.Mi=r.Mi,mt.Ti=r.Ti,mt.Ei=r.Ei,mt.Fi=r.Fi,mt.Bi=r.Bi,mt.Ni=r.Ni,mt.Ji=r.Ji,mt.$i=r.$i,mt.tr=r.tr,mt.er=r.er,mt.gi=r.gi}{let i=function(t,s){let e=p.getType(t),i=p.getType(s);return"null"===e||"null"===i||"undefined"!==e&&"undefined"!==i&&e===i},r=function(t){console.warn("[Defence] "+t+" @",p.li())},e=function(){if(f=-1,0<a.size||0<l.size){let t=new Set([...a.keys()].map(t=>p.Xr(t))),s=[...t].join(",");console.warn("An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: "+s),a.clear(),l.clear()}},n=function(s){let e=new Set;for(let t in s)e.add(t);return e},h=function(t,s){let e=n(s),i=d.get(t);if(i){let s=[];for(let t of i.values())e.has(t)?e.delete(t):s.push(t);p.Yr(s,[...e]),s.length&&console.warn(`[Defence] '${p.Xr(t)}' constructor creates inconsistent properties: `+s.join(", "))}else d.set(t,e)};i,r,e,n,h;const p=self.Bs,yt=new Map;p.Kr=function(t,s){console.log("%c"+t,"font-weight: bold; color:"+s)},p.Zr=function(t,...s){yt.has(t)||yt.set(t,-1),-1===yt.get(t)&&yt.set(t,requestAnimationFrame(()=>{console.log("%c"+t,"font-weight: bold",...s),yt.set(t,-1)}))};let o,a=(p.Qr=function(t){performance.mark(t),(o=o||new Map).has(t)||o.set(t,{current:0,total:0,tn:0,sn:1,toString:function(){return`${t} :: current => ${this.current.toPrecision(3)} :: average => ${this.tn.toPrecision(3)} :: calls => `+this.sn}})},p.rn=function(t){performance.measure("measure-"+t,t);const s=performance.getEntriesByName("measure-"+t)[0],e=o.get(t);e.current=s.duration,e.total+=e.current,e.tn=e.total/e.sn,console.log(e.toString()),e.sn++,performance.clearMarks(t),performance.clearMeasures("measure-"+t)},p.li=function(){return(new Error).stack},p.nn=function(){},p.cast=function(t,s){return t&&t instanceof s?t:null},p.Xr=function(t){return void 0===t?"undefined":null===t?"null":"boolean"==typeof t?"<boolean>":p.ci(t)?"<number>":p.xi(t)?"<string>":p.Li(t)?"<array>":"symbol"==typeof t?"<"+t.toString()+">":p.Hi(t)?t.name&&"Function"!==t.name?t.name:"<anonymous function>":"object"==typeof t?t.constructor&&t.constructor.name&&"Object"!==t.constructor.name?t.constructor.name:"<anonymous object>":"<unknown>"},p.getType=function(t){return null===t?"null":Array.isArray(t)?"array":typeof t},p.range=function*(s,e){if(!isFinite(Math.abs(s-e)))throw new Error("Invalid parameters");if(e<s)for(let t=s-1;t>=e;t--)yield t;else for(let t=s;t<e;t++)yield t},new Map),l=new Map,u=new WeakMap,c=new WeakMap;p.hn={};const St=new Set(["then","splice"]);p.hn.get=function(t,s){return s in t||"symbol"==typeof s||St.has(s)||r(`Accessed missing property '${s}' from defended object '${p.Xr(t)}', returning undefined`),c.has(t)&&"symbol"!=typeof s&&!St.has(s)&&r(`Accessed property '${s}' on a released object '${p.Xr(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]},p.hn.set=function(t,s,e){return s in t||a.has(t)||r(`Set non-existent property '${s}' to '${e}' on defended object '${p.Xr(t)}'`),i(t[s],e)||a.has(t)||r(`Set '${p.getType(t[s])}' property '${s}' to type '${p.getType(e)}' on defended object '${p.Xr(t)}'`),c.has(t)&&r(`Set property '${s}' on a released object '${p.Xr(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]=e,!0},p.hn.deleteProperty=function(t,s){throw new ReferenceError(`Cannot delete property '${s}' from defended object '${p.Xr(t)}'`)},p.hn.defineProperty=function(t,s,e){throw new ReferenceError(`Cannot define property '${s}' on defended object '${p.Xr(t)}'`)},p.hn.enumerate=function(t){throw new ReferenceError(`Cannot enumerate defended object '${p.Xr(t)}'`)};let f=-1,d=(p.an=class{constructor(){if(p.qs&&p.je.Ze){let t=Object.create(new.target.prototype),s=new Proxy(t,p.hn);return a.set(t,s),l.set(s,t),u.set(s,t),-1===f&&(f=requestAnimationFrame(e)),s}}},p.ln=function(s){if(p.qs&&p.je.Ze&&s instanceof p.an){if(l.has(s)){let t=l.get(s);l.delete(s),a.delete(t)}return s}return p.isDebug?Object.seal(s):s},p.un=function(t,...s){let e;try{e=new t(...s)}catch(t){throw l.clear(),a.clear(),t}return p.qs&&h(t,e),p.ln(e)},p.cn=function(t){let s=u.get(t);s&&c.set(s,p.li())},p.dn=function(t){let s=u.get(t);return!!s&&!!c.get(s)},new Map);p.pn=class{constructor(t){this.mn="",t&&this.start(t)}start(t){p.le&&(this.mn=t,performance.mark(this.mn+"-Start"))}end(){p.le&&(performance.mark(this.mn+"-End"),performance.measure(this.mn,this.mn+"-Start",this.mn+"-End"))}next(t){p.le&&(this.end(),this.mn=t,performance.mark(this.mn+"-Start"))}}}{let e=function(t){return 0===t&&1/t<0};e;const y=self.Bs,wt=2*Math.PI,bt=Math.PI/180,vt=180/Math.PI,xt=(y.wrap=function(t,s,e){t=Math.floor(t),s=Math.floor(s);const i=(e=Math.floor(e))-s;if(0==i)return e;if(t<s){const r=e-(s-t)%i;return r===e?0:r}return s+(t-s)%i},y.gn=function(t,s,e,i,r){const n=e-s;if(0==n&&0===i)return t;const h=r-i;return(t-s)*h/n+i},y.normalize=function(t,s,e){return s-e==0?1:(t-s)/(e-s)},y.yn=function(t,s,e){return t<s?s:e<t?e:t},y.Sn=function(t){return(t%=wt)<0&&(t+=wt),t},y.wn=function(t){return t*bt},y.bn=function(t){return t*vt},y.vn=function(t,s,e,i){return Math.hypot(e-t,i-s)},y.xn=function(t,s,e,i){const r=e-t,n=i-s;return r*r+n*n},y.Mn=function(t,s,e,i){return Math.atan2(i-s,e-t)},y.Tn=function(t,s){if(t===s)return 0;let e=Math.sin(t),i=Math.cos(t),r=Math.sin(s),n=Math.cos(s),h=e*r+i*n;return 1<=h?0:h<=-1?Math.PI:Math.acos(h)},y.Gn=function(t,s,e){let i=Math.sin(t),r=Math.cos(t),n=Math.sin(s),h=Math.cos(s);return Math.acos(i*n+r*h)>e?0<r*n-i*h?y.Sn(t+e):y.Sn(t-e):y.Sn(s)},y._n=function(t,s){let e=Math.sin(t),i=Math.cos(t),r=Math.sin(s),n=Math.cos(s);return i*r-e*n<=0},y.In=function(t,s,e,i=0){let r=y.Tn(t,s),n=wt*i;return y._n(s,t)?y.Sn(t+(r+n)*e):y.Sn(t-(r+n)*e)},y.Cn=function(t,s,e,i=0){const r=y.Tn(t,s),n=wt*i;return y._n(s,t)?y.Sn(t+(r+n)*e):y.Sn(t+(wt-r+n)*e)},y.Rn=function(t,s,e,i=0){const r=y.Tn(t,s),n=wt*i;return y._n(s,t)?y.Sn(t-(-wt+r-n)*e):y.Sn(t-(r+n)*e)},y.En=function(t,s){const e=y.Tn(t,s);return y._n(t,s)?y.Sn(s-e):y.Sn(s+e)},y.Ot=function(t,s,e){return t+e*(s-t)},y.Fn=function(t,s,e){return t===s?0:(e-t)/(s-t)},y.Pn=function(t,s,e,i,r){return y.Ot(i,r,y.Fn(t,s,e))},y.An=function(t,s,e,i){return y.Ot(y.Ot(t,s,i),y.Ot(s,e,i),i)},y.kn=function(t,s,e,i,r){return y.Ot(y.An(t,s,e,r),y.An(s,e,i,r),r)},y.Dn=function(t,s,e){return(t+s+(t-s)*Math.cos(e*Math.PI))/2},y.On=function(t){return 0<t&&0==(t-1&t)},y.Ln=function(s){--s;for(let t=1;t<32;t<<=1)s|=s>>t;return s+1},y.Bn=function(t,s){return Math.round(t*s)/s},y.Nn=function(t,s){return Math.floor(t*s)/s},y.Wn=function(t,s){s=Math.max(Math.floor(s),0);const e=Math.pow(10,s);return Math.round(t*e)/e},y.Un=function(t){return Math.floor(t)!==t&&t.toString().split(".")[1].length||0},y.toFixed=function(t,s){let e=t.toFixed(s),i=e.length-1;for(;0<=i&&"0"===e.charAt(i);--i);return 0<=i&&"."===e.charAt(i)&&--i,i<0?e:e.substr(0,i+1)},y.jn=function(t,s,e){return y.yn(t,0,255)|y.yn(s,0,255)<<8|y.yn(e,0,255)<<16},1024),Mt=16384,Tt=8191,Gt=(y.Vn=function(t,s,e,i){return t=y.yn(Math.floor(1024*t),-8192,Tt),s=y.yn(Math.floor(1024*s),-8192,Tt),e=y.yn(Math.floor(1024*e),-8192,Tt),i=y.yn(Math.floor(1023*i),0,1023),t<0&&(t+=Mt),s<0&&(s+=Mt),e<0&&(e+=Mt),-(t*Mt*Mt*xt+s*Mt*xt+e*xt+i)},y.Hn=function(t,s,e){return y.Vn(t,s,e,1)},y.zn=function(s){if(0<=s)return(255&s)/255;{let t=Math.floor(-s/(Mt*Mt*xt));return t>Tt&&(t-=Mt),t/1024}},y.Jn=function(s){if(0<=s)return((65280&s)>>8)/255;{let t=Math.floor(-s%(Mt*Mt*xt)/(Mt*xt));return t>Tt&&(t-=Mt),t/1024}},y.qn=function(s){if(0<=s)return((16711680&s)>>16)/255;{let t=Math.floor(-s%(Mt*xt)/xt);return t>Tt&&(t-=Mt),t/1024}},y.$n=function(t){if(e(t))return 0;if(0<=t)return 1;{const s=Math.floor(-t%xt);return s/1023}},y.Xn=function(s,e){for(s=Math.floor(s),e=Math.floor(e);0!==e;){let t=e;e=s%e,s=t}return s},[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]]);y.Yn=function(e,i){if((e=Math.floor(e))===(i=Math.floor(i)))return[1,1];for(let s of Gt){let t=e/s[0]*s[1];if(Math.abs(i-t)<1)return s.slice(0);if(t=e/s[1]*s[0],Math.abs(i-t)<1)return[s[1],s[0]]}let t=y.Xn(e,i);return[e/t,i/t]},y.Kn=function(t,s,e,i,r,n,h,o){const a=Math.min(t,e),l=Math.max(t,e),u=Math.min(r,h),c=Math.max(r,h);if(l<u||c<a)return!1;const f=Math.min(s,i),d=Math.max(s,i),p=Math.min(n,o),m=Math.max(n,o);if(d<p||m<f)return!1;const g=r-t+h-e,y=n-s+o-i,S=e-t,w=i-s,b=h-r,v=o-n,x=Math.abs(w*b-v*S),M=b*y-v*g;if(Math.abs(M)>x)return!1;const T=S*y-w*g;return Math.abs(T)<=x},y.Zn=function(t,s,e,i,r,n,h,o,a,l,u,c){const f=Math.min(a,u),d=Math.max(a,u);if(n<f||d<r)return!1;const p=Math.min(l,c),m=Math.max(l,c);if(o<p||m<h)return!1;const g=a-t+u-e,y=l-s+c-i,S=e-t,w=i-s,b=u-a,v=c-l,x=Math.abs(w*b-v*S),M=b*y-v*g;if(Math.abs(M)>x)return!1;const T=S*y-w*g;return Math.abs(T)<=x},y.Qn=function(t,s,e,i,r){const n=Math.min(t,e),h=Math.max(t,e),o=Math.min(s,i),a=Math.max(s,i),l=r.th(),u=r.eh(),c=r.ih(),f=r.rh(),d=r.nh(),p=r.hh(),m=r.oh(),g=r.ah();return y.Zn(t,s,e,i,n,h,o,a,l,u,c,f)||y.Zn(t,s,e,i,n,h,o,a,c,f,d,p)||y.Zn(t,s,e,i,n,h,o,a,d,p,m,g)||y.Zn(t,s,e,i,n,h,o,a,m,g,l,u)},y.lh=function(s,e,i,r,n){let h=Math.min(s,i),o=Math.max(s,i),a=Math.min(e,r),l=Math.max(e,r),u=0;for(let t=n.length-4;u<=t;u+=2)if(y.Zn(s,e,i,r,h,o,a,l,n[u],n[u+1],n[u+2],n[u+3]))return!0;return y.Zn(s,e,i,r,h,o,a,l,n[u],n[u+1],n[0],n[1])};y.uh=function(t,s,e,i,r,n,h,o){const a=e-t,l=i-s,u=h-r,c=o-n,f=a*c-l*u;if(0==f)return 2;const d=((s-i)*(h-t)+a*(o-s))/f;return 0<d&&d<1+1e-6?(c*(h-t)+(r-h)*(o-s))/f:2},y.fh=function(t,s,e,i,r,n,h,o,a){const l=(h-r)*a,u=(o-n)*a;return y.uh(t,s,e,i,r-l,n-u,h+l,o+u)},y.ph=function(t,s,e,i,r,n,h,o){const a=r-e,l=n-i,u=h-e,c=o-i,f=t-e,d=s-i,p=a*a+l*l,m=a*u+l*c,g=a*f+l*d,y=u*u+c*c,S=u*f+c*d,w=1/(p*y-m*m),b=(y*g-m*S)*w,v=(p*S-m*g)*w;return 0<=b&&0<=v&&b+v<=1},y.mh=function(t,s,e,i,r,n,h,o){const a=r-e,l=n-i,u=h-e,c=o-i,f=t-e,d=s-i,p=a*a+l*l,m=a*u+l*c,g=u*u+c*c,y=f*a+d*l,S=f*u+d*c,w=p*g-m*m,b=(g*y-m*S)/w,v=(p*S-m*y)/w,x=1-b-v;return[x,b,v]},y.gh=function(t,s,e,i,r,n,h,o,a,l,u,c){return[t*i+s*h+e*l,t*r+s*o+e*u,t*n+s*a+e*c]}}{let l=self.Bs,s=null,e="";if("undefined"!=typeof document){const _t=(s=document).querySelector("base");(e=_t&&_t.hasAttribute("href")?_t.getAttribute("href"):"")&&!(e=e.startsWith("/")?e.substr(1):e).endsWith("/")&&(e+="/")}l.yh=function(){return e},l.Sh=function(){if(!s)return"";const t=s.location;return l.wh(t.origin+t.pathname)+e},l.wh=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return t;const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?"":t.substr(0,s+1)},l.bh=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return"";const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?t:t.substr(s+1)},l.xh=function(t){let s=t.lastIndexOf(".");return s<1?"":t.substr(s)},l.Mh=function(t,s){const e=t.lastIndexOf(".");return-1===e?t+"."+s:t.substr(0,e+1)+s},l.Th=function(t){let s=t.lastIndexOf(".");return s<1?t:t.substr(0,s)},l.Gh=function(t){return t.replace(/\\/g,"/")},l._h=function(t,s){const e=t?l.xh(t).slice(1):"";return s===e},l.Ih=function(t,s){let e,i;return l.Ai(t)&&(e=l.Th(t.name)),l.xi(t)&&(e=l.Th(t)),l.Ai(s)&&(i=l.Th(s.name)),l.xi(s)&&(i=l.Th(s)),e===i},l.Ch=function(t){t=l.Gh(t);let s=/^\w\:\//.exec(t),e=(s?(s=s[0],"/"!==(t=t.slice(3))[0]&&(t="/"+t)):s="",(t=1<(t=t.replace(/\/{2,}/g,"/")).length&&"/"===t.slice(-1)?t.slice(0,-1):t).lastIndexOf("/")+1),i="",r=t,n,h="";0<e&&(i=t.slice(0,e),r=t.slice(e));const o=(n=r).lastIndexOf("."),a=(0<o&&(h=r.slice(o),n=r.slice(0,-h.length)),s+i+r);return{dir:i,Rh:r,name:n,root:s,ext:h,Eh:a}},l.Fh=function(e,i){return new Promise((t,s)=>{self.setTimeout(t,e,i)})},l.Ph=function(t){try{t()}catch(t){l.isDebug&&console.warn("Swallowed exception: ",t)}},l.Ah=function(){},l.br=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize().toLowerCase()===s.normalize().toLowerCase())},l.kh=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize()===s.normalize())},l.Dh=function(t,s,e){t[e++]=s[0],t[e++]=s[1],t[e++]=s[2],t[e++]=s[3],t[e++]=s[4],t[e++]=s[5],t[e++]=s[6],t[e++]=s[7],t[e++]=s[8],t[e++]=s[9],t[e++]=s[10],t[e++]=s[11],t[e++]=s[12],t[e++]=s[13],t[e++]=s[14],t[e]=s[15]},l.Oh=function(t,s){t.length=s},l.Lh=function(t){t&&0!==t.length&&l.Oh(t,0)},l.Bh=function(e){if(e){for(let s=0;s<e.length;s++){let t=e[s];l.Oh(t,0)}l.Oh(e,0)}},l.Nh=function(s,e,i){const r=s.length;if(!((e|=0)<=r))for(let t=r;t<e;++t)s.push(i)},l.Wh=function(t,s,e){const i=t.length;(s|=0)<i?l.Oh(t,s):i<s&&l.Nh(t,s,e)},l.Uh=function(t,s){l.Lh(t),l.Yr(t,s)},l.Yr=function(e,i){if(i.length<1e4)e.push(...i);else for(let t=0,s=i.length;t<s;++t)e.push(i[t])},l.jh=function(e,i){if(!((i=Math.floor(i))<0||i>=e.length)){let s=e.length-1;for(let t=i;t<s;++t)e[t]=e[t+1];l.Oh(e,s)}},l.Vh=function(t,s){let e=t.indexOf(s);0<=e&&t.splice(e,1)},l.Hh=function(s,e){let i=s.length;if(e.length!==i)return!1;for(let t=0;t<i;++t)if(s[t]!==e[t])return!1;return!0},l.zh=function(e,i){let r=[],n=0;for(let s=0,t=e.length;s<t;++s){let t=e[s];i(t)?r.push(t):(e[n]=t,++n)}return l.Oh(e,n),r},l.Jh=function(e,i){let t=e.length,r=0;for(let s=0,t=e.length;s<t;++s){let t=e[s];i.has(t)||(e[r++]=t)}return l.Oh(e,r),t-r},l.qh=function(t,s){return t===Math.floor(t)&&0<=t&&t<s.length},l.$h=function(t,s){if(!l.qh(t,s))throw new RangeError("array index out of bounds")},l.Xh=function(t){return t.slice()},l.Yh=function(t,e){let i=[];for(let s of t)if(l.Ri(s)){let t=e(s);if(!t)throw new Error("missing clone");if(t.constructor!==s.constructor)throw new Error("object is not a clone");i.push(t)}else l.Li(s)?i.push(l.Yh(s,e)):i.push(s);return i},l.Kh=function(s){let e=[];for(let t of s)e.push(t.slice());return e},l.Zh=function(t,s=" "){return t?t.split(s).map(t=>t.trim()).filter(t=>!!t):[]},l.Qh=function(t,s,e){const i=new Set;for(const r of t.values())s(r)&&(e?i.add(e(r)):i.add(r));return i},l.eo=function(t,s){return t.union?t.union(s):new Set([...t,...s])},l.ro=function(t,s){for(const e of s)t.add(e);return t},l.first=function(s){for(let t of s)return t;return null},l.xor=function(t,s){return!t!=!s},l.compare=function(t,s,e){switch(s){case 0:return t===e;case 1:return t!==e;case 2:return t<e;case 3:return t<=e;case 4:return e<t;case 5:return e<=t;default:return!1}},l.no=function(s){for(let t in s)if(s.hasOwnProperty(t))return!0;return!1},l.ho=function(o,a){return o.length?new Promise((e,i)=>{let r=[],n=0,h=!1;for(let s=0,t=o.length;s<t;++s)r.push(void 0),o[s].then(t=>{h||(r[s]=t,++n===o.length?e(r):a(n,o.length))}).catch(t=>{h=!0,i(t)})}):Promise.resolve([])};let i=[],r=(l.ao=function(t){i.push(t)},l.lo=function(){let e=0;for(let s of i){let t=s();e+=t}return Math.floor(e)},1),n=new Map,h=new MessageChannel,o=(h.port2.onmessage=function(t){const s=t.data,e=n.get(s);n.delete(s),e&&e(performance.now())},l.uo=function(t){const s=r++;return n.set(s,t),h.port1.postMessage(s),s},l.co=function(t){n.delete(t)},l.fo=l.uo,l.do=function(){return new Promise(t=>l.fo(t))},new Set);l.po=function(s){const e=self.requestAnimationFrame(async t=>{await l.do(),o.has(e)&&(o.delete(e),s(t))});return o.add(e),e},l.yo=function(t){o.has(t)&&(self.cancelAnimationFrame(t),o.delete(t))}}{const n=self.Bs;n.So=function(t){return/^(?:[a-z\-]+:)?\/\//.test(t)||"data:"===t.substr(0,5)||"blob:"===t.substr(0,5)},n.wo=function(t){return!n.So(t)},n.bo=function(t){if(!t.ok)throw new Error(`fetch '${t.url}' response returned ${t.status} `+t.statusText)},n.vo=function(t,s){return fetch(t,s).then(t=>(n.bo(t),t))},n.xo=function(t){return n.vo(t).then(t=>t.text())},n.Mo=function(t){return n.vo(t).then(t=>t.json())},n.To=function(t){return n.vo(t).then(t=>t.blob())},n.Go=function(t){return n.vo(t).then(t=>t.arrayBuffer())},n._o=function(i){return new Promise((t,s)=>{const e=new Image;e.onload=()=>t(e),e.onerror=t=>s(t),e.src=i})},n.Io=function(i){return"function"==typeof i.arrayBuffer?i.arrayBuffer():new Promise((t,s)=>{const e=new FileReader;e.onload=()=>t(e.result),e.onerror=()=>s(e.error),e.readAsArrayBuffer(i)})},n.Co=function(i){return"function"==typeof i.text?i.text():new Promise((t,s)=>{const e=new FileReader;e.onload=()=>t(e.result),e.onerror=()=>s(e.error),e.readAsText(i)})},n.Ro=function(t){return n.Co(t).then(t=>JSON.parse(t))},n.Eo=async function(t,s){let e=URL.createObjectURL(t);try{const i=await n._o(e);return URL.revokeObjectURL(e),e="",s&&"function"==typeof i.decode&&await i.decode(),i}finally{e&&URL.revokeObjectURL(e)}},n.Fo=function(t,s){if("undefined"==typeof document||"function"!=typeof document.createElement)return new OffscreenCanvas(t,s);{const e=document.createElement("canvas");return e.width=t,e.height=s,e}},n.Po=function(s,e,i){if("number"!=typeof i&&(i=1),e=e||"image/png",i=n.yn(i,0,1),s.convertToBlob)return s.convertToBlob({type:e,quality:i});if(s.toBlob)return new Promise(t=>s.toBlob(t,e,i));throw new Error("could not convert canvas to blob")},n.Ao=function(t,s,e){const i=n.Fo(t.width,t.height),r=i.getContext("2d");return r.drawImage(t,0,0),n.Po(i,s,e)},n.ko=function(t,s,e){if(n.je.ImageBitmapOptions)return createImageBitmap(t,{premultiplyAlpha:"none"}).then(t=>n.Ao(t,s,e));if(n.je.ImageBitmap)return createImageBitmap(t).then(t=>n.Ao(t,s,e));{const i=n.Fo(t.width,t.height),r=i.getContext("2d");return r.putImageData(t,0,0),n.Po(i,s,e)}},n.Do=function(t,s){t.clear();for(const e of s)t.add(e)},n.Oo=function(t){const s=Object.create(null);for(const[e,i]of t.entries())s[e]=i;return s},n.Lo=function(t,s){s.clear();for(const[e,i]of Object.entries(t))s.set(e,i)},n.Bo=function s(t){if("object"!=typeof t||null===t)return t;if(t instanceof Set)return{_c3type_:"set",data:[...t].map(t=>s(t))};if(t instanceof Map)return{_c3type_:"map",data:[...t].map(t=>[t[0],s(t[1])])};{const e=Object.create(null);for(const[i,r]of Object.entries(t))e[i]=s(r);return e}},n.No=function s(t){if("object"==typeof t&null!==t){if("set"===t._c3type_)return new Set(t.data.map(t=>s(t)));if("map"===t._c3type_)return new Map(t.data.map(t=>[t[0],s(t[1])]));{const e=Object.create(null);for(const[i,r]of Object.entries(t))e[i]=s(r);return e}}return t},n.Wo=function(t){if(t.startsWith("--"))return t;let s="",e=!1,i=0;for(const r of t)"-"===r?0<i&&(e=!0):e?(s+=r.toUpperCase(),e=!1):s+=r,++i;return s},n.Uo=function(t){return"object"==typeof t&&"function"==typeof t.next},n.jo=function(s,e){const i=[];if("function"==typeof e)for(let t=0;t<s;++t)i.push(e());else for(let t=0;t<s;++t)i.push(e);return i}}{let i=function(t){return 0===t.length?"00":1===t.length?"0"+t:t},l=function(t,s,e){return e<0&&(e+=1),1<e&&--e,e<1/6?t+6*(s-t)*e:e<.5?s:e<2/3?t+(s-t)*(2/3-e)*6:t};i,l;const u=self.Bs,It=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?/i,Ct=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?,([0-9.])/i;u.Vo=class{constructor(t,s,e,i){this.Ho=NaN,this.zo=NaN,this.Jo=NaN,this.qo=NaN,this.Ho=0,this.zo=0,this.Jo=0,this.qo=0,t instanceof u.Vo?this.set(t):this.$o(t||0,s||0,e||0,i||0)}Xo(t,s,e){return this.Ho=+t,this.zo=+s,this.Jo=+e,this.yn(),this}$o(t,s,e,i){return this.Ho=+t,this.zo=+s,this.Jo=+e,this.qo=+i,this.yn(),this}set(t){return this.Ho=t.Ho,this.zo=t.zo,this.Jo=t.Jo,this.qo=t.qo,this}I(t){return this.set(t)}add(t){this.Ho+=t.Ho,this.zo+=t.zo,this.Jo+=t.Jo,this.qo+=t.qo,this.yn()}Yo(t,s,e,i=0){this.Ho+=+t,this.zo+=+s,this.Jo+=+e,this.qo+=+i,this.yn()}Ko(t){this.Zo(Math.max(this.Ho,t.Ho)-Math.min(this.Ho,t.Ho)),this.Qo(Math.max(this.zo,t.zo)-Math.min(this.zo,t.zo)),this.ta(Math.max(this.Jo,t.Jo)-Math.min(this.Jo,t.Jo)),this.ea(Math.max(this.qo,t.qo)-Math.min(this.qo,t.qo)),this.yn()}ia(t){this.Ho=t.Ho,this.zo=t.zo,this.Jo=t.Jo}Zo(t){this.Ho=u.yn(+t,0,1)}ra(){return this.Ho}Qo(t){this.zo=u.yn(+t,0,1)}na(){return this.zo}ta(t){this.Jo=u.yn(+t,0,1)}oa(){return this.Jo}ea(t){this.qo=u.yn(+t,0,1)}aa(){return this.qo}clone(){return u.un(u.Vo,this.Ho,this.zo,this.Jo,this.qo)}toArray(){return[this.Ho,this.zo,this.Jo,this.qo]}la(){return new Float64Array(this.toArray())}ua(t,s){t[s++]=this.Ho,t[s++]=this.zo,t[s++]=this.Jo,t[s]=this.qo}ca(t,s){t[s++]=this.Ho,t[s++]=this.zo,t[s]=this.Jo}equals(t){return this.Ho===t.Ho&&this.zo===t.zo&&this.Jo===t.Jo&&this.qo===t.qo}fa(t){return this.Ho===t.Ho&&this.zo===t.zo&&this.Jo===t.Jo}ga(t,s,e){return this.Ho===t&&this.zo===s&&this.Jo===e}ya(t,s,e,i){return this.Ho===t&&this.zo===s&&this.Jo===e&&this.qo===i}Sa(t,s){return t[s]===Math.fround(this.Ho)&&t[s+1]===Math.fround(this.zo)&&t[s+2]===Math.fround(this.Jo)&&t[s+3]===Math.fround(this.qo)}wa(t,s){return t[s]===Math.fround(this.Ho)&&t[s+1]===Math.fround(this.zo)&&t[s+2]===Math.fround(this.Jo)}multiply(t){this.Ho*=t.Ho,this.zo*=t.zo,this.Jo*=t.Jo,this.qo*=t.qo}ba(t){this.Ho*=t,this.zo*=t,this.Jo*=t,this.qo*=t}xa(){return this.Ho*=this.qo,this.zo*=this.qo,this.Jo*=this.qo,this}Ma(){return this.Ho/=this.qo,this.zo/=this.qo,this.Jo/=this.qo,this}yn(){return this.Ho=u.yn(this.Ho,0,1),this.zo=u.yn(this.zo,0,1),this.Jo=u.yn(this.Jo,0,1),this.qo=u.yn(this.qo,0,1),this}Ta(t){this.Ho=u.zn(t),this.zo=u.Jn(t),this.Jo=u.qn(t),this.qo=u.$n(t)}Ga(t,s,e){const i=u.fi(t)?t:this.ra(),r=u.fi(s)?s:this.na(),n=u.fi(e)?e:this.oa();return`rgb(${100*i}%, ${100*r}%, ${100*n}%)`}_a(t,s,e,i){const r=u.fi(t)?t:this.ra(),n=u.fi(s)?s:this.na(),h=u.fi(e)?e:this.oa(),o=u.fi(i)?i:this.aa();return`rgba(${100*r}%, ${100*n}%, ${100*h}%, ${o})`}Ia(){const t=Math.round(255*this.ra()),s=Math.round(255*this.na()),e=Math.round(255*this.oa());return"#"+i(t.toString(16))+i(s.toString(16))+i(e.toString(16))}Ca(t){if("string"!=typeof t)return!1;let s,e,i;if(3===(t="#"===(t=t.trim()).charAt(0)?t.substr(1):t).length)s=parseInt(t[0],16)/15,e=parseInt(t[1],16)/15,i=parseInt(t[2],16)/15;else{if(6!==t.length)return!1;s=parseInt(t.substr(0,2),16)/255,e=parseInt(t.substr(2,2),16)/255,i=parseInt(t.substr(4,2),16)/255}return isFinite(s)&&this.Zo(s),isFinite(e)&&this.Qo(e),isFinite(i)&&this.ta(i),this.ea(1),!0}Ra(){const t=Math.round(255*this.ra()),s=Math.round(255*this.na()),e=Math.round(255*this.oa());return t+`, ${s}, `+e}Ea(){const t=Math.round(255*this.ra()),s=Math.round(255*this.na()),e=Math.round(255*this.oa());return[t,s,e]}Fa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const e=parseInt(s[0].trim(),10)/255,i=parseInt(s[1].trim(),10)/255,r=parseInt(s[2].trim(),10)/255;return isFinite(e)&&this.Zo(e),isFinite(i)&&this.Qo(i),isFinite(r)&&this.ta(r),this.ea(1),!0}Pa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const e=parseInt(s[0].trim(),10)/100,i=parseInt(s[1].trim(),10)/100,r=parseInt(s[2].trim(),10)/100;return isFinite(e)&&this.Zo(e),isFinite(i)&&this.Qo(i),isFinite(r)&&this.ta(r),this.ea(1),!0}Aa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const e=parseInt(s[0].trim(),10)/255,i=parseInt(s[1].trim(),10)/255,r=parseInt(s[2].trim(),10)/255,n=parseFloat(s[3].trim());return isFinite(e)&&this.Zo(e),isFinite(i)&&this.Qo(i),isFinite(r)&&this.ta(r),isFinite(n)&&this.ea(n),!0}ka(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const e=parseInt(s[0].trim(),10)/100,i=parseInt(s[1].trim(),10)/100,r=parseInt(s[2].trim(),10)/100,n=parseFloat(s[3].trim());return isFinite(e)&&this.Zo(e),isFinite(i)&&this.Qo(i),isFinite(r)&&this.ta(r),isFinite(n)&&this.ea(n),!0}Da(t){if("string"!=typeof t)return!1;if((t=t.replace(/\s+/,"")).includes(",")){if(t.startsWith("rgb("))return t.includes("%")?this.Pa(t):this.Fa(t);if(t.startsWith("rgba("))return t.includes("%")?this.ka(t):this.Aa(t);if(t.startsWith("hsl(")||t.startsWith("hsla("))return this.Oa(t);{const s=t.split(",");return t.includes("%")?3===s.length?this.Pa(t):4===s.length&&this.ka(t):3===s.length?this.Fa(t):4===s.length&&this.Aa(t)}}return this.Ca(t)}toJSON(){return[this.Ho,this.zo,this.Jo,this.qo]}La(t,s,e,i){let r,n,h;if(t%=360,s=u.yn(s,0,100),e=u.yn(e,0,100),i=u.yn(i,0,1),t/=360,e/=100,0==(s/=100))r=n=h=e;else{const o=e<.5?e*(1+s):e+s-e*s,a=2*e-o;r=l(a,o,t+1/3),n=l(a,o,t),h=l(a,o,t-1/3)}return this.Zo(r),this.Qo(n),this.ta(h),this.ea(i),this}Oa(t){const s=t.replace(/ |hsl|hsla|\(|\)|;/gi,""),e=It.exec(s),i=Ct.exec(s);return e&&4===e.length?(this.La(+e[1],+e[2],+e[3],1),!0):!(!i||5!==i.length||(this.La(+e[1],+e[2],+e[3],+e[4]),0))}Ba(){const t=this.Ho,s=this.zo,e=this.Jo,i=this.qo,r=u.Vo.Na(t,s,e),n=u.Vo.Wa(t,s,e),h=u.Vo.Ua(t,s,e);return`hsla(${r}, ${n}%, ${h}%, ${i})`}ja(){const t=this.Ho,s=this.zo,e=this.Jo;return[u.Vo.Na(t,s,e),u.Vo.Wa(t,s,e),u.Vo.Ua(t,s,e),this.qo]}Va(t){!Array.isArray(t)||t.length<3||(this.Ho=t[0],this.zo=t[1],this.Jo=t[2],this.qo=4<=t.length?t[3]:1)}set r(t){this.Zo(t)}get r(){return this.ra()}set g(t){this.Qo(t)}get g(){return this.na()}set b(t){this.ta(t)}get b(){return this.oa()}set a(t){this.ea(t)}get a(){return this.aa()}Ha(t,s){switch(t){case 0:this.Zo(s);break;case 1:this.Qo(s);break;case 2:this.ta(s);break;case 3:this.ea(s);break;default:throw new RangeError("invalid color index")}}za(t){switch(t){case 0:return this.ra();case 1:return this.na();case 2:return this.oa();case 3:return this.aa();default:throw new RangeError("invalid color index")}}static Ja(t,s){let e,i;if(Array.isArray(t))(e=new u.Vo).Va(t);else{if(!(t instanceof u.Vo))throw new Error("unexpected type");e=t}if(Array.isArray(s))(i=new u.Vo).Va(s);else{if(!(s instanceof u.Vo))throw new Error("unexpected type");i=s}return e.equals(i)}static qa(t,s){return u.yn(Math.max(t,s)-Math.min(t,s),0,1)}static $a(t,s){const e=new u.Vo;return e.Zo(Math.max(t.Ho,s.Ho)-Math.min(t.Ho,s.Ho)),e.Qo(Math.max(t.zo,s.zo)-Math.min(t.zo,s.zo)),e.ta(Math.max(t.Jo,s.Jo)-Math.min(t.Jo,s.Jo)),e.ea(Math.max(t.qo,s.qo)-Math.min(t.qo,s.qo)),e}static Xa(t,s){const e=new u.Vo(0,0,0,1);return e.Zo(Math.max(t.Ho,s.Ho)-Math.min(t.Ho,s.Ho)),e.Qo(Math.max(t.zo,s.zo)-Math.min(t.zo,s.zo)),e.ta(Math.max(t.Jo,s.Jo)-Math.min(t.Jo,s.Jo)),e}static Na(t,s,e){const i=Math.max(t,s,e),r=Math.min(t,s,e);if(i===r)return 0;let n=0;switch(i){case t:n=(s-e)/(i-r)+(s<e?6:0);break;case s:n=(e-t)/(i-r)+2;break;case e:n=(t-s)/(i-r)+4}return Math.round(n/6*360)}static Wa(t,s,e){const i=Math.max(t,s,e),r=Math.min(t,s,e);if(i===r)return 0;const n=(i+r)/2,h=i-r,o=.5<n?h/(2-i-r):h/(i+r);return Math.round(100*o)}static Ua(t,s,e){const i=Math.max(t,s,e),r=Math.min(t,s,e),n=(i+r)/2;return i?Math.round(100*n):0}},u.Vo.Ya=Object.freeze(u.un(u.Vo,1,1,1,1)),u.Vo.Ka=Object.freeze(u.un(u.Vo,0,0,0,1)),u.Vo.Za=Object.freeze(u.un(u.Vo,0,0,0,0))}{const Rt=self.Bs;Rt.Qa=class{constructor(t,s){this.tl=0,this.sl=0,t instanceof Rt.Qa?this.I(t):this.set(t||0,s||0)}set(t,s){this.tl=+t,this.sl=+s}I(t){this.tl=t.tl,this.sl=t.sl}equals(t){return this.tl===t.tl&&this.sl===t.sl}el(t,s){return this.tl===t&&this.sl===s}Sa(t,s){return t[s]===Math.fround(this.tl)&&t[s+1]===Math.fround(this.sl)}il(t){this.tl=+t}rl(){return this.tl}nl(t){this.sl=+t}hl(){return this.sl}toArray(){return[this.tl,this.sl]}la(){return new Float64Array(this.toArray())}ua(t,s){t[s++]=this.tl,t[s]=this.sl}offset(t,s){this.tl+=+t,this.sl+=+s}scale(t,s){this.tl*=t,this.sl*=s}Ct(t,s){this.tl/=t,this.sl/=s}round(){this.tl=Math.round(this.tl),this.sl=Math.round(this.sl)}floor(){this.tl=Math.floor(this.tl),this.sl=Math.floor(this.sl)}ceil(){this.tl=Math.ceil(this.tl),this.sl=Math.ceil(this.sl)}angle(){return Rt.Mn(0,0,this.tl,this.sl)}ol(){return this.tl*this.tl+this.sl*this.sl}length(){return Math.hypot(this.tl,this.sl)}al(t,s){const e=this.tl*s-this.sl*t;this.sl=this.sl*s+this.tl*t,this.tl=e}rotate(t){0!==t&&this.al(Math.sin(t),Math.cos(t))}ll(t,s,e){0===t||s===this.tl&&e===this.sl||(this.tl-=s,this.sl-=e,this.al(Math.sin(t),Math.cos(t)),this.tl+=+s,this.sl+=+e)}move(t,s){0!==s&&(this.tl+=Math.cos(t)*s,this.sl+=Math.sin(t)*s)}normalize(){const t=this.length();0!==t&&1!==t&&(this.tl/=t,this.sl/=t)}yn(t,s){this.tl=Rt.yn(this.tl,t,s),this.sl=Rt.yn(this.sl,t,s)}kt(t){return this.tl*t.tl+this.sl*t.sl}reverse(){this.tl=-this.tl,this.sl=-this.sl}ul(){let t=this.tl;return this.tl=this.sl,this.sl=-t,this}}}{const Et=self.Bs;Et.Rect=class{constructor(t,s,e,i){this.cl=NaN,this.fl=NaN,this.dl=NaN,this.pl=NaN,this.cl=0,this.fl=0,this.dl=0,this.pl=0,t instanceof Et.Rect?this.I(t):this.set(t||0,s||0,e||0,i||0)}set(t,s,e,i){this.cl=+t,this.fl=+s,this.dl=+e,this.pl=+i}ml(t,s,e,i){s=+s,this.cl=t=+t,this.fl=s,this.dl=t+ +e,this.pl=s+ +i}I(t){this.cl=+t.cl,this.fl=+t.fl,this.dl=+t.dl,this.pl=+t.pl}clone(){return new Et.Rect(this.cl,this.fl,this.dl,this.pl)}static gl(t,s){const e=new Et.Rect;return e.yl(Math.min(t.cl,s.cl)),e.Sl(Math.min(t.fl,s.fl)),e.wl(Math.max(t.dl,s.dl)),e.bl(Math.max(t.pl,s.pl)),e}static vl(t){return new Et.Rect(t.left,t.top,t.right,t.bottom)}equals(t){return this.cl===t.cl&&this.fl===t.fl&&this.dl===t.dl&&this.pl===t.pl}xl(t,s,e,i){return this.cl===t&&this.fl===s&&this.width()===e&&this.height()===i}Sa(t,s){return t[s]===Math.fround(this.cl)&&t[s+1]===Math.fround(this.fl)&&t[s+2]===Math.fround(this.dl)&&t[s+3]===Math.fround(this.pl)}yl(t){this.cl=+t}Ml(){return this.cl}Sl(t){this.fl=+t}Tl(){return this.fl}wl(t){this.dl=+t}Gl(){return this.dl}bl(t){this.pl=+t}_l(){return this.pl}toArray(){return[this.cl,this.fl,this.dl,this.pl]}la(){return new Float64Array(this.toArray())}Il(){return new DOMRect(this.cl,this.fl,this.width(),this.height())}static Cl(t){return Et.un(Et.Rect,t.left,t.top,t.right,t.bottom)}ua(t,s){t[s++]=this.cl,t[s++]=this.fl,t[s++]=this.dl,t[s]=this.pl}Rl(t,s){t[s++]=this.cl,t[s++]=this.fl,t[s++]=this.dl,t[s++]=this.fl,t[s++]=this.dl,t[s++]=this.pl,t[s++]=this.cl,t[s]=this.pl}El(t,s,e){t[s++]=this.cl,t[s++]=this.fl,t[s++]=e,t[s++]=this.dl,t[s++]=this.fl,t[s++]=e,t[s++]=this.dl,t[s++]=this.pl,t[s++]=e,t[s++]=this.cl,t[s++]=this.pl,t[s]=e}width(){return this.dl-this.cl}height(){return this.pl-this.fl}Fl(){return(this.cl+this.dl)/2}Pl(){return(this.fl+this.pl)/2}offset(t,s){s=+s,this.cl+=t=+t,this.fl+=s,this.dl+=t,this.pl+=s}offsetLeft(t){this.cl+=+t}offsetTop(t){this.fl+=+t}Al(t){this.dl+=+t}kl(t){this.pl+=+t}Dl(t){if("x"!==t)throw new Error("invalid axis, only 'x' supported");this.fl<this.pl?this.cl<this.dl?this.pl=this.fl+this.width():this.pl=this.fl-this.width():this.cl<this.dl?this.pl=this.fl-this.width():this.pl=this.fl+this.width()}Ol(t,s){s=+s,this.cl-=t=+t,this.fl-=s,this.dl+=t,this.pl+=s}Ll(t,s){s=+s,this.cl+=t=+t,this.fl+=s,this.dl-=t,this.pl-=s}multiply(t,s){this.cl*=t,this.fl*=s,this.dl*=t,this.pl*=s}Ct(t,s){this.cl/=t,this.fl/=s,this.dl/=t,this.pl/=s}Bl(t){this.cl=+t-this.cl,this.dl=+t-this.dl}Nl(t){this.fl=+t-this.fl,this.pl=+t-this.pl}Wl(t,s){const e=this.width(),i=this.height(),r=this.Ml()+e*t,n=this.Tl()+i*s;this.ml(r-i*s,n-e*t,i,e)}Ul(){const t=this.cl;this.cl=this.dl,this.dl=t}jl(){const t=this.fl;this.fl=this.pl,this.pl=t}Vl(t){const s=this.fl;this.fl=+t-this.pl,this.pl=+t-s}round(){this.cl=Math.round(this.cl),this.fl=Math.round(this.fl),this.dl=Math.round(this.dl),this.pl=Math.round(this.pl)}Hl(){this.cl=Math.ceil(this.cl),this.fl=Math.ceil(this.fl),this.dl=Math.floor(this.dl),this.pl=Math.floor(this.pl)}zl(){this.cl=Math.floor(this.cl),this.fl=Math.floor(this.fl),this.dl=Math.ceil(this.dl),this.pl=Math.ceil(this.pl)}floor(){this.cl=Math.floor(this.cl),this.fl=Math.floor(this.fl),this.dl=Math.floor(this.dl),this.pl=Math.floor(this.pl)}ceil(){this.cl=Math.ceil(this.cl),this.fl=Math.ceil(this.fl),this.dl=Math.ceil(this.dl),this.pl=Math.ceil(this.pl)}yn(t,s,e,i){this.cl=Math.max(this.cl,+t),this.fl=Math.max(this.fl,+s),this.dl=Math.min(this.dl,+e),this.pl=Math.min(this.pl,+i)}Jl(t,s,e,i){t=+t,s=+s,e=+e,i=+i,this.cl=Et.yn(this.cl,t,e),this.fl=Et.yn(this.fl,s,i),this.dl=Et.yn(this.dl,t,e),this.pl=Et.yn(this.pl,s,i)}normalize(){this.cl>this.dl&&this.Ul(),this.fl>this.pl&&this.jl()}ql(t){return!(t.dl<this.cl||t.pl<this.fl||t.cl>this.dl||t.fl>this.pl)}$l(t,s,e){return!(t.dl+s<this.cl||t.pl+e<this.fl||t.cl+s>this.dl||t.fl+e>this.pl)}Xl(t,s){return t>=this.cl&&t<=this.dl&&s>=this.fl&&s<=this.pl}Yl(t){return t.cl>=this.cl&&t.fl>=this.fl&&t.dl<=this.dl&&t.pl<=this.pl}Kl(t){t.cl<this.cl&&(this.cl=+t.cl),t.fl<this.fl&&(this.fl=+t.fl),t.dl>this.dl&&(this.dl=+t.dl),t.pl>this.pl&&(this.pl=+t.pl)}Zl(t){this.cl=Et.Ot(t.cl,t.dl,this.cl),this.fl=Et.Ot(t.fl,t.pl,this.fl),this.dl=Et.Ot(t.cl,t.dl,this.dl),this.pl=Et.Ot(t.fl,t.pl,this.pl)}}}{const Ft=self.Bs;Ft.Ql=class{constructor(t,s,e,i,r,n,h,o){this.tu=NaN,this.su=NaN,this.eu=NaN,this.iu=NaN,this.ru=NaN,this.nu=NaN,this.hu=NaN,this.ou=NaN,this.tu=0,this.su=0,this.eu=0,this.iu=0,this.ru=0,this.nu=0,this.hu=0,this.ou=0,t instanceof Ft.Ql?this.I(t):this.set(t||0,s||0,e||0,i||0,r||0,n||0,h||0,o||0)}set(t,s,e,i,r,n,h,o){this.tu=+t,this.su=+s,this.eu=+e,this.iu=+i,this.ru=+r,this.nu=+n,this.hu=+h,this.ou=+o}au(t,s,e,i){this.set(t,s,e,s,e,i,t,i)}I(t){this.tu=t.tu,this.su=t.su,this.eu=t.eu,this.iu=t.iu,this.ru=t.ru,this.nu=t.nu,this.hu=t.hu,this.ou=t.ou}equals(t){return this.tu===t.tu&&this.su===t.su&&this.eu===t.eu&&this.iu===t.iu&&this.ru===t.ru&&this.nu===t.nu&&this.hu===t.hu&&this.ou===t.ou}lu(t){this.tu=+t}th(){return this.tu}uu(t){this.su=+t}eh(){return this.su}cu(t){this.eu=+t}ih(){return this.eu}fu(t){this.iu=+t}rh(){return this.iu}du(t){this.ru=+t}nh(){return this.ru}pu(t){this.nu=+t}hh(){return this.nu}mu(t){this.hu=+t}oh(){return this.hu}gu(t){this.ou=+t}ah(){return this.ou}yu(){return new DOMQuad(new DOMPoint(this.tu,this.su),new DOMPoint(this.eu,this.iu),new DOMPoint(this.ru,this.nu),new DOMPoint(this.hu,this.ou))}static Su(t){return Ft.un(Ft.Ql,t.p1.x,t.p1.y,t.p2.x,t.p2.y,t.p3.x,t.p3.y,t.p4.x,t.p4.y)}toArray(){return[this.tu,this.su,this.eu,this.iu,this.ru,this.nu,this.hu,this.ou]}la(){return new Float64Array(this.toArray())}ua(t,s){t[s++]=this.tu,t[s++]=this.su,t[s++]=this.eu,t[s++]=this.iu,t[s++]=this.ru,t[s++]=this.nu,t[s++]=this.hu,t[s]=this.ou}wu(t,s,e){t[s++]=this.tu,t[s++]=this.su,t[s++]=e,t[s++]=this.eu,t[s++]=this.iu,t[s++]=e,t[s++]=this.ru,t[s++]=this.nu,t[s++]=e,t[s++]=this.hu,t[s++]=this.ou,t[s]=e}offset(t,s){s=+s,this.tu+=t=+t,this.su+=s,this.eu+=t,this.iu+=s,this.ru+=t,this.nu+=s,this.hu+=t,this.ou+=s}round(){this.tu=Math.round(this.tu),this.su=Math.round(this.su),this.eu=Math.round(this.eu),this.iu=Math.round(this.iu),this.ru=Math.round(this.ru),this.nu=Math.round(this.nu),this.hu=Math.round(this.hu),this.ou=Math.round(this.ou)}floor(){this.tu=Math.floor(this.tu),this.su=Math.floor(this.su),this.eu=Math.floor(this.eu),this.iu=Math.floor(this.iu),this.ru=Math.floor(this.ru),this.nu=Math.floor(this.nu),this.hu=Math.floor(this.hu),this.ou=Math.floor(this.ou)}ceil(){this.tu=Math.ceil(this.tu),this.su=Math.ceil(this.su),this.eu=Math.ceil(this.eu),this.iu=Math.ceil(this.iu),this.ru=Math.ceil(this.ru),this.nu=Math.ceil(this.nu),this.hu=Math.ceil(this.hu),this.ou=Math.ceil(this.ou)}bu(t){this.tu=t.cl,this.su=t.fl,this.eu=t.dl,this.iu=t.fl,this.ru=t.dl,this.nu=t.pl,this.hu=t.cl,this.ou=t.pl}vu(t,s){0===s?this.bu(t):this.xu(t,Math.sin(s),Math.cos(s))}xu(t,s,e){const i=t.cl*s,r=t.fl*s,n=t.dl*s,h=t.pl*s,o=t.cl*e,a=t.fl*e,l=t.dl*e,u=t.pl*e;this.tu=o-r,this.su=a+i,this.eu=l-r,this.iu=a+n,this.ru=l-h,this.nu=u+n,this.hu=o-h,this.ou=u+i}Mu(t){t.set(Math.min(this.tu,this.eu,this.ru,this.hu),Math.min(this.su,this.iu,this.nu,this.ou),Math.max(this.tu,this.eu,this.ru,this.hu),Math.max(this.su,this.iu,this.nu,this.ou))}Xl(t,s){let e=this.eu-this.tu,i=this.iu-this.su,r=this.ru-this.tu,n=this.nu-this.su,h=t-this.tu,o=s-this.su,a=e*e+i*i,l=e*r+i*n,u=e*h+i*o,c=r*r+n*n,f=r*h+n*o,d=1/(a*c-l*l),p=(c*u-l*f)*d,m=(a*f-l*u)*d;return 0<=p&&0<m&&p+m<1||(m=((a=(e=this.hu-this.tu)*e+(i=this.ou-this.su)*i)*f-(l=e*r+i*n)*(u=e*h+i*o))*(d=1/(a*c-l*l)),0<=(p=(c*u-l*f)*d)&&0<m&&p+m<1)}Fl(){return(this.tu+this.eu+this.ru+this.hu)/4}Pl(){return(this.su+this.iu+this.nu+this.ou)/4}Tu(t,s,e,i){return!(!this.Xl(t,s)&&!this.Xl(e,i))||Ft.Qn(t,s,e,i,this)}Gu(t){let s=t.Fl(),e=t.Pl();if(this.Xl(s,e))return!0;if(s=this.Fl(),e=this.Pl(),t.Xl(s,e))return!0;const i=this.tu,r=this.su,n=this.eu,h=this.iu,o=this.ru,a=this.nu,l=this.hu,u=this.ou;return Ft.Qn(i,r,n,h,t)||Ft.Qn(n,h,o,a,t)||Ft.Qn(o,a,l,u,t)||Ft.Qn(l,u,i,r,t)}_u(){const t=this.tu,s=this.su;this.tu=this.eu,this.su=this.iu,this.eu=this.ru,this.iu=this.nu,this.ru=this.hu,this.nu=this.ou,this.hu=t,this.ou=s}Iu(){this.Cu(0,2),this.Cu(1,3),this.Cu(6,4),this.Cu(7,5)}Ru(){this.Cu(0,6),this.Cu(1,7),this.Cu(2,4),this.Cu(3,5)}Eu(){this.Cu(2,6),this.Cu(3,7)}Cu(t,s){const e=this.Fu(t);this.Pu(t,this.Fu(s)),this.Pu(s,e)}Fu(t){switch(t){case 0:return this.tu;case 1:return this.su;case 2:return this.eu;case 3:return this.iu;case 4:return this.ru;case 5:return this.nu;case 6:return this.hu;case 7:return this.ou;default:throw new RangeError("invalid quad point index")}}Pu(t,s){switch(s=+s,t){case 0:this.tu=s;break;case 1:this.su=s;break;case 2:this.eu=s;break;case 3:this.iu=s;break;case 4:this.ru=s;break;case 5:this.nu=s;break;case 6:this.hu=s;break;case 7:this.ou=s;break;default:throw new RangeError("invalid quad point index")}}}}{const Pt=self.Bs,At=[0,0,1,0,1,1,0,1],kt=Pt.un(Pt.Ql);Pt.Au=class extends Pt.an{constructor(t,s=!0){super(),t=t||At,this.ku=Float64Array.from(t),this.Du=new Pt.Rect,this.Ou=!0,this.Lu=s}cn(){}Bu(){return this.ku}Nu(){return this.ku.length/2}Wu(t){this.ku.length===t.length?this.ku.set(t):this.ku=Float64Array.from(t),this.Ou=!0}Uu(){this.Wu(At)}I(t){this.Wu(t.ku)}ju(){this.Ou=!0}Vu(){if(this.Ou){let e=this.ku,i=e[0],r=e[1],n=i,h=r;for(let t=0,s=e.length;t<s;t+=2){const o=e[t],a=e[t+1];o<i&&(i=o),o>n&&(n=o),a<r&&(r=a),a>h&&(h=a)}this.Du.set(i,r,n,h),this.Ou=!1}}bu(t,s,e){let i=this.ku;8!==i.length&&(i=new Float64Array(8),this.ku=i),i[0]=t.Ml()-s,i[1]=t.Tl()-e,i[2]=t.Gl()-s,i[3]=t.Tl()-e,i[4]=t.Gl()-s,i[5]=t._l()-e,i[6]=t.Ml()-s,i[7]=t._l()-e,this.Du.I(t),0===s&&0===e||this.Du.offset(-s,-e),this.Ou=!1}Hu(t,s,e){kt.I(t),kt.offset(s,e),this.Wu(kt.toArray()),this.Ou=!0}transform(t,s,e){let i=0,r=1;0!==e&&(i=Math.sin(e),r=Math.cos(e)),this.zu(t,s,i,r)}zu(e,i,r,n){const h=this.ku;for(let t=0,s=h.length;t<s;t+=2){const o=t+1,a=h[t]*e,l=h[o]*i;h[t]=a*n-l*r,h[o]=l*n+a*r}this.Ou=!0}offset(e,i){const r=this.ku;for(let t=0,s=r.length;t<s;t+=2)r[t]+=e,r[t+1]+=i}Xl(e,i){const r=this.ku;if(e===r[0]&&i===r[1])return!0;this.Vu();let t=this.Du,n=t.Ml()-110,h=t.Tl()-101,o=t.Gl()+131,a=t._l()+120,l=0,u=0,c,f,d=0,p=0,m,g,y=(c=n<e?(l=n,e):(l=e,n),f=h<i?(u=h,i):(u=i,h),m=o<e?(d=o,e):(d=e,o),g=a<i?(p=a,i):(p=i,a),0),S=0;for(let t=0,s=r.length;t<s;t+=2){const w=(t+2)%s,b=r[t],v=r[t+1],x=r[w],M=r[1+w];Pt.Zn(n,h,e,i,l,c,u,f,b,v,x,M)&&++y,Pt.Zn(o,a,e,i,d,m,p,g,b,v,x,M)&&++S}return y%2==1||S%2==1}Ju(t,c,f){const d=t.ku,p=this.ku;if(this.Xl(d[0]+c,d[1]+f))return!0;if(t.Xl(p[0]-c,p[1]-f))return!0;for(let s=0,u=p.length;s<u;s+=2){let t=(s+2)%u,e=p[s],i=p[s+1],r=p[t],n=p[1+t],h=0,o=0,a,l;a=e<r?(h=e,r):(h=r,e),l=i<n?(o=i,n):(o=n,i);for(let t=0,s=d.length;t<s;t+=2){const m=(t+2)%s,g=d[t]+c,y=d[t+1]+f,S=d[m]+c,w=d[1+m]+f;if(Pt.Zn(e,i,r,n,h,a,o,l,g,y,S,w))return!0}}return!1}Tu(e,i,r,n,h,o){if(this.Xl(r-e,n-i))return!0;if(this.Xl(h-e,o-i))return!0;let a=0,l=0,u,c;u=r<h?(a=r,h):(a=h,r),c=n<o?(l=n,o):(l=o,n);const f=this.ku;for(let t=0,s=f.length;t<s;t+=2){const d=(t+2)%s,p=f[t]+e,m=f[t+1]+i,g=f[d]+e,y=f[1+d]+i;if(Pt.Zn(r,n,h,o,a,u,l,c,p,m,g,y))return!0}return!1}Iu(e){const i=this.ku;for(let t=0,s=i.length;t<s;t+=2)i[t]=2*e-i[t];this.Ou=!0}Ru(e){const i=this.ku;for(let t=0,s=i.length;t<s;t+=2){const r=t+1;i[r]=2*e-i[r]}this.Ou=!0}Eu(){const e=this.ku;for(let t=0,s=e.length;t<s;t+=2){const i=t+1,r=e[t];e[t]=e[i],e[i]=r}this.Ou=!0}qu(){let e=this.ku,i=0;for(let t=0,s=e.length;t<s;t+=2)i+=e[t];return i/this.Nu()}$u(){let e=this.ku,i=0;for(let t=0,s=e.length;t<s;t+=2)i+=e[t+1];return i/this.Nu()}Xu(){return this.ku}Yu(){return this.Nu()}Ku(){return this.Lu}}}{const Dt=self.Bs;Dt.Zu=class extends Dt.an{constructor(t){if(super(),this.Qu=new Map,t)for(const[s,e,i]of t)this.Set(s,e,i)}cn(){this.tc(),this.Qu=null}ec(){return 0===this.Qu.size}tc(){const t=this.Qu;for(const s of t.values())s.clear();t.clear()}Set(t,s,e){let i=this.Qu,r=i.get(t);r||(r=new Map,i.set(t,r)),r.set(s,e)}re(t,s){const e=this.Qu.get(t);return e&&e.get(s)}ie(t,s){const e=this.Qu.get(t);return!!e&&e.has(s)}ic(t,s){const e=this.Qu,i=e.get(t);if(!i)return!1;const r=i.delete(s);return r&&0===i.size&&e.delete(t),r}rc(t){const s=this.Qu,e=s.get(t);e&&(e.clear(),s.delete(t));for(const[i,r]of s.entries())r.delete(t)&&0===r.size&&s.delete(i)}nc(){let t=0;for(const s of this.Qu.values())t+=s.size;return t}*values(){for(const t of this.Qu.values())yield*t.values()}*hc(){for(const[t,s]of this.Qu.entries())for(const e of s.keys())yield[t,e]}*entries(){for(const[t,s]of this.Qu.entries())for(const[e,i]of s.entries())yield[t,e,i]}}}{const Ot=self.Bs;Ot.oc=class extends Ot.an{constructor(){super(),this.ac=new Set,this.lc=[],this.uc=!1}cn(){this.tc()}tc(){this.ac.clear(),Ot.Lh(this.lc),this.uc=!1}cc(t){this.ac.has(t)||(this.ac.add(t),this.uc)||this.lc.push(t)}ie(t){return this.ac.has(t)}ic(t){this.ac.delete(t)&&(this.uc=!0)}nc(){return this.ac.size}ec(){return 0===this.ac.size}fc(){return this.uc&&(this.dc(),this.uc=!1),this.lc}dc(){const t=this.lc;Ot.Lh(t);for(const s of this.ac)t.push(s)}}}{const Lt=self.Bs,Bt=new Map,Nt=new Map,Wt=new Map,Ut=new Map,jt=new Map,Vt=new Map,Ht=new Map,zt=new Map,Jt=new Map,qt=(Jt.set("linear","noease"),Jt.set("default","noease"),["default","noease","easeinquad","easeoutquad","easeinoutquad","easeincubic","easeoutcubic","easeinoutcubic","easeinquart","easeoutquart","easeinoutquart","easeinquint","easeoutquint","easeinoutquint","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeincirc","easeoutcirc","easeinoutcirc","easeinelastic","easeoutelastic","easeinoutelastic","easeinback","easeoutback","easeinoutback","easeinbounce","easeoutbounce","easeinoutbounce"]),$t=["default","noease","quad","cubic","quart","quint","sine","expo","circ","elastic","back","bounce"],Xt=new Map([["linear","noease"],["in-sine","easeinsine"],["out-sine","easeoutsine"],["in-out-sine","easeinoutsine"],["in-elastic","easeinelastic"],["out-elastic","easeoutelastic"],["in-out-elastic","easeinoutelastic"],["in-back","easeinback"],["out-back","easeoutback"],["in-out-back","easeinoutback"],["in-bounce","easeinbounce"],["out-bounce","easeoutbounce"],["in-out-bounce","easeinoutbounce"],["in-cubic","easeincubic"],["out-cubic","easeoutcubic"],["in-out-cubic","easeinoutcubic"],["in-quadratic","easeinquad"],["out-quadratic","easeoutquad"],["in-out-quadratic","easeinoutquad"],["in-quartic","easeinquart"],["out-quartic","easeoutquart"],["in-out-quartic","easeinoutquart"],["in-quintic","easeinquint"],["out-quintic","easeoutquint"],["in-out-quintic","easeinoutquint"],["in-circular","easeincirc"],["out-circular","easeoutcirc"],["in-out-circular","easeinoutcirc"],["in-exponential","easeinexpo"],["out-exponential","easeoutexpo"],["in-out-exponential","easeinoutexpo"]]),Yt=(self.mc=class rs{constructor(){}static yc(){return"default"}static Sc(){return"noease"}static wc(t){return Xt.get(t)}static vc(s,...e){this.xc();let t,i=(s?(Wt.has(s)||Wt.set(s,new Map),[...(t=Wt.get(s)).keys()].filter(t=>!rs.Mc(t,s)||rs.Mc(t,s).transition.IsForAnyPurpose())):[...(t=jt).keys()]).sort();return[...Nt.keys()].concat(i).filter(t=>!e.includes(t))}static Tc(){this.xc();const t=[...jt.keys()];return t.sort(),[...Nt.keys()].concat(t)}static Gc(){this.xc();const t=[...jt.keys()];return t.sort(),t}static _c(t){for(const s of qt){const e=self.lang("ui.bars.timeline.eases."+s);if(e===t)return!0}for(const i of $t){const r=self.lang("ui.bars.timeline.short-eases."+i);if(r===t)return!0}}static Ic(t){return this.xc(),[...Nt.keys()].includes(t)}static Cc(t){const s=Jt.get(t);return s?Bt.get(s):rs.Ic(t)?Bt.get(t):Ht.has(t)?Ht.get(t):void 0}static Rc(t){return this.xc(),zt.get(t)}static Ec(t,s){this.xc();const e=rs.Cc(t);if(e)return e;if(s)return Wt.get(s).get(t);throw new Error("missing ease function")}static Mc(t,s){this.xc();const e=Ut.get(s);if(e)return e.get(t)}static Fc(t,s){this.xc();const e=rs.Cc(t);return!!e||!!Wt.get(s).get(t)}static Pc(t){this.xc();const s=rs.Cc(t);return s||jt.get(t)}static Ac(t){return this.xc(),Vt.get(t)}static kc(t){this.xc();const s=this.Tc();return s[t]}static Dc(t,s){this.xc();const e=this.vc(s);return e.indexOf(t)}static Oc(t){return this.Dc(t)}static xc(){0===Bt.size&&(this.Lc("default",()=>{}),this.Lc("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.Lc("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.Lc("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.Lc("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.Lc("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.Lc("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.Lc("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.Lc("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.Lc("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.Lc("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.Lc("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.Lc("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.Lc("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.Lc("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.Lc("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.Lc("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.Lc("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.Lc("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.Lc("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Lc("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this.Lc("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.Lc("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.Lc("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.Lc("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.Lc("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.Lc("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.Lc("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Lc("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.Lc("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.Lc("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.Lc("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.Bc("cubicbezier",this.Nc),this.Bc("spline",this.Wc))}static Lc(t,s,e=!1){if("function"==typeof s)rs.Uc(t,s,"predefined");else{if(!Lt.Li(s))throw new Error("unexpected arguments");if(self.BuiltInTransition){const r=Lt.un(self.BuiltInTransition,t,e);r.SetFromJson(s),rs.Uc(t,(t,s,e,i)=>r.jc(t,s,e,i),"predefined"),zt.set(t,r)}else{const n=Lt.un(Lt.Vc,[t,s.map(t=>[t.x,t.y,t.sax,t.say,t.eax,t.eay,t.se,t.ee])],!1);n.Hc(e),rs.Uc(t,(t,s,e,i)=>n.jc(t,s,e,i),"predefined")}}}static Bc(t,s){rs.Uc(t,s,"private")}static zc(t,s,e,i){this.xc(),rs.Uc(t,s,"custom",e,i)}static Jc(t,s){if(!this.Ic(t)&&![...Ht.keys()].includes(t)){const e=Wt.get(s),i=(e&&e.delete(t),Ut.get(s));i&&i.delete(t)}}static Uc(t,s,e,i,r){switch(e){case"predefined":Bt.set(t,s),Nt.set(t,s);break;case"custom":if(i){Wt.has(i)||Wt.set(i,new Map),Ut.has(i)||Ut.set(i,new Map);const n=Wt.get(i),h=(n.set(t,s),Ut.get(i));h.set(t,r)}else jt.set(t,s),Vt.set(t,r);break;case"private":Bt.set(t,s),Ht.set(t,s);break;default:throw new Error("unexpected ease mode")}}static qc(t,s,e,i){return 0===i?s:e*t/i+s}static Nc(t,s,e,i,r){const n=s,h=3*t*(e-s),o=3*t**2*(s+i-2*e),a=t**3*(r-s+3*e-3*i);return n+h+o+a}static Wc(t,s,e,i,r,n,h,o,a,l){if(i===r&&n===h)return t;const u=is(t,s,i,n,o,l),c=Zt(e,r,h,a),f=Qt(e,r,h,a),d=ts(e,r,h,a);return ss(u,c,f,d)}static $c(t,s,e,i){const r=[],n=Zt(t,s,e,i),h=Qt(t,s,e,i),o=ts(t,s,e,i);for(let t=0;t<Yt;++t){const a=ss(t*Kt,n,h,o);r.push(a)}return r}},11),Kt=1/(Yt-1),Zt=(t,s,e,i)=>i-3*e+3*s-t,Qt=(t,s,e,i)=>3*e-6*s+3*t,ts=(t,s,e,i)=>3*(s-t),ss=(t,s,e,i)=>((s*t+e)*t+i)*t,es=(t,s,e,i)=>3*s*t*t+2*e*t+i,is=(h,t,s,e,i,r)=>{if(1==h)return 1;let o=0,n=1,a=r[n],l=Yt-1;for(Yt;n!=l&&a<=h;)n++,a=r[n],o+=Kt;n--;let u=(h-(a=r[n]))/(r[n+1]-a),c=o+u*Kt,f=Zt(t,s,e,i),d=Qt(t,s,e,i),p=ts(t,s,e,i),m=es(c,f,d,p);if(0===m)return c;if(.01<=m){for(let t=0;t<4;++t){const g=ss(c,f,d,p)-h,y=es(c,f,d,p);c-=g/y}return c}{let s=o,e=o+Kt,i=0,r,n;do{c=s+(e-s)/2;let t=ss(c,f,d,p)-h;0<t?e=c:s=c,r=1e-7<Math.abs(t),n=++i<10}while(r&&n);return c}}}{let o=function(t){ns.xi(t)};o;const ns=self.Bs;ns.Xc=class{constructor(t){this.Yc=[],this.mn=t||"",this.Kc=0}cn(){this.tc(),this.Yc=null}Zc(){return this.mn}tc(){ns.Bh(this.Yc),this.Kc=0}Qc(){return this.Kc}tf(t=Math.random()*this.Qc()){let s=0;for(const[e,i]of this.Yc)if(t<(s+=e))return i;return 0}ef(t,s){o(s),this.Kc+=t,this.Yc.push([t,s])}if(s,e){o(e);const i=0===s;for(let t=0;t<this.Yc.length;t++){const r=this.Yc[t],n=i||r[0]===s,h=r[1]===e;if(n&&h){this.Yc.splice(t,1),this.Kc-=r[0];break}}}rf(){return JSON.stringify(this.Yc)}static nf(t,s){const e=new ns.Xc(s),i=JSON.parse(t);for(const r of i){const n=r[0],h=r[1];e.ef(n,h)}return e}}}{let t=self.Bs,e=0;t.hf=class{constructor(t,s){this.lf=t,this.uf=s,this.cf=e++,this.lf.ff("runtime","screen-reader-text",{type:"create",id:this.cf,text:this.uf})}cn(){this.lf.ff("runtime","screen-reader-text",{type:"release",id:this.cf}),this.lf=null,this.uf="",this.cf=-1}df(t){this.uf!==t&&(this.uf=t,this.lf.ff("runtime","screen-reader-text",{type:"update",id:this.cf,text:this.uf}))}}}{const hs=self.Bs;hs.Event=class{constructor(t,s){this.type=t,this.cancelable=!!s,this.defaultPrevented=!1,this.pf=!1,this.mf=!1}preventDefault(){if(!this.cancelable)throw new Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw new Error(`event '${this.type}' cannot be stopped`);if(this.mf)throw new Error(`cannot stop async event '${this.type}' propagation`);this.pf=!0}}}{const os=self.Bs;os.Event.gf=class extends os.an{constructor(t){super(),this.yf=t,this.Sf=[],this.wf=new Set,this.bf=[],this.vf=new Set,this.xf=0,this.Mf=[]}cn(){0<this.xf||(os.Lh(this.Sf),this.wf.clear(),os.Lh(this.bf),this.vf.clear(),os.Lh(this.Mf),os.cn(this))}Tf(t,s){this.Gf()?this.Mf.push({_f:"add",If:t,capture:s}):s?this.wf.has(t)||(this.Sf.push(t),this.wf.add(t)):this.vf.has(t)||(this.bf.push(t),this.vf.add(t))}Cf(t,s){this.Gf()?this.Mf.push({_f:"remove",If:t,capture:s}):s?this.wf.has(t)&&(this.wf.delete(t),os.Vh(this.Sf,t)):this.vf.has(t)&&(this.vf.delete(t),os.Vh(this.bf,t))}Rf(){return!this.Sf.length&&!this.bf.length}Gf(){return 0<this.xf}Ef(){const t=new Set,s=new Set;for(const e of this.Mf)if("add"===e._f)this.Tf(e.If,e.capture),(e.capture?s:t).delete(e.If);else{if("remove"!==e._f)throw new Error("invalid op");(e.capture?(this.wf.delete(e.If),s):(this.vf.delete(e.If),t)).add(e.If)}os.Jh(this.bf,t),os.Jh(this.Sf,s),os.Lh(this.Mf)}Ff(e){this.Pf();let i=!1;for(let t=0,s=this.Sf.length;t<s;++t)if(this.Sf[t](e),e.pf){i=!0;break}if(!i)for(let t=0,s=this.bf.length;t<s&&(this.bf[t](e),!e.pf);++t);return this.Af(),!e.defaultPrevented}kf(e){this.Pf();for(let t=0,s=this.Sf.length;t<s;++t)this.Sf[t](e);for(let t=0,s=this.bf.length;t<s;++t)this.bf[t](e);return this.Af(),!0}Pf(){this.xf++}Af(){this.xf--,0===this.xf&&0<this.Mf.length&&this.Ef()}Df(t){t?this.Pf():this.Af()}Of(e){let i=[];for(let s=0,t=this.Sf.length;s<t;++s){let t=this.Sf[s];i.push(os.Lf(()=>t(e)))}for(let s=0,t=this.bf.length;s<t;++s){let t=this.bf[s];i.push(os.Lf(()=>t(e)))}return Promise.all(i).then(()=>!e.defaultPrevented)}Bf(e){const i=[];this.Pf();for(let t=0,s=this.Sf.length;t<s;++t){const r=this.Sf[t](e);r instanceof Promise&&i.push(r)}for(let t=0,s=this.bf.length;t<s;++t){const n=this.bf[t](e);n instanceof Promise&&i.push(n)}return this.Af(),i.length?Promise.all(i).then(()=>!e.defaultPrevented):!e.defaultPrevented}async Nf(t){return this.Bf(t)}async Wf(e){this.Pf();for(let t=0,s=this.Sf.length;t<s;++t){const i=this.Sf[t](e);i instanceof Promise&&await i}for(let t=0,s=this.bf.length;t<s;++t){const r=this.bf[t](e);r instanceof Promise&&await r}return this.Af(),!e.defaultPrevented}*Uf(e){this.Pf();for(let t=0,s=this.Sf.length;t<s;++t){const i=this.Sf[t](e);os.Uo(i)&&(yield*i)}for(let t=0,s=this.bf.length;t<s;++t){const r=this.bf[t](e);os.Uo(r)&&(yield*r)}this.Af()}}}{const as=self.Bs;as.Event.jf=class extends as.an{constructor(){super(),this.Vf=new Map,this.Hf=!1}cn(){if(this.Hf)throw new Error("already released");this.zf(),this.Hf=!0,as.cn(this)}dn(){return this.Hf}zf(){if(this.Vf){for(let t of this.Vf.values())t.cn();this.Vf.clear()}}Jf(t,s){let e=this.Vf.get(t);return e||(s?(e=as.un(as.Event.gf,t),this.Vf.set(t,e),e):null)}qf(t){return this.Vf.has(t)}addEventListener(t,s,e){let i=this.Jf(t,!0);i.Tf(s,!!e)}removeEventListener(t,s,e){let i=this.Jf(t,!1);i&&(i.Cf(s,!!e),i.Rf())&&this.Vf.delete(t)}dispatchEvent(t){const s=this.Jf(t.type,!1);return!s||(t.cancelable?s.Ff(t):s.kf(t))}$f(t){const s=this.Jf(t.type,!1);return s?(t.mf=!0,s.Of(t)):Promise.resolve(!0)}async Xf(t){const s=this.Jf(t.type,!1);if(!s)return!0;this.Vf.delete(t.type),t.mf=!0;const e=await s.Of(t);return s.cn(),e}async Yf(t){const s=this.Jf(t.type,!1);return!s||s.Nf(t)}Kf(t){const s=this.Jf(t.type,!1);return!s||s.Bf(t)}async Zf(t){const s=this.Jf(t.type,!1);return!s||s.Wf(t)}Qf(t){const s=this.Jf(t.type,!1);if(!s)return null;if(t.cancelable)throw new Error("not supported");return s.Uf(t)}Df(t){for(const s of this.Vf.values())s.Df(t)}}}{let n=function(t){c=l&&0===f?requestIdleCallback(s,{timeout:e}):setTimeout(s,0<f?1:t)},s=function(r){if(c=-1,u.length){let e=performance.now(),i=e,t=0,s;for(;h(u.shift()),i=performance.now(),++t,s=(i-e)/t*1.1,u.length&&(l&&0===f&&void 0!==r?s<r.timeRemaining():i-e+s<o););if(-1===c&&u.length){let t=i-e,s=Math.max(a-t,4);n(s)}}},h=function(s){let t;try{t=s.If()}catch(t){return void s.reject(t)}s.resolve(t)},t=(n,s,h,self.Bs),o=12,a=16,e=35,l="undefined"!=typeof requestIdleCallback,u=[],c=-1,f=0,r=t.oe.ie("disable-asyncify");r&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously."),t.Lf=function(e){let i=null;return t.isDebug&&(i=t.li()),new Promise((t,s)=>{u.push({If:e,resolve:t,reject:s,stack:i}),r?h(u.pop()):-1===c&&n(a)})},t.Lf.t0=function(t){if(t)++f;else if(--f<0)throw new Error("already turned off high throughput mode")}}{let t=function(){n=-1},s=function(){h=-1,o=-1;let e=Date.now();for(let s of a)if(s.s0(e)){let t=s.e0();(-1===o||t<o)&&(o=t)}else a.delete(s);if(-1!==o){let t=Math.max(o-e+r,i);h=self.setTimeout(s,t)}},e=(t,s,self.Bs),i=1e3,r=100,n=-1,h=(e.i0=function(){return-1===n&&(n=Date.now(),self.setTimeout(t,16)),n},-1),o=-1,a=new Set;e.r0=class{constructor(t,s){this.n0=t,this.h0=1e3*s,this.o0=0,this.a0=!1}l0(){let t=e.i0();this.o0=t+this.h0,this.a0||(a.add(this),this.a0=!0),-1===h?(o=this.o0,h=self.setTimeout(s,this.h0+r)):this.o0<o&&o>t+i&&(self.clearTimeout(h),o=this.o0,h=self.setTimeout(s,this.h0+r))}s0(t){return!(t>=this.o0)||(this.n0()?(this.o0=t+this.h0,!0):this.a0=!1)}e0(){return this.o0}u0(){this.a0&&(a.delete(this),this.a0=!1,0===a.size)&&-1!==h&&(self.clearTimeout(h),h=-1,o=-1)}cn(){this.u0(),this.n0=null}}}{const ls=self.Bs;ls.c0=class us{constructor(t){this.f0=!1,this.d0=t}p0(){this.f0||(this.f0=!0,this.d0&&(this.d0(),this.d0=null))}m0(){return this.f0}cn(){this.p0()}static cn(t){return new us(()=>t.cn())}static g0(s,e,i,r,t){if(null==r)r=!1;else if("boolean"!=typeof r&&"object"!=typeof r)throw new TypeError("invalid event listener options");if(t&&(i=i.bind(t)),e.includes(" ")){e=e.split(" ");const n=new ls.y0;for(let t of e)s.addEventListener(t,i,r),n.cc(ls.un(ls.c0,()=>s.removeEventListener(t,i,r)));return n}return s.addEventListener(e,i,r),ls.un(ls.c0,()=>s.removeEventListener(e,i,r))}},ls.S0=class extends ls.c0{w0(t){this.d0=t}},ls.y0=class extends ls.c0{constructor(...s){super(),this.b0=new Set;for(let t of s)this.cc(t)}cc(...s){if(this.f0)throw new Error("already disposed");for(let t of s)this.b0.add(t)}v0(t){if(this.f0)throw new Error("already disposed");this.b0.delete(t)}x0(){if(this.f0)throw new Error("already disposed");if(this.b0){for(let t of this.b0)t.p0();this.b0.clear()}}m0(){return this.f0}p0(){if(this.f0)throw new Error("already disposed");this.f0=!0;for(let t of this.b0)t.p0();this.b0.clear(),this.b0=null}cn(){this.p0()}}}{const cs=self.Bs;cs.M0=class extends cs.an{constructor(){super(),this.T0=0,this.sl=0,this.G0=0,this._0=0}cc(t){this.sl=(t=+t)-this.T0,this.G0=this._0+this.sl,this.T0=this.G0-this._0-this.sl,this._0=this.G0}I0(t){this._0-=+t}re(){return this._0}l0(){this.T0=0,this.sl=0,this.G0=0,this._0=0}Set(t){this.T0=0,this.sl=0,this.G0=0,this._0=+t}C0(t){this.T0=t.T0,this.sl=t.sl,this.G0=t.G0,this._0=t._0}cn(){}}}{const fs=self.Bs,h={};h.R0=function(t){this.E0=t,this.right=this.E0.F0,this.left=this.E0.F0,this.parent=null,this.color=!1,this.key=null},h.P0=function(t){this.size=0,this.F0=new h.R0(this),this.F0.color=!1,this.root=this.F0,this.root.parent=this.F0,this.compare=t||this.A0},h.P0.prototype.A0=function(t,s){return t<s?-1:s<t?1:0},h.P0.prototype.clone=function(){var t=new h.P0(this.compare);return t.k0(this),t},h.P0.prototype.clear=function(){this.size=0,this.F0=new h.R0(this),this.F0.color=!1,this.root=this.F0,this.root.parent=this.F0},h.P0.prototype.D0=function(t){var s=t.right;t.right=s.left,s.left!=this.F0&&(s.left.parent=t),s.parent=t.parent,t.parent==this.F0?this.root=s:t==t.parent.left?t.parent.left=s:t.parent.right=s,(s.left=t).parent=s},h.P0.prototype.O0=function(t){var s=t.left;t.left=s.right,s.right!=this.F0&&(s.right.parent=t),s.parent=t.parent,t.parent==this.F0?this.root=s:t==t.parent.right?t.parent.right=s:t.parent.left=s,(s.right=t).parent=s},h.P0.prototype.L0=function(t){if(this.contains(t))this.B0(t).key=t;else{for(var s=new h.R0(this),e=(s.key=t,this.F0),i=this.root;i!=this.F0;)e=i,i=this.compare(s.key,i.key)<0?i.left:i.right;(s.parent=e)==this.F0?this.root=s:this.compare(s.key,e.key)<0?e.left=s:e.right=s,s.left=this.F0,s.right=this.F0,s.color=!0,this.N0(s),this.size++}},h.P0.prototype.N0=function(t){for(;t!=this.F0&&t!=this.root&&1==t.parent.color;){var s;t.parent==t.parent.parent.left?1==(s=t.parent.parent.right).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.right&&(t=t.parent,this.D0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.F0&&this.O0(t.parent.parent)):1==(s=t.parent.parent.left).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.left&&(t=t.parent,this.O0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.F0&&this.D0(t.parent.parent))}this.root.color=!1},h.P0.prototype.W0=function(t){var s=t.left==this.F0||t.right==this.F0?t:this.U0(t),e=s.left!=this.F0?s.left:s.right;e.parent=s.parent,s.parent==this.F0?this.root=e:s==s.parent.left?s.parent.left=e:s.parent.right=e,s!=t&&(t.key=s.key),0==s.color&&this.j0(e),this.size--},h.P0.prototype.j0=function(t){for(;t!=this.root&&0==t.color;){var s;t=t==t.parent.left?(1==(s=t.parent.right).color&&(s.color=!1,t.parent.color=!0,this.D0(t.parent),s=t.parent.right),0==s.left.color&&0==s.right.color?(s.color=!0,t.parent):(0==s.right.color&&(s.left.color=!1,s.color=!0,this.O0(s),s=t.parent.right),s.color=t.parent.color,t.parent.color=!1,s.right.color=!1,this.D0(t.parent),this.root)):(1==(s=t.parent.left).color&&(s.color=!1,t.parent.color=!0,this.O0(t.parent),s=t.parent.left),0==s.right.color&&0==s.left.color?(s.color=!0,t.parent):(0==s.left.color&&(s.right.color=!1,s.color=!0,this.D0(s),s=t.parent.left),s.color=t.parent.color,t.parent.color=!1,s.left.color=!1,this.O0(t.parent),this.root))}t.color=!1},h.P0.prototype.remove=function(t){var s;return(t=this.B0(t))!=this.F0?(s=t.key,this.W0(t),s):null},h.P0.prototype.V0=function(t,s){this.remove(s)},h.P0.prototype.min=function(t){for(;t.left!=this.F0;)t=t.left;return t},h.P0.prototype.max=function(t){for(;t.right!=this.F0;)t=t.right;return t},h.P0.prototype.U0=function(t){if(t.right!=this.F0)return this.min(t.right);for(var s=t.parent;s!=this.F0&&t==s.right;)s=(t=s).parent;return s},h.P0.prototype.H0=function(t){if(t.left!=this.F0)return this.max(t.left);for(var s=t.parent;s!=this.F0&&t==s.left;)s=(t=s).parent;return s},h.P0.prototype.z0=function(t){if(0<this.size){var s=this.B0(t);if(s==this.F0)return null;if(s.right!=this.F0)return this.min(s.right).key;for(var e=s.parent;e!=this.F0&&s==e.right;)e=(s=e).parent;return e!=this.F0?e.key:null}return null},h.P0.prototype.J0=function(t){if(0<this.size){var s=this.B0(t);if(s==this.F0)return null;if(s.left!=this.F0)return this.max(s.left).key;for(var e=s.parent;e!=this.F0&&s==e.left;)e=(s=e).parent;return e!=this.F0?e.key:null}return null},h.P0.prototype.q0=function(){return this.min(this.root).key},h.P0.prototype.$0=function(){return this.max(this.root).key},h.P0.prototype.B0=function(t){for(var s=this.root;s!=this.F0&&0!=this.compare(s.key,t);)s=this.compare(t,s.key)<0?s.left:s.right;return s},h.P0.prototype.contains=function(t){return null!=this.B0(t).key},h.P0.prototype.getValues=function(){var s=[];return this.forEach(function(t){s.push(t)}),s},h.P0.prototype.k0=function(t){if("array"==h.typeOf(t))for(var s=0;s<t.length;s++)this.L0(t[s]);else if("function"==h.typeOf(t.forEach))t.forEach(this.L0,this);else if("function"==h.typeOf(t.getValues))for(var e=t.getValues(),s=0;s<e.length;s++)this.L0(e[s]);else if("object"==h.typeOf(t))for(var i in t)this.L0(t[i])},h.P0.prototype.X0=function(t){if("array"==h.typeOf(t))for(var s=0;s<t.length;s++)this.remove(t[s]);else if("function"==h.typeOf(t.forEach))t.forEach(this.V0,this);else if("function"==h.typeOf(t.getValues))for(var e=t.getValues(),s=0;s<e.length;s++)this.remove(e[s]);else if("object"==h.typeOf(t))for(var i in t)this.remove(t[i])},h.P0.prototype.Y0=function(t){if("array"==h.typeOf(t)){for(var s=0;s<t.length;s++)if(!this.contains(t[s]))return!1;return!0}if("function"==h.typeOf(t.forEach))return t.every(this.contains,this);if("function"==h.typeOf(t.getValues)){for(var e=t.getValues(),s=0;s<e.length;s++)if(!this.contains(e[s]))return!1;return!0}if("object"==h.typeOf(t)){for(var i in t)if(!this.contains(t[i]))return!1;return!0}},h.P0.prototype.range=function(t,s){var e=[];return this.K0(function(t){e.push(t)},t,s),e},h.P0.prototype.Z0=function(t,s){if(!this.Q0())for(var e=this.min(this.root);e!=this.F0;){if(t.call(s,e.key,this))return;e=this.U0(e)}},h.P0.prototype.td=function(t,s,e){if(!this.Q0())for(var i=this.B0(s);i!=this.F0;){if(t.call(e,i.key,this))return;i=this.U0(i)}},h.P0.prototype.sd=function(t,s,e){if(!this.Q0())for(var i=this.min(this.root),r=this.B0(s);i!=r;){if(t.call(e,i.key,this))return;i=this.U0(i)}},h.P0.prototype.K0=function(t,s,e,i){if(!this.Q0())for(var r=this.B0(s),n=this.B0(e);r!=n;){if(t.call(i,r.key,this))return;r=this.U0(r)}},h.P0.prototype.ed=function(t,s){if(!this.Q0())for(var e=this.max(this.root);e!=this.F0;){if(t.call(s,e.key,this))return;e=this.H0(e)}},h.P0.prototype.forEach=function(t,s){if(!this.Q0())for(var e=this.min(this.root);e!=this.F0;e=this.U0(e))t.call(s,e.key,e.key,this)},h.P0.prototype.some=function(t,s){if(!this.Q0())for(var e=this.min(this.root);e!=this.F0;e=this.U0(e))if(t.call(s,e.key,e.key,this))return!0;return!1},h.P0.prototype.every=function(t,s){if(this.Q0())return!1;for(var e=this.min(this.root);e!=this.F0;e=this.U0(e))if(!t.call(s,e.key,e.key,this))return!1;return!0},h.P0.prototype.map=function(t,s){var e=[];if(!this.Q0())for(var i=this.min(this.root);i!=this.F0;i=this.U0(i))e.push(t.call(s,i.key,i.key,this));return e},h.P0.prototype.filter=function(t,s){var e=[];if(!this.Q0())for(var i=this.min(this.root);i!=this.F0;i=this.U0(i))t.call(s,i.key,i.key,this)&&e.push(i.key);return e},h.P0.prototype.getCount=function(){return this.size},h.P0.prototype.Q0=function(){return 0==this.size},h.P0.prototype.isSubsetOf=function(t){var s=h.getCount(t);if(this.getCount()>s)return!1;var e=0;if(this.Q0())return!0;for(var i=this.min(this.root);i!=this.F0;i=this.U0(i))h.contains.call(t,t,i.key)&&e++;return e==this.getCount()},h.P0.prototype.intersection=function(t){var s=new h.P0(this.compare);if(!this.Q0())for(var e=this.min(this.root);e!=this.F0;e=this.U0(e))t.contains.call(t,e.key,e.key,this)&&s.L0(e.key);return s},fs.P0=class extends fs.an{constructor(t){super(),this.rd=new h.P0(t),this.nd=!1,this.hd=new Set,this.od=new Set}cc(t){this.nd?this.rd.contains(t)?this.od.delete(t):this.hd.add(t):this.rd.L0(t)}v0(t){this.nd?this.rd.contains(t)?this.od.add(t):this.hd.delete(t):this.rd.remove(t)}ie(t){return this.nd?!!this.hd.has(t)||!this.od.has(t)&&this.rd.contains(t):this.rd.contains(t)}tc(){this.rd.clear(),this.hd.clear(),this.od.clear()}toArray(){if(this.nd)throw new Error("cannot be used in queueing mode");return this.rd.getValues()}nc(){return this.rd.getCount()+this.hd.size-this.od.size}ec(){return 0===this.nc()}ad(){if(this.ec())throw new Error("empty set");if(this.nd)throw new Error("cannot be used in queueing mode");const t=this.rd,s=t.min(t.root);return s.key}ld(){if(this.ec())throw new Error("empty set");if(this.nd)throw new Error("cannot be used in queueing mode");const t=this.ad();return this.v0(t),t}ud(t){if(this.nd!==(t=!!t)&&!(this.nd=t)){for(const s of this.od)this.rd.remove(s);this.od.clear();for(const e of this.hd)this.rd.L0(e);this.hd.clear()}}fd(t){this.rd.forEach(t)}*values(){if(!this.ec()){const s=this.rd;for(let t=s.min(s.root);t!=s.F0;t=s.U0(t))yield t.key}}[Symbol.iterator](){return this.values()}}}{const ds=self.Bs;ds.dd=class{constructor(t=ds.hardwareConcurrency){this.md=t,this.gd=[],this.yd=0}cc(e){return new Promise((t,s)=>{this.gd.push({If:e,resolve:t,reject:s}),this.Sd()})}wd(e){for(let t=0,s=this.gd.length;t<s;++t)if(this.gd[t].If===e)return t;return-1}bd(t,s){const e=this.wd(t);if(-1===e)throw new Error("cannot find promise to resolve");this.gd[e].resolve(s),this.gd.splice(e,1)}vd(t,s){const e=this.wd(t);if(-1===e)throw new Error("cannot find promise to reject");this.gd[e].reject(s),this.gd.splice(e,1)}async Sd(){if(this.gd.length&&!(this.yd>=this.md)){this.yd++;const s=this.gd.shift();try{const t=await s.If();s.resolve(t)}catch(t){s.reject(t)}this.yd--,this.Sd()}}static async xd(t,s){let e=[],i=!1,r=[];for(;t--;)r.push((async()=>{let t;for(;t=s.pop();){if(i)return;try{e.push(await t())}catch(t){throw i=!0,t}}})());return await Promise.all(r),e}}}{const ps=self.Bs;ps.Md=class{constructor(t,s,e){this.n0=t,this.Td=s,this.Gd=e||2*s,this._d=-1,this.Id=-1/0,this.Cd=()=>this.Rd(),this.Ed=!1,this.Fd=!1,this.Pd=null}Ad(t){this.Fd=!!t}kd(){return void 0!==ps.Battery&&ps.Battery.IsOnBatteryPower()?this.Gd:this.Td}Dd(...i){if(-1===this._d){this.Pd=i;let t=ps.i0(),s=t-this.Id,e=this.kd();e<=s&&this.Fd?(this.Id=t,this.Od()):this._d=self.setTimeout(this.Cd,Math.max(e-s,4))}}Od(){this.Ed=!0;const t=this.Pd;this.Pd=null,t?this.n0(...t):this.n0(),this.Ed=!1}l0(){this.Ed||(this.Ld(),this.Pd=null,this.Id=ps.i0())}Rd(){this._d=-1,this.Id=ps.i0(),this.Od()}Ld(){-1!==this._d&&(self.clearTimeout(this._d),this._d=-1)}cn(){this.Ld(),this.n0=null,this.Pd=null,this.Cd=null}}}{const ms=self.Bs;ms.Bd=class{constructor(){this.Nd=new Map,this.Wd=!1,this.Ud=null,this.jd=null,this.Vd=null,this.Hd=null}zd(t){this.Wd=!!t}Jd(){return this.Wd}qd(t){this.Ud=t}$d(t){if(this.Ud)return this.Ud(t);throw new Error("no get base size callback set")}Xd(t){this.jd=t}Yd(t,s,e,i,r,n){if(this.jd)return this.jd(t,s,e,i,r,n);throw new Error("no raster at size callback set")}Kd(t){this.Vd=t}Zd(t){if(!this.Vd)throw new Error("no release result callback set");this.Vd(t)}Qd(t){this.Hd=t}t1(){if(!this.Hd)throw new Error("no redraw callback set");this.Hd()}s1(t){let s=this.Nd.get(t);return s||(s=ms.un(ms.e1,this,t),this.Nd.set(t,s)),s.i1(),s}n1(t){this.Nd.delete(t.h1())}o1(){for(const t of this.Nd.values())t.a1(),t.l1()}}}{const gs=self.Bs;gs.e1=class{constructor(t,s){this.u1=t,this.c1=s,this.f1=0,this.d1=0,this.m1=0,this.g1=this.u1.$d(s).then(t=>{this.u1&&(this.d1=t[0],this.m1=t[1],this.u1.t1())}).catch(t=>{console.error("[SVG] Error loading SVG: ",t),this.S1=!0,this.u1&&this.u1.t1()}),this.w1=0,this.b1=0,this.v1=0,this.M1=0,this.T1=!1,this.G1=null,this._1=!1,this.S1=!1}cn(){if(this.f1<=0)throw new Error("already released");this.f1--,0===this.f1&&this.I1()}a1(){this.G1&&(this.u1.Zd(this.G1),this.G1=null)}I1(){this.a1(),this.u1.n1(this),this.u1=null}h1(){return this.c1}i1(){this.f1++}C1(){return 0<this.f1}R1(){return this.G1}l1(){this._1=!0}async E1(i,r,n){if(0!==r&&0!==n&&!this.S1&&!this.T1){let t=gs.Ln(Math.ceil(r)),s=gs.Ln(Math.ceil(n)),e=Math.max(t,s);if(4096<e){const h=4096/e;r*=h,n*=h,t=Math.min(Math.ceil(t*h),4096),s=Math.min(Math.ceil(s*h),4096)}if(r<t&&n<s){const o=r/n,a=t/s;n=o<a?(r=s*o,s):(r=t)/o}if(this.u1.Jd()&&(t=Math.ceil(r),s=Math.ceil(n)),!(t<=this.w1&&s<=this.b1)||this._1){this.T1=!0,this.w1=t,this.b1=s;const l=await this.u1.Yd(this.c1,i,this.w1,this.b1,r,n);this.u1&&(this.a1(),this.G1=l,this.v1=r,this.M1=n,this.T1=!1,this._1=!1,this.u1.t1())}}}F1(){return this.g1}P1(){return this.d1}A1(){return this.m1}D1(){return this.v1}O1(){return this.M1}L1(){return this.S1}}}{let s=function(t){return bs.get(t)};s;const c=self.Bs,ys=(c.B1="\ufeff",new Set("0123456789")),Ss=(c.N1=function(t){return ys.has(t)},new Set(" \t\n\r\u2028\u2029"));c.W1=function(t){return Ss.has(t)},c.U1=function(t){return[...t].filter(t=>!c.W1(t)).join("")},c.j1=function(t){for(const s of t)if(!c.W1(s))return!1;return!0},c.V1=function(t){for(const s of t)if(!c.W1(s))return!1;return!0},c.H1=function(t){return 1===t.length&&t.charCodeAt(0)<32},c.z1=function(t){return[...t].filter(t=>!c.H1(t)).join("")};let e=null;try{e=new RegExp("\\p{P}(?<=[\\u3000-\\u303F\\uFF00-\\uFFEF])","u")}catch(t){console.warn("Unable to detect CJK punctuation: ",t)}c.J1=function(t){return!c.W1(t)&&e&&e.test(t)};const ws=new Set("0123456789.+-e"),bs=(c.q1=function(s){if(!(s=s.trim()).length)return!1;let t=s.charAt(0);if("-"!==t&&!ys.has(t))return!1;for(let t of s)if(!ws.has(t))return!1;return!0},c.X1=function(s){let e=s.length;for(;0<e;){let t=s.charAt(e-1);if(!c.N1(t))break;--e}return s.substr(0,e)},c.Y1=function(t){let s=c.X1(t),e=t.substr(s.length);return s+(e?(parseInt(e,10)+1).toString():"2")},new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]])),vs=/[&<>"']/g,xs=(c.K1=function(t){return t.replace(vs,s)},c.Z1=function(t){let s=c.Q1(t,"\\","\\\\");return s=c.Q1(s,'"','\\"'),s=c.Q1(s,"\t","\\t"),s=c.Q1(s,"\r",""),c.Q1(s,"\n","\\n")},c.tp=function(t){let s=c.Q1(t,"&","&amp;");return s=c.Q1(s,"<","&lt;"),s=c.Q1(s,">","&gt;"),c.Q1(s,'"',"&quot;")},/[-[\]{}()*+?.,\\^$|#\s]/g),Ms=(c.ai=function(t){return t.replace(xs,"\\$&")},c.sp=function(t,s){let e=0;for(const i of t)i===s&&++e;return e},c.ep=function(t,s,e=!1){if(!s)return[];e||(t=t.toLowerCase(),s=s.toLowerCase());let i=s.length,r=0,n,h=[];for(;-1<(n=t.indexOf(s,r));)h.push(n),r=n+i;return h},c.Q1=function(t,s,e){return t.replaceAll(s,()=>e)},c.rp=function(t,s,e){return t.replace(new RegExp(c.ai(s),"gi"),()=>e)},c.np=function(t,s){"string"==typeof s?t.textContent=s:s.hp()?t.textContent=s.toString():(t.innerHTML=s.op(),s instanceof c.kr&&s.lp(t))},c.up=function(t,s){return t instanceof c.HtmlString||t instanceof c.kr?t.equals(s):s instanceof c.HtmlString||s instanceof c.kr?s.equals(t):t===s},c.cp=function(e,...i){let r=e;for(let t=0,s=i.length;t<s;++t){const n=`{${t}}`;if(!e.includes(n))throw new Error(`missing placeholder '${n}' in string substitution`);r=r.replace(n,i[t].toString())}return r},c.fp=function(e,...i){let r=e,n=-1,h=-1;for(let t=0,s=i.length;t<s;++t){const o=`{${t}}`;e.includes(o)?(h=t,r=r.replace(o,i[t].toString())):-1===n&&(n=t)}if(0<=n&&0<=h&&n<h)throw new Error(`missing placeholder '${n}' in string substitution`);return r},c.pp=function(t,e){let i=t;for(let[t,s]of Object.entries(e))i=i.replaceAll(t,s.toString());return i},c.mp=function(t,s){return s<t?1:t<s?-1:0},c.gp=function(t,s){let e=t.toLowerCase(),i=s.toLowerCase();return i<e?1:e<i?-1:0},new self.Intl.Segmenter),Ts=(c.yp=function(t){const s=[];for(const e of Ms.segment(t))s.push(e.segment);return s},c.Sp=function*(t){for(const s of Ms.segment(t))yield s.segment},c.bp=function(t){let s=0;for(const e of Ms.segment(t))++s;return s},1073741824),Gs=1024*Ts,_s={vp:!(c.xp=function(s,t){let e="common."+(t?"dataRates":"dataSizes")+".",i=self.langSub;if(s<1024)return i(e+"bytes",s);if(s<1048576){let t=s/1024;return t=t<10?Math.round(10*t)/10:Math.round(t),i(e+"kilobytes",t)}if(s<Ts){let t=s/1048576;return t=t<10?Math.round(10*t)/10:Math.round(t),i(e+"megabytes",t)}if(s<Gs){let t=s/Ts;return t=t<10?Math.round(10*t)/10:Math.round(t),i(e+"gigabytes",t)}{let t=s/Gs;return t=t<10?Math.round(10*t)/10:Math.round(t),i(e+"terabytes",t)}}),Mp:!0,Tp:!0,Gp:!0,_p:!0};c.Ip=function(t,s){s=Object.assign({},_s,s),c.Lang.PushContext("common.time");const e=[],i=self.lang,r=self.langPluralSub;if(s.Mp){const h=Math.floor(t/86400);0<h&&(t-=24*h*3600,e.push(r(".days",null,h)))}if(s.Tp){const o=Math.floor(t/3600);(0<o||e.length)&&(t-=3600*o,e.push(r(".hours",null,o)))}if(s.Gp){const a=Math.floor(t/60);(0<a||e.length||!s._p)&&(t-=60*a,e.push(r(".minutes",null,a)))}if(s._p){const l=Math.floor(t%60);e.push(r(".seconds",null,l))}const n=(s.vp?i(".approx-prefix"):"")+e.join(i(".separator"));return c.Lang.PopContext(),n},c.Cp=function(t,s){let e=t<0?"-":"",i=(t=Math.abs(t)).toString(),r=s-i.length;for(let t=0;t<r;++t)e+="0";return e+i},c.Rp=function(t){return t.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())},c.Ep=function(t,s){let e=t.split(".").map(t=>t.trim()),i=s.split(".").map(t=>t.trim());c.Wh(e,4,"0"),c.Wh(i,4,"0"),e=e.map(t=>parseInt(t,10)),i=i.map(t=>parseInt(t,10));for(let t=0;t<4;++t){const r=e[t]-i[t];if(0!=r)return r<0?-1:1}return 0},c.Fp=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=Math.floor(16*Math.random()),e="x"===t?s:3&s|8;return e.toString(16)})},c.Pp=function(e,i){if(e.length!==i.length)throw new Error("strings must be same length");let r=0;for(let t=0,s=e.length;t<s;++t)e.charAt(t)!==i.charAt(t)&&++r;return r},c.Ap=function(t,s){if(0===t.length)return s.length;if(0===s.length)return t.length;let e,i,r,n,h,o;for(s.length<t.length&&(e=t,t=s,s=e),o=Array(t.length+1),i=0;i<=t.length;i++)o[i]=i;for(i=1;i<=s.length;i++){for(n=i,r=1;r<=t.length;r++)h=s[i-1]===t[r-1]?o[r-1]:Math.min(o[r-1]+1,Math.min(n+1,o[r]+1)),o[r-1]=n,n=h;o[t.length]=n}return o[t.length]}}{let s=function(t,e,i){const r=o.get(i);if(!r)return"class"===i?e?"</span>":`<span class="bbclass${u++}">`:t;if("string"==typeof r){if("a"===r&&0===a.length||"abbr"===r&&0===l.length)return t;if("a"!==r||e){if("abbr"!==r||e)return"<"+e+r+">";{const n=parseInt(i.substring(3),10)-1;if(n<0||n>=l.length)throw new Error("invalid bbcode tip substitution");let t=l[n],s="";if("string"==typeof t?s=t:"function"==typeof t&&(s=t()),"string"!=typeof s)throw new TypeError("invalid bbcode tip");return`<abbr title="${f.Q1(s,'"',"&quot;")}">`}}{const s=parseInt(i.substring(1),10)-1;if(s<0||s>=a.length)throw new Error("invalid bbcode link substitution");const h=a[s];if("string"==typeof h)return`<a href="${a[s]}">`;if("function"==typeof h)return`<a class="bblink${s}">`;throw new TypeError("invalid bbcode link action")}}if(Array.isArray(r)){let t=r[0],s=r[1];return e?"</"+t+">":`<${t} class="${s}">`}},f=(s,self.Bs),o=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),d=new Set(["icon"]),e=/\[(\/?)([a-zA-Z0-9]+)\]/g,p=/\[(\/?)([^\[\n]*?)\]/g,a=null,l=null,u=0,i=/\n/g;f.kr=class{constructor(t,s){if(this.kp=s&&s.Dp?t:f.K1(t),this.Op="",this.Lp=!1,this.Bp=[],this.Np=[],s){if(this.Lp=!!s.convertLineBreaks,s.links){if(9<s.links.length)throw new Error("too many links");this.Bp=s.links}if(s.tips){if(9<s.tips.length)throw new Error("too many tips");this.Np=s.tips}}this.Wp=this.kp.includes("["),this.Up=this.Lp&&this.kp.includes("\n"),this.jp=!this.Wp&&!this.Up&&!this.kp.includes("&"),this.Vp=!1,this.Hp=[]}toString(){return this.kp}valueOf(){return this.kp}hp(){return this.jp}zp(){return this.Wp?this.kp.replace(e,""):this.kp}op(){if(this.jp)return this.kp;if(!this.Op&&this.kp){let t=this.kp;this.Wp&&(u=0,a=this.Bp,l=this.Np,t=t.replace(e,s),a=null,l=null),this.Up&&(t=t.replace(i,"<br>")),this.Op=t}return this.Op}lp(e){if(this.Bp.length)for(let t=0,s=this.Bp.length;t<s;++t){const i=this.Bp[t];if("function"==typeof i){const r=e.querySelector(".bblink"+t);if(!r)throw new Error("unable to attach BBString link handler");r.onclick=i}}}equals(t){return t instanceof f.HtmlString?this.op()===t.op():t instanceof f.kr?this.kp===t.kp:this.kp===t}Jp(){if(!this.Vp){let i=[],t=this.kp,r=[],s=p.lastIndex=0,e;for(;null!==(e=p.exec(t));){const n=e.index;if(!(0<n&&"\\"===t.charAt(n-1))){const h=e[0],o=e[1],a=e[2],l=t.substring(s,n);if(s=n+h.length,l&&i.push({text:l,qp:r.slice(0)}),a)if(o){const u=a.toLowerCase();for(let t=r.length-1;0<=t;--t)if(r[t].tag===u){r.splice(t,1);break}}else{let t=a,s=null,e=a.indexOf("=");if(-1!==e?(t=a.substring(0,e).toLowerCase(),s=a.substring(e+1)):t=t.toLowerCase(),d.has(t)){if("icon"!==t)throw new Error("unknown self-closing tag "+t);i.push({icon:s,qp:r.slice(0)})}else r.push({tag:t,param:s})}}}s<t.length&&i.push({text:t.substring(s),qp:r.slice(0)});for(const c of i)c.text&&(c.text=this.$p(c.text));this.Hp=i.map(t=>t.icon?f.un(f.Xp,{icon:t.icon,qp:t.qp}):f.un(f.Yp,{Kp:f.yp(t.text),qp:t.qp})),this.Vp=!0}return this.Hp}$p(t){return t=f.Q1(t,"\\[","["),f.Q1(t,"\\\\","\\")}static Zp(t){return f.un(f.kr,t,{Dp:!0}).zp()}static Qp(t){return t.replace(p,"")}}}{let l=function(t){return""!==t&&""!==t&&S.W1(t)},a=function(t){return Is.has(t)},u=function(t){return S.J1(t)&&!a(t)},c=function(t){for(;0<t.length&&l(t.at(-1));)t.pop()},y=function(t){return"\n"===t||"\r\n"===t};l,a,u,c,y;const S=self.Bs,Is=new Set("");S.tm=class{constructor(){this.im=[],this.rm=null}nm(){return this.im}hm(){return this.im.length}om(t){this.rm=t}am(t,s){let e=0,i=0,r=0,n=0,h=0;for(const o of t){if(-1===o.lm()){const a=s(o);o.um(a.height),o.fm(a.fontBoundingBoxAscent||0),o.pm(a.fontBoundingBoxDescent||0),o.gm(a.ym||0),o.Sm()?o.wm(a.width):o.vm()&&o.xm(this.rm)}e+=o.lm(),i=Math.max(i,o.Mm()),r=Math.max(r,o.Tm()),n=Math.max(n,o.Gm()),h=Math.max(h,o._m())}return{width:e,height:i,fontBoundingBoxAscent:r,fontBoundingBoxDescent:n,ym:h}}Im(t,s,e,i,r,n){this.im.push(S.un(S.tm.Cm,{Rm:t,width:s,height:e,fontBoundingBoxAscent:i,fontBoundingBoxDescent:r,ym:n}))}tm(s,n,h,e,o){if("string"==typeof s&&(s=[S.un(S.Yp,{Kp:S.yp(s)})]),S.Lh(this.im),!(!s.length||1===s.length&&s[0].Sm()&&s[0].ec()||h<2)){if(1===s.length){const a=s[0];if(a.Sm()&&a.Em()<=100&&!a.Fm()){let{width:t,height:s,fontBoundingBoxAscent:e,fontBoundingBoxDescent:i,ym:r}=n(a);if(t+=o,a.wm(t),a.um(s),a.fm(e||0),a.pm(i||0),a.gm(r||0),t<=h)return void this.Im([a],t,s,e,i,r)}}let t;t="word"===e?this.Pm(s):"cjk"===e?this.Am(s):this.km(s),this.Dm(t,n,h,o)}}Pm(t){let s=[],e=[],i=!1;for(const r of t){const n=r.Om();if(r.vm())0<e.length&&s.push(e),s.push([r]),e=[];else for(const h of r.Lm())if(y(h))0<e.length&&s.push(e),s.push([S.un(S.Yp,{Kp:["\n"],qp:n})]),e=[];else if(0===e.length)e.push(S.un(S.Yp,{Kp:[h],qp:n})),i=l(h);else{const o=l(h);if(o===i){const a=e.at(-1);a.Om()===n?a.Bm(h):e.push(S.un(S.Yp,{Kp:[h],qp:n}))}else s.push(e),e=[S.un(S.Yp,{Kp:[h],qp:n})],i=o}}return 0<e.length&&s.push(e),s}Am(t){let s=[],e=[],i=!1;for(const r of t){const n=r.Om();if(r.vm())0<e.length&&s.push(e),s.push([r]),e=[];else for(const h of r.Lm())if(y(h))0<e.length&&s.push(e),s.push([S.un(S.Yp,{Kp:["\n"],qp:n})]),e=[];else{if(0===e.length)e.push(S.un(S.Yp,{Kp:[h],qp:n}));else if(i||u(h)){const o=e.at(-1);o.Om()===n?o.Bm(h):e.push(S.un(S.Yp,{Kp:[h],qp:n}))}else s.push(e),e=[S.un(S.Yp,{Kp:[h],qp:n})];i=a(h)}}return 0<e.length&&s.push(e),s}km(t){const s=[];for(const e of t)if(e.Sm()){const i=e.Lm();S.Yr(s,i.map(t=>[S.un(S.Yp,{Kp:[t],qp:e.Om()})]))}else s.push([e]);return s}Nm(t){return t.map(t=>t.Wm())}Um(s,e){let t=s.length?s.at(-1):null,i=0;t&&t.Sm()&&e[0].Sm()&&e[0].Om()===t.Om()&&(t.jm(e[0].Lm()),i=1);for(let t=e.length;i<t;++i){const r=e[i];s.push(r.Wm())}}Dm(t,s,e,i){let r=[],n=0,h=0,o=0,a=0,l=0;for(const u of t)if(1===u.length&&u[0].Sm()&&1===u[0].Em()&&y(u[0].Lm()[0])){if(0===h){const c=S.un(S.Yp,{Kp:[" "],qp:u[0].Om()}),f=s(c);h=f.height,o=f.fontBoundingBoxAscent||0,a=f.fontBoundingBoxDescent||0,l=f.ym||0}this.Im(r,n,h,o,a,l),r=[],n=0,h=0,o=0,a=0,l=0}else{const d=this.Nm(r),p=(this.Um(d,u),this.am(d,s)),m=p.width;if(e<=m)if(0<r.length&&this.Im(r,n,h,o,a,l),r=[],u[0].Sm()&&S.V1(u[0].Lm()))n=0,h=0,o=0,a=0,l=0;else{this.Um(r,u);const g=this.am(r,s);n=g.width,h=g.height,o=g.fontBoundingBoxAscent,a=g.fontBoundingBoxDescent,l=g.ym}else r=d,n=m,h=p.height,o=p.fontBoundingBoxAscent,a=p.fontBoundingBoxDescent,l=p.ym}0<r.length&&this.Im(r,n,h,o,a,l),this.Vm(s,i)}Vm(s,e){for(const i of this.im){const r=i.Hm();if(r.length){let t=r.at(-1);if(t.Sm()){const n=t.Lm(),h=n.slice(0);if(c(h),0===h.length)i.zm(-t.lm()),r.pop();else if(h.length<n.length){t.Jm(h);const o=s(t).width,a=t.lm()-o;t.wm(o),i.zm(-a)}0!==e&&0<r.length&&((t=r.at(-1)).zm(e),i.zm(e))}}}}tc(){S.Lh(this.im)}qm(){return this.im.reduce((t,s)=>Math.max(t,s.lm()),0)}$m(){return this.im.reduce((t,s)=>t+s.Mm(),0)}}}{const Cs=self.Bs;Cs.tm.Cm=class{constructor(t){this.Hp=t.Rm||[],this.Xm=t.width||-1,this.Ym=t.height||-1,this.Km=t.fontBoundingBoxAscent||-1,this.Zm=t.fontBoundingBoxDescent||-1,this.Qm=t.ym||-1,this.tg=0,this.sg=0}Rm(){return this.Hp.values()}*eg(){const s=this.Hp;for(let t=s.length-1;0<=t;--t)yield s[t]}Hm(){return this.Hp}zm(t){this.Xm+=t}lm(){return this.Xm}Mm(){return this.Ym}ig(){return this.Km}Gm(){return this.Zm}_m(){return this.Qm}rg(t){this.tg=t}ng(){return this.tg}hg(t){this.sg=t}og(){return this.sg}}}{const Rs=self.Bs;Rs.ag=class{constructor(t){this.lg=t.qp||[],this.Xm=t.width||-1,this.Ym=t.height||-1,this.Km=t.fontBoundingBoxAscent||-1,this.Zm=t.fontBoundingBoxDescent||-1,this.Qm=t.ym||-1,this.tg=0,this.sg=0}Sm(){return!1}vm(){return!1}Om(){return this.lg}ug(s){const e=this.lg;for(let t=e.length-1;0<=t;--t){const i=e[t];if(i.tag===s)return i}return null}fg(t){return!!this.ug(t)}dg(){const t=new Map;for(const s of this.lg)t.set(s.tag,s.param);return t}zm(t){this.Xm+=t}wm(t){this.Xm=t}lm(){return this.Xm}um(t){this.Ym=t}Mm(){return this.Ym}fm(t){this.Km=t}Tm(){return this.Km}pm(t){this.Zm=t}Gm(){return this.Zm}gm(t){this.Qm=t}_m(){return this.Qm}rg(t){this.tg=t}ng(){return this.tg}hg(t){this.sg=t}og(){return this.sg}}}{const Es=self.Bs;Es.Yp=class extends Es.ag{constructor(t){super(t),this.pg=t.Kp}Sm(){return!0}jm(t){Es.Yr(this.pg,t),this.Xm=-1,this.Ym=-1,this.Km=-1,this.Zm=-1,this.Qm=-1}Bm(t){this.pg.push(t)}Wm(){return Es.un(Es.Yp,{Kp:this.pg.slice(0),qp:this.lg,width:this.Xm,height:this.Ym,fontBoundingBoxAscent:this.Km,fontBoundingBoxDescent:this.Zm,ym:this.Qm})}Lm(){return this.pg}Jm(t){this.pg=t}Em(){return this.pg.length}ec(){return 0===this.pg.length}Fm(){return this.pg.includes("\n")}}}{const Fs=self.Bs;Fs.Xp=class extends Fs.ag{constructor(t){super(t),this.mg=t.icon}vm(){return!0}gg(){return this.mg}Wm(){return Fs.un(Fs.Xp,{icon:this.mg,qp:this.lg,width:this.Xm,height:this.Ym,fontBoundingBoxAscent:this.Km,fontBoundingBoxDescent:this.Zm,ym:this.Qm})}yg(t){if(!t)return null;let s=Number(this.mg);return String(s)===this.mg?(s=Math.floor(s),t.Sg(s)):t.wg(this.mg)}xm(t){const s=this.yg(t);this.Xm=s?this.Ym*s.lm()/s.Mm():0}bg(t){const s=this.yg(t);return s?s.bg():null}Em(){return 1}}}{const Ps=self.Bs;Ps.vg=class{constructor(t){this.xg=new Map,this.Mg=t.Tg,this.Gg=t._g}cn(){for(const t of this.xg.values())t.cn();this.xg.clear()}Ig(t){let s=this.xg.get(t);if(!s){const e=this.Mg(t);s=Ps.un(Ps.Cg,this,{source:t,Rg:e}),this.xg.set(t,s)}return s}Eg(t){return this.xg.has(t)}Fg(t){const s=this.xg.get(t);s&&s.cn(),this.xg.delete(t)}async Pg(t){return this.Gg(t)}}}{const As=self.Bs;As.Cg=class{constructor(t,s){this.Ag=t,this.kg=s.source,this.Dg=[],this.Og=new Map,this.Lg=!1,this.Bg=!1,this.Ng=null;const e=s.Rg.Wg;for(let t=0,s=e.length;t<s;++t){const i=e[t],r=As.un(As.Ug,this,{index:t,tag:i.tag,source:i.source,width:i.width,height:i.height});this.Dg.push(r),i.tag&&this.Og.set(i.tag.toLowerCase(),r)}}cn(){for(const t of this.Dg)t.cn();As.Lh(this.Dg),this.Og.clear(),this.Ag=null,this.kg=null}jg(){return this.Lg}Vg(){return this.Bg}Hg(){return this.Ng||(this.Ng=this.zg()),this.Ng}async zg(){if(!this.Lg){this.Lg=!0,this.Bg=!0;const t=await this.Ag.Pg(this.kg);if(this.Ag){const e=t.Wg;for(let t=0,s=Math.min(e.length,this.Dg.length);t<s;++t){const i=e[t].Jg;this.Dg[t].qg(i)}this.Bg=!1}}}Sg(t){return(t=Math.floor(t))<0||t>=this.Dg.length?null:this.Dg[t]}wg(t){return this.Og.get(t.toLowerCase())||null}}}{const ks=self.Bs;ks.Ug=class{constructor(t,s){this.$g=t,this.kg=s.source||null,this.Xg=s.index,this.Yg=s.tag,this.Xm=s.width,this.Ym=s.height,this.Kg=null}cn(){this.Xm=0,this.Ym=0,this.$g=null}Zg(){return this.kg}lm(){return this.Xm}Mm(){return this.Ym}qg(t){this.Kg=t}bg(){return this.Kg}}}{let i=function(t,s,e,i){const r=Ns;Tr.W(Ls,e,s),Tr.W(Bs,t,s),Tr.Dt(r,Ls,Bs),Tr.normalize(r,r),i.set(r[0],r[1],r[2],Tr.kt(t,r))},h=function(t,s,e,i,r,n,h){const o=h.x,a=h.y,l=h.z,u=h.w,c=h.Qg,f=h.ty,d=h.ey,p=1-c,m=1-f,g=1-d,y=o*t*c+o*i*p+a*s*f+a*r*m+l*e*d+l*n*g;if(u<=y)return!0;const S=o*i*c+o*t*p+a*r*f+a*s*m+l*n*d+l*e*g;return u<S},r=function(t,s,e,i){const r=i.x,n=i.y,h=i.z,o=i.w,a=r*t+n*s+h*e;return o<=a};i,h,r;const Ds=self.Bs,Os=self.vs,Tr=Os.Rs,jr=Os.Es,Mr=Os.Gs,Ls=Tr.create(),Bs=Tr.create(),Ns=Tr.create(),Ws=jr.create(),Us=Mr.create(),js=Tr.create(),Vs=Tr.create(),Hs=Tr.create(),zs=Tr.create(),Js=Tr.create(),qs=Tr.create(),$s=Tr.create(),Xs=Tr.create(),Ys=jr.C(0,0,1,1);Ds.iy={ny(t,s,e,i,r,n,h){let o=i[0]*t+i[4]*s+i[8]*e+i[12],a=i[1]*t+i[5]*s+i[9]*e+i[13],l=i[2]*t+i[6]*s+i[10]*e+i[14],u=i[3]*t+i[7]*s+i[11]*e+i[15],c=r[0]*o+r[4]*a+r[8]*l+r[12]*u,f=r[1]*o+r[5]*a+r[9]*l+r[13]*u,d=r[2]*o+r[6]*a+r[10]*l+r[14]*u,p=r[3]*o+r[7]*a+r[11]*l+r[15]*u;return 0!=p&&(f*=p=1/p,d*=p,h[0]=(.5*(c*=p)+.5)*n[2]+n[0],h[1]=(.5*f+.5)*n[3]+n[1],h[2]=.5*(1+d),!0)},hy(t,s,e,i,r,n,h){const o=Us,a=Ws;return Mr.multiply(o,r,i),null!==Mr.F(o,o)&&(a[0]=(t-n[0])/n[2]*2-1,a[1]=(s-n[1])/n[3]*2-1,a[2]=2*e-1,a[3]=1,jr.Wt(a,a,o),0!==a[3])&&(a[3]=1/a[3],h[0]=a[0]*a[3],h[1]=a[1]*a[3],h[2]=a[2]*a[3],!0)},oy(t,s,e,i,r,n,h){const o=Ls,a=Bs;if(!Ds.iy.hy(t,s,0,i,r,n,o))return!1;if(!Ds.iy.hy(t,s,1,i,r,n,a))return!1;let l=Bs,u=(Tr.W(l,a,o),Ns),c=(Tr.set(u,0,0,1),-e),f=Tr.kt(u,l),d=0;if(0===f){const p=Tr.kt(u,o)+c;if(0!==p)return!1}else if((d=-(Tr.kt(o,u)+c)/f)<0)return!1;return Tr.Rt(h,o,l,d),!0}};class Ks{constructor(){this.x=NaN,this.y=NaN,this.z=NaN,this.w=NaN,this.Qg=NaN,this.ty=NaN,this.ey=NaN}set(t,s,e,i){this.x=t,this.y=s,this.z=e,this.w=i,this.Qg=0<t?1:0,this.ty=0<s?1:0,this.ey=0<e?1:0}}Ds.iy.uy=class{constructor(){this.my=new Ks,this.gy=new Ks,this.yy=new Ks,this.Sy=new Ks,this.wy=new Ks,this.by=new Ks}vy(t,s){const e=Ys;Ds.iy.hy(0,1,0,t,s,e,js),Ds.iy.hy(1,1,0,t,s,e,Vs),Ds.iy.hy(0,0,0,t,s,e,Hs),Ds.iy.hy(1,0,0,t,s,e,zs),Ds.iy.hy(0,1,1,t,s,e,Js),Ds.iy.hy(1,1,1,t,s,e,qs),Ds.iy.hy(0,0,1,t,s,e,$s),Ds.iy.hy(1,0,1,t,s,e,Xs),i(Hs,js,Js,this.my),i(js,Vs,qs,this.gy),i(Vs,zs,Xs,this.yy),i(zs,Hs,$s,this.Sy),i($s,Js,qs,this.by),i(zs,Vs,js,this.wy)}xy(t,s,e,i,r,n){return h(t,s,e,i,r,n,this.my)&&h(t,s,e,i,r,n,this.gy)&&h(t,s,e,i,r,n,this.yy)&&h(t,s,e,i,r,n,this.Sy)&&h(t,s,e,i,r,n,this.wy)&&h(t,s,e,i,r,n,this.by)}My(t,s,e){return!r(t,s,e,this.wy)}}}{const Zs=self.Bs,Qs=self.vs,Tr=Qs.Rs,jr=Qs.Es,Mr=Qs.Gs,te=Mr.create(),se=Tr.C(0,0,0),ee=Tr.C(0,0,0),ie=Tr.C(0,0,0),re=Tr.C(0,1,0),ne=(jr.C(0,0,0,0),new Zs.Ql),he=new Zs.Rect,oe=new Zs.Ql(0,0,1,0,1,1,0,1),ae={Ty:1,Gy:1e4},le=Mr.C(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);Zs.iy._y=class{constructor(t){t=Object.assign({},ae,t),this.Xm=0,this.Ym=0,this.Iy=Zs.wn(45),this.Cy=Math.tan(this.Iy/2),this.Ry=Mr.create(),this.Ey=Mr.create(),this.Fy=!1,this.Py=t.Ty,this.Ay=t.Gy,this.ky=[],this.Dy=new Map,this.Oy=null,this.Ly=null,this.By=null,this.Ny=null,this.Wy=null,this.Uy=null,this.jy=null,this.Vy=null,this.Hy=null,this.zy=null,this.Jy=null,this.qy=null,this.$y=new Map,this.Xy=null,this.Yy=[],this.Ky=new Map,this.Zy=0,this.Qy=0,this.tS=1,this.sS=[this.tS],this.eS=1,this.iS=[this.eS],this.rS=.5,this.nS=[this.rS],this.hS=0,this.oS=!0,this.aS=!1}lS(t){let s=0,e=t.length,i=0;for(;s<e;)t[s++]=i,t[s++]=i+1,t[s++]=i+2,t[s++]=i,t[s++]=i+2,t[s++]=i+3,i+=4}uS(){this.Zy=0,this.Qy=0,this.Oy=null,this.Ly=null,this.By=null,this.Ny=null,this.Wy=null,this.Uy=null,this.jy=null,this.Vy=null,this.Hy=null,this.zy=null,this.Jy=null,this.qy=null,this.cS()}fS(){this.uS(),this.Xy=null}dS(){for(const t of this.ky)t.cn();this.uS()}lm(){return this.Xm}Mm(){return this.Ym}pS(t){return this.mS()?100:t/(2*this.gS())}yS(t){if(this.mS()){const s=t/(2*this.gS());return s/this.pS(t)}return 1}SS(t){this.Py=t}wS(){return this.Py}bS(t){this.Ay=t}vS(){return this.Ay}xS(t){this.Iy=t,this.Cy=Math.tan(this.Iy/2)}MS(){return this.Iy}gS(){return this.Cy}TS(){this.Fy=!1}GS(){this.Fy=!0}mS(){return!this.Fy}_S(){return this.Fy}IS(t,s,e=.5,i=.5){const r=this.wS(),n=this.vS(),h=this.MS();if(.5===e&&.5===i)this.CS()?Mr.xt(t,h,s,r,n):Mr.perspective(t,h,s,r,n);else{const o=2*(e=1-e)-2,a=2*e,l=2*i-2,u=2*i,c=this.gS()*r,f=c*s;Mr.bt(t,o*f,a*f,l*c,u*c,r,n),this.CS()&&Mr.mul(t,le,t)}}RS(t,s,e,i=1){const r=self.devicePixelRatio,n=2*this.pS(e)*r*this.gS()/e,h=s*n/(2*r*i),o=e*n/(2*r*i),a=-h,l=h,u=-o,c=o;this.CS()?Mr.Gt(t,a,l,u,c,this.wS(),this.vS()):Mr.ortho(t,a,l,u,c,this.wS(),this.vS())}ES(t,s,e,i,r,n=1){let h=1;this.mS()&&(h=200*this.gS()/r);const o=ie,a=(Tr.set(o,h,-h,1),se),l=ee;Tr.multiply(a,s,o),Tr.multiply(l,e,o),Mr._t(t,a,l,i||re),o[2]=n,Mr.scale(t,t,o)}FS(t,s,e,i,r,n,h,o){return Tr.set(se,t,s,e),Tr.set(ee,i,r,n),this.ES(te,se,ee,re,h,o),te}PS(t){this.ky.push(t),this.Dy.set(t.Zc(),t)}AS(t){const s=this.ky.indexOf(t);-1!==s&&this.ky.splice(s,1),this.Dy.delete(t.Zc())}cS(){Zs.Lh(this.ky),this.Dy.clear()}kS(t){return this.Dy.get(t)||null}DS(){return this.Oy}OS(){this.LS(this.Oy)}BS(){return this.Ly}NS(){this.LS(this.Ly)}WS(){this.LS(this.By)}US(){this.LS(this.Ny)}jS(){this.LS(this.Wy)}VS(){this.LS(this.Uy)}HS(){this.LS(this.jy)}zS(){this.LS(this.Vy)}JS(){this.LS(this.Hy)}qS(){this.LS(this.zy)}$S(){this.LS(this.Jy)}XS(){this.LS(this.qy)}YS(t){this.Xy=t}KS(){return this.Xy}ZS(t,s,e,i){let r=Zs.iy.ew.QS(t,s,e,i),n=this.$y.get(r);return n||(n=Zs.un(Zs.iy.ew,this,t,s,e,i),this.$y.set(r,n)),n.iw(),n}rw(t){t.hw(),0===t.ow()&&(this.Xy===t&&(this.Xy=null),this.$y.delete(t.aw()),t.cn())}lw(t){Zs.Lh(this.Yy),this.Ky.clear();let s=0;for(const e of t){const i=e[0],r=e[1],n=e[2];this.Yy.push([r,n]),this.Ky.set(i,{number:s,uw:r,cw:n}),s++}}fw(t){return this.Yy[t]}pw(t){return this.fw(t)[0]}mw(t){return this.fw(t)[1]}gw(t){const s=this.Ky.get(t);if(void 0===s)throw new Error("invalid blend name");return s}yw(t){const s=this.Ky.get(t);if(void 0===s)throw new Error("invalid blend name");return s.number}Sw(t){this.Zy=t}ww(){return this.Zy}bw(t){this.Qy=t,this.Xy=null}xw(){return this.Qy}Cm(t,s,e,i){const r=Zs.Mn(t,s,e,i),n=Math.sin(r),h=Math.cos(r),o=.5*this.tS,a=n*o,l=h*o,u=this.eS;2===u?this.Mw(t,s,0,e,i,0,a,l):1===u?this.Tw(t,s,0,e,i,0,a,l):this.Gw(t,s,0,e,i,0,a,l)}_w(t,s,e,i,r,n){const h=Zs.Mn(t,s,i,r),o=Math.sin(h),a=Math.cos(h),l=.5*this.tS,u=o*l,c=a*l,f=this.eS;2===f?this.Mw(t,s,e,i,r,n,u,c):1===f?this.Tw(t,s,e,i,r,n,u,c):this.Gw(t,s,e,i,r,n,u,c)}Mw(t,s,e,i,r,n,h,o){const a=this.rS,l=t+a-o,u=s+a-h,c=i+a+o,f=r+a+h,d=2*o,p=2*h,m=l+h,g=u-o,y=l-h+d,S=u+o+p,w=c+h,b=f-o,v=c-h-d,x=f+o-p;this.Iw(m,g,e,w,b,n,v,x,n,y,S,e,oe)}Tw(t,s,e,i,r,n,h,o){const a=this.rS,l=t+a-o,u=s+a-h,c=i+a+o,f=r+a+h,d=l+h,p=u-o,m=l-h,g=u+o,y=c+h,S=f-o,w=c-h,b=f+o;this.Iw(d,p,e,y,S,n,w,b,n,m,g,e,oe)}Gw(t,s,e,i,r,n,h,o){const a=this.rS,l=t+a,u=s+a,c=i+a,f=r+a,d=l+h,p=u-o,m=l-h,g=u+o,y=c+h,S=f-o,w=c-h,b=f+o;this.Iw(d,p,e,y,S,n,w,b,n,m,g,e,oe)}Cw(t,s,e,i,r,n){const h=Zs.Mn(t,s,e,i),o=Math.sin(h),a=Math.cos(h),l=.5*this.tS,u=o*l,c=a*l,f=this.eS;2===f?this.Rw(t,s,e,i,u,c,r,n):1===f?this.Ew(t,s,e,i,u,c,r,n):this.Fw(t,s,e,i,u,c,r,n)}Rw(t,s,e,i,r,n,h,o){const a=this.rS,l=t+a-n,u=s+a-r,c=e+a+n,f=i+a+r,d=2*n,p=2*r,m=l+r,g=u-n,y=l-r+d,S=u+n+p,w=c+r,b=f-n,v=c-r-d,x=f+n-p;ne.set(m,g,w,b,v,x,y,S),he.set(h,0,o,0),this.Pw(ne,he)}Ew(t,s,e,i,r,n,h,o){const a=this.rS,l=t+a-n,u=s+a-r,c=e+a+n,f=i+a+r,d=l+r,p=u-n,m=l-r,g=u+n,y=c+r,S=f-n,w=c-r,b=f+n;ne.set(d,p,y,S,w,b,m,g),he.set(h,0,o,0),this.Pw(ne,he)}Fw(t,s,e,i,r,n,h,o){const a=this.rS,l=t+a,u=s+a,c=e+a,f=i+a,d=l+r,p=u-n,m=l-r,g=u+n,y=c+r,S=f-n,w=c-r,b=f+n;ne.set(d,p,y,S,w,b,m,g),he.set(h,0,o,0),this.Pw(ne,he)}Aw(t,s,e,i){const r=.5*this.tS,n=this.eS;2===n?this.kw(t,s,e,i,r):1===n?this.Dw(t,s,e,i,r):this.Ow(t,s,e,i,r)}kw(t,s,e,i,r){this.Mw(t,s,0,e,s,0,0,r),this.Mw(e,s,0,e,i,0,r,0),this.Mw(e,i,0,t,i,0,0,-r),this.Mw(t,i,0,t,s,0,-r,0)}Dw(t,s,e,i,r){this.Tw(t,s,0,e,s,0,0,r),this.Tw(e,s,0,e,i,0,r,0),this.Tw(e,i,0,t,i,0,0,-r),this.Tw(t,i,0,t,s,0,-r,0)}Ow(t,s,e,i,r){this.Gw(t,s,0,e,s,0,0,r),this.Gw(e,s,0,e,i,0,r,0),this.Gw(e,i,0,t,i,0,0,-r),this.Gw(t,i,0,t,s,0,-r,0)}Lw(t){this.Aw(t.Ml(),t.Tl(),t.Gl(),t._l())}Bw(t){const s=Zs.Mn(t.th(),t.eh(),t.ih(),t.rh()),e=Math.sin(s),i=Math.cos(s),r=.5*this.tS,n=e*r,h=i*r,o=this.eS;2===o?this.Nw(t,n,h):1===o?this.Ww(t,n,h):this.Uw(t,n,h)}Nw(t,s,e){this.Mw(t.th(),t.eh(),0,t.ih(),t.rh(),0,s,e),this.Mw(t.ih(),t.rh(),0,t.nh(),t.hh(),0,e,-s),this.Mw(t.nh(),t.hh(),0,t.oh(),t.ah(),0,-s,-e),this.Mw(t.oh(),t.ah(),0,t.th(),t.eh(),0,-e,s)}Ww(t,s,e){this.Tw(t.th(),t.eh(),0,t.ih(),t.rh(),0,s,e),this.Tw(t.ih(),t.rh(),0,t.nh(),t.hh(),0,e,-s),this.Tw(t.nh(),t.hh(),0,t.oh(),t.ah(),0,-s,-e),this.Tw(t.oh(),t.ah(),0,t.th(),t.eh(),0,-e,s)}Uw(t,s,e){this.Gw(t.th(),t.eh(),0,t.ih(),t.rh(),0,s,e),this.Gw(t.ih(),t.rh(),0,t.nh(),t.hh(),0,e,-s),this.Gw(t.nh(),t.hh(),0,t.oh(),t.ah(),0,-s,-e),this.Gw(t.oh(),t.ah(),0,t.th(),t.eh(),0,-e,s)}jw(t){this.tS=t,this.sS[this.sS.length-1]=t}Vw(){return this.tS}Hw(t){if(100<=this.sS.length)throw new Error("pushed too many line widths - check push/pop pairs");this.sS.push(t),this.tS=t}zw(){if(this.sS.length<=1)throw new Error("cannot pop last line width - check push/pop pairs");this.sS.pop(),this.tS=this.sS.at(-1)}Jw(){this.eS=0,this.iS[this.iS.length-1]=0}qw(){this.eS=1,this.iS[this.iS.length-1]=0}$w(){this.eS=2,this.iS[this.iS.length-1]=0}Xw(t){if("butt"===t)this.Yw();else if("square"===t)this.Kw();else{if("zag"!==t)throw new Error("invalid line cap");this.Zw()}}Yw(){if(100<=this.iS.length)throw new Error("pushed too many line caps - check push/pop pairs");this.iS.push(0),this.eS=0}Kw(){if(100<=this.iS.length)throw new Error("pushed too many line caps - check push/pop pairs");this.iS.push(1),this.eS=1}Zw(){if(100<=this.iS.length)throw new Error("pushed too many line caps - check push/pop pairs");this.iS.push(2),this.eS=2}Qw(){if(this.iS.length<=1)throw new Error("cannot pop last line cap - check push/pop pairs");this.iS.pop(),this.eS=this.iS.at(-1)}t2(t){this.rS=t,this.nS[this.nS.length-1]=t}s2(){return this.rS}e2(t){if(100<=this.nS.length)throw new Error("pushed too many line offsets - check push/pop pairs");this.nS.push(t),this.rS=t}i2(){if(this.nS.length<=1)throw new Error("cannot pop last line offset - check push/pop pairs");this.nS.pop(),this.rS=this.nS.at(-1)}n2(s){const t=s.length/2;if(t<3)throw new Error("need at least 3 points");const e=t-2,i=e-1,r=s[0],n=s[1];for(let t=0;t<e;t+=2){const h=2*t,o=s[2+h],a=s[3+h],l=s[4+h],u=s[5+h];if(t===i)this.h2(r,n,o,a,l,u,l,u);else{const c=s[6+h],f=s[7+h];this.h2(r,n,o,a,l,u,c,f)}}}o2(){return 3}a2(){this.l2(!0),this.hS++}u2(){return this.hS}c2(){this.hS++}f2(t){this.oS=!!t}d2(){return this.oS}m2(t){this.aS=!!t}g2(){return this.aS}S2(){return!1}CS(){return!1}w2(){}b2(){}v2(){}M2(){return this.w2()+this.b2()+this.v2()}T2(){return Zs.un(Zs.iy.G2,this)}}}{const ue=self.Bs;ue.iy._2=class{constructor(t,s){this.mn=s.name,this.I2=t,this.C2=s.R2||0,this.E2=s.F2||0,this.P2=!!s.A2,this.D2=!!s.O2,this.L2=!!s.B2,this.N2=!!s.W2,this.U2=!!s.j2,this.V2=!!s.H2,this.z2=!!s.J2,this.q2=!1,this.X2=this.P2||this.V2||0!==this.C2||0!==this.E2}cn(){this.I2=null}Y2(){return this.I2}Zc(){return this.mn}K2(){return 0!==this.C2||0!==this.E2}Z2(){return this.C2}Q2(){return this.E2}tb(){return this.P2}sb(){return this.D2}eb(){return this.L2}ib(){return this.N2}rb(){return this.U2}nb(){return this.V2}hb(){return this.z2}ob(){return this.q2}ab(){return this.X2}lb(){return!1}}}{const ce=self.Bs;ce.iy.ew=class{constructor(t,s,e,i,r){this.I2=t,this.f1=0,this.ub=null,this.cb="",this.fb=e,this.pb=ce.un(ce.Vo),this.pb.set(i),this.mb=r,"string"==typeof s?this.cb=s:(this.ub=s,this.cb=this.ub.Zc())}cn(){if(0<this.f1)throw new Error("releasing state group still in use");this.I2=null,this.ub=null,this.cb=""}gb(){const t=this.I2;t.LS(this.ub),t.yb(this.fb),t.Sb(this.pb),t.bw(this.mb),t.YS(this)}aw(){return ce.iy.ew.QS(this.cb,this.fb,this.pb,this.mb)}iw(){++this.f1}hw(){--this.f1}ow(){return this.f1}wb(){this.ub=null}bb(t){if(this.ub=t.kS(this.cb),!this.ub)throw new Error("failed to restore shader program")}static QS(t,s,e,i){const r="string"==typeof t?t:t.Zc();return r+","+s+","+e.ra()+","+e.na()+","+e.oa()+","+e.aa()+","+i}}}{let i=function(t,s,e){const i=e.th(),r=e.eh(),n=e.ih()-i,h=e.rh()-r,o=e.oh()-i,a=e.ah()-r,l=n*t,u=h*t,c=o*s,f=a*s;return[i+l+c,r+u+f]};i;const _=self.Bs,fe=_.un(_.Ql);_.iy.vb=class{constructor(t,s,e){this.xb=t,this.Mb=s,this.Tb=e,this.tl=NaN,this.sl=NaN,this.mb=NaN,this.Gb=NaN,this._b=NaN,this.tl=0,this.sl=0,this.mb=0,this.Gb=0,this._b=0}Ib(t,s,e,i){this.tl=t,this.sl=s,this.Gb=e,this._b=i}Cb(){return this.tl}Rb(t){this.tl!==t&&(this.tl=t,this.xb.Eb())}Fb(){return this.sl}Pb(t){this.sl!==t&&(this.sl=t,this.xb.Eb())}Ab(){return this.mb}kb(t){this.mb!==t&&(this.mb=Math.max(t,0),this.xb.Eb())}Db(){return this.Gb}Ob(t){this.Gb=t}Lb(){return this._b}Bb(t){this._b=t}Nb(t,s,e){[this.tl,this.sl]=i(t.tl,t.sl,s),this.mb=t.mb,this.Gb=_.Ot(e.Ml(),e.Gl(),t.Gb),this._b=_.Ot(e.Tl(),e._l(),t._b)}Wb(t,s,e){[this.tl,this.sl]=i(t.tl,t.sl,s),this.mb=t.mb,[this.Gb,this._b]=i(t.Gb,t._b,e)}Ub(){return{x:this.Cb(),y:this.Fb(),z:this.Ab(),u:this.Db(),v:this.Lb()}}jb(t){this.Rb(t.x),this.Pb(t.y),t.hasOwnProperty("z")&&this.kb(t.z),this.Ob(t.u),this.Bb(t.v)}Vb(){return this.xb}Hb(){return this.Mb}zb(){return this.Tb}},_.iy.Jb=class{constructor(e,t,s){if(e<2||t<2)throw new Error("invalid mesh size");this.qb=e,this.$b=t,this.Xb=s||null,this.Yb=[],this.Kb=0,this.Zb=0,this.Qb=1,this.tv=1,this.sv=0,this.rv=!1;const i=e-1,r=t-1;for(let s=0;s<t;++s){const n=[];for(let t=0;t<e;++t){const h=_.un(_.iy.vb,this,t,s),o=t/i,a=s/r;h.Ib(o,a,o,a),n.push(h)}this.Yb.push(n)}}cn(){_.Lh(this.Yb)}nv(){return this.qb}hv(){return this.$b}ov(){return this.Xb}av(){return this.Yb}Eb(){this.rv=!0}lv(){if(this.rv){let t=1/0,s=1/0,e=-1/0,i=-1/0,r=0;for(const n of this.Yb)for(const h of n){const o=h.Cb(),a=h.Fb();t=Math.min(t,o),s=Math.min(s,a),e=Math.max(e,o),i=Math.max(i,a),r=Math.max(r,h.Ab())}this.Kb=t,this.Zb=s,this.Qb=e,this.tv=i,this.sv=r,this.rv=!1}}uv(){return this.lv(),this.Kb}cv(){return this.lv(),this.Zb}dv(){return this.lv(),this.Qb}pv(){return this.lv(),this.tv}gv(){return this.lv(),this.sv}yv(){return 0<this.gv()}Sv(t,s){return t=Math.floor(t),s=Math.floor(s),t<0||t>=this.qb||s<0||s>=this.$b?null:this.Yb[s][t]}wv(t,e,i){const r=i instanceof _.Rect;if(t.nv()!==this.nv()||t.hv()!==this.hv())throw new Error("source mesh wrong size");const n=t.Yb,h=this.Yb;for(let t=0,s=h.length;t<s;++t){const o=n[t],a=h[t];for(let t=0,s=a.length;t<s;++t){const l=o[t],u=a[t];r?u.Nb(l,e,i):u.Wb(l,e,i)}}}bv(n){let h=this.Yb,o=h[0];for(let t=1,s=h.length;t<s;++t){let e=h[t],i=o[0],r=e[0];for(let t=1,s=e.length;t<s;++t){const a=o[t],l=e[t];fe.set(i.Db(),i.Lb(),a.Db(),a.Lb(),l.Db(),l.Lb(),r.Db(),r.Lb()),n.Iw(i.Cb(),i.Fb(),i.Ab(),a.Cb(),a.Fb(),a.Ab(),l.Cb(),l.Fb(),l.Ab(),r.Cb(),r.Fb(),r.Ab(),fe),i=a,r=l}o=e}}vv(o,a){a=a||((t,s,e)=>[t,s,e]);let t=this.Yb,l=t[0];for(let n=1,h=t.length;n<h;++n){let e=t[n],i=l[0],r=e[0];for(let t=1,s=e.length;t<s;++t){const u=l[t],c=e[t],[f,d,p]=a(i.Cb(),i.Fb(),i.Ab()),[m,g,y]=a(u.Cb(),u.Fb(),u.Ab()),[S,w,b]=a(c.Cb(),c.Fb(),c.Ab()),[v,x,M]=a(r.Cb(),r.Fb(),r.Ab());o._w(f,d,p,m,g,y),o._w(f,d,p,S,w,b),o._w(f,d,p,v,x,M),t===s-1&&o._w(m,g,y,S,w,b),n===h-1&&o._w(v,x,M,S,w,b),i=u,r=c}l=e}}xv(t){let e=.99999999,i=t.Bu(),r=[],n=this.nv()-1,h=this.hv()-1,o=1/n,a=1/h,l=n-1,u=h-1,c=i[0],f=i[1],d=_.yn(Math.floor(c*n),0,l),p=_.yn(Math.floor(f*h),0,u),m=!0,g=0,y=0,S=0,w=-1,b=()=>{c=_.yn(_.Ot(c,g,S),0,1),f=_.yn(_.Ot(f,y,S),0,1),r.push(c,f)};for(let t=0,s=i.length;t<s;t+=2){c=i[t],f=i[t+1],r.push(c,f),d=_.yn(Math.floor(c*n),0,l),p=_.yn(Math.floor(f*h),0,u);const v=(t+2)%s;for(g=i[v],y=i[1+v],w=-1;;){if(1e6<r.length)throw new Error("Too many mesh poly points");const x=d*o,M=p*a,T=(d+1)*o,G=(p+1)*a;if(m=_.ph(c,f,x,M,T,M,T,G),0!==w&&0<=(S=_.fh(c,f,g,y,x,M,T,G,-.001))&&S<=e)b(),m=!m,w=0;else if(0<p&&2!==w&&0<=(S=_.fh(c,f,g,y,x,M,T,M,.001))&&S<=e)b(),p--,m=!1,w=4;else if(d<l&&3!==w&&0<=(S=_.fh(c,f,g,y,T,M,T,G,.001))&&S<=e)b(),d++,m=!1,w=1;else if(0<d&&1!==w&&0<=(S=_.fh(c,f,g,y,x,M,x,G,.001))&&S<=e)b(),d--,m=!0,w=3;else{if(!(p<u&&4!==w&&0<=(S=_.fh(c,f,g,y,x,G,T,G,.001))&&S<=e))break;b(),p++,m=!0,w=2}}}return _.un(_.Au,r)}Mv(t,s){const e=this.Tv(t);this.Gv(e),s.Wu(e)}Tv(t){const e=[],i=t.Bu();for(let t=0,s=i.length;t<s;t+=2){const r=i[t],n=i[t+1],[h,o]=this._v(r,n);e.push(h,o)}return e}_v(t,s){const e=this.nv()-1,i=this.hv()-1,r=1/e,n=1/i,h=_.yn(Math.floor(t*e),0,e-1),o=_.yn(Math.floor(s*i),0,i-1),a=h*r,l=o*n,u=(h+1)*r,c=(o+1)*n,f=this.Sv(h,o),d=this.Sv(h+1,o+1),p=_.ph(t,s,a,l,u,l,u,c),m=p?a+r:a,g=p?l:l+n,y=this.Sv(h+(p?1:0),o+(p?0:1)),[S,w,b]=_.mh(t,s,a,l,m,g,u,c);return _.gh(S,w,b,f.Cb(),f.Fb(),f.Ab(),y.Cb(),y.Fb(),y.Ab(),d.Cb(),d.Fb(),d.Ab())}Gv(e){let i=[],r=e[0],n=e[1],h=r-e.at(-2),o=n-e.at(-1);for(let t=0,s=e.length;t<s;t+=2){const a=(t+2)%s,l=e[a],u=e[1+a],c=l-r,f=u-n,d=Math.abs(c)<1e-7&&Math.abs(h)<1e-7&&Math.sign(f)===Math.sign(o),p=Math.abs(f)<1e-7&&Math.abs(o)<1e-7&&Math.sign(c)===Math.sign(h);(!d&&!p&&.001<Math.abs(c/h-f/o)||0==c&&0==f)&&i.push(r,n),r=l,n=u,h=c,o=f}6<=i.length&&i.length<e.length&&_.Uh(e,i)}Ub(){return{cols:this.nv(),rows:this.hv(),points:this.Yb.map(t=>t.map(t=>t.Ub()))}}jb(t){const e=this.nv(),i=this.hv();if(t.cols!==e||t.rows!==i)throw new Error("mesh data wrong size");const r=t.points;for(let s=0;s<i;++s){const n=r[s];for(let t=0;t<e;++t){const h=this.Sv(t,s);h.jb(n[t])}}}}}{let d=function(t,s){let e,i,r,n;switch(t){case"rgba8":e=s.RGBA8,i=s.RGBA,r=s.RGBA,n=s.UNSIGNED_BYTE;break;case"rgb8":e=s.RGB8,i=s.RGB,r=s.RGB,n=s.UNSIGNED_BYTE;break;case"rgba4":e=s.RGBA4,i=s.RGBA,r=s.RGBA,n=s.UNSIGNED_SHORT_4_4_4_4;break;case"rgb5_a1":e=s.RGB5_A1,i=s.RGBA,r=s.RGBA,n=s.UNSIGNED_SHORT_5_5_5_1;break;case"rgb565":e=s.RGB565,i=s.RGB,r=s.RGB,n=s.UNSIGNED_SHORT_5_6_5;break;default:throw new Error("invalid pixel format")}return{Iv:e,Cv:i,format:r,type:n}};d;const de=self.Bs,pe=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),me=new Set(["nearest","bilinear","trilinear"]),ge=new Set(["default","low","high"]),ye=new Set(["clamp-to-edge","repeat","mirror-repeat"]),Se={Rv:"clamp-to-edge",Ev:"clamp-to-edge",Fv:"trilinear",Pv:0,Av:"rgba8",kv:!0,Dv:"default",premultiplyAlpha:!0,Ov:!1,width:-1,height:-1},we={premultiplyAlpha:!0,flipY:!1},be=new Set;de.iy.Lv=class{constructor(t){this.I2=t,this.Bv=null,this.Xm=0,this.Ym=0,this.Nv=!0,this.Wv="clamp-to-edge",this.Uv="clamp-to-edge",this.jv="trilinear",this.Vv=0,this.Hv="rgba8",this.zv=!1,this.Jv="default",this.f1=0}qv(s,t){if(!("undefined"!=typeof HTMLImageElement&&s instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&s instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&s instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&s instanceof OffscreenCanvas||s instanceof ImageData||s instanceof ArrayBuffer||null===s))throw new Error("invalid texture source");if(t=Object.assign({},Se,t),this.Bv)throw new Error("already created texture");if(this.Wv=t.Rv,this.Uv=t.Ev,this.jv=t.Fv,this.Vv=t.Pv,this.Hv=t.Av,this.zv=!!t.kv&&this.I2.d2(),this.Jv=t.Dv,!ye.has(this.Wv)||!ye.has(this.Uv))throw new Error("invalid wrap mode");if(!me.has(this.jv))throw new Error("invalid sampling");if(!pe.has(this.Hv))throw new Error("invalid pixel format");if(!ge.has(this.Jv))throw new Error("invalid mipmap quality");if(this.Nv=!0,s instanceof ArrayBuffer||null===s||t.Ov){if(this.Xm=t.width,this.Ym=t.height,s instanceof ArrayBuffer&&s.byteLength!==this.Xm*this.Ym*4)throw new Error("ArrayBuffer wrong size")}else this.Xm=s.width,this.Ym=s.height;if(this.Xm<=0||this.Ym<=0)throw new Error("invalid texture data size");if(t.Ov){const o=de.Fo(this.Xm,this.Ym),a=o.getContext("2d");a.drawImage(s,0,0,this.Xm,this.Ym),s=o}const e=de.On(this.Xm)&&de.On(this.Ym),i=this.I2.$v();if(this.Xm>i||this.Ym>i)throw new Error("texture data exceeds maximum texture size");const r=this.I2.Xv(),n=this.I2.Yv(),h=(this.Bv=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.Bv),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),d(this.Hv,r));if(this.I2.Kv()||e||!this.Zv())if(2<=n){let t;t=this.zv?Math.floor(Math.log2(Math.max(this.Xm,this.Ym))+1):1,r.texStorage2D(r.TEXTURE_2D,t,h.Iv,this.Xm,this.Ym),s instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.Xm,this.Ym,h.format,h.type,new Uint8Array(s)):null!==s&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,h.format,h.type,s)}else s instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,h.Cv,this.Xm,this.Ym,0,h.format,h.type,new Uint8Array(s)):null===s?r.texImage2D(r.TEXTURE_2D,0,h.Cv,this.Xm,this.Ym,0,h.format,h.type,null):r.texImage2D(r.TEXTURE_2D,0,h.Cv,h.format,h.type,s);else{if(null===s)throw new Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");if((s=s instanceof ArrayBuffer?new ImageData(new Uint8ClampedArray(s),this.Xm,this.Ym):s)instanceof ImageData){const c=de.Fo(this.Xm,this.Ym),f=c.getContext("2d");f.putImageData(s,0,0),s=c}const l=de.Fo(de.Ln(this.Xm),de.Ln(this.Ym)),u=l.getContext("2d");u.imageSmoothingEnabled="nearest"!==this.jv,u.drawImage(s,0,0,this.Xm,this.Ym,0,0,l.width,l.height),r.texImage2D(r.TEXTURE_2D,0,h.Cv,h.format,h.type,l)}null!==s&&this.Qv(r),r.bindTexture(r.TEXTURE_2D,null),this.I2.tx(),this.f1=1,be.add(this)}ix(t,s,e){if(e=Object.assign({},Se,e),this.Bv)throw new Error("already created texture");if(this.Wv=e.Rv,this.Uv=e.Ev,this.jv=e.Fv,this.Hv=e.Av,this.zv=!!e.kv&&this.I2.d2(),this.Jv=e.Dv,!ye.has(this.Wv)||!ye.has(this.Uv))throw new Error("invalid wrap mode");if(!me.has(this.jv))throw new Error("invalid sampling");if(!pe.has(this.Hv))throw new Error("invalid pixel format");if(!ge.has(this.Jv))throw new Error("invalid mipmap quality");this.Nv=!1,this.Xm=Math.floor(t),this.Ym=Math.floor(s);const i=de.On(this.Xm)&&de.On(this.Ym),r=this.I2.$v();if(this.Xm<=0||this.Ym<=0)throw new Error("invalid texture size");if(this.Xm>r||this.Ym>r)throw new Error("texture exceeds maximum texture size");if(!this.I2.Kv()&&this.Zv()&&!i)throw new Error("non-power-of-two tiled textures not supported");const n=this.I2.Xv(),h=this.I2.Yv(),o=(this.Bv=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.Bv),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),d(this.Hv,n)),a=2<=h?o.Iv:o.Cv;n.texImage2D(n.TEXTURE_2D,0,a,this.Xm,this.Ym,0,o.format,o.type,null),this.Qv(n),n.bindTexture(n.TEXTURE_2D,null),this.I2.tx(),this.f1=1,be.add(this)}nx(t){if("default"===this.Jv)return this.Nv?t.NICEST:t.FASTEST;if("low"===this.Jv)return t.FASTEST;if("high"===this.Jv)return t.NICEST;throw new Error("invalid mipmap quality")}Zv(){return"clamp-to-edge"!==this.Wv||"clamp-to-edge"!==this.Uv}hx(t,s){if("clamp-to-edge"===s)return t.CLAMP_TO_EDGE;if("repeat"===s)return t.REPEAT;if("mirror-repeat"===s)return t.MIRRORED_REPEAT;throw new Error("invalid wrap mode")}Qv(t){const s=de.On(this.Xm)&&de.On(this.Ym);if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.hx(t,this.Wv)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.hx(t,this.Uv)),"nearest"===this.jv)t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.zv=!1;else if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),(s||this.I2.Kv())&&this.zv){t.hint(t.GENERATE_MIPMAP_HINT,this.nx(t)),t.generateMipmap(t.TEXTURE_2D);const i="trilinear"===this.jv&&!this.I2.g2();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i?t.LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_NEAREST)}else t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.zv=!1;const e=this.I2.ox();e&&0<this.Vv&&"nearest"!==this.jv&&t.texParameterf(t.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.Vv,this.I2.ux()))}mx(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData))throw new Error("invalid texture source");if(!this.Bv||this.f1<=0)throw new Error("texture not created");if(this.Nv)throw new Error("cannot update static texture");s=Object.assign({},we,s);const e=t.width||t.videoWidth,i=t.height||t.videoHeight,r=this.I2.Yv(),n=this.I2.Xv(),h=(n.bindTexture(n.TEXTURE_2D,this.Bv),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!!s.flipY),d(this.Hv,n)),o=2<=r?h.Iv:h.Cv;try{if(this.Xm===e&&this.Ym===i){const a=de.On(this.Xm)&&de.On(this.Ym);n.texSubImage2D(n.TEXTURE_2D,0,0,0,h.format,h.type,t),(a||this.I2.Kv())&&this.zv&&(n.hint(n.GENERATE_MIPMAP_HINT,this.nx(n)),n.generateMipmap(n.TEXTURE_2D))}else{this.Xm=e,this.Ym=i;const l=de.On(this.Xm)&&de.On(this.Ym);if(!this.I2.Kv()&&this.Zv()&&!l)throw new Error("non-power-of-two tiled textures not supported");n.texImage2D(n.TEXTURE_2D,0,o,h.format,h.type,t),(l||this.I2.Kv())&&this.zv&&(n.hint(n.GENERATE_MIPMAP_HINT,this.nx(n)),n.generateMipmap(n.TEXTURE_2D))}}catch(t){console.error("Error updating WebGL texture: ",t)}n.bindTexture(n.TEXTURE_2D,null),this.I2.tx()}gx(){if(0<this.f1)throw new Error("texture still has references");if(!this.Bv)throw new Error("already deleted texture");be.delete(this);const t=this.I2.Xv();t.deleteTexture(this.Bv),this.Bv=null}yx(){return!!this.Bv}Sx(){return this.Bv}Y2(){return this.I2}wx(){this.f1++}bx(){if(this.f1<=0)throw new Error("no more references");this.f1--}vx(){return this.f1}lm(){return this.Xm}Mm(){return this.Ym}xx(){return this.Nv}Mx(){let t=this.Xm*this.Ym;switch(this.Hv){case"rgba8":t*=4;break;case"rgb8":t*=3;break;case"rgba4":case"rgb5_a1":case"rgb565":t*=2}return this.zv&&(t+=Math.floor(t/3)),t}static wb(){be.clear()}static Tx(){return be.values()}}}{const ve=self.Bs,xe=self.vs,Tr=xe.Rs,Mr=xe.Gs,Me=new Set(["nearest","bilinear","trilinear"]),Te={Fv:"trilinear",alpha:!0,depth:!1,Gx:!0,_x:!0,Ix:0},Ge=new Set;ve.iy.Cx=class{constructor(t){this.I2=t,this.Rx=null,this.Ex=null,this.Bv=null,this.Fx=null,this.Xm=0,this.Ym=0,this.Px=!0,this.jv="trilinear",this.Ax=!0,this.kx=!1,this.Dx=!0,this.Ox=0,this.Lx=Mr.create(),this.Bx=0,this.Nx=0,this.Wx=0}Ux(t,s,e){e=Object.assign({},Te,e);const i=this.I2.Yv();if(this.Bv||this.Fx)throw new Error("already created render target");if(this.jv=e.Fv,this.Ax=!!e.alpha,this.kx=!!e.depth,this.Dx=!!e.Gx,this.Px=!!e._x,this.Ox=e.Ix,!Me.has(this.jv))throw new Error("invalid sampling");if(0<this.Ox&&(i<2||this.Dx))throw new Error("invalid use of multisampling");if(i<2&&(this.Dx=!0),this.Xm=t,this.Ym=s,this.Xm<=0||this.Ym<=0)throw new Error("invalid render target size");this.jx();const r=this.I2.Xv();if(this.Rx=r.createFramebuffer(),this.kx&&(this.Ex=r.createFramebuffer()),this.Dx){this.Bv=this.I2.Vx(this.Xm,this.Ym,{Fv:this.jv,Av:this.Ax?"rgba8":"rgb8",kv:!1});const h=this.Bv.Sx();r.bindFramebuffer(r.FRAMEBUFFER,this.Rx),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,h,0),this.kx&&(r.bindFramebuffer(r.FRAMEBUFFER,this.Ex),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,h,0))}else{this.Fx=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,this.Fx);const o=this.Ax?r.RGBA8:r.RGB8;if(0<this.Ox){const a=r.getInternalformatParameter(r.RENDERBUFFER,o,r.SAMPLES);if(a&&a[0]){const l=a[0];this.Ox>l&&(this.Ox=l)}else this.Ox=0}0===this.Ox?r.renderbufferStorage(r.RENDERBUFFER,o,this.Xm,this.Ym):r.renderbufferStorageMultisample(r.RENDERBUFFER,this.Ox,o,this.Xm,this.Ym),r.bindFramebuffer(r.FRAMEBUFFER,this.Rx),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,this.Fx),this.kx&&(r.bindFramebuffer(r.FRAMEBUFFER,this.Ex),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,this.Fx)),r.bindRenderbuffer(r.RENDERBUFFER,null)}const n=this.I2.Hx();this.kx&&n&&(r.bindFramebuffer(r.FRAMEBUFFER,this.Rx),this.I2.zx()?r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,n,0):r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n)),r.bindFramebuffer(r.FRAMEBUFFER,null),Ge.add(this)}Jx(t,s){if(this.Xm!==t||this.Ym!==s){this.Xm=t,this.Ym=s,this.jx();const e=this.I2.Xv(),i=(e.bindFramebuffer(e.FRAMEBUFFER,this.Rx),this.Bv?this.Bv.mx(new ImageData(this.Xm,this.Ym)):(e.bindRenderbuffer(e.RENDERBUFFER,this.Fx),e.renderbufferStorage(e.RENDERBUFFER,this.Ax?e.RGBA8:e.RGB8,this.Xm,this.Ym),e.bindRenderbuffer(e.RENDERBUFFER,null)),this.I2.Hx());this.kx&&i&&(this.I2.zx()?e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,i,0):e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i)),e.bindFramebuffer(e.FRAMEBUFFER,null)}}gx(){if(!this.Bv&&!this.Fx)throw new Error("already deleted render target");Ge.delete(this);const t=this.I2.Xv(),s=(this.Bv?(t.bindFramebuffer(t.FRAMEBUFFER,this.Rx),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),this.kx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Ex),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)),this.I2.qx(this.Bv),this.Bv=null):this.Fx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Rx),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null),this.kx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Ex),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null)),t.deleteRenderbuffer(this.Fx),this.Fx=null),t.bindFramebuffer(t.FRAMEBUFFER,null),2<=this.I2.Yv()&&(t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)),t.deleteFramebuffer(this.Rx),this.kx&&t.deleteFramebuffer(this.Ex),this.I2.$x());s.Xx=null,this.Rx=s.Yx=null}jx(){this.I2.IS(this.Lx,this.Xm/this.Ym),this.Bx=this.I2.MS(),this.Nx=this.I2.wS(),this.Wx=this.I2.vS()}Kx(){return this.Rx}Zx(){return this.Ex}Y2(){return this.I2}Qx(){return this.Bv}tM(){return this.I2.MS()===this.Bx&&this.I2.wS()===this.Nx&&this.I2.vS()===this.Wx||this.jx(),this.Lx}sM(){return"nearest"!==this.jv}eM(){return this.Ax}iM(){return this.Dx}rM(){return this.kx}lm(){return this.Xm}Mm(){return this.Ym}nM(){return this.Px}hM(){return this.Ox}oM(){const t={Fv:this.jv,alpha:this.Ax,Gx:this.Dx};return this.Px||(t.width=this.Xm,t.height=this.Ym),t}aM(t){return"nearest"!==(t=Object.assign({},Te,t)).Fv===this.sM()&&!!t.alpha===this.eM()&&!!t.depth===this.rM()&&!(2<=this.I2.Yv()&&!!t.Gx!==this.iM())&&("number"==typeof t.width||"number"==typeof t.height?!this.nM()&&this.lm()===Math.floor(t.width)&&this.Mm()===Math.floor(t.height):this.nM())}lM(){return this.Bv?this.Bv.Sx():null}Mx(){return this.Bv?this.Bv.Mx():this.Xm*this.Ym*(this.Ax?4:3)}static async uM(t,s){const e=await t.cM(s,!0);return ve.ko(e)}static wb(){Ge.clear()}static fM(){return Ge.values()}static dM(t,s){for(const e of Ge)e.nM()&&e.Jx(t,s)}}}{const m=self.Bs,_e=self.vs,Tr=_e.Rs,Mr=_e.Gs,Ie=new Set(["aPos","aTex","aPoints","matP","matMV","samplerFront","samplerBack","samplerDepth","destStart","destEnd","srcStart","srcEnd","srcOriginStart","srcOriginEnd","pixelSize","seconds","devicePixelRatio","layerScale","layerAngle","layoutStart","layoutEnd","color","color2_","pointTexStart","pointTexEnd","zElevation","tileSize","tileSpacing","outlineThickness","zNear","zFar"]);m.iy.pM=class extends m.iy._2{static async mM(t,s){const e=t.Xv(),i=s.src,r=s.gM,n=s.name,h=e.createShader(e.FRAGMENT_SHADER),o=(e.shaderSource(h,i),e.compileShader(h),e.createShader(e.VERTEX_SHADER)),a=(e.shaderSource(o,r),e.compileShader(o),e.createProgram()),l=(e.attachShader(a,h),e.attachShader(a,o),e.bindAttribLocation(a,0,"aPos"),e.bindAttribLocation(a,1,"aTex"),e.bindAttribLocation(a,2,"aPoints"),e.linkProgram(a),t.yM());if(l?await t.SM(()=>e.getProgramParameter(a,l.COMPLETION_STATUS_KHR)):await m.Fh(5),!e.getShaderParameter(h,e.COMPILE_STATUS)){const c=e.getShaderInfoLog(h);throw e.deleteShader(h),e.deleteShader(o),e.deleteProgram(a),new Error("Error compiling fragment shader: "+c)}if(!e.getShaderParameter(o,e.COMPILE_STATUS)){const f=e.getShaderInfoLog(o);throw e.deleteShader(h),e.deleteShader(o),e.deleteProgram(a),new Error("Error compiling vertex shader: "+f)}if(!e.getProgramParameter(a,e.LINK_STATUS)){const d=e.getProgramInfoLog(a);throw e.deleteShader(h),e.deleteShader(o),e.deleteProgram(a),new Error("Error linking shader program: "+d)}const u=m.z1(e.getProgramInfoLog(a)||"").trim();return u&&!m.j1(u)&&console.info(`[WebGL] Shader program '${n}' compilation log: `,u),e.deleteShader(h),e.deleteShader(o),a}static async wM(t,s){const e=await m.iy.pM.mM(t,s);return new m.iy.pM(t,e,s)}constructor(t,s,e){super(t,e);const i=t.Xv(),r=t.$x(),n=(t.l2(),i.useProgram(s),this.bM=i,this.ub=s,this.vM="<default-device-transform>"===e.name,i.getAttribLocation(s,"aPos")),h=i.getAttribLocation(s,"aTex"),o=(this.xM=i.getAttribLocation(s,"aPoints"),-1!==n&&(i.bindBuffer(i.ARRAY_BUFFER,t.MM),i.vertexAttribPointer(n,t.o2(),i.FLOAT,!1,0,0),i.enableVertexAttribArray(n)),-1!==h&&(i.bindBuffer(i.ARRAY_BUFFER,t.TM),i.vertexAttribPointer(h,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(h)),-1!==this.xM&&(i.bindBuffer(i.ARRAY_BUFFER,t.GM),i.vertexAttribPointer(this.xM,4,i.FLOAT,!1,0,0),i.enableVertexAttribArray(this.xM)),i.bindBuffer(i.ARRAY_BUFFER,null),this._M=new m.iy.IM(this,"matP","mat4"),this.CM=new m.iy.IM(this,"matMV","mat4"),this.RM=new m.iy.IM(this,"color","vec4"),this.EM=new m.iy.IM(this,"samplerFront","sampler"),this.FM=new m.iy.IM(this,"pointTexStart","vec2"),this.PM=new m.iy.IM(this,"pointTexEnd","vec2"),this.AM=new m.iy.IM(this,"zElevation","float"),this.kM=new m.iy.IM(this,"tileSize","vec2"),this.DM=new m.iy.IM(this,"tileSpacing","vec2"),this.OM=new m.iy.IM(this,"color2_","vec4"),this.LM=new m.iy.IM(this,"outlineThickness","float"),this.BM=new m.iy.IM(this,"samplerBack","sampler"),this.NM=new m.iy.IM(this,"samplerDepth","sampler"),this.WM=new m.iy.IM(this,"destStart","vec2"),this.UM=new m.iy.IM(this,"destEnd","vec2"),this.jM=new m.iy.IM(this,"srcStart","vec2"),this.VM=new m.iy.IM(this,"srcEnd","vec2"),this.HM=new m.iy.IM(this,"srcOriginStart","vec2"),this.zM=new m.iy.IM(this,"srcOriginEnd","vec2"),this.JM=new m.iy.IM(this,"pixelSize","vec2"),this.qM=new m.iy.IM(this,"seconds","float"),this.$M=new m.iy.IM(this,"devicePixelRatio","float"),this.XM=new m.iy.IM(this,"layerScale","float"),this.YM=new m.iy.IM(this,"layerAngle","float"),this.KM=new m.iy.IM(this,"layoutStart","vec2"),this.ZM=new m.iy.IM(this,"layoutEnd","vec2"),this.QM=new m.iy.IM(this,"zNear","float"),this.tT=new m.iy.IM(this,"zFar","float"),this.sT=!!(this.JM.eT()||this.qM.eT()||this.BM.eT()||this.WM.eT()||this.UM.eT()||this.jM.eT()||this.VM.eT()||this.HM.eT()||this.zM.eT()||this.$M.eT()||this.XM.eT()||this.YM.eT()||this.KM.eT()||this.ZM.eT()),e.parameters||[]);this.iT=[],this.q2=this.JM.eT()||this.jM.eT()||this.VM.eT()||this.HM.eT()||this.zM.eT(),this.rT=!1,this.nT=!1,this.RM.hT(1,1,1,1),this.OM.hT(1,1,1,1),this.EM.oT(0),this.BM.oT(1),this.NM.oT(2),this.FM.aT(0,0),this.PM.aT(1,1),this.AM.lT(0),this.kM.aT(0,0),this.DM.aT(0,0),this.WM.aT(0,0),this.UM.aT(1,1),this.jM.aT(0,0),this.VM.aT(0,0),this.HM.aT(0,0),this.zM.aT(0,0),this.JM.aT(0,0),this.$M.lT(1),this.QM.lT(t.wS()),this.tT.lT(t.vS()),this.XM.lT(1),this.YM.lT(0),this.qM.lT(0),this.KM.aT(0,0),this.ZM.aT(0,0),this.LM.lT(1);for(const l of o){const u=l[0],c=l[2],f=new m.iy.IM(this,u,c);"color"===c?f.uT(0,0,0):f.lT(0),this.iT.push(f)}this.vM?this.cT(r.fT):(this.dT(r.fT,!0),this.pT(r.mT,!0));const a=r.gT;i.useProgram(a?a.ub:null)}cn(){this.bM.deleteProgram(this.ub),this.ub=null,this.I2.AS(this),this.bM=null,super.cn()}yT(){return this.bM}ST(){return this.ub}wT(){return this.iT.length}bT(t){return t<0||t>=this.iT.length?null:this.iT[t].vT()}xT(e){for(let t=0,s=e.length;t<s;++t)if(!this.iT[t].MT(e[t]))return!1;return!0}TT(e){for(let t=0,s=e.length;t<s;++t)this.iT[t].GT(e[t])}_T(t,s,e,i,r,n,h,o,a,l){return!this.BM.eT()&&!(this.JM.eT()&&!this.JM.IT(r,n)||this.WM.eT()&&!this.WM.IT(t.Ml(),t.Tl())||this.UM.eT()&&!this.UM.IT(t.Gl(),t._l())||this.$M.eT()&&!this.$M.CT(h)||this.XM.eT()&&!this.XM.CT(o)||this.YM.eT()&&!this.YM.CT(a)||this.jM.eT()&&!this.jM.IT(s.Ml(),s.Tl())||this.VM.eT()&&!this.VM.IT(s.Gl(),s._l())||this.HM.eT()&&!this.HM.IT(e.Ml(),e.Tl())||this.zM.eT()&&!this.zM.IT(e.Gl(),e._l())||this.KM.eT()&&!this.KM.IT(i.Ml(),i.Tl())||this.ZM.eT()&&!this.ZM.IT(i.Tl(),i._l())||this.qM.eT()&&!this.qM.CT(l))}RT(t,s,e,i,r,n,h,o,a,l){this.BM.eT()||(this.JM.eT()&&this.JM.ET(r,n),this.WM.eT()&&this.WM.ET(t.Ml(),t.Tl()),this.UM.eT()&&this.UM.ET(t.Gl(),t._l()),this.$M.eT()&&this.$M.FT(h),this.XM.eT()&&this.XM.FT(o),this.YM.eT()&&this.YM.FT(a),this.jM.eT()&&this.jM.ET(s.Ml(),s.Tl()),this.VM.eT()&&this.VM.ET(s.Gl(),s._l()),this.HM.eT()&&this.HM.ET(e.Ml(),e.Tl()),this.zM.eT()&&this.zM.ET(e.Gl(),e._l()),this.KM.eT()&&this.KM.ET(i.Ml(),i.Tl()),this.ZM.eT()&&this.ZM.ET(i.Tl(),i._l()),this.qM.eT()&&this.qM.FT(l))}dT(t,s){this.rT&&!s||this.vM||(this._M.eT()&&this._M.PT(t),this.rT=!0)}AT(){this.rT=!1}pT(t,s){this.nT&&!s||this.vM||(this.CM.eT()&&this.CM.PT(t),this.nT=!0)}kT(){this.nT=!1}cT(t){if(!this.vM)throw new Error("not device transform shader");this._M.PT(t);const s=this.I2,e=s.lm()/2,i=s.Mm()/2,r=s.FS(e,i,s.pS(s.Mm()),e,i,0,s.Mm());this.CM.PT(r)}DT(t){this.RM.eT()&&this.RM.OT(t[0],t[1],t[2],t[3])}static LT(){return Ie}static BT(t){const s=t?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","attribute highp vec3 aPos;",`attribute ${s} vec2 aTex;`,`varying ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static NT(t){const s=t?"highp":"mediump";return["#version 300 es","in highp vec3 aPos;",`in ${s} vec2 aTex;`,`out ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static WT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","}"].join("\n")}static UT(){return["#extension GL_EXT_frag_depth : enable","varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static jT(){return["#version 300 es","in mediump vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\toutColor = texture(samplerFront, vTex) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static VT(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","}"].join("\n")}static HT(){return["#extension GL_EXT_frag_depth : enable","#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static zT(){return["#version 300 es","in highp vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static JT(t,s,e){let i="";return 2<=t?i="#version 300 es\n":(s&&(i="#extension GL_EXT_frag_depth : enable\n"),e&&(i+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n")),i+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=t?"in":"varying"} vec2 vTex;
${2<=t?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=t?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${t<2&&e?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${t<2&&!e?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${t<2?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=t||e?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=t||e?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${t<2?"gl_FragColor = outColor;":""}
	${2<=t?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${t<2&&s?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}static qT(){return["attribute vec4 aPoints;","varying float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static $T(){return["#version 300 es","in vec4 aPoints;","out float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static XT(){return["uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","}"].join("\n")}static YT(){return["#extension GL_EXT_frag_depth : enable","uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static KT(){return["#version 300 es","uniform lowp sampler2D samplerFront;","in lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","out lowp vec4 outColor;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static ZT(){return["uniform lowp vec4 color;","void main(void) {","\tgl_FragColor = color;","}"].join("\n")}static QT(){return["precision lowp float;","varying mediump vec2 vTex;","uniform vec4 color;","uniform vec4 color2_;","vec3 fromLinear(vec3 linearRGB)","{","\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));","\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);","\tvec3 lower = linearRGB * vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","vec3 toLinear(vec3 sRGB)","{","\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));","\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));","\tvec3 lower = sRGB/vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","void main(void) {","\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);","\tfloat a = mix(color.a, color2_.a, vTex.x);","\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);","}"].join("\n")}static tG(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","precision lowp float;","varying highmedp vec2 vTex;","uniform vec4 color;","void main(void) {",`	highmedp float grad = vTex.x / (1.0 - vTex.y);`,`	gl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);`,"}"].join("\n")}static sG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;","\tgl_FragColor = color * f;","}"].join("\n")}static eG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float f = step(diffSq.x + diffSq.y, 0.25);","\tgl_FragColor = color * f;","}"].join("\n")}static iG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump float innerF = step(distSq, 0.25);","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}static rG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);","\tgl_FragColor = color * f;","}"].join("\n")}static nG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 pxNorm = pixelSize * norm;","\tmediump vec2 innerEdge1 = halfNorm - pxNorm;","\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;","\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);","\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;","\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;","\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);","\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;","\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}}}{const Ce=self.Bs,Re=self.vs,Mr=Re.Gs,Ee=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);Ce.iy.IM=class{constructor(t,s,e){if(!Ee.has(e))throw new Error("invalid uniform type");this.Xb=t,this.bM=this.Xb.yT(),this.mn=s,this.yf=e,this.hG="color"===this.yf,this.oG=this.bM.getUniformLocation(this.Xb.ST(),s),this.aG=!!this.oG;const i=Ee.get(e);this.lG=new Float32Array(i),this.uG=new Float32Array(i)}cn(){this.Xb=null,this.bM=null,this.oG=null}eT(){return this.aG}vT(){return this.yf}cG(){return this.hG}lT(t){this.eT()&&(this.lG[0]=t,this.uG.set(this.lG),this.bM.uniform1f(this.oG,t))}oT(t){this.eT()&&(this.lG[0]=t,this.uG.set(this.lG),this.bM.uniform1i(this.oG,t))}aT(t,s){this.eT()&&(this.lG[0]=t,this.lG[1]=s,this.uG.set(this.lG),this.bM.uniform2f(this.oG,t,s))}uT(t,s,e){this.eT()&&(this.lG[0]=t,this.lG[1]=s,this.lG[2]=e,this.uG.set(this.lG),this.bM.uniform3f(this.oG,t,s,e))}hT(t,s,e,i){this.eT()&&(this.lG[0]=t,this.lG[1]=s,this.lG[2]=e,this.lG[3]=i,this.uG.set(this.lG),this.bM.uniform4f(this.oG,t,s,e,i))}fG(t){t=Math.fround(t);const s=this.lG;s[0]!==t&&(s[0]=t,this.bM.uniform1f(this.oG,t))}dG(t){const s=this.lG;s[0]!==t&&this.bM.uniform1i(this.oG,s[0]=t)}pG(t,s){t=Math.fround(t),s=Math.fround(s);const e=this.lG;e[0]===t&&e[1]===s||(e[0]=t,e[1]=s,this.bM.uniform2f(this.oG,t,s))}mG(t,s,e){t=Math.fround(t),s=Math.fround(s),e=Math.fround(e);const i=this.lG;i[0]===t&&i[1]===s&&i[2]===e||(i[0]=t,i[1]=s,i[2]=e,this.bM.uniform3f(this.oG,t,s,e))}OT(t,s,e,i){t=Math.fround(t),s=Math.fround(s),e=Math.fround(e),i=Math.fround(i);const r=this.lG;r[0]===t&&r[1]===s&&r[2]===e&&r[3]===i||(r[0]=t,r[1]=s,r[2]=e,r[3]=i,this.bM.uniform4f(this.oG,t,s,e,i))}PT(t){const s=this.lG;Mr.U(s,t)||(Ce.Dh(s,t,0),this.bM.uniformMatrix4fv(this.oG,!1,t))}MT(t){const s=this.uG;return this.cG()?s[0]===Math.fround(t.ra())&&s[1]===Math.fround(t.na())&&s[2]===Math.fround(t.oa()):s[0]===Math.fround(t)}GT(t){const s=this.uG;this.cG()?(s[0]=t.ra(),s[1]=t.na(),s[2]=t.oa()):s[0]=t}CT(t){return this.uG[0]===Math.fround(t)}IT(t,s){const e=this.uG;return e[0]===Math.fround(t)&&e[1]===Math.fround(s)}FT(t){this.uG[0]=t}ET(t,s){const e=this.uG;e[0]=t,e[1]=s}}}{const Fe=self.Bs,Pe=self.vs,jr=Pe.Es,Mr=Pe.Gs;Fe.iy.gG=class{constructor(t){this.renderer=t,this.mT=Mr.create(),this.fT=Mr.create(),this.Xx=null,this.Yx=null,this.yG=!1,this.SG=jr.C(1,1,1,1),this.gT=null,this.wG=new Fe.Rect,this.clearColor=Fe.un(Fe.Vo,0,0,0,0)}},Fe.iy.bG=class{constructor(t){const s=new ArrayBuffer(96);this.yf=0,this.vG=t,this.bM=t.renderer.Xv(),this.xG=0,this.MG=0,this.TG=null,this.GG=new Float32Array(s,0,16),this._G=new Float32Array(s,64,4),this.IG=new Float32Array(s,80,4),this.CG=[]}EG(t,s){this.yf=1,this.xG=t,this.MG=s}FG(){const t=this.bM;t.drawElements(t.TRIANGLES,this.MG,t.UNSIGNED_SHORT,this.xG)}PG(t){this.yf=2,this.TG=t}AG(){const t=this.bM,s=this.TG;t.bindTexture(t.TEXTURE_2D,s?s.Sx():null)}kG(t){this.yf=3,t.ua(this._G,0)}DG(){const t=this._G,s=this.vG;jr.I(s.SG,t),s.gT.DT(t)}OG(t){this.yf=21,t.ua(this._G,0)}LG(){const t=this._G,s=this.vG.gT;s.OM.eT()&&s.OM.OT(t[0],t[1],t[2],t[3])}BG(t,s){this.yf=4,this.xG=t,this.MG=s}NG(){this.bM.blendFunc(this.xG,this.MG)}WG(t,s,e,i){this.yf=5;const r=this._G;r[0]=t,r[1]=s,r[2]=e,r[3]=i}UG(){const t=this._G;this.bM.viewport(t[0],t[1],t[2],t[3])}jG(t){this.yf=6,Mr.I(this.GG,t)}VG(){const t=this.vG,e=t.renderer.ky,i=t.gT,r=this.GG;for(let t=0,s=e.length;t<s;++t){const n=e[t];n===i?n.dT(r,!0):n.AT()}Mr.I(t.fT,r)}HG(t){this.yf=7,Mr.I(this.GG,t)}zG(){const t=this.vG,e=t.renderer.ky,i=t.gT,r=this.GG;for(let t=0,s=e.length;t<s;++t){const n=e[t];n===i?n.pT(r,!0):n.kT()}Mr.I(t.mT,r)}JG(t){this.yf=8,this.TG=t}qG(){const t=this.bM,s=this.TG,e=this.vG;s?(e.Xx=s.Kx(),e.Yx=s.Zx(),e.yG&&e.Yx?t.bindFramebuffer(t.FRAMEBUFFER,e.Yx):t.bindFramebuffer(t.FRAMEBUFFER,e.Xx)):(e.Xx=null,e.Yx=null,t.bindFramebuffer(t.FRAMEBUFFER,null))}$G(t){this.yf=9,t.ua(this.GG,0)}XG(t,s,e,i){this.yf=9;const r=this.GG;r[0]=t,r[1]=s,r[2]=e,r[3]=i}YG(){const t=this.bM,s=this.GG,e=this.vG,i=e.clearColor,r=s[0],n=s[1],h=s[2],o=s[3];i.ya(r,n,h,o)||(t.clearColor(r,n,h,o),i.$o(r,n,h,o)),t.clear(t.COLOR_BUFFER_BIT)}KG(t){this.yf=15,t.ua(this.GG,0)}ZG(){const t=this.GG;this.vG.wG.set(t[0],t[1],t[2],t[3])}QG(t,s){this.yf=10,this.xG=t,this.MG=1,this.GG[0]=s}t_(){const t=this.bM,s=this.vG,e=s.renderer,i=e.Ly,r=(t.useProgram(i.ub),i.dT(s.fT,!1),i.pT(s.mT,!1),s.wG),n=(i.FM.eT()&&i.FM.pG(r.Ml(),r.Tl()),i.PM.eT()&&i.PM.pG(r.Gl(),r._l()),this.GG[0]);if(i.AM.eT()&&i.AM.fG(n),i.RM.eT()){const h=s.SG;i.RM.OT(h[0],h[1],h[2],h[3])}t.drawArrays(t.POINTS,this.xG/4,this.MG),t.useProgram(s.gT.ub)}s_(t){this.yf=11,this.TG=t}e_(){const t=this.bM,s=this.vG,e=this.TG;if(s.gT=e,t.useProgram(e.ub),e.dT(s.fT,!1),e.pT(s.mT,!1),e.RM.eT()){const i=s.SG;e.RM.OT(i[0],i[1],i[2],i[3])}}i_(){this.yf=12}r_(){const t=this.vG.gT,s=this.bM,e=this.GG,i=this._G,r=this.IG;if(t.BM.eT()){const n=this.vG.renderer,h=this.TG;n.n_!==h&&(s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,h?h.Sx():null),n.n_=h,s.activeTexture(s.TEXTURE0))}t.JM.eT()&&t.JM.pG(e[0],e[1]),t.WM.eT()&&t.WM.pG(e[2],e[3]),t.UM.eT()&&t.UM.pG(e[4],e[5]),t.$M.eT()&&t.$M.fG(this.MG),t.XM.eT()&&t.XM.fG(e[6]),t.YM.eT()&&t.YM.fG(e[7]),t.jM.eT()&&t.jM.pG(e[12],e[13]),t.VM.eT()&&t.VM.pG(e[14],e[15]),t.HM.eT()&&t.HM.pG(r[0],r[1]),t.zM.eT()&&t.zM.pG(r[2],r[3]),t.KM.eT()&&t.KM.pG(i[0],i[1]),t.ZM.eT()&&t.ZM.pG(i[2],i[3]),t.qM.eT()&&t.qM.fG(this.xG)}h_(){this.yf=13}o_(){const t=this.vG.gT,e=t.iT,i=this.CG;for(let t=0,s=e.length;t<s;++t){const r=e[t],n=i[t];r.cG()?r.mG(n.ra(),n.na(),n.oa()):r.fG(n)}}a_(t){this.yf=14,this.TG=t}l_(){const t=this.bM,s=this.TG,e=this.vG.Xx;s!==e&&t.bindFramebuffer(t.FRAMEBUFFER,s),t.invalidateFramebuffer(t.FRAMEBUFFER,[t.COLOR_ATTACHMENT0]),s!==e&&t.bindFramebuffer(t.FRAMEBUFFER,e)}u_(t,s,e){this.yf=17;const i=this.GG,r=this.vG.renderer,n=(i[0]=t.lm(),i[1]=t.Mm(),i[2]=(s||r).lm(),i[3]=(s||r).Mm(),i[4]=t.sM()?1:0,i[5]="stretch"===e,this.CG);Fe.Lh(n),n.push(t.Kx()),n.push(s?s.Kx():null)}c_(){const t=this.GG,s=this.CG,e=this.bM,i=t[0],r=t[1],n=t[2],h=t[3],o=0!==t[4],a=0!==t[5],l=s[0],u=s[1];if(e.bindFramebuffer(e.READ_FRAMEBUFFER,l),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,u),a)e.blitFramebuffer(0,0,i,r,0,0,n,h,e.COLOR_BUFFER_BIT,o?e.LINEAR:e.NEAREST);else{const c=Math.min(i,n),f=Math.min(r,h),d=Math.max(r-h,0),p=Math.max(h-r,0);e.blitFramebuffer(0,d,c,f+d,0,p,c,f+p,e.COLOR_BUFFER_BIT,e.NEAREST)}}f_(t){this.yf=18,this.TG=t}d_(){this.TG.p_(),this.TG=null}m_(t){this.yf=19,this.TG=t}g_(){this.TG.y_(),this.TG=null}S_(t,s,e){this.yf=20;const i=this.GG;i[0]=t,i[1]=s,i[2]=e}w_(){const t=this.vG.gT,s=this.GG;t.JM.eT()&&t.JM.pG(s[0],s[1]),t.LM.eT()&&t.LM.fG(s[2])}b_(t,s,e,i,r,n,h){this.yf=16;const o=this.GG;t.ua(o,0),o[4]=1/s,o[5]=1/e,o[6]=i/s,o[7]=r/e,o[8]=n/s,o[9]=h/e}v_(){const t=this.vG.gT,s=this.GG;t.jM.eT()&&t.jM.pG(s[0],s[1]),t.JM.eT()&&t.JM.pG(s[4],s[5]),t.kM.eT()&&t.kM.pG(s[6],s[7]),t.DM.eT()&&t.DM.pG(s[8],s[9])}x_(t,s,e,i,r,n,h){this.yf=29;const o=this.GG;o[0]=1/t,o[1]=1/s,o[2]=e,o[3]=i,o[4]=r,o[5]=n,o[6]=h}M_(){const t=this.vG.gT,s=this.GG;t.JM.eT()&&t.JM.pG(s[0],s[1]),t.kM.eT()&&t.kM.pG(s[2],s[3]),t.LM.eT()&&t.LM.fG(s[4]),t.DM.eT()&&t.DM.pG(s[5],s[6])}T_(t){this.yf=22,this.xG=t?1:0}G_(){const t=this.bM,s=0!==this.xG;s||t.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT),s||t.depthMask(!1)}__(t){this.yf=23,this.xG=t?1:0}I_(){const t=this.bM;0===this.xG?(t.disable(t.DEPTH_TEST),t.depthMask(!1)):(t.enable(t.DEPTH_TEST),t.depthMask(!0))}C_(t){this.yf=24,this.xG=t?1:0}R_(){const t=this.bM,s=this.vG,e=s.renderer,i=0!==this.xG;s.yG=i,t.activeTexture(t.TEXTURE2),i?(s.Yx&&t.bindFramebuffer(t.FRAMEBUFFER,s.Yx),t.bindTexture(t.TEXTURE_2D,e.Hx())):(t.bindTexture(t.TEXTURE_2D,null),s.Yx&&t.bindFramebuffer(t.FRAMEBUFFER,s.Xx)),t.activeTexture(t.TEXTURE0)}E_(){this.yf=25}F_(){const t=this.bM;t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,1),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1)}P_(){this.yf=26}A_(){const t=this.bM;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,1,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}k_(){this.yf=27}D_(){const t=this.bM;t.disable(t.STENCIL_TEST)}O_(t,s,e,i,r){this.yf=28,this.xG=t?1:0;const n=this.GG;n[0]=s,n[1]=e,n[2]=i,n[3]=r}L_(){const t=this.bM,s=this.GG;1===this.xG?(t.enable(t.SCISSOR_TEST),t.scissor(s[0],s[1],s[2],s[3])):t.disable(t.SCISSOR_TEST)}B_(){switch(this.yf){case 1:return void this.FG();case 2:return void this.AG();case 3:return void this.DG();case 4:return void this.NG();case 5:return void this.UG();case 6:return void this.VG();case 7:return void this.zG();case 8:return void this.qG();case 9:return void this.YG();case 10:return void this.t_();case 11:return void this.e_();case 12:return void this.r_();case 13:return void this.o_();case 14:return void this.l_();case 15:return void this.ZG();case 16:return void this.v_();case 17:return void this.c_();case 18:return void this.d_();case 19:return void this.g_();case 20:return void this.w_();case 21:return void this.LG();case 22:return void this.G_();case 23:return void this.I_();case 24:return void this.R_();case 25:return void this.F_();case 26:return void this.A_();case 27:return void this.D_();case 28:return void this.L_();case 29:return void this.M_()}}}}{let I=function(t,s,e,i,r,n){s?t.strokeRect(e,i,r,n):t.fillRect(e,i,r,n)},t=function(t){return t*(4/3)},o=function(t,s){t=t.trim();const e=parseFloat(t);return isFinite(e)?t.endsWith("%")?s*e/100:e:0};I,t,o;const Ae=self.Bs,ke=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),De={timeout:60},Oe=new Ae.Vo(0,0,0,1),Le=new Set(["left","center","right"]),Be=new Set(["top","center","bottom"]),Ne=new Set(["word","cjk","character"]),We=new Set(["ltr","rtl"]),Ue=new Set;Ae.FontManager&&Ae.FontManager.addEventListener("fontload",t=>{const s=t.font.Zc();for(const e of Ue)(e.N_()||Ae.br(e.W_(),s))&&e.U_()});let s=!1,e=!1;Ae.iy.G2=class{constructor(t,s){s=Object.assign({},De,s),this.I2=t,this.j_="Arial",this.V_=16,this.H_=1,this.z_=0,this.J_=!1,this.q_=!1,this.X_="black",this.Y_=!1,this.rm=null,this.K_=!0,this.Z_=null,this.Q_=new Set,this.tI="left",this.sI="top",this.uf="",this.eI=null,this.iI=Ae.un(Ae.tm),this.rI="word",this.nI="ltr",this.hI=!1,this.oI=!1,this.aI=!1,this.lI=-1,this.uI=0,this.cI=0,this.fI=0,this.Xm=0,this.Ym=0,this.dI=1,this.pI=null,this.mI=null,this.gI=null,this.yI=null,this.SI=-1,this.wI=-1,this.bI="",this.vI="",this.xI="",this.MI=1,this.TI=1,this.GI=t=>this._I(t),this.Bv=null,this.II=new Ae.Rect,this.CI=1,this.RI=new Ae.r0(()=>{this.EI(),this.FI(8,8)},s.timeout),this.AI=null,this.kI=!1,Ue.add(this)}cn(){this.Z_=null,this.Q_.clear(),this.rm=null,this.eI=null,this.pI=null,this.mI=null,this.gI=null,this.yI=null,this.GI=null,this.RI.cn(),this.AI=null,this.EI(),this.iI.tc(),this.iI=null,this.I2=null,this.kI=!0,Ue.delete(this)}DI(){this.aI=!0}OI(){this.DI(),this.oI=!0}U_(){this.OI(),this.hI=!0}LI(t){if(this.Y_!==(t=!!t)){this.Y_=t;const s=this.Y_?"alphabetic":"top";this.mI&&(this.mI.textBaseline=s),this.gI&&(this.gI.textBaseline=s),this.U_()}}N_(){return this.Y_}om(t){this.rm!==t&&(this.rm=t,this.iI.om(t),this.rm&&this.rm.Vg()&&this.rm.Hg().then(()=>this.DI()),this.U_())}BI(t){this.K_!==(t=!!t)&&(this.K_=t,this.DI())}NI(t){this.j_!==(t=t||"serif")&&(this.j_=t,this.U_())}W_(){return this.j_}WI(t){this.V_!==(t=t<.1?.1:t)&&(this.V_=t,this.U_())}UI(){return this.V_}jI(t){this.H_!==t&&(this.H_=t,this.U_())}VI(t){this.z_!==t&&(this.z_=t,this.OI())}HI(){return this.z_}zI(t){this.J_!==(t=!!t)&&(this.J_=t,this.U_())}JI(){return this.J_}qI(t){this.q_!==(t=!!t)&&(this.q_=t,this.U_())}$I(){return this.q_}XI(t){t=Math.floor(t),this.lI!==t&&(this.lI=t,this.DI())}YI(){return this.lI}KI(t,s){let e=[];(this.J_||s.fg("b"))&&e.push("bold"),(this.q_||s.fg("i"))&&e.push("italic");const i=s.ug("size"),r=(i?parseFloat(i.param):this.V_)*this.H_;e.push(t?r+"pt":r*this.ZI()+"pt");let n=this.j_,h=s.ug("font");return h&&h.param&&(n=h.param,this.Z_)&&!this.Q_.has(n)&&(this.Z_(n),this.Q_.add(n)),n&&(ke.has(n)?e.push(n):e.push('"'+n+'"')),e.join(" ")}Sb(t){t instanceof Ae.Vo&&(t=t.Ga()),this.X_!==t&&(this.X_=t,this.DI())}QI(t,s,e){Oe.Xo(t,s,e),this.Sb(Oe)}tC(t){if(!Le.has(t))throw new Error("invalid horizontal alignment");this.tI!==t&&(this.tI=t,this.OI())}sC(){return this.tI}eC(t){if(!Be.has(t))throw new Error("invalid vertical alignment");this.sI!==t&&(this.sI=t,this.OI())}iC(){return this.sI}rC(t){if(!Ne.has(t))throw new Error("invalid word wrap mode");this.rI!==t&&(this.rI=t,this.U_())}nC(){return this.rI}hC(t){if(!We.has(t))throw new Error("invalid text direction");this.nI!==t&&(this.nI=t,this.mI&&(this.mI.direction=this.nI),this.gI&&(this.gI.direction=this.nI),this.U_())}oC(){return this.nI}df(t){this.uf!==t&&(this.uf=t,this.U_())}aC(){return this.uf}ZI(){return this.CI*this.dI*self.devicePixelRatio}lC(n,h,o){if(void 0===o&&(o=1),!(n<=0||this.cI===n&&this.fI===h&&this.dI===o)){let t=this.cI,s=(this.cI=n,this.fI=h,this.dI=o,self.devicePixelRatio),e=(this.Xm=this.cI*this.dI*s,this.Ym=this.fI*this.dI*s,Math.max(this.Xm,this.Ym)),i=Math.min(this.I2.$v(),4096),r=1;i<e&&(r=i/e,this.Xm=Math.min(this.Xm*r,i),this.Ym=Math.min(this.Ym*r,i)),this.CI=r,this.cI!==t?this.U_():this.OI()}}lm(){return this.Xm}Mm(){return this.Ym}uC(){return this.dI}cC(){return this.fC(),this.iI.qm()}dC(){return this.fC(),this.iI.$m()+this.iI.hm()*(this.z_+4)-this.z_}pC(){this.fC();let t=0;for(const s of this.iI.nm())for(const e of s.Rm())t+=e.Em();return t}Qx(){return this.RI.l0(),this.mC(),this.Bv}gC(t,s){this.fC();const e=this.ZI(),i=this.iI.nm();for(const r of i){const n=r.Gm()*e;if(s>=r.og()-r.Mm()*e+n&&s<r.og()+n)for(const h of r.Rm())if(t>=h.ng()&&t<h.ng()+h.lm()*e)return h}return null}*yC(t){this.fC();const s=this.iI.nm();for(const e of s)for(const i of e.Rm()){const r=i.ug("tag");r&&Ae.br(r.param,t)&&(yield i)}}SC(t,s){for(const e of this.yC(t)){if(0===s)return e;--s}return null}wC(t){let s=0;for(const e of this.yC(t))++s;return s}mC(){this.Bv&&!this.aI&&!this.oI&&!this.hI||this.kI||this.Xm<=0||this.Ym<=0||(this.aI=!1,this.bC())}bC(){this.kI||(this.fC(),this.FI(Math.max(Ae.Ln(Math.ceil(this.Xm)),128),Math.max(Ae.Ln(Math.ceil(this.Ym)),64)),this.vC(),this.xC(),this.RI.l0())}FI(t,s){this.pI||(this.pI=Ae.Fo(16,16));let e=!1;this.SI===t&&this.wI===s||(this.SI=t,this.wI=s,this.pI.width=t,this.pI.height=s,e=!0),this.mI||(this.mI=this.pI.getContext("2d"),e=!0),e?(this.mI.textBaseline=this.Y_?"alphabetic":"top",this.mI.direction=this.nI,this.mI.font=this.bI,this.mI.fillStyle=this.xI,this.mI.strokeStyle=this.xI,this.mI.globalAlpha=this.MI,this.mI.lineWidth=this.TI):this.mI.clearRect(0,0,t,s)}MC(){this.gI||(this.gI=Ae.Fo(16,16).getContext("2d"),this.yI=Ae.Fo(16,16).getContext("2d"),this.gI.textBaseline=this.Y_?"alphabetic":"top",this.yI.textBaseline="top",this.gI.direction=this.nI,this.yI.direction=this.nI)}TC(t){this.vI!==t&&(this.vI=t,this.gI.font=t,this.yI.font=t)}GC(){if(!s){s=!0,this.MC();const t=this.gI.measureText("test");e="number"==typeof t.fontBoundingBoxAscent&&"number"==typeof t.fontBoundingBoxDescent}return e}fC(){this._C(),this.IC()}_C(){this.hI&&(this.MC(),!this.Y_||this.eI&&this.eI.toString()===this.uf||(this.eI=new Ae.kr(this.uf,{Dp:!0})),this.iI.tm(this.Y_?this.eI.Jp():this.uf,this.GI,this.cI,this.rI,0),this.hI=!1)}IC(){this.oI&&(this.CC(),this.oI=!1)}_I(t){let s=t.Sm()?t.Lm().join(""):" ",e=(this.TC(this.KI(!0,t)),t.ug("size")),i=(e?parseFloat(e.param):this.V_)*this.H_,r=this.gI.measureText(s),n=0;if(this.Y_&&this.GC()){const h=this.yI.measureText(s);n=r.fontBoundingBoxAscent-h.fontBoundingBoxAscent}return{width:r.width,height:4/3*i,fontBoundingBoxAscent:r.fontBoundingBoxAscent||0,fontBoundingBoxDescent:r.fontBoundingBoxDescent||0,ym:n}}RC(t){this.bI!==t&&(this.bI=t,this.mI.font=t)}EC(t){this.xI!==t&&(this.xI=t,this.mI.fillStyle=t,this.mI.strokeStyle=t)}FC(t){this.MI!==t&&(this.MI=t,this.mI.globalAlpha=t)}PC(t){this.TI!==t&&(this.TI=t,this.mI.lineWidth=t)}CC(){let i=this.ZI(),r=(4+this.z_)*i,n=0,h=this.iI.nm();if(0!==h.length){for(const s of h){s.rg(NaN),s.hg(NaN);for(const o of s.Rm())o.rg(NaN),o.hg(NaN)}let t=this.Y_&&this.GC(),e=h[0].Mm()*i;if("center"===this.sI){const a=h.reduce((t,s)=>t+s.Mm()*i+r,0)-r;n=Math.max(this.Ym/2-a/2,0),t&&(e=h[0]._m()*i)}else if("bottom"===this.sI){const l=h.reduce((t,s)=>t+s.Mm()*i+r,0)-this.z_*i,u=t?h.at(-1).Gm()*i:0;n=this.Ym-l-u-2}for(let t=0,s=h.length;t<s;++t){const c=h[t],f=c.Mm()*i,d=n;if(this.Y_){if(n+=0===t?e:f,0<t&&n>this.Ym-4*i)break}else if(0<t&&n>=this.Ym-f)break;0<=d&&this.AC(c,n,i),this.Y_||(n+=f),n+=r}}}AC(t,s,e){let i=0;"center"===this.tI?i=Math.floor((this.Xm-t.lm()*e)/2):"right"===this.tI&&(i=this.Xm-t.lm()*e),t.rg(i),t.hg(s);for(const r of"ltr"===this.nI?t.Rm():t.eg())this.kC(r,i,s,e),i+=r.lm()*e}kC(t,s,e,i){const r=t.ug("offsetx"),n=(s+=r?o(r.param,t.Mm())*i:0,t.ug("offsety"));if(e+=n?o(n.param,t.Mm())*i:0,t.vm()){const h=t.ug("iconoffsety");e+=h?o(h.param,t.Mm())*i:.2*t.Mm()*i}t.rg(s),t.hg(e)}vC(){this.mI.imageSmoothingEnabled=this.K_,this.mI.imageSmoothingQuality="high",this.uI=0;const t=this.ZI(),s=this.iI.nm();for(const e of s)this.DC(e,t)}DC(t,s){const e=t.ng(),i=t.og();if(Number.isFinite(e)&&Number.isFinite(i))for(const r of"ltr"===this.nI?t.Rm():t.eg())this.OC(r,s,t.Mm())}OC(h,o,a){const l=this.mI,u=h.ng(),c=h.og();if(Number.isFinite(u)&&Number.isFinite(c)){let t=a/16,s=h.lm()*o,e=h.Mm()*o,i=h.Mm()/16,r=(4+this.z_)*o,n=h.Sm()?h.Lm():null;if(-1!==this.lI){if(this.uI>=this.lI)return;h.Sm()&&this.uI+n.length>this.lI&&(n=n.slice(0,this.lI-this.uI),s=this._I(h).width*o),this.uI+=h.Em()}const f=h.ug("background"),d=h.fg("u"),p=h.fg("s");if((!h.Sm()||!Ae.V1(n)||f||d||p)&&!h.fg("hide")){const m=h.ug("color"),g=h.ug("opacity"),y=(this.FC(g?parseFloat(g.param)/100:1),f&&(this.EC(f.param),l.fillRect(u,c-e,s,e+r)),h.ug("linethickness")),S=y?parseFloat(y.param):1,w=h.fg("stroke");if(w&&this.PC(.5*i*S*this.ZI()),h.Sm()){const b=n.join("");if(this.RC(this.KI(!1,h)),!w){this.PC(.5*i*S*this.ZI());const v=h.ug("outlineback");v&&(this.EC(v.param),this.LC(!0,b,u,c,s))}if(this.EC(m?m.param:this.X_),this.LC(w,b,u,c,s),!w){this.PC(.5*i*S*this.ZI());const x=h.ug("outline");x&&(this.EC(x.param),this.LC(!0,b,u,c,s))}}else if(h.vm()&&0<h.lm()){const M=h.bg(this.rm);M&&l.drawImage(M,u,c-e,s,e)}if(this.EC(m?m.param:this.X_),d&&I(l,w,u,c+o*t,s,o*t*S),p){const T=c-e/4,G=o*i,_=T+G/2;l.fillRect(u,_-G*S/2,s,G*S)}}}}LC(t,s,e,i,r){"rtl"===this.nI&&(e+=r),t?"Gecko"===Ae.ue.ye?this.mI.strokeText(s,e,i,r):this.mI.strokeText(s,e,i):"Gecko"===Ae.ue.ye?this.mI.fillText(s,e,i,r):this.mI.fillText(s,e,i)}xC(){this.I2.BC()||(this.Bv||(this.Bv=this.I2.Vx(this.pI.width,this.pI.height,{kv:!0,Dv:"high"})),this.I2.NC(this.pI,this.Bv),this.II.set(0,0,this.Xm/this.Bv.lm(),this.Ym/this.Bv.Mm()),this.AI&&this.AI())}WC(){return this.II}EI(){this.Bv&&(this.I2.BC()||this.I2.qx(this.Bv),this.Bv=null)}static wb(){for(const t of Ue)t.EI()}static UC(){return Ue.values()}}}{const je=self.Bs;class Ve{constructor(t){this.bM=t.Xv(),this.jC=t.Yv(),this.VC=t.HC(),this.zC=null,this.a0=!1,this.JC=!1,this.qC=0,1===this.jC?this.zC=this.VC.createQueryEXT():this.zC=this.bM.createQuery()}cn(){this.$C(),this.bM=null,this.VC=null,this.JC=!1}$C(){this.zC&&(1===this.jC?this.VC.deleteQueryEXT(this.zC):this.bM.deleteQuery(this.zC),this.zC=null)}p_(){if(this.a0)throw new Error("query already active");1===this.jC?this.VC.beginQueryEXT(this.VC.TIME_ELAPSED_EXT,this.zC):this.bM.beginQuery(this.VC.TIME_ELAPSED_EXT,this.zC),this.a0=!0}y_(){if(!this.a0)throw new Error("query not active");1===this.jC?this.VC.endQueryEXT(this.VC.TIME_ELAPSED_EXT):this.bM.endQuery(this.VC.TIME_ELAPSED_EXT),this.a0=!1}XC(){if(this.zC&&!this.JC&&!this.a0){let t;t=1===this.jC?this.VC.getQueryObjectEXT(this.zC,this.VC.QUERY_RESULT_AVAILABLE_EXT):this.bM.getQueryParameter(this.zC,this.bM.QUERY_RESULT_AVAILABLE);const s=this.bM.getParameter(this.VC.GPU_DISJOINT_EXT);t&&!s&&(1===this.jC?this.qC=this.VC.getQueryObjectEXT(this.zC,this.VC.QUERY_RESULT_EXT):this.qC=this.bM.getQueryParameter(this.zC,this.bM.QUERY_RESULT),this.qC/=1e9,this.JC=!0),(t||s)&&this.$C()}}YC(){return this.JC}KC(){if(this.JC)return this.qC;throw new Error("no result available")}}je.iy.ZC=class{constructor(t){this.I2=t,this.hS=t.u2(),this.a0=!1,this.QC=null,this.tR=!1,this.sR=null,this.eR=[]}cn(){for(const t of this.eR)t instanceof Ve&&t.cn();je.Lh(this.eR),this.QC=null,this.sR=null,this.I2=null}p_(){if(this.a0)throw new Error("query already active");const t=this.I2.iR();0<t.length?(this.tR=!0,this.QC=t.at(-1),this.QC.rR(),this.QC.eR.push(this)):(this.tR=!1,this.QC=null),this.a0=!0,t.push(this),this.nR()}y_(){if(!this.a0)throw new Error("query not active");const t=this.I2.iR().pop();if(t!==this)throw new Error("can only end most nested query");this.a0=!1,this.rR(),this.QC&&(this.QC.nR(),this.QC=null)}nR(){this.sR=je.un(Ve,this.I2),this.eR.push(this.sR),this.sR.p_()}rR(){this.sR.y_(),this.sR=null}XC(){for(const t of this.eR)t.XC()}hR(){return this.tR}YC(){return this.eR.every(t=>t.YC())}KC(){return this.eR.reduce((t,s)=>t+s.KC(),0)}u2(){return this.hS}}}{const He=self.Bs;He.iy.oR=class{constructor(t,s=1e3){this.I2=t,this.aR=s,this.lR=[],this.I2.uR(this)}cn(){this.tc(),this.I2.cR(this),this.I2=null}tc(){for(const t of this.lR)t.cn();He.Lh(this.lR)}fR(){const t=new He.iy.ZC(this.I2);if(this.lR.push(t),this.lR.length>this.aR){const s=this.lR.shift();s.cn()}return t}dR(t){for(const s of this.lR){if(s.u2()>=t)return;if(s.hR())return;s.XC()}}pR(t,s){if(s<=t)return NaN;let e=0;for(const i of this.lR){if(i.u2()>=s)break;if(!(i.u2()<t)){if(!i.YC())return NaN;e+=i.KC()}}return e}mR(e){for(let t=0,s=this.lR.length;t<s;++t){const i=this.lR[t];if(!(i.u2()<e))return void(0<t&&this.lR.splice(0,t));i.cn()}}}}{let e=function(){r=-1;for(const t of i)t.gR()&&(t.resolve(),i.delete(t));0<i.size&&(r=self.requestAnimationFrame(e))},b=(e,self.Bs),t=self.vs,v=(t.Rs,t.Es),y=t.Gs,n={powerPreference:"default",yR:!0,alpha:!1,depth:!1,SR:!1,wR:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),c=new b.Ql(0,0,1,0,1,1,0,1),S=y.create(),w=y.create(),x=new b.Ql,M=new b.Rect,T=null,i=(b.isDebug&&(self.bR=function(){T?T.loseContext():console.warn("WEBGL_lose_context not supported")},self.vR=function(){T?T.restoreContext():console.warn("WEBGL_lose_context not supported")}),new Set),r=-1;b.iy.xR=class extends b.iy._y{constructor(t,s){if(super(s),s=Object.assign({},n,s),!h.has(s.powerPreference))throw new Error("invalid power preference");let e={alpha:!!s.alpha,depth:!1,antialias:!1,powerPreference:s.powerPreference,failIfMajorPerformanceCaveat:!!s.failIfMajorPerformanceCaveat},i=null,r=0;if(2<=s.wR&&(i=t.getContext("webgl2",e),r=2),i||(i=t.getContext("webgl",e),r=1),!i)throw new Error("renderer-unavailable (could not get WebGL context)");this.bM=i,this.MR=i.getContextAttributes(),this.TR=i.getParameter(i.VERSION),this.jC=r,this.GR=v.create(),this._R=!1,this.IR=y.create(),this.CR=!!s.depth,this.RR=!(!s.depth||!s.SR),this.ER=this.CR,this.FR=!1,this.PR=null,this.AR=!0,this.kR=0,this.DR=0,this.MM=null,this.TM=null,this.OR=null,this.GM=null,this.LR=new Float32Array(8e3*this.o2()),this.BR=new Uint16Array(12e3),this.NR=new Float32Array(16e3),this.WR=new Float32Array(32e3),this.UR=0,this.jR=0,this.VR=0,this.HR=0,this.zR=null,this.JR=null,this.qR=[],this.$R=0,this.YR=0,this.KR=null,this.ZR=0,this.vG=b.un(b.iy.gG,this),this.QR=b.un(b.Vo,1,1,1,1),this.t3=null,this.n_=null,this.s3=0,this.e3=0,this.i3=new b.Rect,this.r3=b.un(b.Rect,0,0,-1,-1),this.n3=0,this.h3=-1,this.o3=0,this.a3=0,this.l3=0,this.u3="(unavailable)",this.f3="(unavailable)",this.d3=[],this.m3=!1,this.g3=null,this.y3=null,this.S3=null,this.w3=null,this.b3=null,this.v3=null,this.x3=0,this.M3=!!s.yR,this.VC=null,this.T3=new Set,this.G3=[],this.lS(this.BR)}S2(){return!0}async fS(){super.fS();const t=this.bM,s=this.o2(),e=(this.QR.$o(1,1,1,1),this.t3=null,this.n_=null,this.UR=0,this.VR=0,this.HR=8e3*s-4*s,b.Lh(this.qR),this.$R=0,this.YR=0,this.zR=null,this.KR=null,this.i3.set(0,0,1,1),this.ZR=0,this.vG),i=(e.gT=null,e.Xx=null,e.Yx=null,v.set(e.SG,1,1,1,1),e.clearColor.$o(0,0,0,0),e.wG.set(0,0,1,1),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.s3=t.ONE,this.e3=t.ONE_MINUS_SRC_ALPHA,this._3(t),t.disable(t.CULL_FACE),t.disable(t.STENCIL_TEST),t.disable(t.DITHER),this.CR?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1)),this.ER=this.CR,this.FR=!1,this.GM=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.GM),t.bufferData(t.ARRAY_BUFFER,this.WR.byteLength,t.DYNAMIC_DRAW),this.MM=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.MM),t.bufferData(t.ARRAY_BUFFER,this.LR.byteLength,t.DYNAMIC_DRAW),this.TM=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.TM),t.bufferData(t.ARRAY_BUFFER,this.NR.byteLength,t.DYNAMIC_DRAW),this.OR=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.OR),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.BR,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),this.h3=t.getParameter(t.MAX_TEXTURE_SIZE),t.getParameter(t.ALIASED_POINT_SIZE_RANGE)),r=(this.o3=i[0],this.a3=i[1],t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT)),n=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT),h=(this.l3=r&&n?Math.min(r.precision,n.precision):0,2048<this.a3&&(this.a3=2048),this.d3=t.getSupportedExtensions(),t.getExtension("WEBGL_debug_renderer_info"));if(h&&(this.u3=t.getParameter(h.UNMASKED_VENDOR_WEBGL),this.f3=t.getParameter(h.UNMASKED_RENDERER_WEBGL)),this.g3=t.getExtension("KHR_parallel_shader_compile"),b.isDebug&&(T=t.getExtension("WEBGL_lose_context")),this.M3&&(1===this.Yv()?this.VC=t.getExtension("EXT_disjoint_timer_query"):this.VC=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query")),this.y3=t.getExtension("EXT_texture_filter_anisotropic"),this.y3?this.x3=t.getParameter(this.y3.MAX_TEXTURE_MAX_ANISOTROPY_EXT):this.x3=0,this.Yv()<2&&this.CR&&this.RR&&(this.S3=t.getExtension("WEBGL_depth_texture"),!this.S3))throw new Error("no depth texture support");this.Yv()<2&&(this.w3=t.getExtension("EXT_frag_depth"),this.b3=t.getExtension("OES_standard_derivatives"),this.v3=t.getExtension("EXT_shader_texture_lod"));let o=b.iy.pM,a=o.BT(!1),l=o.WT(),u=a,c=o.XT(),f=o.qT(),d=o.VT(),p=o.BT(!0),m=!1;this.CR&&(this.Yv()<2?this.w3&&(l=o.UT(),c=o.YT(),d=o.HT(),m=!0):(u=o.NT(),l=o.jT(),c=o.KT(),f=o.$T(),d=o.zT(),p=o.NT(!0)));const g=o.JT(this.Yv(),m,this.b3&&this.v3),y=2<=this.Yv()?o.NT():a,S=[[l,u,"<default>"],[l,u,"<default-device-transform>"],[c,f,"<point>"],[o.ZT(),a,"<fill>"],[o.QT(),a,"<lineargradient>"],[o.tG(),a,"<penumbra>"],[o.eG(),a,"<hardellipse>"],[o.iG(),a,"<hardellipseoutline>"],[o.rG(),a,"<smoothellipse>"],[o.nG(),a,"<smoothellipseoutline>"],[o.sG(),a,"<smoothline>"],[d,p,"<tilemap>"],[g,y,"<tilerandomization>"]],w=await Promise.all(S.map(t=>this.I3({src:t[0],gM:t[1],name:t[2]})));this.Oy=w[0],this.JR=w[1],this.Ly=w[2],this.Wy=w[3],this.Uy=w[4],this.jy=w[5],this.Vy=w[6],this.Hy=w[7],this.zy=w[8],this.Jy=w[9],this.qy=w[10],this.By=w[11],this.Ny=w[12],this.OS()}async I3(t){const s=await b.iy.pM.wM(this,t);return this.PS(s),s}C3(){this.zR=null}lC(t,s,e){if(this.Xm!==t||this.Ym!==s||e){this.l2();const i=this.bM,r=this.vG;this.Xm=t,this.Ym=s,this.R3(0,0,t,s),this.IS(this.IR,t/s),this.E3(this.IR),this.JR&&(i.useProgram(this.JR.ST()),this.JR.cT(this.Ry),this.zR=this.JR,this.vG.gT=this.JR),i.bindTexture(i.TEXTURE_2D,null),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,null),i.activeTexture(i.TEXTURE0),this.t3=null,this.n_=null,this.CR&&this.AR&&this.F3(this.Xm,this.Ym),this.KR&&this.KR.Jx(this.Xm,this.Ym),i.bindFramebuffer(i.FRAMEBUFFER,null),this.KR=null,r.Xx=null,r.Yx=null}}F3(t,s){const e=this.bM;this.PR&&this.kR===t&&this.DR===s||(this.RR?(this.PR&&e.deleteTexture(this.PR),this.PR=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.PR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),2<=this.Yv()?e.texImage2D(e.TEXTURE_2D,0,e.DEPTH24_STENCIL8,t,s,0,e.DEPTH_STENCIL,e.UNSIGNED_INT_24_8,null):this.S3&&e.texImage2D(e.TEXTURE_2D,0,e.DEPTH_STENCIL,t,s,0,e.DEPTH_STENCIL,this.S3.UNSIGNED_INT_24_8_WEBGL,null),e.bindTexture(e.TEXTURE_2D,null)):(this.PR&&e.deleteRenderbuffer(this.PR),this.PR=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.PR),e.renderbufferStorage(e.RENDERBUFFER,2<=this.jC?e.DEPTH24_STENCIL8:e.DEPTH_STENCIL,t,s),e.bindRenderbuffer(e.RENDERBUFFER,null)),this.kR=t,this.DR=s)}P3(t,s){this.CR&&(this.AR=!1,this.F3(t,s))}A3(){this.CR&&(this.AR=!0,this.F3(this.Xm,this.Ym))}R3(t,s,e,i){const r=this.GR;if(r[0]!==t||r[1]!==s||r[2]!==e||r[3]!==i){const n=this.D3();n.WG(t,s,e,i),v.set(r,t,s,e,i),this.YR=0}}xS(t){super.xS(t),this.IS(this.IR,this.Xm/this.Ym)}SS(t){super.SS(t),this.IS(this.IR,this.Xm/this.Ym)}bS(t){super.bS(t),this.IS(this.IR,this.Xm/this.Ym)}E3(t){if(!y.U(this.Ry,t)){const s=this.D3();s.jG(t),y.I(this.Ry,t),this.YR=0,this._R=!0}}O3(){let t,s,e,i=this.KR;e=(null===i?(t=this.IR,s=this.lm(),this):(t=i.tM(),s=i.lm(),i)).Mm(),this.E3(t),this.R3(0,0,s,e)}L3(t){if(!y.U(this.Ey,t)){const s=this.D3();s.HG(t),y.I(this.Ey,t),this.YR=0,this._R=!0}}B3(){this._R=!1}N3(){return this._R}$x(){return this.vG}D3(){const t=this.qR;return this.$R===t.length&&t.push(new b.iy.bG(this.vG)),t[this.$R++]}l2(){0===this.$R||this.BC()||(this.W3(),this.U3(),this.$R=0,this.UR=0,this.jR=0,this.VR=0,this.YR=0)}W3(){const t=this.bM;0<this.VR&&(t.bindBuffer(t.ARRAY_BUFFER,this.GM),t.bufferSubData(t.ARRAY_BUFFER,0,this.WR.subarray(0,this.VR))),0<this.UR&&(t.bindBuffer(t.ARRAY_BUFFER,this.MM),t.bufferSubData(t.ARRAY_BUFFER,0,this.LR.subarray(0,this.UR)),t.bindBuffer(t.ARRAY_BUFFER,this.TM),t.bufferSubData(t.ARRAY_BUFFER,0,this.NR.subarray(0,this.jR)))}U3(){const e=this.qR;for(let t=0,s=this.$R;t<s;++t)e[t].B_()}j3(){return this.QR.aa()}V3(t,s,e,i){const r=this.QR;if(!r.ya(t,s,e,i)){r.$o(t,s,e,i);const n=this.D3();n.kG(r),this.YR=0,this.Xy=null}}H3(t){const s=this.QR;if(s.aa()!==t){s.ea(t);const e=this.D3();e.kG(s),this.YR=0,this.Xy=null}}Sb(t){const s=this.QR;if(!s.equals(t)){s.set(t);const e=this.D3();e.kG(s),this.YR=0,this.Xy=null}}z3(){this.V3(1,1,1,1)}J3(){return this.QR}q3(t){if(t!==this.t3){const s=this.D3();s.PG(t),this.t3=t,this.YR=0}}tx(){this.t3=null}yb(t){const s=this.fw(t);this.X3(s[0],s[1])}Y3(t){const s=this.gw(t);this.X3(s.uw,s.cw)}X3(t,s){if(t!==this.s3||s!==this.e3){const e=this.D3();e.BG(t,s),this.s3=t,this.e3=s,this.YR=0,this.Xy=null}}K3(){return this.s3===this.bM.ONE&&this.e3===this.bM.ONE_MINUS_SRC_ALPHA}Z3(){this.X3(this.bM.ONE,this.bM.ONE_MINUS_SRC_ALPHA)}Q3(){this.X3(this.bM.SRC_ALPHA,this.bM.ONE_MINUS_SRC_ALPHA)}tE(){this.X3(this.bM.ONE,this.bM.ZERO)}Rect(t){this.sE(t.Ml(),t.Tl(),t.Gl(),t._l())}sE(t,s,e,i){this.h2(t,s,e,s,e,i,t,i)}eE(){let t=this.UR;if(t>=this.HR&&(this.l2(),t=0),1===this.YR)this.qR[this.$R-1].MG+=6;else{const s=this.D3();s.EG(t,6),this.YR=1}}iE(t){t.wu(this.LR,this.UR,this.Zy+this.Qy),this.UR+=12}Ql(t){this.eE(),this.iE(t),c.ua(this.NR,this.jR),this.jR+=8}h2(t,s,e,i,r,n,h,o){this.eE();let a=this.LR,l=this.UR,u=this.Zy+this.Qy;a[l++]=t,a[l++]=s,a[l++]=u,a[l++]=e,a[l++]=i,a[l++]=u,a[l++]=r,a[l++]=n,a[l++]=u,a[l++]=h,a[l++]=o,a[l++]=u,this.UR=l,c.ua(this.NR,this.jR),this.jR+=8}Pw(t,s){this.eE(),this.iE(t),s.Rl(this.NR,this.jR),this.jR+=8}rE(t,s){this.eE(),this.iE(t),s.ua(this.NR,this.jR),this.jR+=8}nE(t,s,e,i,r,n,h,o,a,l,u,c,f){this.eE();let d=this.LR,p=this.UR,m=this.Zy+this.Qy;d[p++]=t,d[p++]=s,d[p++]=m+e,d[p++]=i,d[p++]=r,d[p++]=m+n,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=l,d[p++]=u,d[p++]=m+c,this.UR=p,f.Rl(this.NR,this.jR),this.jR+=8}Iw(t,s,e,i,r,n,h,o,a,l,u,c,f){this.eE();let d=this.LR,p=this.UR,m=this.Zy+this.Qy;d[p++]=t,d[p++]=s,d[p++]=m+e,d[p++]=i,d[p++]=r,d[p++]=m+n,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=l,d[p++]=u,d[p++]=m+c,this.UR=p,f.ua(this.NR,this.jR),this.jR+=8}hE(i,r,n){const h=this.LR,o=this.NR;if(n.length%3!=0)throw new Error("invalid index buffer length");for(let e=0,t=n.length;e<t;){const a=n[e++],l=n[e++],u=n[e++],c=3*a,f=3*l,d=3*u,p=2*a,m=2*l,g=2*u;this.eE();let t=this.UR,s=this.jR;h[t++]=i[0+c],h[t++]=i[1+c],h[t++]=i[2+c],h[t++]=i[0+f],h[t++]=i[1+f],h[t++]=i[2+f],h[t++]=i[0+d],h[t++]=i[1+d],h[t++]=i[2+d],h[t++]=i[0+d],h[t++]=i[1+d],h[t++]=i[2+d],o[s++]=r[0+p],o[s++]=r[1+p],o[s++]=r[0+m],o[s++]=r[1+m],o[s++]=r[0+g],o[s++]=r[1+g],o[s++]=r[0+g],o[s++]=r[1+g],this.UR=t,this.jR=s}}oE(t,s){this.bw(0),y.I(S,this.Ry),y.I(w,this.Ey),this.O3();const[e,i]=this.aE(this.KR),r=this.FS(0,0,this.pS(i),0,0,0,i);if(this.L3(r),"crop"===t&&this.KR&&s){const n=this.Xm/2,h=this.Ym/2,o=s.lm(),a=s.Mm(),l=this.KR.lm(),u=this.KR.Mm(),c=Math.min(l,o),f=Math.min(u,a),d=Math.max(a-u,0),p=Math.max(u-a,0);M.set(-n,h-p,-n+c,h-f-p),x.bu(M),M.set(0,d,c,f+d),M.Ct(o,a),this.Pw(x,M)}else{const m=e/2,g=i/2;this.sE(-m,g,m,-g)}this.E3(S),this.L3(w)}lE(t){if(!this.i3.equals(t)){this.i3.I(t);const s=this.D3();s.KG(t),this.YR=0}}uE(){}cE(t,s,e,i){7996<=this.VR&&this.l2();let r=this.VR,n=this.Zy+this.Qy;if(2===this.YR&&this.ZR===n)this.qR[this.$R-1].MG++;else{const o=this.D3();o.QG(r,n),this.YR=2,this.ZR=n}const h=this.WR;h[r++]=t,h[r++]=s,h[r++]=e,h[r++]=i,this.VR=r}LS(t){if(this.zR!==t){const s=this.D3();s.s_(t),this.zR=t,this.YR=0,this.Xy=null}}fE(){return this.zR}dE(){this.LS(this.JR)}pE(t){const s=this.D3();s.OG(t),this.YR=0}mE(t,s,e=1){const i=this.D3();i.S_(t,s,e),this.YR=0}gE(t,s,e,i,r,n,h){if(this.zR!==this.By)throw new Error("must set tilemap fill mode first");const o=this.D3();o.b_(t,s,e,i,r,n,h),this.YR=0}yE(t,s,e,i,r,n,h){if(this.zR!==this.Ny)throw new Error("must set tile randomization mode first");const o=this.D3();o.x_(t,s,e,i,r,n,h),this.YR=0}SE(t,s,e,i,r,n,h,o,a,l,u){const c=this.zR;if(u%=10800,c.sT&&!c._T(s,e,i,r,n,h,o,a,l,u)){const f=this.D3(),d=(f.i_(),c.RT(s,e,i,r,n,h,o,a,l,u),f.GG),p=(d[0]=n,d[1]=h,s.ua(d,2),d[6]=a,d[7]=l,e.ua(d,12),f._G),m=(r.ua(p,0),p[1]);p[1]=p[3],p[3]=m,i.ua(f.IG,0),f.xG=u,f.MG=o,c.BM.eT()?f.TG=t?t.Qx():null:f.TG=null,this.YR=0}}wE(t){const s=this.zR;if(0!==t.length&&!s.xT(t)){const e=this.D3();e.h_(),s.TT(t),b.Uh(e.CG,t),this.YR=0}}bE(t,s,e,i){const r=this.D3();r.XG(t,s,e,i),this.YR=0}tc(t){const s=this.D3();s.$G(t),this.YR=0}vE(){}a2(){super.a2(),this.bM.flush()}xE(){if(this.CR&&this.KR&&this.KR.rM()){const t=this.D3();t.T_(this.ER),this.YR=0}}ME(t){if(this.ER!==(t=!!t)&&this.CR){this.ER=t;const s=this.D3();s.__(t),this.YR=0}}TE(){return this.ER}Hx(){return this.PR}zx(){return this.RR}GE(t){if(t=!!t,this.RR&&this.FR!==t){if(t&&this.TE())throw new Error("depth still enabled");this.FR=t;const s=this.D3();s.C_(t),this.YR=0}}_E(t,s,e,i,r=0){if(t=Math.floor(t),s=Math.floor(s),e=Math.floor(e),i=Math.floor(i),!this.r3.xl(t,s,e,i)){this.r3.ml(t,s,e,i);const n=r||this.aE(this.IE())[1],h=(s=n-s-i,this.D3());h.O_(!0,t,s,e,i),this.YR=0}}CE(){if(-1!==this.r3.Gl()){this.r3.set(0,0,-1,-1);const t=this.D3();t.O_(!1,0,0,0,0),this.YR=0}}RE(){for(const t of this.T3)t.dR(this.hS)}BC(){return!this.bM||this.bM.isContextLost()||this.m3}wb(){super.dS(),b.iy.Lv.wb(),b.iy.Cx.wb(),b.iy.G2.wb();for(const t of this.T3)t.tc();this.d3=[],this.VC=null,this.g3=null,this.y3=null,this.S3=null,this.w3=null,this.b3=null,this.v3=null,this.x3=0,this.u3="(unavailable)",this.f3="(unavailable)",this.zR=null,this.JR=null,this.PR=null;for(const s of this.$y.values())s.wb()}async bb(){this.m3=!0,await this.fS(),this.m3=!1;for(const t of this.$y.values())t.bb(this);this.lC(this.Xm,this.Ym,!0)}EE(t,s){if(this.BC())throw new Error("context lost");this.l2();const e=b.un(b.iy.Lv,this);return e.qv(t,s),e}async FE(i,r){if(this.BC())throw new Error("context lost");if(r=Object.assign({},r),b.je.ImageBitmapOptions){let t=await createImageBitmap(i,{premultiplyAlpha:"premultiply"}),s=r.Rv&&"clamp-to-edge"!==r.Rv||r.Ev&&"clamp-to-edge"!==r.Ev,e=b.On(t.width)&&b.On(t.height);return this.Kv()||e||!s?r.premultiplyAlpha=!1:b.je.qe?(t=await createImageBitmap(i,{premultiplyAlpha:"premultiply",resizeWidth:b.Ln(t.width),resizeHeight:b.Ln(t.height)}),r.premultiplyAlpha=!1):t=await createImageBitmap(i,{premultiplyAlpha:"none"}),b.Lf(()=>this.EE(t,r))}if(i instanceof Blob){if("undefined"==typeof Image)throw new Error("texture upload variant not supported in worker");const t=await b.Eo(i);i=t}return b.Lf(()=>this.EE(i,r))}Vx(t,s,e){this.l2();const i=b.un(b.iy.Lv,this);return i.ix(t,s,e),i}NC(t,s,e){this.l2(),s.mx(t,e)}qx(t){t&&(t.bx(),0<t.vx()||(this.l2(),t===this.t3&&(this.bM.bindTexture(this.bM.TEXTURE_2D,null),this.t3=null),t===this.n_&&(this.bM.activeTexture(this.bM.TEXTURE1),this.bM.bindTexture(this.bM.TEXTURE_2D,null),this.bM.activeTexture(this.bM.TEXTURE0),this.n_=null),t.gx()))}PE(t){let s=this.Xm,e=this.Ym,i=!0;if(t&&("number"==typeof t.width&&(s=Math.floor(t.width),i=!1),"number"==typeof t.height)&&(e=Math.floor(t.height),i=!1),s<=0||e<=0)throw new Error("invalid size");this.l2();const r=b.un(b.iy.Cx,this);return r.Ux(s,e,Object.assign({_x:i},t)),this.KR=null,this.vG.Xx=null,this.vG.Yx=null,r}AE(t,s=!0){if(t!==this.KR){t&&t.nM()&&t.Jx(this.Xm,this.Ym);const e=this.D3();e.JG(t),this.KR=t,this.YR=0,s&&this.O3()}}IE(){return this.KR}aE(t){return t?[t.lm(),t.Mm()]:[this.Xm,this.Ym]}kE(t,s="stretch"){if(this.jC<2||this.KR&&0<this.KR.hM())this.tE(),this.z3(),this.DE(t,s);else{const e=this.D3();e.u_(t,this.KR,s),this.YR=0}}DE(t,s="stretch"){const e=t.Qx();if(!e)throw new Error("not a texture-backed render target");this.q3(e),this.oE(s,e)}OE(t){if(!(this.jC<2)){const s=this.D3();s.a_(t.Kx()),this.YR=0}}LE(t){this.AE(null),this.l2();const s=t.Qx();s===this.t3&&(this.bM.bindTexture(this.bM.TEXTURE_2D,null),this.t3=null),s===this.n_&&(this.bM.activeTexture(this.bM.TEXTURE1),this.bM.bindTexture(this.bM.TEXTURE_2D,null),this.bM.activeTexture(this.bM.TEXTURE0),this.n_=null),t.gx()}async cM(t,s,e){this.l2();let i=this.KR,r,n,h,o=(h=t?(r=t.lm(),n=t.Mm(),t.Kx()):(r=this.lm(),n=this.Mm(),null),0),a=0,l=r,u=n;if(e){o=b.yn(Math.floor(e.Ml()),0,r-1),a=b.yn(Math.floor(e.Tl()),0,n-1);let t=e.width(),s=(t=0===t?r-o:b.yn(Math.floor(t),0,r-o),e.height());s=0===s?n-a:b.yn(Math.floor(s),0,n-a),l=t,u=s,a=n-(a+u)}let c=this.bM,f=(c.bindFramebuffer(c.FRAMEBUFFER,h),()=>{c.bindFramebuffer(c.FRAMEBUFFER,null),this.KR=null,this.vG.Xx=null,this.vG.Yx=null,this.AE(i)}),d;if(!s&&2<=this.Yv()){c.bindFramebuffer(c.READ_FRAMEBUFFER,h);const p=c.createBuffer(),m=l*u*4,g=c.PIXEL_PACK_BUFFER,y=(c.bindBuffer(g,p),c.bufferData(g,m,c.STREAM_READ),c.readPixels(o,a,l,u,c.RGBA,c.UNSIGNED_BYTE,0),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindBuffer(g,null),f(),c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0));await this.SM(()=>c.getSyncParameter(y,c.SYNC_STATUS)===c.SIGNALED),c.deleteSync(y),d=new ImageData(l,u),c.bindBuffer(g,p),c.getBufferSubData(g,0,new Uint8Array(d.data.buffer),0,m),c.bindBuffer(g,null),c.deleteBuffer(p)}else d=new ImageData(l,u),c.readPixels(o,a,l,u,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),f();return d}BE(){this.ME(!0);const t=this.D3();t.E_(),this.YR=0,this.n3=1}NE(){this.ME(!1);const t=this.D3();t.P_(),this.YR=0,this.n3=2}WE(){return 2===this.n3}UE(){this.ME(!0);const t=this.D3();t.k_(),this.YR=0,this.n3=0}jE(t){if(this.VE()){const s=this.D3();s.f_(t),this.YR=0}}HE(t){if(this.VE()){const s=this.D3();s.m_(t),this.YR=0}}SM(s){const t=new Promise(t=>i.add({resolve:t,gR:s}));return-1===r&&(r=self.requestAnimationFrame(e)),t}w2(){return this.Xm*this.Ym*(this.MR.alpha?4:3)}b2(){let t=0;for(const s of b.iy.Cx.fM())s.Qx()||(t+=s.Mx());return t}v2(){let t=0;for(const s of b.iy.Lv.Tx())t+=s.Mx();return t}zE(){return this.TR}Yv(){return this.jC}JE(){return"webgl"+this.Yv()}Kv(){return 2<=this.Yv()}$v(){return this.h3}qE(){return this.o3}$E(){return this.a3}XE(){return 0!==this.l3}YE(){return this.l3}KE(){return this.u3}ZE(){return this.f3}QE(){if(2<=this.Yv())return"webgl2";{const t=[];return this.w3&&t.push("EXT_frag_depth"),this.b3&&t.push("OES_standard_derivatives"),this.v3&&t.push("EXT_shader_texture_lod"),0<t.length?"webgl1:"+t.join(","):"webgl1:none"}}tF(){return this.d3}VE(){return!!this.VC}HC(){return this.VC}yM(){return this.g3}ox(){return this.y3}ux(){return this.x3}uR(t){this.T3.add(t)}cR(t){this.T3.delete(t)}iR(){return this.G3}Xv(){return this.bM}_3(t){this.lw([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}sF(){return this.T2()}}}{const ze=self.Bs,Je={eF:null,iF:null,rF:null,getTime:null,nF:null};ze.iy.hF=class{constructor(t){t=Object.assign({},Je,t),this.oF=t.eF,this.aF=t.iF,this.lF=t.rF,this.uF=t.getTime,this.cF=t.nF,this.fF=null,this.dF=new Set}pF(t){this.dF.add(t)}mF(t){this.dF.delete(t)}wb(){this.fF=null;for(const t of this.dF)t.wb()}gF(t){return this.oF?this.oF(t):[t.lm(),t.Mm()]}IE(t){return this.aF(t)}yF(t,s){this.lF(t,s)}SF(){return this.uF()}t1(t){this.cF(t)}wF(t,s,e){return s=Math.floor(s),e=Math.floor(e),!this.fF||this.fF.lm()===s&&this.fF.Mm()===e||(t.qx(this.fF),this.fF=null),null===this.fF&&(this.fF=t.EE(null,{width:s,height:e,Fv:"nearest",kv:!1})),this.fF}}}{const o=self.Bs,qe=self.vs,Mr=qe.Gs,$e=o.un(o.Rect),Xe=o.un(o.Rect),Ye=o.un(o.Rect),Ke=o.un(o.Rect),Ze=Mr.create(),Qe=Mr.create(),ti={bF:null,vF:null,xF:null,MF:!1},si={TF:null,GF:!1,_F:!1,IF:!1,CF:!1,RF:!1,EF:!1};o.iy.FF=class{constructor(t,s){s=Object.assign({},ti,s),this.u1=t,this.PF=s.bF,this.AF=s.vF,this.kF=s.xF,this.DF=null,this.OF=[],this.LF=[],this.BF=[],this.NF=!1,this.fb=0,this.WF=!1,this.UF=!1,this.jF=!1,this.VF=!1,this.HF=!1,this.zF=!1,this._R=!1,this.JF=!1,this.qF=!1,this.$F=!1,this.XF=!1,this.YF=!1,this.KF=0,this.ZF=[null,null,null],this.QF=!!s.MF,this.tP=0,this.sP=0,this.eP=0,this.iP=0,this.rP=null,this.nP=null,this.hP=o.un(o.Rect),this.oP=o.un(o.Rect),this.aP=o.un(o.Rect),this.lP=o.un(o.Rect),this.uP=o.un(o.Rect),this.cP=1,this.fP=1,this.dP=0,this.pP=0,this.mP=null,this.gP=null,this.yP=0,this.SP=0,this.wP=!1,this.Lx=Mr.create(),this.bP=Mr.create(),this.u1.pF(this)}cn(){this.u1.mF(this),o.Lh(this.BF),o.Lh(this.OF),o.Lh(this.LF),this.rP=null,this.nP=null,this.PF=null,this.AF=null,this.kF=null}wb(){this.NF=!0,o.Lh(this.BF),o.Lh(this.OF),o.Lh(this.LF)}vP(){return this.NF}xP(r,t){if(t=Object.assign({},si,t),o.Lh(this.BF),this.tP=0,this.sP=0,this.WF=!1,this.UF=!1,this.jF=!1,this.VF=!1,this.HF=!1,this.zF=!1,this.KF=0,this.YF=!!t.CF,this.XF=!!t.EF,this.NF=!1,o.Uh(this.OF,r),0!==r.length){if(t.TF){if(t.TF.length!==r.length)throw new Error("incorrect indexMap length");o.Uh(this.LF,t.TF)}else{o.Lh(this.LF);for(let t=0,s=r.length;t<s;++t)this.LF.push(t)}for(const s of r)this.tP+=s.Z2(),this.sP+=s.Q2(),s.rb()&&(this.WF=!0),s.hb()&&(this.UF=!0),s.nb()&&(this.jF=!0),s.tb()&&(this.VF=!0),s.lb()&&(this.HF=!0);this.zF=this.MP(r[0].Y2());const n=this.TP(r[0],t),h=this.GP(r.at(-1),t);if(1!==r.length||n||h){this.$F=!1;let i=0;n&&(this.KF=1,this.BF.push(o.un(o.iy.FF.IP._P,this,-1,1)),i=1);for(let s=0,e=r.length;s<e;++s)if(0!==s||n){let t=1===i?2:1;s!==e-1||h||(t=0),this.KF=Math.max(this.KF,t),this.BF.push(o.un(o.iy.FF.IP.CP,this,i,t,s)),i=t}else this.KF=1,this.BF.push(o.un(o.iy.FF.IP.RP,this,-1,1,s)),i=1;h&&this.BF.push(o.un(o.iy.FF.IP.EP,this,i,0))}else this.$F=!0}}TP(t,s){return!!(s.GF||t.sb()||s.IF&&!t.ib()||t.hb()&&!this.XF||0!==this.tP||0!==this.sP)||(t.Y2().S2()?t.nb()&&(s.RF||s.CF)||t.ob()&&s.CF:t.nb()&&!this.zF&&s.RF)}GP(t,s){return!!s._F||(t.Y2().S2()?t.nb()||t.tb():(t.nb()||t.tb())&&this.FP())}MP(t){return t.CS()&&this.jF&&!this.VF}PP(t,s,e){t.CS()&&null===s&&(s=t.GetBackbufferRenderTarget()),this.mP=s,this.rP=e.AP||null,this.nP=e.contextObject||null,this.fb=e.kP||0,this.cP=e.devicePixelRatio||1,this.fP=e.DP||1,this.dP=e.OP||0,this.pP="number"==typeof e.time?e.time:this.u1.SF(),this._R=!1,t.B3(),this.WF&&this.LP();let i=!1;if(this.BP()&&(this.NP(t,e),i=!0,this.gP=this.u1.wF(t,this.eP,this.iP),$e.I(this.oP),$e.zl(),t.CS()&&t._MaybeDoPendingClearRenderPass(this.mP),t.CopyTextureToTexture(this.mP.Qx(),this.gP,$e.Ml(),$e.Tl(),$e.width(),$e.height())),this.$F)this.WP(t,e);else if(i||this.NP(t,e),0!==this.aP.width()||0!==this.aP.height()){t.Z3(),t.z3(),t.Sw(0),t.bw(0),this.DF=e.UP||null,this.yP=e.jP||0,this.SP=e.VP||0,this.wP=!!e.HP,this.zP(t),this.ZF[0]=s,this.ZF[1]=1<=this.KF?this.JP():null,this.ZF[2]=2===this.KF?this.JP():null;for(const r of this.BF){const n=this.qP(r.$P()),h=this.qP(r.XP());t.CS()?r.YP(t,n,h):r.KP(t,n,h)}t.q3(null),this.ZF[1]&&this.ZP(this.ZF[1]),this.ZF[2]&&this.ZP(this.ZF[2]),this.ZF.fill(null),this.QP(t),this.mP=null,this.gP=null,this.rP=null,this.nP=null,this.DF=null}}NP(t,s){const[e,i]=this.u1.gF(t);this.tA(t,e,i),this.sA(s)}tA(t,s,e){if(s<=0||e<=0)throw new Error("invalid draw size");this.eP===s&&this.iP===e||this.eA(t,s,e,0,0,this.Lx,this.bP),this.eP=s,this.iP=e}eA(t,s,e,i,r,n,h){const o=s/2+i,a=e/2+r,l=(t.IS(n,s/e),t.FS(o,a,t.pS(e),o,a,0,e));Mr.I(h,l)}sA(t){this.hP.I(t.iA),t.rA?this.oP.I(t.rA):this.oP.set(0,0,this.eP,this.iP),this.aP.I(this.oP),this.aP.Ct(this.eP,this.iP);const s=this.fP*this.cP;this.oP.Ol(this.tP*s,this.sP*s),this.uP.I(this.oP),this.uP.Ct(this.eP,this.iP),this.oP.Jl(0,0,this.eP,this.iP),this.lP.I(this.oP),this.lP.Ct(this.eP,this.iP)}zP(t){if(this.JF=t.TE(),this.qF=t.WE(),this.XF)t.ME(!1),this.UF&&t.GE(!0);else{if($e.I(this.oP),t.S2()){const s=this.fP*this.cP;$e.Ol(Math.max(this.tP,1)*s,Math.max(this.sP,1)*s),$e.zl(),$e.yn(0,0,this.eP,this.iP)}else $e.zl();t._E($e.Ml(),$e.Tl(),$e.width(),$e.height(),this.iP)}}nA(t){t.z3(),this.XF||(this.qF&&t.UE(),t.ME(!1),this.UF&&t.GE(!0)),t.CS()&&t.SetNormalizedCoordsProgramVariant(!0)}QP(t){t.GE(!1),this.qF&&t.NE(),t.ME(this.JF),this.XF||t.CE(),t.CS()&&t.SetNormalizedCoordsProgramVariant(!1),this._R=t.N3()}hA(){this.uP.yn(0,0,1,1)}qP(t){return t<0?null:this.ZF[t]}JP(){return this.u1.IE(this)}oA(){return this.mP}ZP(t){this.u1.yF(t,this)}aA(t){return this.OF[t]}lA(t){this.DF?this.DF(this,t,()=>this.PF(t,this)):this.PF(t,this),this.$F||this.nA(t)}uA(t){if(this.XF)return!0;if(0!==this.yP||0!==this.SP)return!1;const[s,e]=t.aE(t.IE());return s===this.eP&&e===this.iP}cA(t,s){let e=this.Lx,i=this.bP;if(s&&!this.uA(t)){e=Ze,i=Qe;const[r,n]=t.aE(t.IE());this.eA(t,r,n,this.yP,this.SP,e,i),this.XF||t.CE()}t.E3(e),t.L3(i)}LP(){this.u1.t1(this)}fA(t,s){return this.kF(this.LF[t],s)}dA(t,s){let e=this.uP,i=this.lP,r=this.aP;t.S2()&&(Xe.I(e),Xe.Nl(1),e=Xe,Ye.I(i),Ye.Nl(1),i=Ye,Ke.I(r),Ke.Nl(1),r=Ke),this.pA(t,s,i,r,e,1/this.eP,1/this.iP)}mA(t,s){let i=this.lP,r=this.aP,n=1/this.eP,h=1/this.iP;if(this.AF){let{gA:t,yA:s,SA:e}=this.AF(this.rP);t||($e.set(0,0,0,0),t=$e),s=s||this.eP,e=e||this.iP,i=t,r=t,n=1/s,h=1/e}else t.S2()&&(Ye.I(i),Ye.Nl(1),i=Ye,Ke.I(r),Ke.Nl(1),r=Ke);let e=this.uP;t.S2()&&((e=Xe).I(this.uP),e.Nl(1)),this.pA(t,s,i,r,e,n,h),t.CS()&&this.HF&&t.SetProgramParameter_IsSrcTexRotated(this.YF)}wA(t){return this.jF?t.CS()?this.BP()?this.gP:this.mP.Qx():this.mP:null}pA(t,s,e,i,r,n,h){t.SE(this.wA(t),r,e,i,this.hP,n,h,this.cP,this.fP,this.dP,this.pP),t.wE(this.fA(s,t))}WP(t,s){const e=this.OF[0],i=t.TE(),r=e.hb();r&&(t.ME(!1),t.GE(!0),this.uP.set(0,0,1,1),this.aP.set(0,0,1,1)),t.LS(e),t.yb(this.fb),t.AE(this.mP);let n=0,h=1;if(this.aP.set(0,0,1,1),e.ob()&&this.AF){const{gA:o,yA:a,SA:l}=this.AF(this.rP);o&&this.aP.I(o),n=Number.isFinite(a)?1/a:0,h=Number.isFinite(l)?1/l:0}else{const[u,c]=this.u1.gF(t);n=1/u,h=1/c}s.iA?this.hP.I(s.iA):this.hP.set(0,0,0,0),t.SE(this.wA(t),this.uP,this.aP,this.aP,this.hP,n,h,this.cP,this.fP,this.dP,this.pP),t.wE(this.fA(0,t)),t.CS()&&this.HF&&t.SetProgramParameter_IsSrcTexRotated(this.YF),t.Sw(0),this.lA(t),r&&(t.GE(!1),t.ME(i))}BP(){return this.zF}FP(){return!this.zF}bA(){return this.jF}vA(){return!!this.$F&&!this.BP()}xA(){return this.XF}MA(){return this.rP}TA(){return this.nP}GA(){return this.fb}_A(){return this.wP}N3(){return this._R}IA(){return this.oP}CA(){return this.lP}RA(){return this.QF}async EA(t,s,e){}}}{const ei=self.Bs;ei.iy.FF.IP=class{constructor(t,s,e,i=-1){this.FA=t,this.PA=s,this.AA=e,this.Xg=i}kA(){return this.FA}$P(){return this.PA}XP(){return this.AA}DA(){return this.Xg}ST(){return this.kA().aA(this.DA())}KP(t,s,e){}YP(t,s,e){}}}{const ii=self.Bs;ii.iy.FF.IP._P=class extends ii.iy.FF.IP{constructor(t,s,e,i){super(t,s,e,i)}KP(t,s,e){const i=this.kA();t.Z3(),t.OS(),t.AE(e,i._A()),t.bE(0,0,0,0),i.lA(t),i.hA()}YP(t,s,e){const i=this.kA();t.Z3(),t.OS(),t.AE(e,!1),t.bE(0,0,0,0),i.lA(t),i.hA()}}}{const ri=self.Bs,ni=ri.un(ri.Rect),hi=ri.un(ri.Ql);ri.iy.FF.IP.EP=class extends ri.iy.FF.IP{constructor(t,s,e,i){super(t,s,e,i)}KP(t,s,e){const i=this.kA();t.OS(),t.AE(e),i.cA(t,!0),t.yb(i.GA()),t.q3(s.Qx()),hi.bu(i.IA()),ni.I(i.CA()),ni.Nl(1),t.Pw(hi,ni),i.RA()&&t.OE(s)}YP(t,s,e){const i=this.kA();t.OS(),t.AE(e,!1),i.uA(t)?hi.bu(i.CA()):(t.SetNormalizedCoordsProgramVariant(!1),i.cA(t,!0),hi.bu(i.IA())),t.SetBackTexture(null),t.yb(i.GA()),t.q3(s.Qx()),i.xA()?t.oE():t.Pw(hi,i.CA())}}}{const oi=self.Bs;oi.iy.FF.IP.RP=class extends oi.iy.FF.IP{constructor(t,s,e,i){super(t,s,e,i)}KP(t,s,e){const i=this.kA();t.AE(e,i._A()),t.bE(0,0,0,0),t.tE(),t.LS(this.ST()),i.mA(t,this.DA()),i.lA(t),i.hA()}YP(t,s,e){const i=this.kA();t.AE(e,!1),t.bE(0,0,0,0),t.tE(),t.LS(this.ST()),i.mA(t,this.DA()),i.lA(t),i.hA()}}}{const ai=self.Bs,li=ai.un(ai.Rect),ui=ai.un(ai.Ql);ai.iy.FF.IP.CP=class extends ai.iy.FF.IP{constructor(t,s,e,i){super(t,s,e,i)}KP(t,s,e){const i=this.kA(),r=(t.AE(e),0===this.XP());r?t.yb(i.GA()):(t.bE(0,0,0,0),t.tE()),t.LS(this.ST()),i.dA(t,this.DA()),t.q3(s.Qx()),i.cA(t,r),ui.bu(i.IA()),li.I(i.CA()),li.Nl(1),t.Pw(ui,li),i.RA()&&t.OE(s)}YP(t,s,e){const i=this.kA(),r=(t.AE(e,!1),0===this.XP());r?(t.yb(i.GA()),t.SetBackTexture(null),i.uA(t)?ui.bu(i.CA()):(t.SetNormalizedCoordsProgramVariant(!1),i.cA(t,!0),ui.bu(i.IA()))):(t.bE(0,0,0,0),t.tE(),ui.bu(i.CA())),t.LS(this.ST()),i.dA(t,this.DA()),t.q3(s.Qx()),i.xA()?t.oE():t.Pw(ui,i.CA())}}}{let u=function(t,s){const e=t[0],i=s[0],r=e-i;if(0!=r)return r;const n=t[1],h=s[1];return n-h},c=(u,self.Bs),f=self.$s,d=null,s=new Set,p=[],m=[],e=!1,t=!1,i=new Set(["vsync","unlimited-tick","unlimited-frame"]);self.OA=class{constructor(t){d=t,Object.defineProperties(this,{LA:{value:d.NA().BA(),writable:!1},WA:{value:d.jA().UA(),writable:!1},VA:{value:{},writable:!1},HA:{value:{},writable:!1},zA:{value:d.JA(),writable:!1},qA:{value:d.$A(),writable:!1},storage:{value:new self.XA(d),writable:!1},isInWorker:{value:d.YA(),writable:!1},KA:{value:d.ZA(),writable:!1},QA:{value:d.sk(),writable:!1},Fv:{value:d.ek(),writable:!1},ik:{value:d.rk(),writable:!1},nk:{value:new self.hk(t),writable:!1},ak:{value:new self.lk(t),writable:!1}}),d.uk().addEventListener("keydown",t=>{s.has(t.key)?t.stopPropagation():s.add(t.key)}),d.uk().addEventListener("keyup",t=>s.delete(t.key)),d.jf().addEventListener("window-blur",()=>s.clear()),d.YA()&&(self.alert=t=>(e||(e=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual.")),this.alert(t)))}ck(t){Object.defineProperties(this.VA,t)}fk(t){Object.defineProperties(this.HA,t)}addEventListener(t,s){d.uk().addEventListener(t,s)}removeEventListener(t,s){d.uk().removeEventListener(t,s)}dk(t,...s){f.Mi(t);const e=d.pk(),i=e.mk(t);if(!i)throw new Error(`cannot find function name '${t}'`);if(!i.Ku())return i.gk();if(s.length<i.yk())throw new Error(`not enough function parameters passed for '${t}' (${s.length} passed, ${i.yk()} expected)`);let r=i.Sk(),n=r.wk(),h=e.bk();if(h){n=n.slice(0);const a=new Set(n);for(const l of h.wk())a.has(l)||(n.push(l),a.add(l));for(const u of e.vk())a.has(u)||(n.push(u),a.add(u))}const o=r.xk(n,i.Mk(),i.Tk(),i.gk(),...s);return o}Gk(t){const s=d.Ik()._k();if(!s)throw new Error("not in a function which returns a value");switch(s.Ck()){case 1:"number"==typeof t&&s.Rk(t);break;case 2:"string"==typeof t&&s.Rk(t);break;case 3:"number"!=typeof t&&"string"!=typeof t||s.Rk(t)}}signal(t){f.Mi(t),d.pk().Ek(t)}Fk(t){return f.Mi(t),d.pk().Pk(t)}Ak(){return[d.ZA(),d.sk()]}get isSuspended(){return d.kk()}get Dk(){return d.Ok()}get Lk(){return d.Bk()}get gameTime(){return d.Nk()}get Wk(){return d.Uk()}get timeScale(){return d.jk()}set timeScale(t){f.wi(t),d.Vk(t)}get fps(){return t||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),t=!0),d.Hk()}get framesPerSecond(){return d.Hk()}get zk(){return d.Jk()}get qk(){return d.$k()}get Xk(){return d.Yk()}get Kk(){return d.Zk()}set Kk(t){if(!i.has(t))throw new Error("invalid framerate mode");d.Qk(t)}get tD(){return d.sD()}set tD(t){f.wi(t),d.eD(t)}get iD(){return d.rD()}set iD(t){d.nD(t)}random(){return d.hD()}get layout(){const t=d.oD();if(t)return t.aD();throw new Error("no layout is running - make sure a layout is loaded before accessing")}lD(t){let s=d.uD(),e=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(e=s.cD(t))return e.aD();throw new Error("invalid layout")}fD(){return d.uD().dD().map(t=>t.aD())}pD(t){let s=d.uD(),e;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(!(e=s.cD(t)))throw new Error("invalid layout");s.mD()||s.gD(e)}get keyboard(){const t=d.yD().keyboard;if(t)return t;throw new Error("runtime.keyboard used but Keyboard object missing - add it to your project first")}get SD(){const t=d.yD().SD;if(t)return t;throw new Error("runtime.mouse used but Mouse object missing - add it to your project first")}get wD(){const t=d.yD().wD;if(t)return t;throw new Error("runtime.touch used but Touch object missing - add it to your project first")}get bD(){const t=d.yD().bD;if(t)return t;throw new Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first")}vD(t,s){f.Mi(t),f.Mi(s),d.xD(t,s)}MD(t){f.wi(t);const s=d.TD(t);return s?s.GD():null}_D(t,i){f.Ji(i);const r=d.ID();for(const s of t){const e=d.CD(s),n=e.RD();p.push([n.ED().DA(),n.FD()]),m.push(e)}if(0!==p.length){p.sort(u),m.sort((t,s)=>i(t.GD(),s.GD()));let e=!1;for(let t=0,s=p.length;t<s;++t){const h=m[t],o=r.PD(p[t][0]),a=p[t][1],l=o.AD();l[a]!==h&&((l[a]=h).RD().kD(o,!0),o.DD(h),e=!0)}e&&d.OD(),c.Lh(p),c.Lh(m)}}async LD(t,s){const e=new MessageChannel,i=e.port1,r=e.port2;return await d.BD("runtime","script-create-worker",{url:t,opts:s,port2:r},[r]),i}alert(t){return d.BD("runtime","alert",{message:t+(d.YA()?" [via Web Worker]":"")})}ND(t){return f.wi(t),d.WD(t)}UD(t){d.jD(t)}}}{let s=self.Bs,h=null;self.VD=class{constructor(t){h=t,Object.defineProperties(this,{HD:{value:h.zD("audio/webm; codecs=opus"),writable:!1}})}JD(t){const s=self.$D.qD(t);if(!s)throw new Error("invalid IImageInfo");s.XD(h.YD())}KD(t){return h.xo(t)}ZD(t){return h.Mo(t)}QD(t){return h.To(t)}t5(t){return h.Go(t)}s5(t){return h.e5(t)}i5(t){return"flat"===h.r5()&&s.wo(t)&&(t=t.toLowerCase()),h.n5(t)}get h5(){return h.o5()}async a5(t,s){if(this.HD)throw new Error("decodeWebMOpus(): not supported because WebM Opus is supported by the platform");const e=await h.YD().l5(s),i=new Float32Array(e),r=t.createBuffer(1,i.length,48e3),n=r.getChannelData(0);return n.set(i),r}u5(...t){return h.c5(...t)}f5(t){return h.d5(t)}p5(t){return h.m5(t)}}}{let h=self.Bs,e=self.$s,o=null;self.g5=class{constructor(t){o=t,Object.defineProperties(this,{runtime:{value:o.YD(),writable:!1}})}y5(t,s){const e=o.YD(),i=e.CD(t),r=e.CD(s);return o.S5(i,r)}w5(t,s){const e=o.YD(),i=e.CD(t);for(const r of s){const n=e.CD(r);if(o.S5(i,n))return r}return null}b5(t){const s=o.YD().CD(t),e=o.v5(s);return e?e.GD():null}x5(t,s){if(e.wi(t),e.wi(s),t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid cell size");o.M5(t,s)}T5(){return o.G5()}_5(t,s){let e=o.YD(),i;i=Array.isArray(t)?t.map(t=>e.I5(t)):[e.I5(t)];const r=h.Rect.vl(s),n=[];return o.C5(null,i,r,n),n.map(t=>t.GD())}}}{let s=self.Bs,e=null,i=new Map([["Windows","windows"],["macOS","macos"],["Linux","linux"],["Chrome OS","chrome-os"],["Android","android"],["iOS","ios"]]),r=new Map([["Chrome","chrome"],["Chromium","chromium"],["Edge","edge"],["Opera","opera"],["NW.js","nwjs"],["Firefox","firefox"],["Safari","safari"]]),n=new Map([["Chromium","chromium"],["Gecko","gecko"],["WebKit","webkit"]]);self.hk=class{constructor(t){e=t,Object.defineProperties(this,{R5:{value:s.ue.ve,writable:!1},E5:{value:i.get(s.ue.fe)||"unknown",writable:!1},F5:{value:s.ue.de,writable:!1},P5:{value:r.get(s.ue.pe)||"unknown",writable:!1},A5:{value:s.ue.me,writable:!1},k5:{value:n.get(s.ue.ye)||"unknown",writable:!1}})}get exportType(){let t=e.D5();return e.O5()?t="nwjs":e.L5()?t="windows-webview2":"cordova"===t?t="Android"===s.ue.fe?"cordova-android":"cordova-ios":"playable-ad-single-file"!==t&&"playable-ad-zip"!==t||(t="playable-ad"),t}get renderer(){return e.N5().B5()}get W5(){return e.N5().U5()}get j5(){return e.N5().V5()}get H5(){return e.N5().z5()}get J5(){return e.N5().q5()}get X5(){return e.N5().Y5()}get devicePixelRatio(){return e.K5()}}}{const ci=self.$s;self.XA=class{constructor(t){this.Z5=t.Q5()}getItem(t){return ci.Mi(t),this.Z5.getItem(t)}setItem(t,s){return ci.Mi(t),this.Z5.setItem(t,s)}removeItem(t){return ci.Mi(t),this.Z5.removeItem(t)}clear(){return this.Z5.clear()}keys(){return this.Z5.keys()}}}{const fi=self.Bs,di=fi.Ns();self.tO=class{#sO;constructor(){const t=fi.iO.eO(di);this.#sO=t,Object.defineProperties(this,{runtime:{value:t.YD().rO(),writable:!1},nO:{value:t.hO(),writable:!1},oO:{value:t.aO(),writable:!1},lO:{value:t.uO(),writable:!1},cO:{value:t.fO(),writable:!1},dO:{value:t.pO(),writable:!1},mO:{value:t.gO(),writable:!1},yO:{value:t.SO(),writable:!1},wO:{value:t.bO(),writable:!1}})}static vO(t){if(!t)return null;const s=fi.iO.xO(t);return s?s.MO():null}TO(){return this.#sO._O().GO()}IO(){return this.#sO.CO().GD()}}}{const pi=self.Bs,mi=self.$s,gi=pi.Ns();self.RO=class{#sO;constructor(){const t=pi.iO.eO(gi);this.#sO=t,Object.defineProperties(this,{name:{value:t.Zc(),writable:!1},runtime:{value:t.YD().rO(),writable:!1},EO:{value:t.FO().MO(),writable:!1}}),t.YD().PO(this,t)}addEventListener(t,s){mi.Mi(t),mi.Ji(s),this.#sO.uk().addEventListener(t,s)}removeEventListener(t,s){mi.Mi(t),mi.Ji(s),this.#sO.uk().removeEventListener(t,s)}AO(){return[...this.instances()]}kO(){return pi.first(this.instances())}DO(){return[...this.OO()]}LO(){return pi.first(this.OO())}BO(t){const s=this.#sO,e=s.YD().NO(t),i=s.WO(e);return i?i.GD():null}*instances(){for(const t of this.#sO.UO())yield t.GD()}*OO(){for(const t of this.#sO.VO().jO())yield t.GD()}HO(t){mi.Ji(t);const s=this.#sO;if(0<s.zO())throw new Error("setInstanceClass() called too late, because instances have already been created - call in runOnStartup");s.JO(t)}Be(t,s,e,i,r){if(mi.di(s),mi.di(e),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid layer parameter");const n=this.#sO,h=n.YD(),o=h.oD().ED(t);if(!o)throw new Error("invalid layer");const a=h.qO(n,o,s,e,i,r),l=(i&&o.$O(a),h.pk());return l.XO(!0),a.YO(),l.XO(!1),l.KO()||h.uD().ZO()||h.QO(),a.GD()}}}{const yi=self.$s,l=new WeakMap,Si=["above","below","top-sublayer","bottom-sublayer"];self.tL=class{constructor(t){l.set(this,t);const s=[],e=t.sL(),i=e.eL().length;for(let t=0;t<i;++t)s.push(new self.iL(e,t));Object.defineProperties(this,{name:{value:t.Zc(),writable:!1},index:{value:t.DA(),writable:!1},effects:{value:s,writable:!1}})}addEventListener(t,s){yi.Mi(t),yi.Ji(s),l.get(this).uk().addEventListener(t,s)}removeEventListener(t,s){yi.Mi(t),yi.Ji(s),l.get(this).uk().removeEventListener(t,s)}get width(){return l.get(this).lm()}set width(t){yi.wi(t),l.get(this).wm(t)}get height(){return l.get(this).Mm()}set height(t){yi.wi(t),l.get(this).um(t)}rL(t,s){yi.wi(t),yi.wi(s);const e=l.get(this);e.wm(t),e.um(s)}getSize(){const t=l.get(this);return[t.lm(),t.Mm()]}set scale(t){yi.wi(t),l.get(this).nL(t)}get scale(){return l.get(this).hL()}set angle(t){yi.wi(t),l.get(this).oL(t)}get angle(){return l.get(this).aL()}set scrollX(t){yi.di(t),l.get(this).lL(t)}get scrollX(){return l.get(this).uL()}set scrollY(t){yi.di(t),l.get(this).cL(t)}get scrollY(){return l.get(this).fL()}scrollTo(t,s){yi.di(t),yi.di(s);const e=l.get(this);e.lL(t),e.cL(s)}dL(){const t=l.get(this);return[t.uL(),t.fL()]}pL(t){let s=l.get(this),e=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");return(e=s.ED(t))?e.mL():null}gL(){return l.get(this).yL().map(t=>t.mL())}*SL(){for(const t of l.get(this).SL())yield t.mL()}wL(t,s,e){const i=l.get(this),r=self.bL,n=(yi.Mi(t),yi.er(s,r),s?i.YD().vL(s):null),h=Si.indexOf(e);if(h<0)throw new Error("invalid location");i.xL(t,n,h)}ML(t,s,e){const i=l.get(this),r=i.YD(),n=self.bL,h=(yi.tr(t,n),r.vL(t));if(!h)throw new Error("invalid layer");yi.er(s,n);const o=s?r.vL(s):null,a=Si.indexOf(e);if(a<0)throw new Error("invalid location");i.TL(h,o,a)}GL(t){const s=l.get(this),e=self.bL,i=(yi.tr(t,e),s.YD().vL(t));if(!i)throw new Error("invalid layer");const r=i.YD();s._L(i),r.pk().KO()||r.QO()}IL(){const t=l.get(this),s=t.YD();t.CL(),s.pk().KO()||s.QO()}RL(t,s){yi.wi(t),yi.wi(s),l.get(this).EL(t,s)}FL(){return l.get(this).PL()}set K(t){yi.Mi(t);const s=l.get(this);if("perspective"===t)s.AL();else{if("orthographic"!==t)throw new Error("invalid projection");s.kL()}}get K(){return l.get(this).DL()?"orthographic":"perspective"}}}{const wi=self.Bs,f=self.$s,d=new WeakMap,bi=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),vi=new Map([...bi.entries()].map(t=>[t[1],t[0]])),xi=wi.un(wi.Vo);self.bL=class{constructor(t){d.set(this,t);const s=[],e=t.sL(),i=e.eL().length;for(let t=0;t<i;++t)s.push(new self.iL(e,t));Object.defineProperties(this,{name:{value:t.Zc(),writable:!1},layout:{value:t.cD().aD(),writable:!1},effects:{value:s,writable:!1}}),t.YD().PO(this,t)}get OL(){const t=d.get(this).LL();return t?t.mL():null}*BL(){for(const t of d.get(this).BL())yield t.mL()}*NL(){for(const t of d.get(this).WL())yield t.mL()}*UL(){for(const t of d.get(this).WL())for(const s of t.jL())yield s.mL()}get index(){return d.get(this).DA()}get isVisible(){return d.get(this).VL()}set isVisible(t){d.get(this).HL(t)}get zL(){return d.get(this).JL()}get isInteractive(){return d.get(this).qL()}set isInteractive(t){d.get(this).$L(t)}get XL(){return d.get(this).YL()}set XL(t){d.get(this).KL(!!t)}get ZL(){return d.get(this).QL()}get opacity(){return d.get(this).j3()}set opacity(t){t=wi.yn(+t,0,1),isNaN(t)||d.get(this).H3(t)}set scale(t){f.wi(t),d.get(this).tB(t)}get scale(){return d.get(this).sB()}set scaleRate(t){f.wi(t),d.get(this).eB(t)}get scaleRate(){return d.get(this).iB()}set angle(t){f.wi(t),d.get(this).oL(t)}get angle(){return d.get(this).rB()}set parallaxX(t){f.wi(t),d.get(this).nB(t)}get parallaxX(){return d.get(this).hB()}set parallaxY(t){f.wi(t),d.get(this).oB(t)}get parallaxY(){return d.get(this).aB()}set lB(t){f.wi(t),d.get(this).kb(t)}get lB(){return d.get(this).Ab()}set uB(t){d.get(this).cB(t)}get uB(){return d.get(this).fB()}set dB(t){d.get(this).pB(t)}get dB(){return d.get(this).mB()}set kP(t){f.Mi(t);const s=bi.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");d.get(this).yb(s)}get kP(){return vi.get(d.get(this).gB())}set backgroundColor(t){if(f.Bi(t),t.length<3)throw new Error("expected 3 elements");xi.Xo(t[0],t[1],t[2]);const s=d.get(this),e=s.yB();e.fa(xi)||(e.ia(xi),s.YD().OD())}get backgroundColor(){const t=d.get(this).yB();return[t.ra(),t.na(),t.oa()]}set scrollX(t){f.di(t);const s=d.get(this);s.SB(!0),s.lL(t)}get scrollX(){return d.get(this).uL()}set scrollY(t){f.di(t);const s=d.get(this);s.SB(!0),s.cL(t)}get scrollY(){return d.get(this).fL()}scrollTo(t,s){f.di(t),f.di(s);const e=d.get(this);e.SB(!0),e.lL(t),e.cL(s)}dL(){const t=d.get(this);return[t.uL(),t.fL()]}wB(){d.get(this).SB(!1)}getViewport(){return d.get(this).bB().Il()}vB(t,s,e=0){f.di(t),f.di(s),f.di(e);const i=d.get(this),r=i.YD();return i.xB(t-r.MB(),s-r.TB(),e)}GB(t,s,e=0){f.di(t),f.di(s),f.di(e);const i=d.get(this),r=i.YD(),[n,h]=i._B(t,s,e);return[n+r.MB(),h+r.TB()]}IB(t,s,e=0){return f.di(t),f.di(s),f.di(e),d.get(this).CB(t,s,e)}RB(t,s,e=0){return f.di(t),f.di(s),f.di(e),d.get(this).EB(t,s,e)}get PB(){return d.get(this).AB()}}}{let i=function(t){let s=Gi.get(t);return s||(s=Mi.un(Mi.Event.jf),Gi.set(t,s)),s};i;const Mi=self.Bs,Ti=self.$s,Gi=new WeakMap,_i=Mi.Ns();self.kB=class{#sO;constructor(){const t=Mi.iO.eO(_i),s={runtime:{value:(this.#sO=t).YD().rO(),writable:!1},DB:{value:t.OB().GO(),writable:!1},EO:{value:t.FO().MO(),writable:!1}};t.LB(s),t.BB(s),Object.defineProperties(this,s),t.YD().PO(this,t)}static NB(){return Mi.iO.WB()}UB(){const t=Gi.get(this);t&&(t.cn(),Gi.delete(this))}addEventListener(t,s,e){Ti.Mi(t),Ti.Ji(s),i(this).addEventListener(t,s,e)}removeEventListener(t,s,e){Ti.Mi(t),Ti.Ji(s),i(this).removeEventListener(t,s,e)}dispatchEvent(t){i(this).dispatchEvent(t)}jB(){const t=this.#sO,s=t.YD();s.VB(t),s.pk().KO()||s.uD().ZO()||s.pk().HB()||s.QO()}zB(){const t=this.#sO.JB();return t?t.map(t=>t.GD()):[]}*qB(){const t=this.#sO;if(t.$B())for(const s of t.XB())yield s.GD()}get uid(){return this.#sO.YB()}get KB(){return this.#sO.ZB()}set timeScale(t){Ti.wi(t),this.#sO.Vk(t)}get timeScale(){return this.#sO.QB()}tN(){this.#sO.sN()}get Dk(){const t=this.#sO;return t.YD().Ok(t)}eN(...t){Ti.Bi(t);const s=new Set(t),e=this.#sO.iN();return s.isSubsetOf(e)}rN(t){Ti.tr(t,Set),this.#sO.nN(t)}hN(){return new Set(this.#sO.iN())}signal(t){Ti.Mi(t);const s=this.#sO;s.YD().pk().oN(s,t)}Fk(t){Ti.Mi(t);const s=this.#sO;return s.YD().pk().aN(s,t)}}}{const Ii=self.Bs,Ci=self.$s,Ri=Ii.Ns();self.lN=class extends self.kB{#sO;#uN=!1;#cN=null;#fN=!1;#dN=null;#pN;#mN;constructor(t){super(),this.#sO=Ii.iO.eO(Ri),this.#uN=!1,this.#cN=null,this.#fN=!1,this.#dN=null,this.#pN=t?.domComponentId,this.#mN=t?.wrapperComponentId}UB(){this.gN(!1),this.yN(!1),super.UB()}SN(){return Ii.iO.wN()}bN(t){const s=this.#sO;s.YD().vN(t,s)}xN(t){const s=this.#sO;return s.YD().MN(t,s)}TN(t,s){if(Ci.Mi(t),Ci.Ji(s),!this.#pN)throw new Error("no DOM component id set");const e=this.#sO.YD();e.GN(this.#pN,t,s)}_N(t){Ci.Bi(t);for(const[s,e]of t)this.TN(s,e)}IN(t,s){if(Ci.Mi(t),!this.#pN)throw new Error("no DOM component id set");const e=this.#sO.YD();e.ff(this.#pN,t,s)}CN(t,s){if(Ci.Mi(t),!this.#pN)throw new Error("no DOM component id set");const e=this.#sO.YD();return e.BD(this.#pN,t,s)}RN(t,s){const e=this.#sO.YD();if(!e.YA())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.#pN,handler:t,data:s,responseId:null});this.IN(t,s)}gN(t){if(this.#uN!==(t=!!t)){this.#uN=t;const s=this.#sO.YD();t?(this.#cN||(this.#cN=()=>this.EN()),s.jf().addEventListener("tick",this.#cN)):s.jf().removeEventListener("tick",this.#cN)}}FN(){return this.#uN}EN(){}yN(t){if(this.#fN!==(t=!!t)){this.#fN=t;const s=this.#sO.YD();t?(this.#dN||(this.#dN=()=>this.PN()),s.jf().addEventListener("tick2",this.#dN)):s.jf().removeEventListener("tick2",this.#dN)}}AN(){return this.#fN}PN(){}kN(){return[]}DN(){return null}ON(t){}LN(){if(!this.#mN)throw new Error("no wrapper component id set");const t=this.#sO.YD();return t.BN(this.#mN)}NN(t,s){if(Ci.Mi(t),Ci.Ji(s),!this.#mN)throw new Error("no wrapper component id set");const e=this.#sO.YD();e.WN(this.#mN,t,s)}UN(t){Ci.Bi(t);for(const[s,e]of t)this.NN(s,e)}jN(t,s){if(!this.#mN)throw new Error("no wrapper component id set");this.runtime.ak.VN(this.#mN,t,s)}HN(t,s){if(this.#mN)return this.runtime.ak.zN(this.#mN,t,s);throw new Error("no wrapper component id set")}}}{let t=function(t){return class r extends t{#JN;#qN;constructor(t){super(t);const s=Ei.iO.eO(ki),e=s.RD(),i=(this.#JN=s,this.#qN=e,Ai.set(this,s),[]),r=e.$N();if(r){const h=e.OB().sL().eL().length;for(let t=0;t<h;++t)i.push(new self.iL(r,t))}const n={effects:{value:i,writable:!1}};Object.defineProperties(this,n)}get layout(){return this.#qN.cD().aD()}get XN(){return this.#qN.ED().mL()}get x(){return this.#qN.Cb()}set x(t){t=+t;const s=this.#qN;isNaN(t)||s.Cb()===t||(s.Rb(t),s.YN())}get y(){return this.#qN.Fb()}set y(t){t=+t;const s=this.#qN;isNaN(t)||s.Fb()===t||(s.Pb(t),s.YN())}setPosition(t,s){t=+t,s=+s;const e=this.#qN;isNaN(t)||isNaN(s)||e.Cb()===t&&e.Fb()===s||(e.KN(t,s),e.YN())}ZN(){const t=this.#qN;return[t.Cb(),t.Fb()]}QN(t,s){if(t=+t,s=+s,!(isNaN(t)||isNaN(s)||0===t&&0===s)){const e=this.#qN;e.t4(t,s),e.YN()}}get lB(){return this.#qN.Ab()}set lB(t){t=+t;const s=this.#JN,e=this.#qN;isNaN(t)||e.Ab()===t||(e.kb(t),s.YD().OD())}get s4(){return this.#qN.e4()}get width(){return this.#qN.lm()}set width(t){t=+t;const s=this.#qN;isNaN(t)||s.lm()===t||(s.wm(t),s.YN())}get height(){return this.#qN.Mm()}set height(t){t=+t;const s=this.#qN;isNaN(t)||s.Mm()===t||(s.um(t),s.YN())}rL(t,s){t=+t,s=+s;const e=this.#qN;isNaN(t)||isNaN(s)||e.lm()===t&&e.Mm()===s||(e.lC(t,s),e.YN())}getSize(){const t=this.#qN;return[t.lm(),t.Mm()]}get angle(){return this.#qN.aL()}set angle(t){t=Ei.Sn(+t);const s=this.#qN;isNaN(t)||s.aL()===t||(s.oL(t),s.YN())}get i4(){return Ei.bn(this.angle)}set i4(t){this.angle=Ei.wn(t)}Mu(){return this.#qN.r4().Il()}n4(){return this.#qN.h4().yu()}o4(){return this.#qN.a4()}get isVisible(){return this.#qN.JL()}set isVisible(t){t=!!t;const s=this.#JN,e=this.#qN;e.JL()!==t&&(e.HL(t),s.YD().OD())}get opacity(){return this.#qN.j3()}set opacity(t){t=Ei.yn(+t,0,1);const s=this.#JN,e=this.#qN;isNaN(t)||e.j3()===t||(e.H3(t),s.YD().OD())}set l4(t){if(Fi.Bi(t),t.length<3)throw new Error("expected 3 elements");Li.Xo(t[0],t[1],t[2]);const s=this.#JN,e=this.#qN;e.u4().fa(Li)||(e.c4(Li),s.YD().OD())}get l4(){const t=this.#qN.u4();return[t.ra(),t.na(),t.oa()]}set kP(t){Fi.Mi(t);const s=Di.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");const e=this.#JN,i=this.#qN;i.yb(s),e.YD().OD()}get kP(){return Oi.get(this.#qN.gB())}f4(){this.#qN.d4()}m4(){this.#qN.g4()}y4(t){Fi.tr(t,Pi);const s=this.#JN,e=s.YD().vL(t);if(!e)throw new Error("invalid layer");s.RD().S4(e)}w4(t,s){Fi.tr(t,r),this.#qN.b4(Ai.get(t),s)}get zIndex(){return this.#qN.FD()}get v4(){return this.#qN.x4()}set v4(t){this.#qN.M4(!!t)}Xl(t,s){return Fi.di(t),Fi.di(s),this.#qN.T4(+t,+s)}y5(t){Fi.tr(t,r);const s=this.#JN,e=Ai.get(t);return s.YD().jA().S5(s,e)}b5(){const t=this.#JN,s=t.YD().jA().v5(t);return s?s.GD():null}getParent(){const t=this.#JN.G4();return t?t.GD():null}_4(){const t=this.#JN.I4();return t?t.GD():null}*C4(){for(const t of this.#JN.C4())yield t.GD()}R4(){return this.#JN.E4()}F4(t){const s=this.#JN.P4(t);return s?s.GD():null}*children(){for(const t of this.#JN.children())yield t.GD()}*A4(){for(const t of this.#JN.A4())yield t.GD()}D4(t,s){Fi.tr(t,r),Fi.Fi(s),s=s||{};const e=this.#JN,i=Ai.get(t);e.O4(i,s)}removeChild(t){Fi.tr(t,r);const s=this.#JN,e=Ai.get(t);s.L4(e)}B4(){const t=this.#JN;if(t.N4()){const s=t.G4();s.L4(t)}}W4(){const t=this.#qN;return{U4:t.j4(),V4:t.H4(),z4:t.J4(),q4:t.X4(),Y4:t.K4(),Z4:t.Q4(),t6:t.s6(),e6:t.i6(),r6:t.n6()}}h6(t,s){Fi.wi(t),Fi.wi(s),this.#qN.o6(t,s)}a6(){const t=this.#qN;t.l6(),t.YN()}u6(t,s,e){Fi.wi(t),Fi.wi(s),Fi.Ei(e);const i=this.#qN;i.c6(t,s,e)&&i.YN()}f6(t,s){let e=NaN,i=NaN,r=NaN,n=NaN,h=NaN,o=this.#qN;if(o.d6()){const a=o.p6(),l=a.Sv(t,s);null!==l&&(e=l.Cb(),i=l.Fb(),r=l.Ab(),n=l.Db(),h=l.Lb())}return{x:e,y:i,lB:r,u:n,v:h}}m6(){const t=this.#qN;if(!t.d6())return[0,0];const s=t.p6();return[s.nv(),s.hv()]}}};0;const Ei=self.Bs,Fi=self.$s,Pi=self.bL,Ai=new WeakMap,ki=Ei.Ns(),Di=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Oi=new Map([...Di.entries()].map(t=>[t[1],t[0]])),Li=Ei.un(Ei.Vo);self.g6=t(self.kB),self.y6=t(self.lN)}{const Bi=self.$s;self.S6=class extends self.g6{#sO;constructor(){super(),this.#sO=self.kB.NB()}w6(){return this.#sO.v6().b6()}focus(){this.#sO.v6().x6()}blur(){this.#sO.v6().M6()}T6(t,s){Bi.Mi(t),this.#sO.v6().G6(t,s)}}}{let i=function(t){let s=Ui.get(t);return s||(s=Ni.un(Ni.Event.jf),Ui.set(t,s)),s};i;const Ni=self.Bs,Wi=self.$s,Ui=new WeakMap,ji=Ni.Ns();self._6=class{#sO;constructor(){const t=Ni.iO.eO(ji),s={runtime:{value:(this.#sO=t).YD().rO(),writable:!1},behavior:{value:t.C6().I6(),writable:!1},R6:{value:t.F6().E6(),writable:!1}};Object.defineProperties(this,s),t.YD().PO(this,t)}static NB(){return Ni.iO.WB()}get P6(){return this.#sO.A6().GD()}UB(){const t=Ui.get(this);t&&(t.cn(),Ui.delete(this))}addEventListener(t,s,e){Wi.Mi(t),Wi.Ji(s),i(this).addEventListener(t,s,e)}removeEventListener(t,s,e){Wi.Mi(t),Wi.Ji(s),i(this).removeEventListener(t,s,e)}dispatchEvent(t){i(this).dispatchEvent(t)}}}{const Vi=self.Bs,Hi=Vi.Ns();self.k6=class{constructor(){const t=Vi.iO.eO(Hi),s={runtime:{value:t.YD().rO(),writable:!1},behavior:{value:t.C6().I6(),writable:!1},name:{value:t.Zc(),writable:!1}};Object.defineProperties(this,s)}}}{const zi=self.Bs,Ji=zi.Ns();self.D6=class{#sO;constructor(){const t=zi.iO.eO(Ji),s={runtime:{value:(this.#sO=t).YD().rO(),writable:!1}};Object.defineProperties(this,s)}AO(){return this.#sO.jO().map(t=>t.GD())}static vO(t){if(!t)return null;const s=zi.iO.O6(t);return s?s.I6():null}}}{const qi=self.Bs,$i=self.$s,Xi=qi.un(qi.Vo);self.iL=class{#sO;constructor(t,s){this.#sO=t;const e={index:{value:s,writable:!1}};Object.defineProperties(this,e)}get name(){const t=this.#sO.eL();return t[this.index].Zc()}get isActive(){return this.#sO.L6(this.index)}set isActive(t){t=!!t;const s=this.#sO;s.L6(this.index)!==t&&(s.B6(this.index,t),s.N6(),s.YD().OD())}setParameter(t,s){$i.wi(t),t=Math.floor(+t);const e=this.#sO,i=e.W6(this.index,t);if(null===i)throw new RangeError("invalid index");if(i instanceof qi.Vo){if(!Array.isArray(s)||s.length<3)throw new TypeError("expected array with 3 elements");Xi.Xo(s[0],s[1],s[2]),s=Xi}else if("number"!=typeof s)throw new TypeError("expected number");const r=e.U6(this.index,t,s);r&&e.L6(this.index)&&e.YD().OD()}getParameter(t){$i.wi(t),t=Math.floor(+t);const s=this.#sO,e=s.W6(this.index,t);if(null===e)throw new RangeError("invalid index");return e instanceof qi.Vo?[e.ra(),e.na(),e.oa()]:e}}}self.j6=class{#sO;constructor(t){this.#sO=t,Object.defineProperties(this,{name:{value:t.Zc(),writable:!1}})}get speed(){return this.#sO.V6()}get isLooping(){return this.#sO.H6()}get repeatCount(){return this.#sO.z6()}get J6(){return this.#sO.q6()}get X6(){return this.#sO.Y6()}get frameCount(){return this.#sO.K6()}Z6(){return this.#sO.Q6().map(t=>t.tW())}*frames(){for(const t of this.#sO.Q6())yield t.tW()}};self.$D=class{#sO;constructor(t){this.#sO=t}static qD(t){return t.#sO}get width(){return this.#sO.lm()}get height(){return this.#sO.Mm()}getSize(){const t=this.#sO;return[t.lm(),t.Mm()]}sW(t){return t.eW(this)}iW(){return this.#sO.WC().Il()}};{const Yi=self.$s;self.rW=class extends self.$D{#sO;constructor(t){super(t.nW()),this.#sO=t,Object.defineProperties(this,{duration:{value:t.hW(),writable:!1},oW:{value:t.aW(),writable:!1},lW:{value:t.uW(),writable:!1}})}cW(){const t=this.#sO;return[t.aW(),t.uW()]}fW(){return this.#sO.dW()}pW(t){return this.mW(t)[0]}gW(t){return this.mW(t)[1]}mW(t){let s=this.#sO,e=null;if("number"==typeof t)e=s.yW(Math.floor(t));else{if("string"!=typeof t)throw new TypeError("expected string or number");e=s.SW(t)}return e?[e.Cb(),e.Fb()]:this.cW()}wW(){const t=this.#sO.bW();return t?t.Nu():0}vW(t){return this.xW(t)[0]}MW(t){return this.xW(t)[1]}xW(t){Yi.wi(t),t=Math.floor(t);const s=this.#sO.bW();if(!s||t<0||t>=s.Nu())return[0,0];const e=s.Bu(),i=e[2*t],r=e[2*t+1];return[i,r]}get tag(){return this.#sO.TW()}}}{let s=function(t){const s=Zi.get(t);if(s.GW())throw new Error("timeline/tween was released and is no longer valid");return s};s;const Ki=self.$s,Zi=new WeakMap;self._W=class{constructor(t){Zi.set(this,t),t.YD().PO(this,t)}pause(){s(this).IW()}resume(){s(this).RW()}stop(){s(this).l0()}eN(t){return s(this).EW(t)}set time(t){Ki.wi(t),s(this).FW(t)}get time(){return s(this).SF()}set totalTime(t){Ki.wi(t),s(this).PW(t)}get totalTime(){return s(this).AW()}set isLooping(t){s(this).kW(!!t)}get isLooping(){return s(this).DW()}set X6(t){s(this).OW(!!t)}get X6(){return s(this).LW()}set playbackRate(t){Ki.wi(t),s(this).BW(t)}get playbackRate(){return s(this).NW()}get progress(){const t=s(this);return t.SF()/t.AW()}get tags(){return s(this).WW()}get finished(){return s(this).UW()}get isPlaying(){return s(this).IsPlaying()}get jW(){return s(this).VW()}get HW(){return Zi.get(this).GW()}}}{let e=new WeakMap;self.zW=class extends self._W{constructor(t){super(t),e.set(this,t);const s={name:{value:t.Zc(),writable:!1}};Object.defineProperties(this,s)}}}{let e=function(t){const s=r.get(t);if(s.GW())throw new Error("tween was released and is no longer valid");return s},i=(e,self.$s),r=new WeakMap,n=new WeakMap,h=null;self.JW=class extends self._W{constructor(t,s,e){super(t),h=h||e.easeToIndexFunc,r.set(this,t),s&&n.set(this,s)}stop(){const t=e(this),s=n.get(this);s.ReleaseTween(t)}qW(t){i.Mi(t);const s=self.mc.kc(h(t));e(this).$W(s)}get P6(){const t=e(this).XW();return t?t.GD():null}get YW(){return e(this).KW()}set YW(t){e(this).ZW(!!t)}get value(){const t=e(this);if("value"!==t.QW())throw new Error("not a value tween");return t.sU("value").tU()}}}self.eU=class extends self.tO{constructor(){super()}};{const Qi=self.Bs,tr=self.$s,sr=Qi.Ns();self.iU=class extends self.eU{#sO;#pN;#rU=0;#nU=new Map;constructor(t){if(super(),this.#sO=Qi.iO.eO(sr),!t?.domComponentId)throw new Error("no DOM component ID specified");this.#pN=t.domComponentId,this.hU("elem-focused",t=>t.oU()),this.hU("elem-blurred",t=>{t&&t.aU()})}lU(t){const s=this.#rU++;return this.#nU.set(s,t),s}uU(t){this.#nU.delete(t)}hU(t,e){const s=this.#sO.YD();s.GN(this.#pN,t,t=>{const s=this.#nU.get(t.elementId);e(s,t)})}cU(t){tr.Bi(t);for(const[s,e]of t)this.cU(s,e)}}}{const er=self.Bs,ir=(new WeakMap,er.Ns());self.fU=class extends self.RO{#sO;constructor(){super(),this.#sO=er.iO.eO(ir)}dU(){}pU(){return this.#sO.nW().mU()}gU(t){}yU(t){}SU(){}wU(t){}}}{const rr=self.Bs,nr=(new WeakMap,rr.Ns());self.bU=class extends self.y6{#sO;#vU=null;#xU=null;constructor(t){super(t),this.#sO=rr.iO.eO(nr)}UB(){if(super.UB(),this.#vU){const t=this.#sO.YD().jf();t.removeEventListener("renderercontextlost",this.#vU),t.removeEventListener("renderercontextrestored",this.#xU),this.#vU=null,this.#xU=null}}MU(){if(!this.#vU){this.#vU=()=>this.TU(),this.#xU=()=>this.GU();const t=this.#sO.YD().jf();t.addEventListener("renderercontextlost",this.#vU),t.addEventListener("renderercontextrestored",this.#xU)}}TU(){}GU(){}_U(t){}}}{const hr=self.Bs,or=hr.un(hr.Rect),ar=new WeakMap,lr=hr.Ns();self.IU=class extends self.bU{#CU=-1;#RU=!0;#EU=!1;#FU=!1;#PU=-.2;#AU=hr.un(hr.Rect,0,0,-1,-1);#kU=0;#DU=0;#OU=-1;#LU=-1;#BU=!1;constructor(t){if(!t?.domComponentId)throw new Error("no DOM component ID specified");super(t);const s=hr.iO.eO(lr),e=(ar.set(this,s),this.#CU=this.EO.lU(this),s.YD().N5());this.#kU=e.NU(),this.#DU=e.WU(),this.gN(!0)}UB(){super.UB(),this.EO.uU(this.#CU),this.UU("destroy"),this.#CU=-1,ar.delete(this)}jU(){const t=ar.get(this).YD();if(t.YA())throw new Error("not valid in worker mode");return this.VU("get-element")}UU(t,s){(s=s||{}).elementId=this.#CU,this.IN(t,s)}VU(t,s){return(s=s||{}).elementId=this.#CU,this.RN(t,s)}HU(t,s){return(s=s||{}).elementId=this.#CU,this.CN(t,s)}zU(t){t=t||{};const s=ar.get(this).RD();t.elementId=this.#CU,t.isVisible=s.JL(),t.htmlIndex=s.ED().JU(),t.htmlZIndex=s.qU(),Object.assign(t,this.$U()),this.#RU=!!t.isVisible,this.RN("create",t),this.XU(!0)}YU(t){this.#RU!==(t=!!t)&&(this.#RU=t,this.UU("set-visible",{isVisible:t}))}EN(){this.XU(!1)}KU(){const t=ar.get(this).YD(),s=t.N5().ZU();return"Android"===hr.ue.fe&&("scale-inner"===s||"scale-outer"===s||"crop"===s)}XU(u){const c=ar.get(this);if(!c.QU()){let t=c.RD(),s=t.ED(),e=t.r4(),[i,r]=s._B(e.Ml(),e.Tl()),[n,h]=s._B(e.Gl(),e._l()),o=c.YD().N5(),a=o.V5(),l=o.z5();if(t.JL()&&s.JL())if(!this.KU()&&(n<=0||h<=0||a<=i||l<=r))this.YU(!1);else{or.set(i,r,n,h);const f=o.NU(),d=o.WU(),p=s.JU(),m=t.qU();if(!u&&or.equals(this.#AU)&&this.#kU===f&&this.#DU===d&&this.#OU===p&&this.#LU===m)this.YU(!0);else{this.#AU.I(or),this.#kU=f,this.#DU=d,this.#OU=p,this.#LU=m,this.YU(!0);let t=null;this.#FU&&(t=s.t8()+this.#PU),this.UU("update-position",{left:Math.round(this.#AU.Ml()),top:Math.round(this.#AU.Tl()),width:Math.round(this.#AU.width()),height:Math.round(this.#AU.height()),htmlIndex:p,htmlZIndex:m,fontSize:t})}}else this.YU(!1)}}s8(){this.VU("focus",{focus:!0})}e8(){this.VU("focus",{focus:!1})}oU(){this.#EU=!0}aU(){this.#EU=!1}i8(){return this.#EU}r8(t,s){this.postToDOMElement("set-css-style",{prop:hr.Wo(t),val:s})}n8(t,s){this.postToDOMElement("set-attribute",{name:t,val:s})}h8(t){this.postToDOMElement("remove-attribute",{name:t})}o8(){this.#BU||(this.#BU=!0,Promise.resolve().then(()=>{this.#BU=!1,this.UU("update-state",this.$U())}))}$U(){}a8(){return this.#CU}}}self.l8=class extends self.D6{constructor(){super()}};self.u8=class extends globalThis.k6{constructor(){super()}dU(){}};{const ur=self.Bs,cr=new WeakMap,fr=ur.Ns();self.c8=class extends self._6{#uN=!1;#fN=!1;#f8=!1;constructor(){super(),cr.set(this,ur.iO.eO(fr))}UB(){super.UB(),this.gN(!1),this.yN(!1),this.d8(!1),cr.delete(this)}SN(){return ur.iO.wN()}p8(){}bN(t){const s=cr.get(this);s.YD().vN(t,s.A6(),s.F6())}xN(t){const s=cr.get(this);return s.YD().MN(t,s.A6(),s.F6())}gN(t){if(this.#uN!==(t=!!t)){this.#uN=t;const s=cr.get(this).YD();t?s.m8(this):s.g8(this)}}FN(){return this.#uN}EN(){}yN(t){if(this.#fN!==(t=!!t)){this.#fN=t;const s=cr.get(this).YD();t?s.y8(this):s.S8(this)}}AN(){return this.#fN}PN(){}d8(t){if(this.#f8!==(t=!!t)){this.#f8=t;const s=cr.get(this).YD();t?s.w8(this):s.b8(this)}}v8(){return this.#f8}x8(){}kN(){return[]}DN(){return null}ON(t){}}}{let i=self.$s,r=null;self.lk=class{constructor(t){r=t}UD(t){r.jD(t)}VN(t,s,e){i.Mi(t),i.Mi(s),i.Ni(e),r.M8(t,s,e)}zN(t,s,e){return i.Mi(t),i.Mi(s),i.Ni(e),r.T8(t,s,e)}G8(t){return i.Ti(t),new self._8(r,t)}set I8(t){r.C8(!!t)}get I8(){return r.E8()}F8(t){r.P8(!!t)}A8(t){i.di(t);const s=r.k8(t);return s?s.GO():null}}}self._8=class{#D8;#O8;#L8;#B8;#N8;#W8;constructor(t,s){const e=(this.#D8=t).pk(),i=t.bk(),r=(this.#O8=i,this.#L8=i.U8(),t.Ik()),n=(this.#B8=r.j8(),this.#N8=r.V8(i),e.H8()),h=n.V8();this.#W8=h,s&&h.z8(s),t.J8(!1)}q8(){const t=this.#D8.pk(),s=this.#L8,e=this.#W8;t.X8(s),this.#O8.Y8(this.#B8,this.#N8),t.K8(s),e.Z8(e.DA()+1)}get Q8(){return this.#W8.tj()}release(){const t=this.#D8,s=t.Ik(),e=t.pk().H8();t.J8(!0),e.sj(),s.sj()}};{let d=self.Bs,r=self.$s,p=null,n=null;self.ej=class{constructor(t,s){n=t,p=s}ij(){p.Z3()}rj(t){p.Y3(t)}nj(){p.jS()}hj(){p.OS()}oj(){p.XS()}setColor(t){p.V3(t[0],t[1],t[2],t[3])}aj(t,s,e,i){p.V3(t,s,e,i)}lj(){p.z3()}uj(t){p.H3(t)}cj(t){p.bw(t)}fj(){p.xw()}rect(t){p.sE(t.left,t.top,t.right,t.bottom)}dj(t,s,e,i){p.sE(t,s,e,i)}pj(t){p.Ql(d.Ql.Su(t))}mj(t,s,e,i,r,n,h,o){p.h2(t,s,e,i,r,n,h,o)}gj(t,s){p.Pw(d.Ql.Su(t),d.Rect.Cl(s))}yj(t,s){p.rE(d.Ql.Su(t),d.Ql.Su(s))}Sj(t,s,e,i,r,n,h,o,a,l,u,c,f){p.nE(t,s,e,i,r,n,h,o,a,l,u,c,d.Rect.Cl(f))}wj(t,s,e,i,r,n,h,o,a,l,u,c,f){p.Iw(t,s,e,i,r,n,h,o,a,l,u,c,d.Ql.Su(f))}bj(t,s,e){p.hE(t,s,e)}vj(t){p.n2(t)}line(t,s,e,i){p.Cm(t,s,e,i)}xj(t,s,e,i,r,n){p.Cw(t,s,e,i,r,n)}Mj(t,s,e,i){p.Aw(t,s,e,i)}Tj(t){p.Lw(d.Rect.Cl(t))}Gj(t){p.Bw(d.Ql.Su(t))}_j(t){p.Hw(t)}Ij(){p.zw()}Cj(t){p.Xw(t)}Rj(){p.Qw()}Ej(t){r.er(t,self.Fj);const s=t?n.vL(t):null;p.q3(s)}Pj(t,s){const e=self.$D.qD(t);if(e)return e.Aj(p,{Rv:s?.Rv??"clamp-to-edge",Ev:s?.Ev??"clamp-to-edge",Fv:s?.Fv??"trilinear",kv:s?.kv??!0});throw new Error("invalid IImageInfo")}kj(t){const s=self.$D.qD(t);if(!s)throw new Error("invalid IImageInfo");s.EI()}eW(t){const s=self.$D.qD(t);if(!s)throw new Error("invalid IImageInfo");const e=s.Qx();return self.Fj.Dj(n,e)}Oj(t,s,e){r.wi(t),r.wi(s);const i=p.Vx(t,s,{Rv:e?.Rv??"clamp-to-edge",Ev:e?.Ev??"clamp-to-edge",Fv:e?.Fv??"trilinear",kv:e?.kv??!0});return self.Fj.Dj(n,i)}Lj(t,s,e){r.tr(s,self.Fj);const i=n.vL(s);p.NC(t,i,{premultiplyAlpha:e?.premultiplyAlpha??!0})}deleteTexture(t){r.tr(t,self.Fj);const s=n.vL(t);p.qx(s)}Bj(){const t=p.T2();return new self.Nj(n,t)}Wj(){n.N5().Uj(p)}jj(t){r.tr(t,globalThis.bL);const s=n.vL(t);s.Vj(p)}}}{const dr=new WeakMap,pr=new WeakMap;self.Fj=class{constructor(t,s){dr.set(this,{runtime:t,Hj:s}),pr.set(s,this),t.PO(this,s),Object.defineProperties(this,{width:{value:s.lm(),writable:!1},height:{value:s.Mm(),writable:!1}})}static Dj(t,s){if(!s)return null;const e=pr.get(s);return e||new self.Fj(t,s)}}}{let i=function(t){return gr.get(t).zj};i;const mr=self.$s,gr=new WeakMap;self.Nj=class{constructor(t,s){gr.set(this,{runtime:t,zj:s}),t.PO(this,s)}release(){i(this).cn()}set Jj(t){mr.Mi(t),i(this).NI(t)}get Jj(){return i(this).W_()}set qj(t){mr.wi(t),i(this).WI(t)}get qj(){return i(this).UI()}set lineHeight(t){mr.wi(t),i(this).VI(t)}get lineHeight(){return i(this).HI()}set $j(t){i(this).zI(t)}get $j(){return i(this).JI()}set Xj(t){i(this).qI(t)}get Xj(){return i(this).$I()}setColor(t){mr.Bi(t),this.Yj(t[0],t[1],t[2])}Yj(t,s,e){i(this).QI(t,s,e)}Kj(t){mr.Mi(t),i(this).Sb(t)}set Zj(t){i(this).tC(t)}get Zj(){return i(this).sC()}set verticalAlign(t){i(this).eC(t)}get verticalAlign(){return i(this).iC()}set Qj(t){i(this).rC(t)}get Qj(){return i(this).nC()}set tV(t){i(this).hC(t)}get tV(){return i(this).oC()}set text(t){mr.Mi(t),i(this).df(t)}get text(){return i(this).aC()}rL(t,s,e){mr.wi(t),mr.wi(s),mr.wi(e),i(this).lC(t,s,e)}sW(){const{runtime:t,zj:s}=gr.get(this),e=s.Qx();return self.Fj.Dj(t,e)}iW(){return i(this).WC().Il()}sV(t){mr.Ji(t),i(this).AI=t}eV(){i(this).EI()}get iV(){return i(this).cC()}get rV(){return i(this).dC()}}}{let i=function(t){if(!t)return"";const s=t.split(".");if(s.length<2)return"";const e=s.at(-1).toLowerCase();return Sr.get(e)||""},n=function(i){return new Promise((t,s)=>{const e=document.createElement("script");e.onload=t,e.onerror=s,e.async=!1,e.type="module",e.src=i,document.head.appendChild(e)})};i,n;const g=self.Bs,yr=new Set(["local","remote"]),Sr=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);g.nV=class extends g.an{constructor(t,s){super();const e=s.exportType,i=(this.lf=t,this.hV="folders",this.oV=new Map,this.aV="cordova"===e,this.lV=!!s.isiOSCordova,this.uV=!!s.isFileProtocol,this.cV=s.swClientId,this.fV=s.supportedAudioFormats||{},this.dV=new Map,this.pV=!1,this.mV=s.scriptFolder,this.gV="",this.yV="",this.SV="",this.wV=s.fileMap||new Map,this.bV=new Map,"html5"===e||"scirra-arcade"===e||"instant-games"===e);this.vV=i?"remote":"local",this.xV=new Map,this.MV=[],this.TV=[],this.GV=!1,this._V=0,this.IV=0,this.CV=0,this.RV=!1,this.EV=g.un(g.Md,()=>this.FV(),50),this.PV=g.un(g.dd,Math.max(g.hardwareConcurrency,8)),this.AV=g.un(g.dd,20),this.kV=new self.VD(this)}cn(){for(const t of this.xV.values())t.cn();this.xV.clear(),g.Lh(this.TV),this.lf=null}YD(){return this.lf}DV(t){this.hV=t}r5(){return this.hV}OV(){return this.mV}LV(t){this.gV=t}o5(){return this.gV}BV(t){this.yV=t}NV(){return this.yV}WV(t){this.SV=t}UV(){return this.SV}jV(){return this.uV}To(t,s){return s=s||this.vV,g.wo(t)?("flat"===this.hV&&(t=t.toLowerCase()),this.aV&&this.uV?this.VV(t):"playable-ad-single-file"===this.lf.D5()?self.c3_runtimeInterface._PlayableAdFetchBlob(t):("local"===s?this.PV:this.AV).cc(()=>g.To(t))):g.To(t)}Go(t){return g.wo(t)?("flat"===this.hV&&(t=t.toLowerCase()),this.aV&&this.uV?this.HV(t):"playable-ad-single-file"===this.lf.D5()?g.Io(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.vV?this.PV:this.AV).cc(()=>g.Go(t))):g.Go(t)}xo(t){return g.wo(t)?("flat"===this.hV&&(t=t.toLowerCase()),this.aV&&this.uV?this.zV(t):"playable-ad-single-file"===this.lf.D5()?g.Co(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.vV?this.PV:this.AV).cc(()=>g.xo(t))):g.xo(t)}async Mo(t){const s=await this.xo(t);return JSON.parse(s)}JV(t,s){return"flat"===this.hV&&(t=t.toLowerCase()),this.lf.BD("runtime","cordova-fetch-local-file",{filename:t,as:s})}zV(t){return this.JV(t,"text")}async VV(t){const s=await this.JV(t,"buffer"),e=i(t);return new Blob([s],{type:e})}async qV(t){"flat"===this.hV&&(t=t.toLowerCase());let s=this.oV.get(t);if(!s){const e=await this.VV(t);s=URL.createObjectURL(e),this.oV.set(t,s)}return s}HV(t){return this.JV(t,"buffer")}n5(t){"flat"===this.hV&&(t=t.toLowerCase());let s=this.gV+t;return"Gecko"===g.ue.ye&&"preview"===this.lf.D5()?this.$V(s):s}e5(t){return g.So(t)?Promise.resolve(t):this.aV&&this.uV?this.qV(t):"playable-ad-single-file"===this.lf.D5()?URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("flat"===this.hV&&(t=t.toLowerCase()),Promise.resolve(t))}XV(s){if(g.So(s)||"preview"!==this.lf.D5()||!this.cV||!s)return s;try{const t=new URL(s,location.href);return t.searchParams.set("__c3_client_id",this.cV),t.toString()}catch(t){return console.warn("Invalid iframe URL: "+s),s}}YV(t){return this.e5(t)}KV(t){if(t.ZV&&!yr.has(t.ZV))throw new Error("invalid load policy");let s=this.xV.get(t.url);return s||(s=g.un(g.QV,this,{url:t.url,size:t.size||0,ZV:t.ZV||this.vV}),this.xV.set(s.t7(),s),this.GV)||(this._V+=s.nc(),this.TV.push(s.s7().then(()=>this.e7(s.nc())))),s}i7(t){this.xV.delete(t.t7())}async r7(){try{await Promise.all(this.TV),this.CV=1}catch(t){console.error("Error loading: ",t),this.RV=!0,this.FV()}}n7(){this.GV=!0}h7(){return this.RV}e7(t){this.IV+=t,this.EV.Dd()}FV(){const t=g.un(g.Event,"loadingprogress");this.CV=g.yn(this.IV/this._V,0,1),t.progress=this.CV,this.lf.jf().dispatchEvent(t)}o7(){return this.CV}a7(t){g.Uh(this.MV,t),this.MV.length&&this.TV.push(this.l7())}async l7(){const t=[],s=[];for(const[e,i,r]of this.MV)this._V+=r,t.push(this.u7(e,i,s).then(()=>this.e7(r)));await Promise.all(t),this.lf.YA()&&0<s.length&&await this.lf.BD("runtime","load-webfonts",{webfonts:s})}async u7(s,e,i){try{let t=await this.e5(e);"Gecko"===g.ue.ye&&(s=`'${s}'`),("Gecko"===g.ue.ye&&"preview"===this.lf.D5()||"playable-ad-single-file"===this.lf.D5())&&(t=this.$V(t));const r=new FontFace(s,`url('${t}')`);(this.lf.YA()?self:document).fonts.add(r),await r.load(),this.lf.YA()&&i.push({name:s,url:t})}catch(t){console.warn(`[C3 runtime] Failed to load web font '${s}': `,t)}}zD(t){return!!this.fV[t]}c7(t,s){this.pV=!!s;for(const[e,i,r]of t)this.dV.set(e,{fileName:e,f7:i.map(t=>({type:t[0],d7:t[1],p7:e+t[1],fileSize:t[2]})),isMusic:r})}m7(t){"flat"===this.hV&&(t=t.toLowerCase());const s=this.dV.get(t);if(!s)return null;let e=null;for(const i of s.f7)if(e||"audio/webm; codecs=opus"!==i.type||(e=i),this.zD(i.type))return i;return e}g7(t){const s=this.m7(t);return s?{url:this.n5(s.p7),type:s.type}:null}y7(){if(this.pV){const t=[];for(const s of this.dV.values())if(!s.isMusic){const e=this.m7(s.fileName);e&&t.push({originalUrl:s.fileName,url:this.n5(e.p7),type:e.type,fileSize:e.fileSize})}return t}return[]}S7(t){return"preview"===this.lf.D5()&&(t=new URL(t,location.href).toString()),this.wV.get(t)||null}$V(t){let s=this.bV.get(t);if(!s){const e=this.S7(t);if(!e)return t;s=URL.createObjectURL(e),this.bV.set(t,s)}return s}BA(){return this.kV}async c5(...t){const s=await Promise.all(t.map(t=>this.e5(t)));if(this.lf.YA())if(1===t.length){const e=t[0];await import((g.wo(e)?"./":"")+e)}else{const i=t.map(t=>`import "${g.wo(t)?"./":""}${t}";`).join("\n"),r=URL.createObjectURL(new Blob([i],{type:"application/javascript"}));await import(r)}else await Promise.all(s.map(t=>n(t)))}async d5(t){if(WebAssembly.compileStreaming){const s=await this.e5(t);return WebAssembly.compileStreaming(fetch(s))}{const e=await g.Go(t);return WebAssembly.compile(e)}}async m5(t){const s=await this.e5(t);return this.lf.BD("runtime","add-stylesheet",{url:s})}}}{const wr=self.Bs;wr.w7=class extends wr.an{constructor(t,s){super(),this.b7=t,this.lf=t.YD(),this.v7=s.url||"",this.x7=s.size,this.M7=s.ZV,this.T7=s.blob||null,this.G7=!!this.T7,this.Ng=null}cn(){this.Ng=null,this.b7=null,this.lf=null,this.T7=null}t7(){return this.v7}nc(){return this.x7}s7(){return"local"===this.M7||this.T7?(this.G7=!0,Promise.resolve()):(this.Ng||(this.Ng=this.b7.To(this.v7,this.M7).then(t=>(this.G7=!0,this.Ng=null,this.T7=t)).catch(t=>{console.error("Error loading resource: ",t),this.Ng=null})),this.Ng)}_7(){return this.G7}I7(){return this.T7?Promise.resolve(this.T7):this.Ng||this.b7.To(this.v7,this.M7)}}}{const br=self.Bs,ln=new br.dd,un=new Set;br.QV=class extends br.w7{constructor(t,s){super(t,s),this.C7=null,this.R7=null,this.f1=0,this.E7=-1,this.F7=-1,un.add(this)}cn(){if(0!==this.f1)throw new Error("released image asset which still has texture references");this.b7.i7(this),this.C7=null,un.delete(this),super.cn()}static P7(){for(const t of un)t.C7=null,t.R7=null,t.f1=0}Aj(t,s){return s=s||{},this.f1++,this.R7?Promise.resolve(this.R7):(this.C7||(s.Pv=this.lf.N5().A7(),this.C7=this.k7(t,s)),this.C7)}async k7(s,e){try{const i=await this.I7();return 0===this.f1?this.C7=null:await ln.cc(async()=>{const t=await s.FE(i,e);return this.C7=null,0===this.f1?(s.qx(t),null):(this.R7=t,this.E7=t.lm(),this.F7=t.Mm(),this.R7)})}catch(t){throw console.error("Failed to load texture: ",t),t}}EI(){if(this.f1<=0)throw new Error("texture released too many times");if(this.f1--,0===this.f1&&this.R7){const t=this.R7.Y2();t.qx(this.R7),this.R7=null}}D7(){return this.f1}Qx(){return this.R7}lm(){return this.E7}Mm(){return this.F7}async O7(){const t=await this.I7();return br.je.ImageBitmap?createImageBitmap(t):br.Eo(t)}}}{let t=function(t,s){return t.RD().L7()-s.RD().L7()};t;const cn=self.Bs;cn.B7=class extends cn.an{constructor(t,s,e){super(),this.N7=t,this.tl=s,this.sl=e,this.W7=[],this.U7=!0,this.j7=new Set,this.V7=!1}cn(){cn.Lh(this.W7),this.j7.clear(),this.N7=null}l0(){cn.Lh(this.W7),this.U7=!0,this.j7.clear(),this.V7=!1}H7(){this.U7=!1}ec(){if(this.W7.length){if(this.W7.length>this.j7.size)return!1;this.z7()}return!0}J7(t){this.j7.has(t)?(this.j7.delete(t),0===this.j7.size&&(this.V7=!1)):(this.W7.push(t),this.U7=1===this.W7.length)}v0(t){this.j7.add(t),this.V7=!0,50<=this.j7.size&&this.z7()}z7(){this.V7&&(this.W7.length===this.j7.size?this.l0():(cn.Jh(this.W7,this.j7),this.j7.clear(),this.V7=!1))}q7(){this.U7||(this.W7.sort(t),this.U7=!0)}X7(t){this.z7(),this.q7(),this.W7.length&&t.push(this.W7)}}}{const fn=self.Bs;fn.Y7=class extends fn.an{constructor(t,s){super(),this.K7=t,this.Z7=s,this.Q7=fn.un(fn.Zu)}cn(){this.Q7.cn(),this.Q7=null}tH(t,s,e){let i=this.Q7.re(t,s);return i||(e?(i=fn.un(fn.B7,this,t,s),this.Q7.Set(t,s,i),i):null)}sH(t){return Math.floor(t/this.K7)}eH(t){return Math.floor(t/this.Z7)}iH(i,r,n){if(r)for(let e=r.Ml(),t=r.Gl();e<=t;++e)for(let t=r.Tl(),s=r._l();t<=s;++t)if(!n||!n.Xl(e,t)){const h=this.tH(e,t,!1);h&&(h.v0(i),h.ec())&&this.Q7.ic(e,t)}if(n)for(let e=n.Ml(),t=n.Gl();e<=t;++e)for(let t=n.Tl(),s=n._l();t<=s;++t)r&&r.Xl(e,t)||this.tH(e,t,!0).J7(i)}rH(t,s){let e=this.sH(t.Ml()),i=this.eH(t.Tl()),r=this.sH(t.Gl()),n=this.eH(t._l());for(;e<=r;++e)for(let t=i;t<=n;++t){const h=this.tH(e,t,!1);h&&h.X7(s)}}nH(t){let s=t.Ml(),e=t.Tl(),i=t.Gl(),r=t._l();for(;s<=i;++s)for(let t=e;t<=r;++t){const n=this.tH(s,t,!1);n&&n.H7()}}}}{let h=function(t,s){return t.RD().L7()-s.RD().L7()},t=function(t,s){return t.RD().Ab()-s.RD().Ab()};h,t;const w=self.Bs,dn=new w.Rect,pn=new w.Ql,mn=[],gn=(new w.Rect,new w.Rect,self.vs),Tr=gn.Rs,jr=gn.Es,Mr=gn.Gs,yn=Mr.create(),Sn=Tr.create(),wn=jr.create(),bn=Tr.create(),vn=Tr.create(),xn=Tr.create(),Mn=w.un(w.Qa),Tn=(w.un(w.Rect),[]),Gn=[],_n=[],In={name:"",sid:-1,hH:!1,isVisible:!0,isInteractive:!0,XL:!1,backgroundColor:[1,1,1,1],uB:!0,oH:[1,1],opacity:1,dB:!1,aH:!1,lH:!1,uH:!1,scaleRate:1,kP:0,lB:0,cH:[],fH:[],dH:[]};w.pH=class extends w.an{constructor(t,s,e){super(),e=Object.assign({},In,e),this.mH=t,this.lf=t.YD(),this.gH=s,this.mn=e.name,this.Xg=-1,this.yH=!!e.XL,this.SH=-1,this.wH=e.sid,this.bH=!!e.hH,this.vH=!!e.isVisible,this.xH=!!e.isInteractive,this.MH=w.un(w.Vo),this.MH.Va(e.backgroundColor),this.TH=!!e.uB,this.GH=e.oH[0],this._H=e.oH[1],this.pb=w.un(w.Vo,1,1,1,e.opacity),this.IH=w.un(w.Vo),this.CH=!!e.dB,this.RH=!!e.aH,this.EH=!!e.lH,this.FH=!!e.uH,this.PH=e.scaleRate,this.fb=e.kP,this.AH=null,this.kH=1,this.mb=e.lB,this.DH=0,this.OH=0,this.LH=0,this.BH=!1,this.GR=w.un(w.Rect),this.NH=w.un(w.Rect),this.WH=w.un(w.Rect),this.UH=!0,this.Lx=Mr.create(),this.jH=!0,this.bP=Mr.create(),this.VH=!0,this.HH=w.un(w.iy.uy),this.zH=!0,this.JH=[],this.qH=e.cH,this.$H=[],this.XH=[],this.YH=new Map,this.W7=[],this.KH=!1,this.ZH=!1,this.QH=!1;const r=this.lf.N5();this.sz=w.un(w.ez,this,e.fH),this.FA=w.un(w.iy.FF,r.iz(),{bF:(t,s)=>{const e=s.MA(),i=e.IE();t.Sb(e.rz()),t.DE(i),t.OE(i),r.nz(i)},xF:t=>this.sL().hz(t)}),this.oz=!0,this.az=!0,this.lz=null,this.uz=[],this.cz=!1,this.fz=w.un(w.Rect,0,0,-1,-1),this.pz=w.un(w.Rect,0,0,-1,-1),this.mz=new self.bL(this),this.gz(),this.yz()&&(this.lz=w.un(w.Y7,this.lf.ZA(),this.lf.sk())),this.Sz=e.dH.map(t=>w.pH.wz(this.mH,this,t))}bz(){for(const t of this.qH){const s=this.lf.vz(t[1]);this.mH.xz(s),s.Mz()||(s.Tz(t),s.Gz(this.Xg)),this.$H.push(t),this.YH.set(t[2],t)}w.Uh(this.JH,this.$H),this.qH=null}static wz(t,s,e){return w.un(w.pH,t,s,{name:e[0],sid:e[2],isVisible:e[3],isInteractive:e[13],XL:e[19],backgroundColor:e[4].map(t=>t/255),uB:e[5],oH:[e[6],e[7]],opacity:e[8],dB:e[9],aH:e[17],lH:e[18],uH:e[10],scaleRate:e[11],kP:e[12],lB:e[16],cH:e[14],fH:e[15],dH:e[20]})}cn(){for(const t of this.Sz)t.cn();w.Lh(this.Sz);for(const s of this.W7)this.lf.VB(s);w.Lh(this.W7),this.sz.cn(),this.sz=null,this.FA.cn(),this.FA=null,this.mz=null,this.gH=null,this.mH=null,this.lf=null}_z(t){return this.YH.get(t)}Iz(r){let n=this.mH.Cz(),h=0,o=this.$H;for(let i=0,t=o.length;i<t;++i){let t=o[i],s=this.lf.vz(t[1]),e=!0;if(!s.Rz()||n){const a=this.lf.Ez(t,this,!0);r.push(a),s.Fz()&&(e=!1,this.XH.push(a.YB()))}e&&(o[h]=o[i],++h)}w.Oh(o,h),this.lf.QO(),this.DD()}Pz(t,s){if(!t.FO().aO())throw new Error("instance is not of world type");const e=t.RD();if(e.ED()!==this)throw new Error("instance added to wrong layer");this.W7.push(t),0!==e.Ab()&&(this.QH=!0),s&&this.yz()&&t.RD().YN(),this.DD(t)}Az(t){this.W7.includes(t)||(this.W7.push(t),0!==t.RD().Ab()&&(this.QH=!0),this.DD(t))}kz(t,s){const e=t.RD();if(e.ED()!==this)throw new Error("instance added to wrong layer");this.W7.unshift(t),0!==e.Ab()&&(this.QH=!0),this.DD(t),s&&this.yz()&&t.RD().YN()}Dz(t,s){const e=this.W7.indexOf(t);e<0||(s&&this.yz()&&t.RD().Oz(),this.W7.splice(e,1),this.DD(t),this.Lz())}Bz(){this.QH=!0}Lz(){0===this.W7.length&&(this.QH=!1)}Nz(t){if(t){const s=new Set;for(const e of this.W7){const i=e.RD().L7();0<=i&&s.add(i)}let t=-1;for(const r of this.W7){const n=r.RD();if(!(0<=n.L7())){for(++t;s.has(t);)++t;n.Wz(t)}}}this.W7.sort(h)}Uz(){}jz(){for(const t of this.W7)t.OB().Fz()||this.lf.VB(t);this.lf.QO(),w.Lh(this.W7),this.QH=!1,this.DD()}Vz(s,t,e,i,r,n){const h=this.lf.pk(),o=this.lf.zz(),a=s.Jz(),l=[];for(const u of this.$H){const c=u[0],f=c[0],d=c[1];if(t.Xl(f,d)){const p=o[u[1]];if(p!==s){if(!a)continue;if(!s.qz(p))continue}let t=r;if(!t){const y=this.lf.ID();t=this.cD()===y?this:(t=y.$z(this.Zc()))||y.PD(this.DA())}const m=this.lf.Ez(u,t,!1,void 0,void 0,!1,n),g=(t.$O(m),m.RD());g.t4(e,i),g.YN(),h.XO(!0),m.YO(),h.XO(!1),l.push(m)}}return l}zO(){return this.W7.length}cD(){return this.mH}Zc(){return this.mn}Xz(t){this.Xg=t}DA(){return this.Xg}Yz(t){this.SH=t}JU(){return this.SH}YL(){return this.yH}KL(t){this.yH!==(t=!!t)&&(this.yH=t,this.mH.Kz(),this.lf.OD())}Zz(){let t=this.LL();return(t?t.WL():this.cD().Qz()).indexOf(this)}t9(){return this.wH}YD(){return this.lf}s9(){return this.bH}e9(){for(const t of this.BL())if(t.s9())return!0;return!1}K5(){return this.lf.K5()}sL(){return this.sz}kA(){return this.i9(),this.FA}i9(){const t=this.r9();if(this.oz||t!==this.az||this.FA.vP()){const s=this.sL().n9();this.FA.xP(s.map(t=>t.ST()),{TF:s.map(t=>t.DA()),GF:!t,EF:!0}),this.oz=!1,this.az=t}}N6(){this.sL().N6(),this.oz=!0}yz(){return this.FH&&!this.EH}h9(){return this.lz}o9(){this.cz=!1}JL(){for(const t of this.a9())if(!t.VL())return!1;return!0}VL(){return this.vH}HL(t){this.vH!==(t=!!t)&&(this.vH=t,this.lf.OD())}$L(t){this.xH=!!t}qL(){return this.xH}QL(){for(const t of this.a9())if(!t.qL())return!1;return!0}SB(t){if(this.BH!==(t=!!t)){if(this.BH=t){const s=this.cD();this.OH=s.uL(),this.LH=s.fL()}this.l9(),this.lf.OD()}}u9(){return this.BH}lL(t){const s=this.cD(),e=s.c9(),i=s.f9();this.OH!==(t=(t=i<t?i:t)<e?e:t)&&(this.OH=t,this.u9())&&(this.l9(),this.lf.OD())}cL(t){const s=this.cD(),e=s.d9(),i=s.p9();this.LH!==(t=(t=i<t?i:t)<e?e:t)&&(this.LH=t,this.u9())&&(this.l9(),this.lf.OD())}uL(){return this.u9()?this.OH:this.cD().uL()}fL(){return this.u9()?this.LH:this.cD().fL()}bB(){return this.m9(),this.GR}g9(){return this.m9(),this.NH}y9(){return this.m9(),this.WH}PL(){const t=this.cD();return[t.S9(),t.w9()]}pS(t){return this.lf.pS(t)}b9(c,i){const r=this.g9();if(0===c)i.I(r);else{let o=r.Fl(),a=r.Pl(),t=this.v9(c),s=r.width()/t,e=r.height()/t,[l,u]=this.PL();if(.5!==l||.5!==u){let t=this.x9(),s=this.lf,e=this.pS()/t,i=(l-.5)*s.M9()/e,r=(u-.5)*s.T9()/e,n=this.aL(),h=(0!==n&&(Mn.set(i,r),Mn.rotate(n),i=Mn.rl(),r=Mn.hl()),w.Fn(t,0,c));o+=w.Ot(i,0,h),a+=w.Ot(r,0,h)}i.set(o-s/2,a-e/2,o+s/2,a+e/2)}}j3(){return this.pb.aa()}H3(t){t=w.yn(t,0,1),this.pb.aa()!==t&&(this.pb.ea(t),this.gz(),this.lf.OD())}gz(){this.IH.I(this.pb),this.IH.xa()}rz(){return this.IH}r9(){return this.pb.ya(1,1,1,1)}iB(){return this.PH}eB(t){this.PH!==t&&(this.PH=t,this.l9(),this.lf.OD())}hB(){return this.GH}aB(){return this._H}G9(t,s){this.GH===t&&this._H===s||(this.GH=t,this._H=s,this.l9(),this.lf.OD())}nB(t){this.G9(t,this.aB())}oB(t){this.G9(this.hB(),t)}kb(t){this.mb!==t&&(this.mb=t,this.lf.OD())}Ab(){return this.mb}oL(t){t=w.Sn(t),this.DH!==t&&(this.DH=t,this.l9(),this.lf.OD())}aL(){return w.Sn(this.mH.aL()+this.DH)}rB(){return this.DH}_9(){return 0<this.W7.length}AD(){return this.W7}I9(){return this.C9()&&this.EH?(w.Uh(_n,this.AD()),_n.sort((t,s)=>this.R9(t,s)),_n):this.AD()}E9(t){w.Yr(t,this.I9());for(const s of this.Sz)s.JL()&&0<s.j3()&&s.E9(t)}R9(t,s){const e=this.cD().F9(),i=e[0],r=e[1],n=e[2],h=t.RD(),o=s.RD(),a=h.Cb()-i,l=h.Fb()-r,u=h.Ab()-n,c=o.Cb()-i,f=o.Fb()-r,d=o.Ab()-n;return c*c+f*f+d*d-(a*a+l*l+u*u)}yB(){return this.MH}fB(){return this.TH}cB(t){this.TH!==(t=!!t)&&(this.TH=t,this.lf.OD())}mB(){return this.CH}pB(t){this.CH!==(t=!!t)&&(this.CH=t,this.lf.OD())}P9(){return!this.YD().A9()||!this.RH}C9(){return!this.P9()}k9(){return this.C9()&&this.cD().D9()}O9(){if(!this.k9())return!1;for(const t of this.Sz)if(!t.O9())return!1;return!0}yb(t){this.fb!==t&&(this.fb=t,this.lf.OD())}gB(){return this.fb}L9(){return!this.gH}LL(){return this.gH}B9(t){this.gH=t}WL(){return this.Sz}N9(){return 0<this.Sz.length}W9(t,s=!0){s?this.Sz.push(t):this.Sz.unshift(t)}U9(t,s,e){let i=this.Sz.indexOf(s);if(-1===i)throw new Error("cannot find layer to insert by");e&&++i,this.Sz.splice(i,0,t)}j9(t){const s=this.Sz.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");this.Sz.splice(s,1)}V9(){for(const t of this.Sz)if(t.H9())return!0;return!1}*jL(){for(const t of this.Sz)yield*t.jL();yield this}*BL(){let t=this.LL();for(;t;)yield t,t=t.LL()}*a9(){yield this,yield*this.BL()}z9(t){for(const s of this.BL())if(s===t)return!0;return!1}J9(t){return this===t||this.GH===t.GH&&this._H===t._H&&this.kH===t.kH&&this.PH===t.PH&&this.DH===t.DH&&this.uL()===t.uL()&&this.fL()===t.fL()}q9(){return{parallaxX:this.hB(),parallaxY:this.aB(),scale:this.sB(),scaleRate:this.iB(),angle:this.rB(),hasOwnScroll:this.u9(),scrollX:this.uL(),scrollY:this.fL()}}X9(t){this.G9(t.parallaxX,t.parallaxY),this.tB(t.scale),this.eB(t.scaleRate),this.oL(t.angle),this.SB(t.hasOwnScroll),this.lL(t.scrollX),this.cL(t.scrollY),this.m9()}Y9(t){if(0!==t.size){const s=w.Jh(this.W7,t);0<s&&(this.Lz(),this.DD())}}DD(t){this.KH=!1,this.cz=!1,t&&!t.OB().FO().uO()||(this.ZH=!1)}K9(){if(!this.KH){if(this.W7.sort(t),this.yz())for(let t=0,s=this.W7.length;t<s;++t){const e=this.W7[t].RD();e.Wz(t),this.lz.nH(e.Z9())}else for(let t=0,s=this.W7.length;t<s;++t)this.W7[t].RD().Wz(t);this.KH=!0}}Q9(){if(!this.ZH){let t=this.mH.tJ(this.JU()),s=t.map(t=>[...t.jL()]).flat(),e=0;for(const i of s){for(const r of i.AD())r.OB().FO().uO()&&r.RD().sJ(e++);i.eJ()}}}eJ(){this.ZH=!0}iJ(){return{isVisible:this.JL(),opacity:this.j3(),isInteractive:this.qL()}}rJ(t,s,e){const i=t.RD(),r=s.RD();if(i.ED()!==this||r.ED()!==this)throw new Error("can't arrange Z order unless both objects on this layer");let n=i.FD(),h=r.FD();return n!==h+(e?1:-1)&&(w.jh(this.W7,n),n<h&&h--,e&&h++,h===this.W7.length?this.W7.push(t):this.W7.splice(h,0,t),this.DD(t),!0)}nJ(t,s){let e=[],i=0,r=0,n=t.length,h=s.length;for(;i<n&&r<h;){const o=t[i],a=s[r];o.RD().L7()<a.RD().L7()?(e.push(o),++i):(e.push(a),++r)}for(;i<n;++i)e.push(t[i]);for(;r<h;++r)e.push(s[r]);return e}hJ(s){const e=[],i=s.length;for(let t=0;t<i-1;t+=2){const r=s[t],n=s[t+1];e.push(this.nJ(r,n))}return i%2==1&&e.push(s[i-1]),e}oJ(t){for(;1<t.length;)t=this.hJ(t);return t[0]}aJ(){return this.K9(),w.Lh(mn),this.lz.rH(this.bB(),mn),mn.length?1===mn.length?mn[0]:this.oJ(mn):[]}H9(){return this.JL()&&0<this.j3()&&this.lJ()}lJ(){if(this._9()||!this.fB())return!0;for(const t of this.Sz)if(t.lJ())return!0;return!1}uJ(){return this.mB()||!this.r9()||0!==this.gB()||this.sz.cJ()}fJ(){if(this.uJ())return!0;for(const t of this.Sz)if(t.fJ())return!0;return!1}IE(){return this.AH}v9(t){if(this.mH.DL())return 1;{const s=this.dJ();return s/(s-t)}}pJ(t){const s=this.lf.AB();if(this.mH.DL())return s;{const e=this.dJ(),i=this.pS();return i/Math.abs(e-t)*s}}l9(){this.VH=!0,this.zH=!0,this.UH=!0}mJ(t){return this.VH&&(this.gJ(t,this.bP,0,0,null),this.VH=!1),this.bP}x9(t){return this.pS(t)/this.yJ()}dJ(){return this.k9()?this.cD().F9()[2]:this.x9()}SJ(){if(this.k9()){const t=this.cD().F9();return[t[0],t[1],t[2]]}return this.wJ()}wJ(t=0,s=0,r=0){let n=this.lf,e=this.cD(),i=n.bJ(),h=n.vJ(),o=(this.uL()-i)*this.GH+i,a=(this.fL()-h)*this._H+h,l=(n.rk()&&(o=Math.round(o),a=Math.round(a)),o+t),u=a+s,c=e.DL()?this.pS(r):this.x9(r),[f,d]=this.PL();if(.5!==f||.5!==d){let t=this.pS(r)/c,s=(f-.5)*n.M9()/t,e=(d-.5)*n.T9()/t,i=this.aL();0!==i&&(Mn.set(s,e),Mn.rotate(i),s=Mn.rl(),e=Mn.hl()),l+=s,u+=e}return[l,u,c]}gJ(t,s,e,i,r){const n=this.lf,h=this.cD();if(this.k9()){Tr.I(bn,h.F9()),Tr.I(vn,h.xJ()),Tr.I(xn,h.MJ());const o=n.bJ(),a=n.vJ(),l=vn[0]-bn[0],u=vn[1]-bn[1],c=vn[2]-bn[2];bn[0]=(bn[0]-o)*this.GH+o,bn[1]=(bn[1]-a)*this._H+a,bn[2]*=Math.max(this.GH,this._H),vn[0]=bn[0]+l,vn[1]=bn[1]+u,vn[2]=bn[2]+c}else{const[f,d,p]=this.wJ(e,i,r),m=(Tr.set(bn,f,d,p),Tr.set(vn,f,d,p-100),this.aL());0===m?Tr.set(xn,0,1,0):Tr.set(xn,Math.sin(m),Math.cos(m),0)}t.ES(s,bn,vn,xn,r||n.T9())}TJ(){this.jH=!0,this.zH=!0,this.UH=!0}GJ(t){return this.jH&&(this._J(t),this.jH=!1),this.Lx}_J(t){const s=this.lf.N5(),[e,i]=this.PL();if(this.mH.DL())t.RS(this.Lx,s.IJ(),s.CJ());else if(.5===e&&.5===i)Mr.I(this.Lx,s.RJ());else{const r=s.IJ(),n=s.CJ();t.IS(this.Lx,r/n,e,i)}}Vj(t,s=!0,e=0,i=0,r=0){s&&t.E3(this.GJ(t));let n;n=0===e&&0===i&&0===r?this.mJ(t):(this.gJ(t,yn,e,i,r),yn),t.L3(n)}EJ(t){this.Vj(t),t.Sw(this.Ab())}FJ(t){let s=null;if(t.S2()&&this.lf.PJ()){const e=this.lf.N5().AJ(this);e&&(s=e.fR(),t.jE(s))}return s}kJ(t){if(t.CS()&&this.lf.PJ()){const s=2*(this.DA()+1);t.StartMeasuringRenderPassTime(s,1+s)}}bv(t,s,e){let i=this.lf.N5(),r=this.uJ(),n=null,h=this.FJ(t);if(this.kJ(t),r){const o={Fv:this.lf.ek(),Gx:!0,DJ:!!t.CS()&&this.lf.OJ()};"low"===i.LJ()&&(o.width=i.IJ(),o.height=i.CJ()),n=this.lf.BJ(o),this.AH=n,t.AE(n),this.fB()&&t.bE(0,0,0,0)}else this.AH=s,t.AE(s);if(this.fB()||t.tc(this.MH),this.mH.NJ(t,this.AH,this.Sz,r&&this.fB()),this.kJ(t),this.Vj(t),t.Sw(this.Ab()),t.ME(this.C9()),this.yJ()>Number.EPSILON){this.K9();const a=this.yz()&&0===this.Ab()&&!this.QH;this.k9()?this.WJ(t):a?this.UJ(t):this.jJ(t,this.I9())}t.Sw(0),t.bw(0),r&&(t.ME(!1),this.VJ(t,n,s,e)),h&&t.HE(h),this.AH=null}jJ(e,i){let r=this.bB(),n=this.AH,h=this.cD().DL(),o=this.cD().HJ(),a=null;for(let t=0,s=i.length;t<s;++t){const l=i[t];if(l!==a){const u=(a=l).RD();u.JL()&&u.zJ(r,o,h)&&this.JJ(l,u,e,n)}}}WJ(i){const r=this.AH,n=this.qJ(),h=Tn,o=Gn,a=this.I9();for(let s=0,e=a.length;s<e;){const l=a[s],u=l.RD();if(u.JL()&&u.$J(n)){(!l.XJ()||0<u.YJ())&&o.push(l);const c=l.RD().e4();h.push(l);let t=s+1;for(;t<e;++t){const f=a[t],d=f.RD();if(d.JL()&&d.$J(n)){if(d.e4()!==c)break;(f.XJ()?(0<d.YJ()&&o.push(f),h):o).push(f)}}if(1!==h.length||h[0].KJ()){this.ZJ(i,h);for(let t=0,s=o.length;t<s;++t){const p=o[t],m=p.RD();m.QJ(!0),this.JJ(p,m,i,r),m.QJ(!1)}}else{this.JJ(l,u,i,r);for(let t=0,s=o.length;t<s;++t){const g=o[t];if(g!==l){const y=g.RD(),S=y.ED();S.JJ(g,y,i,r)}}}s=t,w.Lh(h),w.Lh(o)}else++s}}ZJ(e,i){const r=this.AH;e.BE();for(let t=0,s=i.length;t<s;++t){const n=i[t],h=n.RD();h.tq(!0),this.sq(n,h,e)}e.NE();for(let t=0,s=i.length;t<s;++t){const o=i[t],a=o.RD();this.JJ(o,a,e,r),a.tq(!1)}e.UE()}UJ(t){let s=this.lz,e=this.pz,i=this.fz,r=this.bB(),n;e.set(s.sH(r.Ml()),s.eH(r.Tl()),s.sH(r.Gl()),s.eH(r._l())),this.cz&&e.equals(i)?n=this.uz:(n=this.aJ(),this.cz=!0,i.I(e)),this.jJ(t,n),n!==this.uz&&w.Uh(this.uz,n)}JJ(t,s,e,i){s.cJ()?this.eq(t,s,e,i):this.sq(t,s,e)}sq(t,s,e){const i=s.iq();e.KS()!==i&&i.gb(),t.bv(e)}eq(t,s,e,i){this.rq(t,s,e,i,null)&&this.Vj(e)}rq(t,s,e,i,r){const n=s.$N().kA();return n.PP(e,i,{AP:t,kP:s.gB(),devicePixelRatio:this.lf.nq(),time:t.hq(),DP:this.lf.oq()*this.yJ(),OP:this.aL(),iA:s.r4(),rA:n.vA()?null:this.aq(s),UP:r&&r.UP,jP:r&&r.jP,VP:r&&r.VP,HP:r&&r.HP}),e.Sw(this.Ab()),n.N3()}VJ(t,s,e,i){const r=this.sz.n9(),n=this.lf;0===r.length?(t.AE(e),t.OS(),i&&0===this.fb&&this.r9()?t.kE(s):(t.yb(this.fb),t.Sb(this.IH),t.DE(s)),t.OE(s),n.nz(s)):this.kA().PP(t,e,{AP:this,kP:this.gB(),devicePixelRatio:n.nq(),DP:n.oq()*this.yJ(),OP:this.aL(),iA:this.bB(),rA:null,MF:!0})}sB(){return this.kH}tB(t){this.kH!==t&&(this.kH=t,this.mH.lq(),this.l9(),this.lf.OD())}AB(){return this.yJ()*this.lf.AB()}t8(){return this.yJ()*this.lf.t8()}yJ(){return(this.kH*this.mH.hL()-1)*this.PH+1}m9(){if(this.UH){this.UH=!1;let t=this.lf.bJ(),s=this.lf.vJ(),e=(this.uL()-t)*this.GH+t,i=(this.fL()-s)*this._H+s,r=this.yJ(),n=this.lf.M9()/r,h=this.lf.T9()/r,o=e-n/2,a=i-h/2;this.lf.rk()&&(o=Math.round(o),a=Math.round(a));const l=this.NH,u=(l.set(o,a,o+n,a+h),this.aL()),c=(0!==u&&(dn.I(l),dn.offset(-l.Fl(),-l.Pl()),pn.vu(dn,u),pn.Mu(dn),dn.offset(l.Fl(),l.Pl()),l.I(dn)),this.mb);this.b9(c,this.GR),this.k9()?this.uq(c,this.WH):this.WH.I(this.GR)}}uq(t,s){let e=this.lf.N5(),i=e.V5(),r=e.z5(),[n,h]=this.xB(0,0,t),[o,a]=this.xB(i,0,t),[l,u]=this.xB(i,r,t),[c,f]=this.xB(0,r,t),d=Math.min(n,o,l,c),p=Math.min(h,a,u,f),m=Math.max(n,o,l,c),g=Math.max(h,a,u,f);isFinite(d)||(d=-1/0),isFinite(p)||(p=-1/0),isFinite(m)||(m=1/0),isFinite(g)||(g=1/0),s.set(d,p,m,g)}xB(t,s,e=0){return this.cq(t,s,e,this.t8())}CB(t,s,e=0){return this.cq(t,s,e,this.AB()*this.K5())}cq(t,s,e,i){const r=this.lf,n=r.Y2(),h=this.yJ(),o=r.M9()/h,a=r.T9()/h,l=wn,u=(jr.set(l,0,0,o,a),t/=i,s=l[3]-s/i,this.GJ(n)),c=this.mJ(n),f=Sn,d=w.iy.oy(t,s,e,c,u,l,f);return d?[f[0],f[1]]:[NaN,NaN]}fq(t,s){const e=this.kH,i=this.PH,r=this.GH,n=this._H,h=this.DH,o=(this.kH=1,this.PH=1,this.GH=1,this._H=1,this.DH=0,this.l9(),this.xB(t,s));return this.kH=e,this.PH=i,this.GH=r,this._H=n,this.DH=h,this.l9(),o}_B(t,s,e=0){return this.pq(t,s,e,this.t8())}EB(t,s,e=0){return this.pq(t,s,e,this.AB()*this.K5())}pq(t,s,e,i){const r=this.lf,n=r.Y2(),h=this.yJ(),o=r.M9()/h,a=r.T9()/h,l=wn,u=(jr.set(l,0,0,o,a),this.GJ(n)),c=this.mJ(n),f=Sn,d=w.iy.ny(t,s,e,c,u,l,f);return d?[f[0]*i,(l[3]-f[1])*i]:[NaN,NaN]}mq(t,s){return t*=this.AB()*this.K5(),0!==s&&(t*=this.v9(s)),t}aq(t){const s=t.r4(),e=t.e4(),i=t.YJ(),l=e+i,u=s.Ml(),c=s.Tl(),f=s.Gl(),d=s._l();if(this.k9()){if(this.gq(u,c,e)||this.gq(f,c,e)||this.gq(f,d,e)||this.gq(u,d,e))return null;if(0<i&&(this.gq(u,c,l)||this.gq(f,c,l)||this.gq(f,d,l)||this.gq(u,d,l)))return null}else if(l>=this.x9())return null;let[p,m]=this.EB(u,c,e),[g,y]=this.EB(f,d,e);if(0!==this.aL()||0<i||this.k9()){const[S,w]=this.EB(f,c,e),[b,v]=this.EB(u,d,e);if(0<i){let[t,s]=this.EB(u,c,l),[e,i]=this.EB(f,c,l),[r,n]=this.EB(f,d,l),[h,o]=this.EB(u,d,l),a=Math.min(p,g,S,b,t,e,r,h);g=Math.max(p,g,S,b,t,e,r,h),p=a,a=Math.min(m,y,w,v,s,i,n,o),y=Math.max(m,y,w,v,s,i,n,o),m=a}else{let t=Math.min(p,g,S,b);g=Math.max(p,g,S,b),p=t,t=Math.min(m,y,w,v),y=Math.max(m,y,w,v),m=t}}return dn.set(p,m,g,y),dn}qJ(){return this.zH&&(this.yq(),this.zH=!1),this.HH}yq(){const t=this.lf.Y2(),s=this.GJ(t),e=this.mJ(t);this.HH.vy(e,s)}gq(t,s,e){return this.qJ().My(t,s,e)}Sq(){const t={d:this.s9(),s:this.sB(),a:this.rB(),v:this.VL(),i:this.qL(),html:this.YL(),bc:this.MH.toJSON(),t:this.fB(),sx:this.OH,sy:this.LH,hosp:this.BH,px:this.hB(),py:this.aB(),c:this.pb.toJSON(),sr:this.iB(),fx:this.sz.Ub(),cg:this.XH};return t}wq(t){this.bH=!!t.d,this.kH=t.s,this.DH=t.a,this.vH=!!t.v,this.xH=!t.hasOwnProperty("i")||t.i,this.yH=!!t.html,this.MH.Va(t.bc),this.TH=!!t.t,t.hasOwnProperty("sx")&&(this.OH=t.sx),t.hasOwnProperty("sy")&&(this.LH=t.sy),t.hasOwnProperty("hosp")&&(this.BH=!!t.hosp),this.GH=t.px,this._H=t.py,this.pb.Va(t.c),this.gz(),this.PH=t.sr,w.Uh(this.XH,t.cg),w.Uh(this.$H,this.JH);let e=new Set(this.XH),i=0;for(let t=0,s=this.$H.length;t<s;++t)e.has(this.$H[t][2])||(this.$H[i]=this.$H[t],++i);w.Oh(this.$H,i),this.sz.jb(t.fx),this.oz=!0}bq(){this.Nz(!1),this.DD(),this.l9(),this.TJ()}mL(){return this.mz}$O(t,s=!1){if(this.W7.includes(t))s&&this.W7.sort((t,s)=>{const e=t.RD().vq(),i=s.RD().vq();return e-i});else if(t.xq()){const e=[...t.A4()];e.push(t),e.sort((t,s)=>{const e=t.RD().vq(),i=s.RD().vq();return e-i});for(const i of e)if(i.$B())for(const r of i.XB())if(!e.includes(r)){const n=[...r.A4()];n.push(r),n.sort((t,s)=>{const e=t.RD().vq(),i=s.RD().vq();return e-i}),n&&n.length&&e.splice(e.length,0,...n)}for(const h of e)h.FO().aO()&&this.Pz(h,!0)}else if(t.FO().aO()&&this.Pz(t,!0),t.$B())for(const o of t.XB()){const a=[...o.A4()];if(a.push(o),a.sort((t,s)=>{const e=t.RD().vq(),i=s.RD().vq();return e-i}),a&&a.length)for(const l of a)l.FO().aO()&&this.Pz(l,!0)}}}}{let l=function(t,s,e,i){return t[0]===Math.fround(s)&&t[1]===Math.fround(e)&&t[2]===Math.fround(i)},v=function(t,s){I!==t&&(t.EJ(s),I=t)},x=(l,v,self.Bs),i=self.C3Debugger,r=(x.un(x.Rect),x.un(x.Rect),x.un(x.Rect)),M=x.un(x.Vo),t=self.vs,u=t.Rs,a=[],T=[],G=[],_=[],I=null;x.Mq=class extends x.an{constructor(t,s,e){super(),this.Tq=t,this.lf=t.YD(),this.mn=e[0],this.Gq=e[1],this._q=e[2],this.Xm=e[1],this.Ym=e[2],this.Iq=!!e[3],this.Cq=!!e[4],this.Rq=e[5],this.Eq=e[6],this.Fq=e[7],this.Pq=null,this.wH=e[8],this.Xg=s,this.OH=0,this.LH=0,this.kH=1,this.DH=0,this.Aq=new Set,this.kq=new Set,this.Dq=new Set,this.Oq=[],this.Lq=[],this.Bq=new Map,this.Nq=new Map,this.Wq=[],this.Uq=!1,this.jq=u.create(),this.Vq=u.create(),this.Hq=u.create(),this.zq=[],this.Jq=[],this.qq=new Map,this.$q=new Map,this.Xq=-1;const r=this.lf.N5();this.sz=x.un(x.ez,this,e[11]),this.FA=x.un(x.iy.FF,r.iz(),{bF:(t,s)=>{const e=s.MA(),i=e.IE();t.z3(),t.DE(i),t.OE(i),r.nz(i)},xF:t=>this.sL().hz(t)}),this.oz=!0,this.Yq=!1,this.AH=null,this.Kq={},this.Zq=new Map,this.Qq=!0,this.t$=new self.tL(this),this.s$=x.un(x.Event.jf);for(const i of e[9])this.zq.push(x.pH.wz(this,null,i));this.e$();for(const n of this.SL())n.bz();for(const h of e[10]){const o=this.lf.vz(h[1]);if(!o)throw new Error("missing nonworld object class");o.Mz()||o.Tz(h),this.Wq.push(h),this.xz(o)}}cn(){for(const t of this.Jq)t.cn();x.Lh(this.Jq),this.Dq.clear(),this.Pq=null,this.Tq=null,this.lf=null}YD(){return this.lf}Zc(){return this.mn}t9(){return this.wH}DA(){return this.Xg}sL(){return this.sz}kA(){return this.i9(),this.FA}i9(){const t="low"===this.lf.N5().LJ();if(this.oz||this.Yq!==t||this.FA.vP()){const s=this.sL().n9();this.FA.xP(s.map(t=>t.ST()),{TF:s.map(t=>t.DA()),_F:t,EF:!0}),this.oz=!1,this.Yq=t}}N6(){this.sL().N6(),this.oz=!0}i$(){let e=this.Jq[0].yJ();for(let t=1,s=this.Jq.length;t<s;++t){const i=this.Jq[t];0===i.hB()&&0===i.aB()||(e=Math.min(e,i.yJ()))}return e}r$(){return.5*this.lf.M9()/this.i$()}n$(){return.5*this.lf.T9()/this.i$()}c9(){return this.h$()?-1/0:this.r$()}f9(){return this.h$()?1/0:this.lm()-this.r$()}d9(){return this.h$()?-1/0:this.n$()}p9(){return this.h$()?1/0:this.Mm()-this.n$()}lL(t){const s=this.c9(),e=this.f9();this.OH!==(t=(t=e<t?e:t)<s?s:t)&&(this.OH=t,this.o$(),this.lf.OD())}uL(){return this.OH}cL(t){const s=this.d9(),e=this.p9();this.LH!==(t=(t=e<t?e:t)<s?s:t)&&(this.LH=t,this.o$(),this.lf.OD())}fL(){return this.LH}h$(){return this.Iq}lq(){this.lL(this.uL()),this.cL(this.fL());for(const t of this.Jq)t.u9()&&(t.lL(t.uL()),t.cL(t.fL()))}EL(t,s){this.Rq===t&&this.Eq===s||(this.Rq=t,this.Eq=s,this.a$()&&(this.l$(),this.o$(),this.lf.OD()))}S9(){return this.DL()?.5:this.Rq}w9(){return this.DL()?.5:this.Eq}HJ(){const t=this.S9(),s=this.w9();return t<0||1<t||s<0||1<s}AL(){this.Cq&&(this.Cq=!1,this.l$(),this.o$(),this.lf.OD())}kL(){this.Cq||(this.Cq=!0,this.l$(),this.o$(),this.lf.OD())}DL(){return this.Cq}a$(){return!this.DL()}u$(t){this.Uq!==(t=!!t)&&(this.Uq=t,this.o$(),this.lf.OD())}D9(){return this.Uq}c$(t,s,e,i,r,n,h,o,a){l(this.jq,t,s,e)&&l(this.Vq,i,r,n)&&l(this.Hq,h,o,a)||(u.set(this.jq,t,s,e),u.set(this.Vq,i,r,n),u.set(this.Hq,h,o,a),this.f$())}f$(){this.o$(),this.lf.OD()}F9(){return this.jq}xJ(){return this.Vq}MJ(){return this.Hq}hL(){return this.kH}nL(t){this.kH!==t&&(this.kH=t,this.o$(),this.lq(),this.lf.OD())}oL(t){t=x.Sn(t),this.DH!==t&&(this.DH=t,this.o$(),this.lf.OD())}aL(){return this.DH}lm(){return this.Xm}wm(t){!isFinite(t)||t<1||(this.Xm=t)}Mm(){return this.Ym}um(t){!isFinite(t)||t<1||(this.Ym=t)}d$(){return this.Pq}Qz(){return this.zq}*SL(){for(const t of this.zq)yield*t.jL()}yL(){return this.Jq}p$(){return this.Jq.length}ED(t){return"number"==typeof t?this.PD(t):this.$z(t.toString())}PD(t){return t=x.yn(Math.floor(t),0,this.Jq.length-1),this.Jq[t]}$z(t){return this.qq.get(t.toLowerCase())||null}m$(t){return!!this.$z(t)}g$(t){return this.$q.get(t)||null}l$(){for(const t of this.Jq)t.TJ()}o$(){for(const t of this.Jq)t.l9()}xL(t,s,e){if(this.m$(t))throw new Error(`layer name '${t}' already in use`);if(!s&&e<2)throw new Error("invalid insert position");const i=2<=e?s:s.LL(),r=x.un(x.pH,this,i,{name:t,sid:Math.floor(1e15*Math.random()),hH:!0});this.y$(r,s,e),this.YD().OD(),this.Kz()}TL(t,s,e){if(!s&&e<2)throw new Error("invalid insert position");t===s&&e<2||(this.S$(t),this.y$(t,s,e),this.YD().OD(),this.Kz())}_L(t){if(this.S$(t)){const s=this.lf.pk();s.XO(!0),t.cn(),s.XO(!1),this.YD().OD(),this.Kz()}}CL(){const t=new Set;for(const s of this.SL())s.s9()&&!s.e9()&&t.add(s);if(0!==t.size){const e=this.lf.pk();e.XO(!0);for(const i of t)this.S$(i),i.cn();e.XO(!1),this.YD().OD(),this.Kz()}}y$(s,e,i){if(2<=i)if(e){if(e===s||e.z9(s))throw new Error(`cannot move layer '${s.Zc()}' to sub-layer of itself`);e.W9(s,2===i),s.B9(e)}else 2===i?this.zq.push(s):this.zq.unshift(s),s.B9(null);else{const t=e.LL();if(t){if(e.z9(s))throw new Error(`cannot move layer '${s.Zc()}' to sub-layer of itself`);t.U9(s,e,0===i),s.B9(t)}else{let t=this.zq.indexOf(e);if(-1===t)throw new Error("cannot find layer to insert by");0===i&&++t,this.zq.splice(t,0,s),s.B9(null)}}}S$(t){const s=t.LL();if(s)return s.j9(t),!0;if(1<this.zq.length){const e=this.zq.indexOf(t);if(-1===e)throw new Error("cannot find layer to remove");return this.zq.splice(e,1),!0}return!1}e$(){this.Jq=[...this.SL()],this.qq.clear(),this.$q.clear();for(let t=0,s=this.Jq.length;t<s;++t){const e=this.Jq[t];e.Xz(t),this.qq.set(e.Zc().toLowerCase(),e),this.$q.set(e.t9(),e)}}w$(){let t=0;for(const s of this.zq){for(const e of s.jL())e.Yz(t);s.YL()&&t++}}b$(){return this.zq.at(-1).JU()+1}async Kz(){this.e$(),this.w$(),this.Xq=this.b$()}v$(){return this.Xq}x$(){this.Xq=-1}tJ(t){const s=[];for(const e of this.zq){const i=e.JU();if(i===t)s.push(e);else if(t<i)break}return s}q9(){return{scrollX:this.uL(),scrollY:this.fL(),scale:this.hL(),angle:this.aL(),vpX:this.S9(),vpY:this.w9()}}X9(t){this.lL(t.scrollX),this.cL(t.scrollY),this.nL(t.scale),this.oL(t.angle),this.EL(t.vpX,t.vpY)}M$(){let t=this.zq.filter(t=>t.H9())[0];for(;t;){if(!t.fB())return M.ia(t.yB()),M.ea(1),M;if(t.uJ())return M.$o(0,0,0,0),M;t=t.WL().filter(t=>t.H9())[0]}return M.$o(0,0,0,0),M}Cz(){return this.Qq}T$(){return[...this.Aq]}xz(t){if(t.$B())for(const s of t._$().G$())this.Aq.add(s);else this.Aq.add(t)}I$(){return[...this.kq]}C$(t,s){if(t===this||!s)return Promise.resolve();t&&(x.Do(this.kq,t.kq),t.kq.clear());const e=[];for(const i of this.Aq)this.kq.has(i)||(e.push(i.R$(s)),this.kq.add(i));return Promise.all(e)}async E$(t){if(t.Jz())throw new Error("cannot load textures for family");const s=this.lf.Y2();if(s&&!s.BC()&&!this.kq.has(t)){this.kq.add(t);const e=t.R$(s);this.F$(e),await e,t.P$(),this.lf.OD()}}F$(t){this.Dq.add(t),t.then(()=>this.Dq.delete(t)).catch(()=>this.Dq.delete(t))}A$(){return Promise.all([...this.Dq])}k$(t){if(t.Jz()||0<t.zO())throw new Error("cannot unload textures");const s=this.lf.Y2();s&&this.kq.has(t)&&(this.kq.delete(t),t.D$(s))}O$(t,s){if(t!==this&&s)for(const e of this.kq)e.Fz()||t.Aq.has(e)||(e.D$(),this.kq.delete(e))}L$(){this.kq.clear()}async B$(t){const s=this.lf,e=this.Tq,i=s.pk(),r=(this.Fq&&(this.Pq=i.N$(this.Fq),this.Pq.W$()),e.U$(this),this.Xm=this.Gq,this.Ym=this._q,this.OH=s.ZA()/2,this.LH=s.sk()/2,this.lq(),this.l$(),this.o$(),this.w$(),await this.lf.N5().j$(this.b$(),!0),this.V$(t),this.lf.H$(!0),this.z$(),this.Qq||this.J$(),this.q$(this.Oq),this.q$(this.Lq),this.$$(),e.X$(),s.QO(),this.lf.H$(!1),this.lf.Y$());if(await Promise.all(r),x.Lh(r),!s.K$()){for(const n of this.Oq)n.Z$();for(const h of this.Lq)h.Q$(this.Bq,this.Nq);for(const[o,a]of Object.entries(this.Kq)){const l=this.lf.k8(parseInt(o,10));l&&!l.Jz()&&l.Rz()&&x.Lh(a)}for(const u of this.Oq)u.tX();for(const c of this.Lq)c.tX()}x.Lh(this.Oq),x.Lh(this.Lq),this.Bq.clear(),this.Nq.clear(),await Promise.all([...this.Aq].map(t=>t.sX(this.lf.Y2()))),t&&(s.jf().dispatchEvent(new x.Event("beforefirstlayoutstart")),await s.eX(new x.Event("beforeprojectstart"))),await this.iX(new x.Event("beforeanylayoutstart")),s.jf().dispatchEvent(new x.Event("beforelayoutstart")),await this.eX(new x.Event("beforelayoutstart")),s.K$()||await s.MN(x.aX.hX.nX.rX,null,null),s.jf().dispatchEvent(new x.Event("afterlayoutstart")),await this.eX(new x.Event("afterlayoutstart")),await this.iX(new x.Event("afteranylayoutstart")),t&&(s.jf().dispatchEvent(new x.Event("afterfirstlayoutstart")),await s.eX(new x.Event("afterprojectstart"))),i.lX(e),await this.A$(),this.Qq=!1}V$(t){for(const s of this.lf.zz())if(!s.Jz()&&s.aO())for(const e of s.jO()){const i=e.RD(),r=i.ED(),n=x.yn(r.DA(),0,this.Jq.length-1),h=this.Jq[n];i.kD(h,!0),h.Az(e)}if(!t)for(const o of this.Jq)o.Nz(!1)}z$(){for(const t of this.Jq)t.Iz(this.Oq),t.Uz()}J$(){let s=!1;for(const[t,e]of Object.entries(this.Kq)){const i=this.lf.k8(parseInt(t,10));if(i&&!i.Jz()&&i.Rz())for(const r of e){let t=null;if(!i.aO()||(t=r.hasOwnProperty("instJson")?this.g$(r.instJson.w.l):this.g$(r.w.l))){const n=this.lf.Ez(i,t,!1,0,0,!0);r.hasOwnProperty("instJson")?n.jb(r.instJson):n.jb(r),s=!0,this.Lq.push(n),r.hasOwnProperty("instJson")&&(this.Bq.set(n,r),this.Nq.set(r.index,n))}}}for(const h of this.Jq)h.Nz(!0),h.DD();s&&(this.lf.QO(),this.lf.uX())}q$(s){for(const e of s)if(e.$B()){const i=e.RD(),t=e.cX();for(const r of e.OB()._$().fX())if(r!==e.OB()){const n=r.jO();if(n.length>t)e.dX(n[t]);else{let t;t=i?this.lf.Ez(r,i.ED(),!0,i.Cb(),i.Fb(),!0):this.lf.Ez(r,null,!0,0,0,!0),this.lf.QO(),r.pX(),e.dX(t),s.push(t)}}}}$$(){for(const t of this.Wq){const s=this.lf.vz(t[1]);s.$B()||this.lf.Ez(t,null,!0)}}mX(){let e=[],i=this.Wq,r=0;for(let t=0,s=i.length;t<s;++t){const n=i[t],h=this.lf.vz(n[1]);h.Fz()?h.$B()&&h._$().gX()||e.push(this.lf.Ez(n,null,!0)):(i[r]=n,++r)}x.Oh(i,r),this.lf.QO(),this.q$(e)}Vz(t,s,e,i,r,n,h){if(e)return e.Vz(t,s,r,n,i,h);{const o=[];for(const a of this.Jq)o.push(a.Vz(t,s,r,n,i,h));return o.flat()}}async yX(){const t=this.Tq;this.lf.K$()||(await this.iX(new x.Event("beforeanylayoutend")),await this.eX(new x.Event("beforelayoutend")),await this.lf.MN(x.aX.hX.nX.SX,null,null),await this.eX(new x.Event("afterlayoutend")),await this.iX(new x.Event("afteranylayoutend"))),t.wX(!0),this.lf.pk().bX(),this.Qq||this.vX();for(const s of this.Jq)s.jz();for(const e of this.lf.zz())if(!(e.Fz()||e.aO()||e.FO().hO()||e.Jz())){for(const i of e.jO())this.lf.VB(i);this.lf.QO()}t.wX(!1),t.oD()===this&&t.U$(null)}xX(t,s){const e=t.OB().t9().toString(),i=(this.Kq.hasOwnProperty(e)||(this.Kq[e]=[]),this.Kq[e]),r={index:s,instJson:t.Ub(),sceneGraphJson:{children:[]}};i.push(r),this.Zq.set(t,r)}MX(t){const s=this.Zq.get(t);for(const e of t.TX()){const i=this.Zq.get(e);i&&s.sceneGraphJson.children.push({index:i.index,flags:x._X.GX(e.RD())})}}vX(){this.Zq.clear();let t=0;for(const s of this.Jq){s.K9();for(const e of s.AD()){const i=e.OB();!i.Fz()&&i.Rz()&&(this.xX(e,t),t++)}}for(const r of this.Jq)for(const n of r.AD()){const h=n.OB();!h.Fz()&&h.Rz()&&this.MX(n)}this.Zq.clear()}IX(){this.Kq={},this.Qq=!0}IE(){return this.AH}uJ(){const t=this.lf,s=t.Y2().S2();return"low"===t.N5().LJ()||s&&t.OJ()||this.sz.cJ()||s&&t.A9()}CX(t){const s=this.lf.N5();if(this.uJ()){t.AE(null),t.bE(0,0,0,0);const e={Fv:this.lf.ek(),Gx:t.CS()||this.lf.OJ()||this.sz.cJ(),DJ:!!t.CS()&&this.lf.OJ()};"low"===s.LJ()&&(e.width=s.IJ(),e.height=s.CJ()),this.AH=this.lf.BJ(e)}else this.AH=null}RX(t){this.lf.EX(t)&&(t.ME(!1),t.AE(null),t.OS(),t.kE(this.AH))}FX(t){this.uJ()&&(t.ME(!1),this.PX(t,this.AH))}AX(t){t.AE(this.AH),t.tc(this.M$()),this.lf.A9()&&t.xE();const s=this.tJ(0);this.NJ(t,this.AH,s,!0),t.CS()&&t.StartMeasuringRenderPassTime(0,1),this.FX(t),this.AH=null}kX(t,s){let e=null;this.lf.EX(t)&&(e=this.AH),t.AE(e),t.bE(0,0,0,0),this.lf.A9()&&t.xE();const i=this.tJ(s);this.NJ(t,e,i,!0),this.RX(t),t.l2(),this.lf.N5().DX(s)}NJ(t,i,s,r){const n=s.filter(t=>t.H9());for(let s=0,e=n.length;s<e;){const h=n[s];if(h.O9()&&!h.fJ()){a.push(h);for(let t=s+1;t<e;++t){const o=n[t];if(!o.O9()||o.fJ())break;a.push(n[t])}if(2<=a.length||1===a.length&&a[0].V9()){this.OX(t,i,a),s+=a.length,x.Lh(a);continue}x.Lh(a)}h.bv(t,i,r&&0===s),++s}}PX(t,s){const e=this.sz.n9(),i=this.lf;0===e.length?(t.AE(null),t.OS(),t.kE(s),t.OE(s),i.nz(s)):(r.set(0,0,i.M9(),i.T9()),this.kA().PP(t,null,{AP:this,kP:3,devicePixelRatio:this.lf.nq(),DP:this.lf.oq()*this.hL(),OP:this.aL(),iA:r,rA:null,MF:!0}))}OX(i,r,t){t[0].fB()||(M.ia(t[0].yB()),M.ea(1),i.tc(M)),this.lf.N5(),i.ME(!0);const n=T,h=G,o=_;for(const a of t)a.K9(),a.E9(n);const s=t[0],e=s.FJ(i);s.kJ(i);for(let s=0,e=n.length;s<e;){const l=n[s],u=l.RD(),c=u.ED();if(u.JL()&&u.$J(c.qJ())){(!l.XJ()||0<u.YJ())&&o.push(l);const f=l.RD().e4();h.push(l);let t=s+1;for(;t<e;++t){const d=n[t],p=d.RD();if(p.JL()&&p.$J(p.ED().qJ())){if(p.e4()!==f)break;(d.XJ()?(0<p.YJ()&&o.push(d),h):o).push(d)}}if(1!==h.length||h[0].KJ()){this.LX(i,r,h);for(let t=0,s=o.length;t<s;++t){const m=o[t],g=m.RD(),y=g.ED();g.QJ(!0),v(y,i),y.JJ(m,g,i,r),g.QJ(!1)}}else{v(c,i),c.JJ(l,u,i,r);for(let t=0,s=o.length;t<s;++t){const S=o[t];if(S!==l){const w=S.RD(),b=w.ED();v(b,i),b.JJ(S,w,i,r)}}}s=t,x.Lh(h),x.Lh(o)}else++s}e&&i.HE(e),x.Lh(n),I=null}LX(e,i,r){e.BE();for(let t=0,s=r.length;t<s;++t){const n=r[t],h=n.RD(),o=h.ED();h.tq(!0),v(o,e),o.sq(n,h,e)}e.NE();for(let t=0,s=r.length;t<s;++t){const a=r[t],l=a.RD(),u=l.ED();v(u,e),u.JJ(a,l,e,i),l.tq(!1)}e.UE()}Sq(){const t={sx:this.uL(),sy:this.fL(),s:this.hL(),a:this.aL(),w:this.lm(),h:this.Mm(),ortho:this.DL(),vpX:this.S9(),vpY:this.w9(),fv:this.Qq,persist:this.Kq,fx:this.sz.Ub(),layers:{},dynamicLayers:[]};for(const s of this.Jq)if(s.s9()){const e=s.LL();t.dynamicLayers.push({sid:s.t9(),name:s.Zc(),parentSid:e?e.t9():null,siblingIndex:s.Zz(),data:s.Sq()})}else t.layers[s.t9().toString()]=s.Sq();return t}wq(t){this.OH=t.sx,this.LH=t.sy,this.kH=t.s,this.DH=t.a,this.Xm=t.w,this.Ym=t.h,this.Cq=!!t.ortho,t.hasOwnProperty("vpX")&&(this.Rq=t.vpX),t.hasOwnProperty("vpY")&&(this.Eq=t.vpY),this.Qq=!!t.fv,this.Kq=t.persist,this.sz.jb(t.fx),this.oz=!0;for(const[s,e]of Object.entries(t.layers)){const i=parseInt(s,10),r=this.g$(i);r&&r.wq(e)}if(t.hasOwnProperty("dynamicLayers")){this.CL(),this.lf.QO();const n=new Map,h=t.dynamicLayers;for(let t=h.length-1;0<=t;--t){const o=h[t],a=o.sid,l=o.name,u=o.parentSid,c=o.siblingIndex,f=o.data;if(this.e$(),!this.m$(l)&&!this.g$(a)){let t,s;if(null===u)t=null,s=this.zq;else{if(!(t=this.g$(u)))continue;s=t.WL()}const d=x.un(x.pH,this,t,{name:l,sid:a,hH:!0});s.push(d);let e=n.get(s);e||(e=[],n.set(s,e)),e.push({XN:d,siblingIndex:c}),d.wq(f)}}for(const[p,m]of n){m.sort((t,s)=>t.siblingIndex-s.siblingIndex);for(const g of m){let t=g.XN,s=g.siblingIndex,e=p.indexOf(t);p.splice(e,1),p.splice(s,0,t)}}}this.Kz(),this.l$(),this.o$()}aD(){return this.t$}uk(){return this.s$}BX(t){t.layout=this.aD();const s=this.lf,e=s.NX()&&!s.pk().KO();e&&i.StartMeasuringScriptTime(),this.s$.dispatchEvent(t),e&&i.AddScriptTime()}eX(t){return t.layout=this.aD(),this.s$.Yf(t)}iX(t){return t.layout=this.aD(),this.lf.eX(t)}WX(){this.UX(this.zq)}UX(t,s=0){const e=t.slice(0);e.reverse();for(const i of e)console.log("\t".repeat(s)+"- "+i.Zc()),this.UX(i.WL(),s+1)}}}{const Cn=self.Bs;Cn.jX=class extends Cn.an{#D8;#VX=[];#HX=new Map;#zX=new Map;#JX=null;#qX=[];#$X=null;#XX=0;#YX=null;constructor(t){super(),this.#D8=t}cn(){this.#D8=null,this.#JX=null,this.#$X=null,this.#YX=null,Cn.Lh(this.#VX),this.#HX.clear(),this.#zX.clear(),Cn.Lh(this.#qX)}wM(t){const s=Cn.un(Cn.Mq,this,this.#VX.length,t);this.#VX.push(s),this.#HX.set(s.Zc().toLowerCase(),s),this.#zX.set(s.t9(),s)}YD(){return this.#D8}KX(t){this.#$X=t}ZX(){if(this.#$X)return this.#$X;if(this.#VX.length)return this.#VX[0];throw new Error("no first layout")}QX(t){return this.#HX.get(t.toLowerCase())||null}tY(t){return this.#zX.get(t)||null}sY(t){return t=Cn.yn(Math.floor(t),0,this.#VX.length-1),this.#VX[t]}cD(t){return"number"==typeof t?this.sY(t):this.QX(t.toString())}dD(){return this.#VX}U$(t){this.#JX=t}oD(){return this.#JX}eY(t){if(this.#qX.includes(t))throw new Error("layout already running");this.#qX.push(t)}iY(t){const s=this.#qX.indexOf(t);if(-1===s)throw new Error("layout not running");this.#qX.splice(s,1)}*rY(){this.#JX&&(yield this.#JX),this.#qX.length&&(yield*this.#qX)}nY(t){return this.#JX===t||this.#qX.includes(t)}wX(t){if(t)this.#XX++;else{if(this.#XX<=0)throw new Error("already unset");this.#XX--}}ZO(){return 0<this.#XX}gD(t){this.#YX=t}X$(){this.#YX=null}mD(){return!!this.#YX}hY(){return this.#YX}aY(){const t=this.oD();t&&t.l$()}lY(){const t=this.oD();t&&t.o$()}}}{const Rn=self.Bs,En=new RegExp("<(.+?)>","g");Rn.uY=class extends Rn.an{constructor(t){super(),this.lf=t,this.cY=Rn.un(Rn.fY),this.dY=null,this.pY=[],this.mY=new Map,this.gY=new Map,this.yY=new Map,this.SY=[],this.wY=[],this.bY=[],this.vY=!1,this.xY=!1,this.MY=!1,this.TY=()=>this.GY(),this._Y=()=>this.IY(),this.CY=()=>this.RY(),this.EY=()=>this.FY(),this.PY=t=>this.AY(t.P6),this.kY=t=>this.DY(),this.OY=t=>this.LY(),this.BY=t=>this.NY(),this.WY=[],this.UY=0}cn(){this.jY(),this.TY=null,this._Y=null,this.CY=null,this.EY=null,this.PY=null,this.OY=null;for(const t of this.pY)t.IW(),t.cn();Rn.Lh(this.pY),this.pY=null,this.cY.cn(),this.cY=null,Rn.Lh(this.SY),this.SY=null,Rn.Lh(this.wY),this.wY=null,Rn.Lh(this.bY),this.bY=null,this.mY.clear(),this.mY=null,this.gY.clear(),this.gY=null,this.yY.clear(),this.yY=null,Rn.Lh(this.WY),this.WY=null,this.lf=null}VY(){const t=this.lf.jf();t.addEventListener("pretick",this.TY),t.addEventListener("tick2",this._Y),t.addEventListener("beforelayoutchange",this.CY),t.addEventListener("layoutchange",this.EY),t.addEventListener("instancedestroy",this.PY),t.addEventListener("beforeload",this.kY),t.addEventListener("afterload",this.OY),t.addEventListener("afterlayoutstart",this.BY)}jY(){const t=this.lf.jf();t.removeEventListener("pretick",this.TY),t.removeEventListener("tick2",this._Y),t.removeEventListener("beforelayoutchange",this.CY),t.removeEventListener("layoutchange",this.EY),t.removeEventListener("instancedestroy",this.PY),t.removeEventListener("beforeload",this.kY),t.removeEventListener("afterload",this.OY),t.removeEventListener("afterlayoutstart",this.BY)}wM(t){this.cY.cc(t);const s=Rn.zY.HY(t,this);this.cc(s),this.JY(s),this.yY.set(s.Zc(),0)}qY(t){const s=this.$Y(),e=t.ZB(),i=s.re(e),r=Rn.zY.qY(e+":"+this.yY.get(e),i,this);return this.XY(e),this.cc(r),r}XY(t){this.yY.set(t,this.yY.get(t)+1)}YY(){for(const t of this.pY)if(!t.KY()){const s=t.ZB();this.XY(s)}}ZY(){for(const t of this.yY.keys())this.yY.set(t,0)}cc(t){this.pY.push(t),this.mY.set(t.Zc().toLowerCase(),t)}v0(t){t.QY(),t.KY()||(Rn.Vh(this.pY,t),Rn.Vh(this.SY,t),Rn.Vh(this.wY,t),Rn.Vh(this.bY,t),this.mY.delete(t.Zc().toLowerCase()),this.tK(t),t.GW())||t.cn()}vN(t){this.lf.vN(t,this.dY,null)}YD(){return this.lf}$Y(){return this.cY}sK(t){this.dY=t}eK(){return this.dY}*iK(){for(const t of this.pY)yield t}*rK(){for(const t of this.wY)yield t}nK(t,s){this.gY.has(t)||this.gY.set(t,new Set),this.gY.get(t).add(s)}JY(t){for(const s of t.hK())this.nK(s,t)}tK(t){for(const[s,e]of this.gY.entries())e.has(t)&&(e.delete(t),0===e.size)&&this.gY.delete(s)}oK(t){if(this.gY.has(t))return this.gY.get(t)}aK(t,s){if(s)for(const e of this.pY){const i=s.every(t=>e.lK(t.P6,t.trackId));if(i&&e.Zc().includes(t.Zc()))return e}}uK(t){return this.mY.get(t.toLowerCase())||null}cK(t){for(const s of this.SY)if(s.Zc()===t)return s;for(const e of this.wY)if(e.Zc()===t)return e;return null}*fK(e){if(En.test(e)){En.lastIndex=0;let t,s=new Set;do{if(t=En.exec(e)){const i=t[1].split(",");for(const r of i)s.add(r)}}while(t);for(const n of s.values()){const h=this.uK(n);h&&(yield h)}s.clear()}else{const t=this.uK(e);t&&(yield t)}}*dK(t){for(const s of this.pY)s.EW(t)&&(yield s)}pK(t){this.SY.includes(t)||this.SY.push(t),this.mK()}gK(t){Rn.Vh(this.wY,t),this.yK()}SK(t){this.wY.includes(t)?(t.wK(!0),t.bK(!1),t.vK(!1)):(t.wK(!1),t.bK(!0),t.vK(!1),this.SY.includes(t)||this.SY.push(t)),this.mK()}xK(t){t.wK(!1),t.bK(!1),t.MK(),Rn.Vh(this.SY,t),this.yK()}TK(t){t.wK(!1),t.bK(!1),this.wY.includes(t)&&(t.vK(!0),this.bY.push(t),Rn.Vh(this.wY,t)),this.SY.includes(t)&&t.vK(!0)}GK(t){t.wK(!1),t.bK(!1),t.vK(!1),t.BW(1),Rn.Vh(this.wY,t)}_K(t){this.TK(t),t.MK()}GY(){if(!this.YD().K$()&&this.vY&&!this.xY){for(this.MY=!0;this.SY.length;){const t=this.SY.pop();(t.IK()?(t.CK(),this.bY):(t.RK(),this.wY)).push(t),0!==t.EK()&&(this.UY=1)}const s=this.lf.FK(),e=this.lf.PK(),i=this.lf.jk();for(let t=this.wY.length-1;0<=t;t--){const r=this.wY[t];r&&r.AK(s,i,e)}this.MY=!1,0!==this.UY&&this.YD().OD()}}IY(){if(!this.YD().K$()&&this.vY&&!this.xY){let e;for(let t=0,s=this.bY.length;t<s;t++){const i=this.bY[t];e=e||new Set,i.QY(),this.kK(i),e.add(i)}if(e){Rn.Jh(this.bY,e);for(let t=this.UY=0,s=this.wY.length;t<s;t++)if(0!==this.wY[t].EK()){this.UY=1;break}}this.yK()}}kK(t){t.GW()||t.DK()&&t.LK()&&t.BK()&&t.NK()}mK(){this.vY||(this.vY=!0)}yK(){this.bY.length||this.wY.length||this.SY.length||this.MY||(this.vY=!1)}RY(){for(this.xY=!0;this.SY.length;)this.xK(this.SY.pop());const t=new Set;for(const s of this.wY){const e=s.RY();e&&(s.QY(),t.add(s))}Rn.Jh(this.wY,t),t.clear();for(const i of this.bY){const r=i.RY();r&&(i.QY(),t.add(i))}Rn.Jh(this.bY,t),this.yK();for(const n of this.pY)n.WK()}FY(){this.xY=!1}AY(t){const s=t.OB(),e=this.oK(s);if(e)if(this.lf.K$())this.WY.push(t);else for(const i of e)i.KY()||(i.GW()?this.v0(i):i.DK()||(this.kK(i),this.v0(i)))}DY(){for(const t of this.SY.map(t=>t))this.kK(t),this.v0(t);for(const s of this.wY.map(t=>t))this.kK(s),this.v0(s)}LY(){for(const t of this.WY)this.AY(t);Rn.Lh(this.WY);for(const s of this.pY)s.LY()}NY(){const t=this.lf.uD(),s=t.oD();if(s)for(const e of this.pY){const i=e.UK();i&&s.Zc()===i&&this.SK(e)}}Sq(){return{timelinesJson:this.jK(),scheduledTimelinesJson:this.VK(),playingTimelinesJson:this.HK(),markedForRemovalTimelinesJson:this.zK(),hasRuntimeListeners:this.vY,changingLayout:this.xY,isTickingTimelines:this.MY}}wq(t){t&&(this.ZY(),this.JK(t.timelinesJson),this.qK(t.scheduledTimelinesJson),this.$K(t.playingTimelinesJson),this.XK(t.markedForRemovalTimelinesJson),this.vY=!t.hasRuntimeListeners,this.xY=!!t.changingLayout,this.MY=!!t.isTickingTimelines,this.YY(),this.mK(),this.yK())}jK(){return this.pY.map(t=>t.Sq())}JK(t){for(const s of t){let t=this.uK(s.name);if(t)t.wq(s);else{const e=this.YK(s);if(!e)continue;const i=this.uK(e);(t=this.qY(i)).wq(s)}t.KK()||this.v0(t)}}YK(t){const s=t.name,e=s.split(":");return e&&2===e.length?e[0]:null}VK(){return this.ZK(this.SY)}qK(t){this.QK(t,this.SY)}HK(){return this.ZK(this.wY)}$K(t){this.QK(t,this.wY)}zK(){return this.ZK(this.bY)}XK(t){this.QK(t,this.bY)}tZ(t,s){if(s)for(const e of s)if(e===t.Zc())return!0;return!1}ZK(t){return t.map(t=>t.Zc())}QK(t,s){const e=new Set;for(const i of s)this.tZ(i,t)||e.add(i);if(Rn.Jh(s,e),t)for(const r of t){const n=this.uK(r);if(n){const h=s.find((s=>t=>t.Zc()===s)(r));h||s.push(n)}}}}}{const Fn=self.Bs,Pn=[0,0],An=[0,0],kn=[0,0],Dn=[0,0,0,0,0],On=new Array(4),Ln=[{x:0,y:0,t:0,Et:0},{x:0,y:0,t:0,Et:0},{x:0,y:0,t:0,Et:0}],Bn={x:0,y:0,t:0,Et:0};Fn.sZ=class{constructor(t,s){this.eZ=!1,this.iZ=t,this.rZ=[];let e=null;if(e=s?this.iZ.nZ(s):Fn.first(this.iZ.hZ())){const i=e.sU("offsetX"),r=e.sU("offsetY");if(i&&r){this.oZ=i,this.aZ=r;const n=i.lZ(),h=r.lZ();for(let t=1,s=Math.min(n.length,h.length);t<s;++t){const o=n[t],a=(o.uZ(),o.cZ()),l=h[t],u=(l.uZ(),l.cZ());a&&"cubic-bezier"===a.fZ()&&u&&"cubic-bezier"===u.fZ()?this.rZ.push(Fn.un(Fn.dZ,a,u,o,l,this.rZ.length)):(a&&"line"===a.fZ()&&u&&u.fZ(),this.rZ.push(Fn.un(Fn.pZ,o,l,this.rZ.length)))}this.eZ=!0}}}cn(){for(const t of this.rZ)t.cn();Fn.Lh(this.rZ),this.rZ=null,this.iZ=null,this.oZ=null,this.aZ=null}mZ(){return this.eZ}gZ(){return this.rZ}yZ(t){const s="relative"===this.oZ.SZ()?t.Cb():0,e="relative"===this.aZ.SZ()?t.Fb():0;for(const i of this.rZ)i.yZ(s,e)}ny(s,e,t){let i=NaN,r=this.rZ.length;for(let t=0;t<r;t++){const n=this.rZ[t];if("cubic-bezier"===n.vT()){const h=n.ny(s,e);(isNaN(i)||h[3]<i)&&(i=h[3],kn[0]=h[2],kn[1]=n.DA())}}return kn}wZ(s,e,t){const i=t.bZ;Fn.fi(i[0])||(i[0]=0),Fn.fi(i[1])||(i[1]=1);let r=NaN,n=this.rZ.length;for(let t=0;t<n;t++){const h=this.rZ[t];if("cubic-bezier"===h.vT()){const o=h.vZ(s,e,i);(isNaN(r)||o[3]<r)&&(r=o[3],kn[0]=o[2],kn[1]=h.DA())}}return kn}xZ(t,s){return this.rZ[s].xZ(t)}MZ(t,s){return this.rZ[s].MZ(t)}},Fn.dZ=class{constructor(t,s,e,i,r){this.Xg=r;const n=t.TZ("cubic-bezier"),h=e.TZ("cubic-bezier"),o=s.TZ("cubic-bezier"),a=i.TZ("cubic-bezier");this.GZ=t._Z(),this.IZ=s._Z(),this.CZ=t._Z()+n.RZ(),this.EZ=s._Z()+o.RZ(),this.FZ=e._Z()+h.PZ(),this.AZ=i._Z()+a.PZ(),this.kZ=e._Z(),this.DZ=i._Z(),this.OZ=0,this.LZ=0,this.BZ=0,this.NZ=0,this.WZ=0,this.UZ=0,this.jZ=0,this.VZ=0,this.HZ=0,this.zZ=0,this.JZ=0,this.qZ=0,this.$Z=0,this.XZ=0,this.YZ=0,this.KZ=0,this.ZZ=0,this.QZ=0,this.tQ=0,this.sQ=0,this.eQ=NaN,this.eZ=!1,this.iQ=100,this.rQ=new Array(this.iQ+1),this.rQ[0]=0,this.nQ=0,this.hQ=[],this.oQ=[];for(let t=0;t<100;t++)this.oQ.push({x:0,y:0,t:0,Et:0});this.aQ()}cn(){Fn.Lh(this.rQ),this.rQ=null,Fn.Lh(this.hQ),this.hQ=null,Fn.Lh(this.oQ),this.oQ=null}vT(){return"cubic-bezier"}DA(){return this.Xg}lQ(){return Math.floor(this.nQ/25)}uQ(){return 1/this.lQ()}yZ(t,s){this.cQ=t,this.fQ=s,this.rQ=new Array(this.iQ+1),this.rQ[0]=0,this.aQ(),this.OZ=this.GZ+this.cQ,this.LZ=this.IZ+this.fQ,this.BZ=this.CZ+this.cQ,this.NZ=this.EZ+this.fQ,this.WZ=this.FZ+this.cQ,this.UZ=this.AZ+this.fQ,this.jZ=this.kZ+this.cQ,this.VZ=this.DZ+this.fQ,this.HZ=3*(this.BZ-this.OZ),this.zZ=3*(this.NZ-this.LZ),this.JZ=3*(this.WZ-this.BZ),this.qZ=3*(this.UZ-this.NZ),this.$Z=3*(this.jZ-this.WZ),this.XZ=3*(this.VZ-this.UZ),this.YZ=3*(this.BZ-this.OZ),this.KZ=3*(this.OZ+this.WZ-2*this.BZ),this.ZZ=this.jZ-this.OZ+3*(this.BZ-this.WZ),this.QZ=3*(this.NZ-this.LZ),this.tQ=3*(this.LZ+this.UZ-2*this.NZ),this.sQ=this.VZ-this.LZ+3*(this.NZ-this.UZ)}Map(t){if(!this.eZ)return NaN;const s=this.dQ(t);return An[0]=this.pQ(s),An[1]=this.mQ(s),An}ny(t,s){const e=this.gQ(100),i=this.yQ(t,s,e),r=this.SQ(t,s,e,i);return Dn[0]=r.x,Dn[1]=r.y,Dn[2]=r.t,Dn[3]=r.Et,Dn}vZ(t,s,e){const i=this.gQ(100),r=this.wQ(t,s,i,e),n=this.SQ(t,s,i,r);return Dn[0]=n.x,Dn[1]=n.y,Dn[2]=n.t,Dn[3]=n.Et,Dn}xZ(t){const s=1-t,e=s*s,i=2*s*t,r=t*t,n=e*this.HZ+i*this.JZ+r*this.$Z,h=e*this.zZ+i*this.qZ+r*this.XZ,o=Math.hypot(n,h);return Pn[0]=n/o,Pn[1]=h/o,Pn}MZ(t){const s=1-t,e=s*s,i=2*s*t,r=t*t,n=e*this.HZ+i*this.JZ+r*this.$Z,h=e*this.zZ+i*this.qZ+r*this.XZ;return Math.atan2(h,n)}dQ(r){if(this.eZ){let t=r*this.rQ[this.iQ],s=0,e=this.iQ,i=0;for(;s<e;)i=s+((e-s)/2|0),this.rQ[i]<t?s=i+1:e=i;this.rQ[i]>t&&i--;const n=this.rQ[i];return n===t?i/this.iQ:(i+(t-n)/(this.rQ[i+1]-n))/this.iQ}}pQ(t){return this.eZ?self.mc.Pc("cubicbezier")(t,this.GZ+this.cQ,this.CZ+this.cQ,this.FZ+this.cQ,this.kZ+this.cQ):NaN}mQ(t){return this.eZ?self.mc.Pc("cubicbezier")(t,this.IZ+this.fQ,this.EZ+this.fQ,this.AZ+this.fQ,this.DZ+this.fQ):NaN}gQ(s){if(!(this.hQ.length>=(s=s||100))){this.hQ=new Array(s),s++;for(let t=0;t<s-1;t++){const e=t/(s-1),i=e**2,r=e**3,n=this.YZ*e,h=this.KZ*i,o=this.ZZ*r,a=this.QZ*e,l=this.tQ*i,u=this.sQ*r,c=this.OZ+n+h+o,f=this.LZ+a+l+u;this.oQ[t].x=c,this.oQ[t].y=f,this.oQ[t].t=e,this.oQ[t].Et=0,this.hQ[t]=this.oQ[t]}}return this.hQ}yQ(s,e,i,t=0,r=Number.MAX_SAFE_INTEGER){let n=0;if(isNaN(this.eQ))for(let t=0;t<100;t++){const h=i[t],o=h.x-s,a=h.y-e;h.Et=o*o+a*a,h.Et<r&&(r=h.Et,n=t)}else{for(let t=this.eQ;t<this.eQ+5&&!(t>=i.length);t++){const l=i[t],u=l.x-s,c=l.y-e;l.Et=u*u+c*c,l.Et<r&&(r=l.Et,n=t)}for(let t=this.eQ;t>this.eQ-5&&!(t<0);t--){const f=i[t],d=f.x-s,p=f.y-e;f.Et=d*d+p*p,f.Et<r&&(r=f.Et,n=t)}}return this.eQ=n}wQ(s,e,i,r,n=Number.MAX_SAFE_INTEGER){let h=0;if(isNaN(this.eQ))for(let t=0;t<100;t++){const o=i[t],a=o.x-s,l=o.y-e;o.Et=a*a+l*l,o.t>=r[0]&&o.t<=r[1]&&o.Et<n&&(n=o.Et,h=t)}else{for(let t=this.eQ;t<this.eQ+5&&!(t>=i.length);t++){const u=i[t],c=u.x-s,f=u.y-e;u.Et=c*c+f*f,u.t>=r[0]&&u.t<=r[1]&&u.Et<n&&(n=u.Et,h=t)}for(let t=this.eQ;t>this.eQ-5&&!(t<0);t--){const d=i[t],p=d.x-s,m=d.y-e;d.Et=p*p+m*m,d.t>=r[0]&&d.t<=r[1]&&d.Et<n&&(n=d.Et,h=t)}}return this.eQ=h}SQ(h,o,a,l){let u=a[l],t=1,c=Number.MAX_SAFE_INTEGER;t:do{let t=a.length,s=0===l?0:l-1,e=l===t-1?t-1:l+1,i=a[s].t,r=a[e].t,n=(r-i)/4;if(n<.001)break;On[0]=a[s];for(let t=1;t<=2;t++){const f=i+t*n,d=f**2,p=f**3,m=this.YZ*f,g=this.KZ*d,y=this.ZZ*p,S=this.QZ*f,w=this.tQ*d,b=this.sQ*p,v=this.OZ+m+g+y,x=this.LZ+S+w+b,M=v-h,T=x-o,G=M*M+T*T;if(G<c){c=G,l=t,Bn.x=v,Bn.y=x,Bn.t=f,Bn.Et=G,u=Bn;break t}const _=Ln[t-1];_.x=v,_.y=x,_.t=f,_.Et=G,On[t]=_}On[3]=a[e],a=On}while(t++<20);return u}aQ(){this.eZ=!0;let s=this.pQ(0),e=this.mQ(0),i=0;for(let t=1;t<=this.iQ;t++){const r=this.pQ(.01*t),n=this.mQ(.01*t),h=s-r,o=e-n;i+=Math.hypot(h,o),this.rQ[t]=i,s=r,e=n}this.nQ=i}},Fn.pZ=class{constructor(t,s,e){this.Xg=e,this.bQ=t._Z(),this.vQ=s._Z(),this.cQ=0,this.fQ=0}cn(){}vT(){return"line"}DA(){return this.Xg}yZ(t,s){this.cQ=t,this.fQ=s}Cb(){return this.bQ+this.cQ}Fb(){return this.vQ+this.fQ}}}{const b=self.Bs;b.zY=class extends b.an{constructor(t,s,e){super(),this.lf=e.YD(),this.xQ=e,this.MQ=s,this.mn=t,this.TQ=[],this.GQ=0,this._Q=null,this.IQ=0,this.CQ(),this.RQ=null,this.EQ=null,this.FQ=0,this.PQ=0,this.AQ=1,this.kQ=0,this.DQ=1,this.OQ=!1,this.LQ=!1,this.BQ=!1,this.NQ=!0,this.WQ=!1,this.UQ=!1,this.jQ=-1,this.VQ=!1,this.HQ=!1,this.zQ=!1,this.JQ=!1,this.qQ=NaN,this.$Q=[""],this.XQ="",this.YQ=!1,this.UY=0,this.KQ=0,this.ZQ=null}static HY(t,s){const e=s.$Y(),i=e.QQ(),r=e.re(t[i]),n=b.un(b.zY,t[i],r,s);return n.ttt(!0),n}static qY(t,s,e){return b.un(b.zY,t,s,e)}cn(){if(!this.GW()){const t=this.lf.jf();this.xQ.xK(this),this.xQ._K(this);for(const s of this.TQ)s.cn();b.Lh(this.TQ),this.TQ=null,this.lf=null,this.xQ=null,this.MQ=null,this.WQ=!0,this.RQ=null,this.EQ=null,this.stt(t)}}stt(t){const s=b.un(b.Event,"timelinestatereleased");s.ett=this,t.dispatchEvent(s)}vT(){return 0}CQ(){for(const t of this.MQ.ntt().itt())this.GQ=this.TQ.push(b.htt.wM(this,t))}ott(){return this.xQ}YD(){return this.lf}hZ(){return this.TQ}att(i,r,n,h){if(this.KQ){let e;for(let s=0;s<this.TQ.length;s++){let t=this.TQ[s];if(i===t.XW()){const o=t.sU(n);o&&r.constructor===o.ltt().constructor&&o.SZ()===h.SZ()&&(e=e||[]).push(o)}}return e}}KK(){return!!this.TQ.length}nZ(t){for(const s of this.TQ)if(b.br(s.QW(),t))return s;return null}utt(t){for(const s of this.TQ)if(!s.ctt()&&b.br(s.Zc(),t))return s;return null}z8(t){this.mn=t}Zc(){return this.mn}ftt(){return this.MQ}ZB(){return this.MQ.Zc()}AW(){return this.MQ.AW()}PW(t){this.MQ.PW(t)}dtt(){return this.MQ.dtt()}ptt(t){this.MQ.ptt(t)}mtt(){return this.MQ.mtt()}gtt(t){this.MQ.gtt(t)}SZ(){return this.MQ.SZ()}ytt(t){this.MQ.SZ(t)}$W(t){for(const s of this.hZ())s.$W(t)}DW(){return this.MQ.DW()}kW(t){return this.MQ.kW(t)}LW(){return this.MQ.LW()}OW(t){return this.MQ.OW(t)}z6(){return this.MQ.z6()}Stt(t){return this.MQ.Stt(t)}BW(t){return this.AQ=t}NW(){return this.AQ}UK(){return this.MQ.UK()}wtt(){return this.MQ.wtt()}btt(){return this.MQ.btt()}vtt(){return this.kQ}xtt(){return!this.IsPlaying()||0<this.AQ}UW(){return this.RQ||(this.RQ=new Promise(t=>{this.EQ=t})),this.RQ}MK(){this.RQ&&(this.EQ(),this.RQ=null,this.EQ=null)}Mtt(t){this.$Q=b.zY.Ttt(t),this.YQ=!0}WW(){return this.$Q}Gtt(){return this.YQ&&(this.XQ=this.$Q.join(" ")),this.YQ=!1,this.XQ}EW(t){if(!this.$Q)return!1;if(!this.$Q.length)return!1;const s=b.zY.Ttt(t);return!!s&&!!s.length&&s.every(b.zY._tt,this)}Itt(){b.aX.Timeline&&this.constructor===b.zY&&(b.aX.Timeline.nX.PushTriggerTimeline(this),this.xQ.vN(b.aX.Timeline.nX.OnTimelineStarted),this.xQ.vN(b.aX.Timeline.nX.OnTimelineStartedByName),this.xQ.vN(b.aX.Timeline.nX.OnTimelineStartedByTags),this.xQ.vN(b.aX.Timeline.nX.OnAnyTimelineStarted),b.aX.Timeline.nX.PopTriggerTimeline())}Ctt(){this.jQ=this.lf.Rtt()}NK(){this.zQ||(this.zQ=!0,b.aX.Timeline&&this.constructor===b.zY&&(b.aX.Timeline.nX.PushTriggerTimeline(this),this.xQ.vN(b.aX.Timeline.nX.OnTimelineFinished),this.xQ.vN(b.aX.Timeline.nX.OnTimelineFinishedByName),this.xQ.vN(b.aX.Timeline.nX.OnTimelineFinishedByTags),this.xQ.vN(b.aX.Timeline.nX.OnAnyTimelineFinished),b.aX.Timeline.nX.PopTriggerTimeline()))}wK(t){this.OQ=t}Ett(){return this.jQ===this.lf.Rtt()}IsPlaying(t=!1){return!!this.Ett()||!(!this.Ftt()||t)||this.OQ}Ptt(){return this.IsPlaying(!0)}VW(){return this.Att()}Att(){return!(this.GW()||this.Ftt()||this.Ptt()||this.LK())}bK(t){this.LQ=t}Ftt(){return this.LQ}ktt(t){this.NQ=t;const s=this.SF();(s<=0||s>=this.AW())&&(this.NQ=!0)}LK(){return this.NQ}GW(){return this.WQ}vK(t){this.UQ=t}IK(){return this.UQ}Dtt(t){this.VQ=t}Ott(){return this.VQ}ttt(t){this.HQ=!!t}KY(){return this.HQ}BK(){return this.BQ}SF(){return this.FQ}FW(t){const s=this.SF();this.Ltt(t),this.ktt(!1),this.LK()||this.Dtt(!0),!this.Ptt()&&!this.Ftt()&&this.BQ||(this.Ptt()||this.Ftt()||this.BQ?this.Ptt()?this.IW():this.Ftt()&&(this.xQ.xK(this),this.Btt()):this.Btt()),this.Ntt(),this.Wtt(this.SF(),!1,!0,!0,s),this.Utt(),this.UY&&this.YD().OD(),this.jtt()}Ltt(t){(t=b.fi(t)?t:this.AW())<0?this.FQ=0:t>=this.AW()?this.FQ=this.AW():this.FQ=t}Vtt(t){(t=b.fi(t)?t:this.AW())<0?this.FQ=0:t>=this.AW()?this.FQ=this.AW():this.FQ=t;for(const s of this.TQ)s.Htt()}jtt(){b.aX.Timeline&&this.constructor===b.zY&&(b.aX.Timeline.nX.PushTriggerTimeline(this),this.xQ.vN(b.aX.Timeline.nX.OnTimeSet),this.xQ.vN(b.aX.Timeline.nX.OnTimeSetByName),this.xQ.vN(b.aX.Timeline.nX.OnTimeSetByTags),b.aX.Timeline.nX.PopTriggerTimeline())}ztt(){if(!this.DW())if(this.LW()&&1===this.kQ){if(this.xtt()){if(this.SF()>=this.AW())return!1}else if(this.SF()<=0)return!1}else if(!this.DW()&&!this.LW())if(this.xtt()){if(this.SF()>=this.AW())return!1}else if(this.SF()<=0)return!1;return!0}RW(){this.GW()||this.ztt()&&this.Play(!0)}Play(t=!1){return!this.GW()&&!this.Ftt()&&(this.Ptt()&&this.Ett()?this.Jtt():!this.Ptt()&&!!(this.LK()||t||this.Ott())&&this.qtt())}Jtt(){return this.Dtt(!1),this.xQ.gK(this),this.xQ.SK(this),this.UW(),!0}qtt(){return this.Dtt(!1),this.xQ.SK(this),this.UW(),!0}IW(t=!1){this.GW()||(this.ktt(t),this.xQ.TK(this),this.LK()&&this.MK())}l0(t=!0,s=!1){if(!this.GW()){if(!this.Ptt()&&this.Ftt())return this.xQ.xK(this);if(!this.LK()){this.IW(!0),this.xtt()?this.Ltt(0):this.Ltt(this.AW());const e=this.SF();this.Ntt(),s?this.$tt(e):this.Wtt(e,!1,!1,!0),t&&this.jtt(),this.Utt(),this.UY&&t&&this.YD().OD()}}}Xtt(){this.l0(!1,!0)}$tt(t){this.Wtt(t,!1,!1,!0,NaN,!1,!0)}RY(){if(!this.GW()){if(!this.YD().K$()&&this.Ytt())return!1;this.xQ.GK(this),this.YD().K$()||this.Xtt()}return!0}Btt(){this.RK(!0)}CK(){this.RK(!1,!0),this.wK(!1),this.bK(!1)}RK(t=!1,s=!1){if(!this.IK()||s){if(t){this.zQ=!1,this.BQ=!0,this.JQ=!0,this.Ntt();for(const e of this.TQ)e.RK()}else if(this.wK(!0),this.bK(!1),this.Itt(),this.LK()){this.jQ=-1,0!==this.kQ&&(this.AQ=Math.abs(this.AQ)),this.kQ=0,this.DQ=1,this.NQ=!1,this.zQ=!1,this.BQ=!0,this.JQ=!0,this.xtt()?this.Ltt(0):this.Ltt(this.AW()),this.Ntt();for(const i of this.TQ)i.RK()}else{this.JQ=!0,this.zQ=!1,this.Ntt();for(const r of this.TQ)r.Ktt()}this.Utt()}}EK(){return this.UY}Ntt(){this.KQ=0;for(const t of this.TQ)t.hR()&&(this.KQ=1)}Utt(){this.UY=0;for(const t of this.TQ)t.Ztt(),0===this.UY&&1===t.EK()&&(this.UY=1),this._Q||1!==t.Qtt()||(this._Q||(this._Q=[]),this.IQ=this._Q.push(t))}AK(t,s,e){if(this.btt()){if(0===t&&0===this.qQ)return;this.qQ=t,t=e}else{if(0===e&&0===this.qQ)return;t=this.qQ=e,s=1}const i=this.FQ+this.PQ,r=t*s*this.AQ,n=i+r,h=this.MQ.tst;n<0?(this.FQ=0,this.PQ=-n):h<=n?(this.FQ=h,this.PQ=this.FQ-n):(this.FQ=n,this.PQ=0);let o=!1,a=!1,l=this.DW(),u=this.LW();l||u?l&&!u?0<this.AQ?this.FQ>=h&&(this.Vtt(0),a=!0):this.FQ<=0&&(this.Vtt(h),a=!0):!l&&u?0<this.AQ?this.FQ>=h&&(this.Ltt(h),this.BW(-1*this.NW()),a=!0,1===this.kQ?this.DQ<this.z6()?(this.DQ++,this.kQ=0):o=!0:0===this.kQ&&(this.kQ=1)):this.FQ<=0&&(this.Ltt(0),this.BW(-1*this.NW()),a=!0,1===this.kQ?this.DQ<this.z6()?(this.DQ++,this.kQ=0):o=!0:0===this.kQ&&(this.kQ=1)):l&&u&&(0<this.AQ?this.FQ>=h&&(this.Ltt(h),this.BW(-1*this.NW()),a=!0,this.kQ++,b.wrap(this.kQ,0,2)):this.FQ<=0&&(this.Ltt(0),this.BW(-1*this.NW()),a=!0,this.kQ++,b.wrap(this.kQ,0,2))):0<this.AQ?this.FQ>=h&&(this.DQ<this.z6()?(this.DQ++,this.Vtt(0),a=!0):(this.Ltt(h),o=!0)):this.FQ<=0&&(this.DQ<this.z6()?(this.DQ++,this.Vtt(h),a=!0):(this.Ltt(0),o=!0));let c,f=this.GQ;if(o){for(c=0;c<f;c++)this.TQ[c].sst();this.IW(!0),this.Ctt()}else{const d=this.IQ;for(c=0;c<d;c++)this._Q[c].est();if(1===this.KQ)for(c=0;c<f;c++){const p=this.TQ[c],m=p.ist(),g=this.FQ-m,y=i-m;g<0&&0<y?(this.FQ=m<0?0:h<=m?h:m,p.jc(m,!0,!1,a,this.JQ,!1)):p.jc(this.FQ,!0,!1,a,this.JQ,!1)}else for(c=0;c<f;c++)this.TQ[c].jc(this.FQ,!0,!1,a,this.JQ,!1);for(c=0;c<d;c++)this._Q[c].rst();this.JQ&&(this.JQ=!1)}}Wtt(s,e=!1,i=!1,r=!1,n=NaN,t=!1,h=!1){for(const o of this.TQ)o.est();for(const a of this.TQ){let t=s;if("number"==typeof n&&!isNaN(n)){const l=this.SF(),u=l-a.ist(),c=n-a.ist();u<0&&0<c&&(t=a.ist(),this.Ltt(t))}a.jc(t,e,i,r,this.JQ,h)}for(const f of this.TQ)f.rst();this.JQ&&t&&(this.JQ=!1)}nst(){const t=this.MQ.ntt().hst(),s=b.htt.wM(this,t);return this.GQ=this.TQ.push(s),s}QY(){if(!this.GW())for(const t of this.TQ)t.ost()}WK(){for(const t of this.TQ)t.WK()}ast(){for(const t of this.TQ)t.lst()}ust(t,s,e){if(s){if("number"==typeof e&&0<=e){const i=this.TQ[e];return i?(i.cst(s),void this.xQ.nK(s.OB(),this)):void 0}for(const r of this.TQ)if(r.ctt())if(t){if(r.QW()===t){r.cst(s),this.xQ.nK(s.OB(),this);break}}else if(!r.fst()){r.cst(s),this.xQ.nK(s.OB(),this);break}}}lK(t,s){for(const e of this.TQ)if(e.ctt())if(s){if(s===e.QW()&&t===e.XW())return!0}else if(t===e.XW())return!0;return!1}DK(){return this.TQ.some(t=>!t.ctt()||t.dst())}Ytt(){return this.TQ.some(t=>{if(t.ctt()){if(!t.dst())return!1;const s=t.OB();return!!s&&s.Fz()}return!1})}sU(t){for(const s of this.hZ())for(const e of s.pst())if(e.mst()===t)return e}gst(t){for(const s of this.TQ)if(t===s.XW())return s;return null}yst(t){let s=t?t.split(" "):[],e=new Set(s.map(t=>t.toLowerCase().trim()));s=[...e.values()];for(const i of this.hZ())for(const r of i.Sst()){const n=s.every(t=>r.wst(t));if(n)return r}}hK(){const t=[];for(const s of this.hZ())t.push(s.OB());return t.filter(t=>t)}LY(){for(const t of this.hZ())t.LY()}Sq(){return{tracksJson:this.bst(),name:this.mn,playheadTime:this.SF(),playbackRate:this.AQ,pingPongState:this.kQ,currentRepeatCount:this.DQ,isPlaying:this.OQ,isScheduled:this.LQ,initialStateSet:this.BQ,finishedTriggers:this.zQ,complete:this.NQ,released:this.WQ,markedForRemoval:this.UQ,completedTick:this.jQ,implicitPause:this.VQ,isTemplate:this.HQ,tags:this.$Q.join(" "),stringTags:this.XQ,tagsChanged:this.YQ,firstTick:this.JQ}}wq(t){t&&(this.vst(t.tracksJson),this.mn=t.name,this.FQ=t.playheadTime,this.AQ=t.playbackRate,this.kQ=t.pingPongState,this.DQ=t.currentRepeatCount,this.OQ=!!t.isPlaying,this.LQ=!!t.isScheduled,this.BQ=!!t.initialStateSet,this.zQ=!!t.hasOwnProperty("finishedTriggers")&&!!t.finishedTriggers,this.NQ=!!t.complete,this.WQ=!!t.released,this.UQ=!!t.markedForRemoval,this.jQ=t.completedTick,this.VQ=!!t.implicitPause,this.HQ=!!t.isTemplate,this.$Q=t.tags.split(" "),this.XQ=t.stringTags,this.YQ=!!t.tagsChanged,this.JQ=!!t.firstTick)}bst(){return this.TQ.map(t=>t.Sq())}vst(t){this.ast(),t.forEach((t,s)=>{const e=this.TQ[s];e.wq(t)}),this.TQ.filter(t=>t.dst())}static _tt(t){const s=this.WW();return""===t?1===s.length&&""===s[0]:s.map(t=>t.toLowerCase()).includes(t.toLowerCase())}static Ttt(t){if(b.Li(t))return t.slice(0);if(b.xi(t))return t.split(" ");throw new Error("invalid tags")}xst(){return this.ZQ||(this.ZQ=b.un(self.zW,this)),this.ZQ}}}{const Nn=self.Bs;Nn.htt=class extends Nn.an{constructor(t,s){super(),this.iZ=t,this.Mst=s,this.Tst=s.ntt(),this.Gst=NaN,this._st=NaN,this.Ist=null,this.Cst=null,this.Rst=!1,this.tR=0<s.ist(),this.Est=!1,this.Fst=!1,this.Pst=NaN,this.Ast=null,this.kst=this.Mst.Ost().Dst(),this.Lst=[],this.Bst(),this.Nst=0,this.UY=0,this.Wst=0}static wM(t,s){return Nn.un(Nn.htt,t,s)}cn(){this.kst=null;for(const t of this.Lst)t.cn();Nn.Lh(this.Lst),this.Lst=null,this.iZ=null,this.Ist=null,this.Cst=null,this.Mst=null,this.Ast=null}Bst(){for(const t of this.Mst.jst().Ust())this.Lst.push(Nn.Vst.wM(this,t))}ost(){for(const t of this.Lst)t.ost()}WK(){for(const t of this.Lst)t.WK();this.Ist=null,this.Cst=null}Hst(){return this.iZ}YD(){return this.iZ.YD()}Sst(){return this.kst||(this.kst=this.Mst.Ost().Dst()),this.kst}pst(){return this.Lst}sU(s){for(let t=0;t<this.Lst.length;t++){const e=this.Lst[t];if(e.mst()===s)return e}}zst(){this.Ist||this.XW()}Jst(){return!!this.Ist&&!this.Ist.QU()}dst(){if(!this.ctt())return!1;const t=this.qst(),s=this.YD().TD(t);return!!s&&!s.QU()}OB(){if(this.ctt()){const t=this.$st();if(-1!==t)return this.YD().vz(t)}}Xst(){return this.iZ.hZ().indexOf(this)}lst(){this.Ist=null,this.Gst=NaN,this.Cst=null,this._st=NaN,this.Rst=!0}fst(){return!!this.Ist}XW(){if(!this.Rst){if(!this.Ist||!this.Jst()){const t=this.qst();this.Ist=this.YD().TD(t)}return this.Ist}}cst(t){if(this.Rst=!1,this.Ist!==t){this.WK(),this.Ist=t,this._st=t.OB().DA(),this.Gst=t.YB(),this.Cst=t.RD();for(const s of this.Yst()){const e=s.Kst,i=s.Zst,r=e.Qst();switch(r){case"instance-variable":{i.tet();const n=t.OB(),h=n.eet(s.name),o=n.iet(h),a=n.ret(h);o===s.name&&a===s.type&&i.net(h);break}case"behavior":{const l=s.R6,u=this.OB(),c=t.OB(),f=i.F6(c);if(l&&f){const d=l.Zc();u.het(d),c.het(d),i.tet(),i.oet(f.t9())}break}}}}}*Yst(){for(const t of this.Lst){const s=t.ltt(),e=this.OB(),i={Kst:t,Zst:s};switch(t.Qst()){case"world-instance":i.property=t.mst();break;case"instance-variable":{const r=s.tet();i.name=e.iet(r),i.type=e.ret(r);break}case"effect":{const n=e.sL(),h=s.aet(n);i.let=h;break}case"behavior":{const o=s.F6(e);i.R6=o;break}case"plugin":i.EO=e.FO()}yield i}}RD(){if(!this.Cst||!this.Jst()){const t=this.XW();t&&(this.Cst=t.RD())}return this.Cst}uet(){return this.Mst}qst(){return isNaN(this.Gst)?this.Mst.qst():this.Gst}cet(t){this.Mst.cet(t)}mtt(){return this.Mst.mtt()}gtt(t){this.Mst.gtt(t)}SZ(){return this.Mst.SZ()}QW(){return this.Mst.QW()}ist(){return this.Mst.ist()}fet(){return this.Mst.fet()}det(t){this.Mst.det(t)}ytt(t){this.Mst.ytt(t)}$W(t){for(const s of this.Sst())s.$W(t);for(const e of this.pst())e.$W(t)}pet(){return this.Mst.pet()}met(t){this.Mst.met(t)}$st(){return isNaN(this._st)?this.Mst.$st():this._st}yet(t){this.Mst.yet(t)}wet(t){this.Mst.wet(t)}bet(){const t=this.XW();if(t){const s=t.v6();if(s.vet())return t.v6().bet()}return this.Mst.bet()}xet(t){this.Mst.xet(t)}Met(){const t=this.XW();if(t){const s=t.v6();if(s.vet())return t.v6().Met()}return this.Mst.Met()}vT(){return this.Mst.vT()}Zc(){return this.Mst.Zc()}ctt(){return 0===this.vT()}Tet(){return 1===this.vT()}Get(){return 2===this.vT()}_et(){return this.Nst}EK(){return this.UY}Qtt(){return this.Wst}hR(){return this.tR}Htt(){for(const t of this.Lst)t.Htt()}RK(){if(this.zst(),this.Jst()||!this.ctt()){const t=this.Hst(),s=t.xtt(),e=s?0:this.fet();for(const r of this.Lst)r.RK(e),0===this.Nst&&1===r._et()&&(this.Nst=1),0===this.UY&&1===r.EK()&&(this.UY=1);this.Wst=0;const i=this.Lst.some(t=>t.Qtt());i&&(this.Wst=1),this.Ast=this.Iet(e),this.Est=!1,this.Fst=!1,this.jc(e),this.Cet(this.Iet(e))}}Ktt(){if(this.zst(),this.Jst()||!this.ctt()){this.iZ.xtt();const t=this.iZ.SF()-this.ist();this.Ast=this.Iet(t);for(const s of this.Lst)s.Ktt(t)}}sst(){if(!this.Hst().LK()&&(this.zst(),this.Jst()||!this.ctt())&&!this.tR){const t=this.iZ.SF(),s=this.ist()+this.fet();s<=t?this.jc(this.fet(),!0,!1,!0,!1,!1,!0):t<=0&&this.jc(0,!0,!1,!0,!1,!1,!0)}}Ztt(){for(let t=0,s=this.Lst.length;t<s;t++){const e=this.Lst[t];e.Ztt(),0===this.Nst&&1===e._et()&&(this.Nst=1),0===this.UY&&1===e.EK()&&(this.UY=1)}}est(){const s=this.Lst.length;for(let t=0;t<s;t++)this.Lst[t].est()}jc(e,t=!1,i=!1,r=!1,s=!1,n=!1,h=!1){this.Ist||this.XW();const o=this.Ist&&!this.Ist.QU(),a=0===this.Mst.yf;if((o||!a)&&!(n&&a&&this.OB().Fz()||(e-=this.ist())<0)){this.Ret(e,t),this.Eet(e,t,s);for(let t=0,s=this.Lst.length;t<s;t++)this.Lst[t].jc(e,i,r,h);this.Fet(e,t),0!==this.Nst&&(this.Cst||(this.Cst=this.Ist.RD()),this.Cst)&&this.Cst.YN()}}rst(){const s=this.Lst.length;for(let t=0;t<s;t++)this.Lst[t].rst()}Ret(t,s){if(s&&this.tR&&!this.Est){const e=this.Hst();if(e.xtt()){if(t<0)return}else if(t>this.fet())return;for(const i of this.Lst)i.RK();this.Est=!0}}Fet(t,s){if(s&&this.tR&&!this.Fst){const e=this.Hst();if(e.xtt()){if(t>=this.fet()){for(const i of this.Lst)i.jc(this.fet(),!1,!0);this.Fst=!0}}else if(t<=0){for(const r of this.Lst)r.jc(0,!1,!0);this.Fst=!0}}}Eet(t,s,e){if(!e&&s&&Nn.aX.Timeline){const i=this.Hst(),r=this.Ast.uZ(),n=this.Ast.SF(),h=r?r.SF():i.AW();if(t<=n||h<=t)if(this.Ast=this.Tst.Pet(t,this.Mst),i.xtt())r&&this.Cet(this.Ast);else{const o=this.Ast.uZ();o&&this.Cet(o)}}}Iet(t){const s=this.Tst.Aet(t,this.Mst);return s||this.Tst.Pet(t,this.Mst)}Cet(t){if(Nn.aX.Timeline){const s=this.Hst(),e=s.ott();Nn.aX.Timeline.nX.PushTriggerTimeline(s),Nn.aX.Timeline.nX.PushTriggerKeyframe(t),e.vN(Nn.aX.Timeline.nX.OnAnyKeyframeReached),e.vN(Nn.aX.Timeline.nX.Cet),Nn.aX.Timeline.nX.PopTriggerTimeline(s),Nn.aX.Timeline.nX.PopTriggerKeyframe(t)}}ket(){const t=this.Mst.Ost(),s=t.Det();return s}Oet(){const t=this.Mst.jst(),s=t.Let(),e=Nn.Vst.wM(this,s);return this.Lst.push(e),e}Bet(t){const s=this.Mst.Ost();s.Net(t)}Wet(t){for(const s of this.Lst)s.Wet(t)}Uet(){for(const t of this.Lst)t.Uet()}jet(){if(this.zst(),this.Jst()||!this.ctt())for(const t of this.Lst)t.jet()}Vet(){if(this.zst(),this.Jst()||!this.ctt()){let t=!1;for(const s of this.Lst){const e=s.Vet();!t&&e&&(t=!0)}if(t){const i=this.ket();i.FW(this.Hst().SF()),i.$W("noease"),i.met(!0),i.Mtt("")}}}LY(){isNaN(this.Pst)||this.Het(this.Pst),this.Pst=NaN}Sq(){const t=this.XW(),s=t?t.YB():this.qst();return{propertyTracksJson:this.zet(),lastKeyframeDataItemJson:this.Jet(),initialStateOfNestedSet:this.Est,endStateOfNestedSet:this.Fst,instanceUid:s,cleared:this.Rst}}wq(t){if(t){this.qet(t.propertyTracksJson),this.$et(t.lastKeyframeDataItemJson),this.Pst=t.instanceUid,this.Est=!1,t.hasOwnProperty.initialStateOfNestedSet&&(this.Est=t.initialStateOfNestedSet),this.Fst=!1,t.hasOwnProperty.endStateOfNestedSet&&(this.Fst=t.endStateOfNestedSet),this.Rst=!!t.hasOwnProperty("cleared")&&t.cleared;for(const s of this.Lst)0===this.Nst&&1===s._et()&&(this.Nst=1),0===this.UY&&1===s.EK()&&(this.UY=1);this.Wst=0,this.Lst.some(t=>t.Qtt())&&(this.Wst=1)}}Jet(){const t=this.Mst.Ost();return t.Xet(this.Ast)}zet(){return this.Lst.map(t=>t.Sq())}qet(t){t.forEach((t,s)=>{const e=this.Lst[s];e.wq(t)})}Het(t){if(Nn.fi(t)){const s=this.YD().TD(t);if(s){const e=this.Hst();e.ust(this.Mst.QW(),s,this.Xst())}}}$et(t){const s=this.Mst.Ost();this.Ast=s.Yet(t)}}}{const Wn=self.Bs;Wn.Vst=class extends Wn.an{constructor(t,s){super(),this.Ket=t,this.Zet=s,this.Qet=s.jst(),this.Nst=0,this.UY=0,this.Wst=0,this.tit=this.ltt(),this.sit=this.Zet.iit().eit(),this.rit=null,this.nit=null}static wM(t,s){return Wn.un(Wn.Vst,t,s)}cn(){this.Ket=null,this.tit&&(this.tit.cn(),this.tit=null),this.sit=null,this.Zet=null,this.Qet=null}_et(){return this.Nst}EK(){return this.UY}Qtt(){return this.Wst}hit(){return!!this.nit}oit(t){this.nit=t}ait(){return this.nit}lit(){return this.Ket}uit(){return this.Zet}jst(){return this.Qet}Hst(){return this.Ket.Hst()}YD(){return this.Ket.YD()}XW(){return this.Ket.XW()}ltt(){if(!this.tit){let t=this.Zet.Qst(),s;switch(t){case"behavior":s=new Wn.Vst.cit(this);break;case"effect":s=new Wn.Vst.dit(this),this.UY=1;break;case"instance-variable":s=new Wn.Vst.pit(this);break;case"plugin":s=new Wn.Vst.mit(this),this.UY=1;break;case"world-instance":s=new Wn.Vst.git(this),this.UY=1,this.Nst=1;break;case"value":s=new Wn.Vst.yit(this);break;case"audio":s=new Wn.Vst.Sit(this)}this.tit=s}return this.tit}Qst(){return this.Zet.Qst()}wit(t){this.Zet.wit(t)}bit(){return this.Zet.vit()}xit(t){this.Zet.Mit(t)}tU(){return this.ltt().Tit()}mst(){return this.Zet.Git()}_it(t){this.Zet.Iit(t)}Cit(){return this.Zet.vT()}Rit(t){this.Zet.Eit(t)}Fit(){return this.jst().Pit(this.Zet).vT()}Ait(){return this.Zet.Ait()}kit(t){this.Zet.kit(t)}Dit(){return this.Zet.Dit()}Oit(t){this.Zet.Oit(t)}pet(){return this.Zet.pet()}met(t){this.Zet.met(t)}mtt(){return this.Zet.mtt()}gtt(t){this.Zet.gtt(t)}SZ(){return this.Zet.SZ()}ytt(t){this.Zet.ytt(t)}$W(t){for(const s of this.Lit())s.$W(t)}Bit(){return this.Zet.Bit()}Lit(){return this.sit||(this.sit=this.Zet.iit().eit()),this.sit}lZ(){return this.Zet.iit().lZ()}Nit(t){return this.Qet.Nit(t,this.Zet)}Wit(t){return this.Qet.Wit(t,this.Zet)}Uit(t){let s=this.Qet.Nit(t,this.Zet),e;return e=s?this.Qet.jit(t,this.Zet):(s=this.Qet.Wit(t,this.Zet),this.Qet.Vit(t,this.Zet)),{start:s,end:e}}*Hit(){for(const t of this.Lit())yield t._Z()}*zit(){for(const t of this.Lit())yield t.SF()}ost(){this.ltt().ost()}WK(){this.ltt().WK()}Jit(){return this.ltt().Jit()}Htt(){this.ltt().Htt()}RK(t){this.ltt().RK(),this.rit=this.qit(t),this.Ztt()}Ktt(t){this.ltt().Ktt(),this.rit=this.qit(t)}Ztt(){const t=this.lit();if(this.Wst=0,t.ctt()){const s=this.Hst(),e=t.XW(),i=this.ltt(),r=this.mst(),n=i.$it();if(n){const h=s.att(e,i,r,this);h&&h.length&&(this.Wst=1)}else this.Wst=0}}qit(t){const s=this.Hst(),e=this.Qet.Nit(t,this.Zet);return e||(s.xtt()?this.Qet.Wit(t,this.Zet):this.Qet.Vit(t,this.Zet))}est(){this.tit.est()}jc(t,s=!1,e=!1,i=!1){let r,n,h=!1;if(s)r=this.Qet.Wit(t,this.Zet);else{if(this.rit){const o=this.Hst(),a=this.rit.uZ(),l=this.rit.SF(),u=a?a.SF():o.AW();(t<=l||u<=t)&&(this.rit=this.Qet.Wit(t,this.Zet),h=!0)}else this.rit=this.Qet.Wit(t,this.Zet),h=!0;r=this.rit}r&&(n=r.uZ()),this.tit.jc(t,r,n,s,e,i,h)}Xit(t){if(this.rit){const i=this.Hst(),r=this.rit.uZ(),n=this.rit.SF(),h=r?r.SF():i.AW();(t<=n||h<=t)&&(this.rit=this.Qet.Wit(t,this.Zet))}else this.rit=this.Qet.Wit(t,this.Zet);const s=this.rit,e=s.uZ();return this.tit.Xit(t,s,e)}Yit(t,s,e){return this.tit.Xit(t,s,e)}rst(){this.tit.rst()}static Kit(t,s){const e=s.uit(),i=s.Qet;return i.Wit(t,e)}static Zit(t,s){const e=s.uit(),i=s.Qet;return i.Vit(t,e)}Qit(){const t=this.Zet.iit(),s=t.trt();return this.rit=null,s}Wet(t){this.rit=null;const s=this.Zet.iit();s.srt(t)}Uet(){this.ltt().Uet()}jet(){const t=this.ltt().jet();if(t){const s=this.Qet.Pit(this.Zet),e=this.ltt().Jit();s.ert(e)}}Vet(){const t=this.ltt().Vet();return t&&this.irt(),this.ltt().rrt(),t}irt(){const t=this.Hst().SF(),s=this.ltt(),e=Wn.Vst.Kit(t,this),i=this.Qit();i.Eit(e.vT()),i.FW(t),i.$W(e.nrt()),i.met(!0),i.hrt(s.ort()),i.ert(s.Jit())}Sq(){return{sourceAdapterJson:this.ltt().Sq()}}wq(t){t&&this.ltt().wq(t.sourceAdapterJson)}}}{const Un=self.Bs,jn=Un.Vst;jn.git=class{constructor(t){this.art=t,this.lrt=null,this.urt()}cn(){this.lrt&&(this.lrt.cn(),this.lrt=null),this.art=null}$it(){return this.lrt.$it()}sU(){return this.art}ost(){this.lrt&&this.lrt.ost()}WK(){this.lrt&&this.lrt.WK()}urt(){return this.lrt||(this.lrt=this.crt()),this.lrt}tet(){}DA(){return this.tet()}frt(){}Htt(){this.urt().Htt()}RK(){this.urt().RK()}Ktt(){this.urt().Ktt()}est(){this.lrt.drt()}jc(t,s,e,i,r,n,h){let o=this.art.Fit(),a;switch(o){case"numeric":a=jn.prt.jc(t,s,e,this.art);break;case"angle":a=jn.mrt.jc(t,s,e,this.art);break;case"boolean":a=jn.grt.jc(t,s,e,this.art);break;case"color":a=jn.yrt.jc(t,s,e,this.art);break;case"text":a=jn.Srt.jc(t,s,e,this.art)}this.lrt.wrt(t,a,s,e,i,r,n,h)}Xit(t,s,e){switch(this.art.Fit()){case"numeric":return jn.prt.jc(t,s,e,this.art);case"angle":return jn.mrt.jc(t,s,e,this.art);case"boolean":return jn.grt.jc(t,s,e,this.art);case"color":return jn.yrt.jc(t,s,e,this.art);case"text":return jn.Srt.jc(t,s,e,this.art)}}rst(){this.lrt.brt()}Uet(){this.urt().vrt()}rrt(){this.urt().rrt()}Jit(){return this.urt().Jit()}jet(){return this.urt().jet()}Vet(){return this.urt().Vet()}ort(){const t=this.art,s=t.lit(),e=s.Hst().SF(),i=jn.Kit(e,t),r=i.uZ(),n=t.Fit();switch(n){case"numeric":return jn.prt.jc(e,i,r,t);case"angle":return jn.mrt.jc(e,i,r,t);case"boolean":return jn.grt.jc(e,i,r,t);case"color":return jn.yrt.jc(e,i,r,t);case"text":return jn.Srt.jc(e,i,r,t)}}crt(){const t=this.art,s=t.Bit()?t.Fit():"";switch(s){case"combo":case"boolean":case"text":case"string":return new jn.Mrt.xrt(this);case"numeric":case"number":case"angle":return new("combo"===this.art.Cit()?jn.Mrt.xrt:jn.Mrt.Trt)(this);case"color":case"offsetColor":return new jn.Mrt.Grt(this);default:return new jn.Mrt.Trt(this)}}Sq(){return{propertyAdapterJson:this.urt().Sq()}}wq(t){t&&this.urt().wq(t.propertyAdapterJson)}}}{const Vn=self.Bs;class Hn extends Vn.Vst.git{constructor(t){super(t),this._rt=NaN}tet(){return this.art.uit().vit()[0]}DA(){return this._rt||super.DA()}frt(){return this.art.lit().XW()}net(t){const s=this.art.uit().vit()[0];s!==t&&(this._rt=t)}jc(t,s,e,i,r,n,h){this.urt().Irt(s.Tit())&&super.jc(t,s,e,i,r,n,h)}Xit(t,s,e){if(this.urt().Irt(s.Tit()))return super.Xit(t,s,e)}Sq(){return Object.assign(super.Sq(),{index:this._rt})}wq(t){t&&(super.wq(t),this._rt=t.index)}}Vn.Vst.pit=Hn}{const zn=self.Bs;class Jn extends zn.Vst.git{constructor(t){super(t),this.wH=NaN}tet(){const t=this.art.uit();return t.vit()[1]}frt(){const t=this.art.uit(),s=this.art.lit(),e=this.wH||t.vit()[0],i=s.XW(),r=i.Crt(e),n=i.Rrt()[r];return n.v6()}F6(t){const s=this.art.uit(),e=s.vit()[2];return t.Ert(e)}oet(t){const s=this.art.uit();s.vit()[0]!==t&&(this.wH=t)}jc(t,s,e,i,r,n,h){const o=this.art.lit(),a=o.XW();this.F6(a.OB())&&super.jc(t,s,e,i,r,n,h)}Xit(t,s,e){const i=this.art.lit(),r=i.XW();if(this.F6(r.OB()))return super.Xit(t,s,e)}Sq(){return Object.assign(super.Sq(),{sid:this.wH})}wq(t){t&&(super.wq(t),this.wH=t.sid)}}zn.Vst.cit=Jn}{const qn=self.Bs;class $n extends qn.Vst.git{constructor(t){super(t)}tet(){return this.art.uit().vit()[1]}frt(){const t=this.art,s=t.lit(),e=s.RD(),i=e.$N(),r=i.sL(),n=this.aet(r),h=n.DA();return i.L6(h)?i.Frt(h):null}aet(t){const s=this.art,e=s.uit().vit()[0];return t.Prt(e)}jc(t,s,e,i,r,n,h){this.Art()&&super.jc(t,s,e,i,r,n,h)}Xit(t,s,e){if(this.Art())return super.Xit(t,s,e)}Art(){const t=this.art,s=t.lit(),e=s.RD(),i=e.$N(),r=i.sL(),n=this.aet(r);if(n){const h=n.DA();return i.L6(h)}}}qn.Vst.dit=$n}{const Xn=self.Bs;class Yn extends Xn.Vst.git{constructor(t){super(t)}tet(){return this.art.uit().vit()[0]}frt(){return this.art.lit().XW().v6()}jc(t,s,e,i,r,n,h){const o=this.art.lit(),a=o.OB().FO(),l=o.XW().OB().FO();a===l&&super.jc(t,s,e,i,r,n,h)}Xit(t,s,e){const i=this.art.lit(),r=i.OB().FO(),n=i.XW().OB().FO();if(r===n)return super.Xit(t,s,e)}krt(){const t=this.art.lit(),s=t.OB().FO();if(Xn.aX.Drt&&s instanceof Xn.aX.Drt&&("initial-frame"===this.art.mst()||"initial-animation"===this.art.mst()))switch(this.art.SZ()){case"relative":case"absolute":return null}}}Xn.Vst.mit=Yn}{const Kn=self.Bs;class Zn extends Kn.Vst.git{constructor(t){super(t),this.Ort=0,this.Lrt=!1}$it(){return!1}RK(){let t=this.art.jst(),s=this.art.uit();s=t.Pit(s),this.Ort=s._Z()}Ktt(){}Tit(){return this.Lrt||this.art.jc(0),this.Ort}jc(t,s,e,i,r,n,h){this.Ort=Kn.Vst.prt.jc(t,s,e,this.art),this.Lrt=!0}Uet(){}rrt(){}Jit(){return this.Ort}jet(){return!1}Vet(){return!1}Sq(){return{value:this.Ort,init:this.Lrt}}wq(t){t&&(this.Ort=t.value,this.Lrt=!t.hasOwnProperty("init")||t.init)}}Kn.Vst.yit=Zn}{const Qn=self.Bs;class th extends Qn.Vst.git{constructor(t){super(t),this.Brt=!1,this.Nrt=null,this.Wrt=null,this.Urt=null,this.iZ=this.art.Hst(),this.Ket=this.art.lit(),this.jrt=this.art.bit(),this.Vrt=this.jrt[0],this.Hrt=this.jrt[1],this.jrt[3]?this.zrt=this.jrt[3]:this.zrt=Math.random().toString(36).slice(2),this.Jrt=NaN,this.qrt=NaN,this.$rt=NaN,this.Xrt=null,this.Yrt()}cn(){super.cn(),this.Nrt=null,this.Wrt=null,this.Urt=null,this.iZ=null,this.Ket=null,this.jrt=null,this.Vrt=null,this.Xrt=null}Yrt(){if(self.Bs.aX.Audio){const t=this.art.YD(),s=t.Krt(self.Bs.aX.Audio);s&&(this.Nrt=s.CO().v6()),this.Wrt=self.Bs.aX.Audio.Zrt,this.Urt=self.Bs.aX.Audio.Qrt}}tnt(){if(!this.Xrt){const t=this.art.lit(),s=t.sU("audioSource");s&&(this.Xrt=s.ltt())}}snt(){const t=this.art.lit(),s=t.sU("volume");return(s?s.ltt():this).qrt}ost(){super.ost(),this.Brt=!1,this.Nrt&&(this.Urt&&(this.Jrt=this.Urt.ent.call(this.Nrt,this.zrt),this.qrt=this.Urt.int.call(this.Nrt,this.zrt)),this.Wrt)&&this.Wrt.IW.call(this.Nrt,this.zrt)}rnt(){return this.zrt}nnt(){return this.$rt}hnt(t){this.$rt=t}RK(){super.RK(),this.Jrt=NaN,this.Brt=!1}Ktt(){super.Ktt();const t=this.art.Hst(),s=t.SF();switch(this.Jrt=s-this.Hrt,this.art.mst()){case"audioSource":break;case"volume":this.qrt=this.art.Xit(s)}this.Brt=!1}jc(t,s,e,i,r,n,h){if(this.Nrt)switch(this.art.mst()){case"audioSource":{if(!this.iZ.xtt())return;if(i)return void(this.Wrt&&this.Wrt.IW.call(this.Nrt,this.zrt));if(t<this.Hrt)return void(this.Brt=!1);const o=this.Urt.ont.call(this.Nrt,this.zrt),a=this.iZ.NW();if(a!==o&&this.Wrt.BW.call(this.Nrt,this.zrt,a),this.Brt)return;if(!this.art.Hst().IsPlaying())return;if(this.Brt=!0,isNaN(this.Jrt)){const l=self.performance.now(),u=t-this.Hrt,c=this.Nrt.ant();if("suspended"===c)return void(this.Brt=!1);const f=self.performance.now(),d=(f-l)/1e3,p=u+d;if(this.Wrt){let t=this.nnt();isNaN(t)?(this.hnt(0),t=0):this.hnt(t),this.Wrt.lnt.call(this.Nrt,this.Vrt,t,this.zrt,p)}}else{const m=this.Jrt,g=(this.Jrt=NaN,this.snt()),y=(this.qrt=NaN,this.Nrt.ant());if("suspended"===y)return void(this.Brt=!1);this.Wrt&&(this.hnt(g),this.Wrt.lnt.call(this.Nrt,this.Vrt,g,this.zrt,m))}break}case"volume":this.tnt(),super.jc(t,s,e,i,r,n,h)}}Xit(t,s,e){if(this.Nrt)switch(this.art.mst()){case"audioSource":return;case"volume":return this.tnt(),super.Xit(t,s,e)}}unt(t,s){return this.Xrt?this.Xrt.nnt():0}cnt(t,s,e,i){this.Xrt&&this.Xrt.hnt(this.unt()+s),this.Wrt&&this.Xrt&&this.Wrt.hnt.call(this.Nrt,this.Xrt.rnt(),this.Xrt.nnt())}fnt(t,s,e){this.Xrt&&this.Xrt.hnt(s),this.Wrt&&this.Xrt&&this.Wrt.hnt.call(this.Nrt,this.Xrt.rnt(),this.Xrt.nnt())}dnt(){return!0}Sq(){return{audioPlaybackStarted:this.Brt,audioTag:this.zrt,pauseTime:this.Jrt,pauseVolume:this.qrt,volume:this.$rt}}wq(t){t&&(this.Brt=t.audioPlaybackStarted,this.zrt=t.audioTag,this.Jrt=t.pauseTime,this.qrt=t.pauseVolume,this.$rt=t.volume,this.Yrt())}}Qn.Vst.Sit=th}{const sh=self.Bs;sh.Vst.Mrt=class{constructor(t){this.tit=t,this.art=t.sU(),this.Cst=this.art.lit().RD(),this.pnt=this.art.mst(),this.mnt=!1,this.gnt=null,this.ynt=null}cn(){this.tit=null,this.art=null,this.Cst=null,this.gnt=null,this.ynt=null}$it(){return!1}ost(){}WK(){this.Cst=null,this.gnt=null,this.ynt=null}ltt(){return this.tit}sU(){return this.art}RD(){return this.Cst||(this.Cst=this.art.lit().RD()),this.Cst}Snt(t){this.mnt=!!t}wnt(){return this.mnt}Htt(){}RK(){}Ktt(){}vrt(){this.gnt=this.Jit()}rrt(){this.gnt=null}Jit(){}jet(){}Vet(){}Irt(t){const s=typeof this.bnt(),e=typeof t;return s==e}drt(){}wrt(t,s,e,i,r,n,h,o){}brt(){}vnt(){const t=this.xnt(()=>{const t=this.art.uit(),s=this.art.jst();return s.Pit(t)},()=>{const t=this.art.uit(),s=this.art.jst();return s.Mnt(t)});return t.Tnt()}Gnt(){const t=this.art.Hst(),i=t.SF()-this.art.lit().ist(),s=this.xnt(()=>{const t=this.art.uit(),s=this.art.jst();return s.Wit(i,t)},()=>{const t=this.art.uit(),s=this.art.jst(),e=s.Vit(i,t);return e||s.Mnt(t)});return s.Tnt()}xnt(t,s){const e=this.art.Hst();return(e.xtt()?t:s)()}_nt(t,s){const e=this.art.SZ();return("relative"===e?t:s)()}Int(t,s){return(this.wnt()?(this.Snt(!1),t):s)()}Cnt(t){}Rnt(){return this.tit.DA()}Ent(){return this.ynt||(this.ynt=this.tit.frt()),this.ynt}Fnt(t,s,e,i,r,n){const h=this.art.Qst();switch(h){case"behavior":return t();case"effect":return s();case"instance-variable":return e();case"plugin":return i();case"world-instance":return r();case"audio":return n()}}Sq(){return{firstAbsoluteUpdate:this.mnt,saveState:this.gnt}}wq(t){t&&(this.mnt=t.firstAbsoluteUpdate,this.gnt=t.saveState)}Pnt(t,s=!1){const e=[];for(const i of t){const r=i.lit().ist();for(const n of i.Lit())(s&&0===n.SF()||!s)&&e.push({time:r+n.SF(),value:n.Tnt()})}return e.sort((t,s)=>t.time-s.time)}Ant(t,s,e){return this.knt(s,e)}knt(s,e){for(let t=e.length-1;0<=t;t--){const i=e[t].time;if(i<=s)return e[t]}return null}}}{const eh=self.Bs,ih=new Map,rh=[0,0,0];class nh extends eh.Vst.Mrt{constructor(t){super(t)}Htt(){}RK(){}Ktt(){}Jit(){const t=this.art.Qst(),s=this.Ent(),e=this.Rnt();switch(t){case"behavior":return this.Dnt(s.Ont(e));case"effect":return this.Dnt(s[e]);case"plugin":return this.Dnt(s.Ont(e));case"world-instance":return this.Dnt(this.bnt())}}jet(){const t=this.vnt();return!this.Lnt(t,this.bnt())}Vet(){return!eh.gi(this.gnt)&&!this.Lnt(this.gnt,this.bnt())}Lnt(t,s){return t=this.Bnt(t),s=this.Bnt(s),t.fa(s)}vnt(){const t=super.vnt();return this.Bnt(t)}Gnt(){const t=super.Gnt();return this.Bnt(t)}Cnt(t){}Dnt(t){return(eh.Zi(t,eh.Vo)?t.toArray():t).slice(0,3)}Bnt(t){return eh.Zi(t,eh.Vo)?t:new eh.Vo(t[0],t[1],t[2],1)}Irt(t){return!0}$it(){return!0}drt(){const t=this.art.Hst(),s=this.art.XW(),e=this.art.ltt(),i=t.att(s,e,this.pnt,this.art);if(i&&1<i.length){ih.has(s)||ih.set(s,new Map);const r=ih.get(s),n=this.art.Qst(),h=(r.has(n)||r.set(n,new Map),r.get(n));h.has(this.pnt)||h.set(this.pnt,{Nnt:!1,color:new eh.Vo(0,0,0,1)})}}Wnt(t,s,e){const i=ih.get(t).get(s).get(e);return i.Nnt=!0,i.color}wrt(t,s,e,i,r,n,h,o){const a=this.art.Hst(),l=this.art.lit(),u=this.art.XW(),c=this.art.ltt(),f=this.art.Qst(),d=this.pnt,p=a.att(u,c,d,this.art);if(p&&1<p.length){const m=this.Pnt(p,!0),g=this.Ant(a,a.SF(),m);if(g){const y=l.ist(),S=g.time-y;if(0==S)this.Wnt(u,f,this.pnt).Yo(s[0],s[1],s[2]);else if(!(S<0)){const w=s[0],b=s[1],v=s[2],x=this.art.jc(S,!1,!0),M=eh.Vo.qa(w,x[0]),T=eh.Vo.qa(b,x[1]),G=eh.Vo.qa(v,x[2]);this.Wnt(u,f,this.pnt).Yo(M,T,G)}}}else this.Unt(s[0],s[1],s[2])}brt(){const t=this.art.XW();if(ih.has(t)){const s=ih.get(t),e=this.art.Qst();if(s.has(e)){const i=s.get(e);if(i.has(this.pnt)){const r=i.get(this.pnt),n=r.Nnt,h=r.color;n&&this.Unt(h.ra(),h.na(),h.oa()),0===i.size&&s.delete(e),0===s.size&&ih.delete(t)}}}}bnt(){const t=this.art.Qst(),s=this.Ent(),e=this.Rnt();switch(t){case"behavior":return this.Bnt(s.Ont(e));case"effect":return s[e].clone();case"plugin":return this.Bnt(s.Ont(e));case"world-instance":return this.RD().u4().clone()}}Unt(t,s,e){const i=this.art.Qst(),r=this.Ent(),n=this.Rnt();switch(i){case"behavior":rh[0]=t,rh[1]=s,rh[2]=e,r.jnt(n,rh);break;case"effect":r[n].Xo(t,s,e);break;case"plugin":rh[0]=t,rh[1]=s,rh[2]=e,r.jnt(n,rh);break;case"world-instance":this.RD().Vnt(t,s,e)}}Sq(){}wq(t){}}eh.Vst.Mrt.Grt=nh}{const hh=self.Bs,oh=hh.Vst;class ah extends hh.Vst.Mrt{constructor(t){super(t)}Htt(){}RK(){}Ktt(){}Jit(){return this.bnt()}jet(){const t=this.vnt();return t!==this.Jit()}Vet(){return!hh.gi(this.gnt)&&this.gnt!==this.Jit()}$it(){return!1}wrt(t,s,e,i,r,n,h,o){const a=this.art,l=a.lit(),u=a.Qst(),c=a.Hst(),f=l.XW(),d=a.ltt(),p=this.pnt,m=c.att(f,d,p,a);if(m&&1<m.length){const y=this.Pnt(m),S=t+l.ist(),w=this.Ant(c,S,y);w&&(s=w.value)}const g=a.Fit();switch(g){case"numeric":if(oh.prt.Hnt(this.Rnt(),this.Ent(),s,u))break;return;case"angle":if(oh.mrt.Hnt(this.Rnt(),this.Ent(),s,u))break;return;case"boolean":if(oh.grt.Hnt(this.Rnt(),this.Ent(),s,u))break;return;case"color":if(oh.yrt.Hnt(this.Rnt(),this.Ent(),s,u))break;return;case"text":if(!oh.Srt.Hnt(this.Rnt(),this.Ent(),s,u))return}this.Unt(s)}bnt(){const t=this.art.Qst(),s=this.Ent(),e=this.Rnt();switch(t){case"behavior":return s.Ont(e);case"effect":return s[e];case"instance-variable":return s.znt(e);case"plugin":return s.Ont(e)}}Unt(t){const s=this.art.Qst(),e=this.Ent(),i=this.Rnt();switch(s){case"behavior":e.jnt(i,t);break;case"effect":e[i]=t;break;case"instance-variable":e.Jnt(i,t);break;case"plugin":e.jnt(i,t)}}}hh.Vst.Mrt.xrt=ah}{const lh=self.Bs,uh=(lh.Vst.Mrt,new Map),ch=(t,s,e,i,r,n=!1,h=null,o=null)=>{uh.set(t,{qnt:s,$nt:e,Xnt:i,round:r,Ynt:n,init:h,reset:o})};ch("offsetX",(t,s,e,i)=>{"relative"===i.art.SZ()?t.Knt(s,e.Hst().wtt()):t.Knt(s)},(t,s)=>t.Rb(s),t=>t.Cb(),!0),ch("offsetY",(t,s,e,i)=>{"relative"===i.art.SZ()?t.Znt(s,e.Hst().wtt()):t.Znt(s)},(t,s)=>t.Pb(s),t=>t.Fb(),!0),ch("offsetWidth",(s,t,o,e,i)=>{if(0!==t){const r="relative"===e.art.SZ(),l=1===e.Qnt.vT();if((r||l)&&s.N4()&&s.J4()){if(isNaN(e.tht)){let i=[],t=s.G4();for(;t;)i.push(t),t=t.G4();i.reverse();let a=(t,s)=>s.Hst().gst(t.XW()),r=(t,s)=>{const e=a(t,s);if(e)return e.bet();const i=t.XW().v6();return i.vet()?i.bet():t.eht().sht()},n=(t,s,e,i=0)=>{const r=a(t,s);if(!r)return i;const n=r.sU(e);if(!n)return i;const h=n.uit().iit();if(!h)return i;const o=h.Mnt();return o?o.Tit():i},h;if(l){let t=i[i.length-1];h=t.lm()}else{let s=i[0],t=s.eht().sht(),e=s.eht().iht();h=t*e,h=(h+=n(s,o,"offsetWidth"))+r(s,o)*n(s,o,"offsetScaleX");for(let t=1;t<i.length;t++){const u=(s=i[t]).eht().iht();h=(h=(h*=u)+n(s,o,"offsetWidth"))+r(s,o)*n(s,o,"offsetScaleX")}}e.tht=0===h?Number.EPSILON:h}i||s.zm(t/e.tht,!0)}else s.zm(t)}},(t,s)=>t.wm(s),t=>t.lm(),!0),ch("offsetHeight",(s,t,o,e,i)=>{if(0!==t){const r="relative"===e.art.SZ(),a=1===e.Qnt.vT();if((r||a)&&s.N4()&&s.X4()){if(isNaN(e.tht)){let i=[],t=s.G4();for(;t;)i.push(t),t=t.G4();i.reverse();let r=(t,s)=>{i=t;const e=s.Hst().gst(i.XW());var i;if(e)return e.Met();const r=t.XW().v6();return r.vet()?r.Met():t.eht().rht()},n=(t,s,e,i=0)=>{const r=s.Hst().gst(t.XW());if(!r)return i;const n=r.sU(e);if(!n)return i;const h=n.uit().iit();if(!h)return i;const o=h.Mnt();return o?o.Tit():i},h;if(a){let t=i[i.length-1];h=t.Mm()}else{let s=i[0],t=s.eht().rht(),e=s.eht().nht();h=t*e,h=(h+=n(s,o,"offsetHeight"))+r(s,o)*n(s,o,"offsetScaleY");for(let t=1;t<i.length;t++){const l=(s=i[t]).eht().nht();h=(h=(h*=l)+n(s,o))+r(s,o)*n(s,o,"offsetScaleY")}}e.tht=0===h?Number.EPSILON:h}i||s.hht(t/e.tht,!0)}else s.hht(t)}},(t,s)=>t.um(s),t=>t.Mm(),!0),ch("offsetAngle",(t,s,e,i,r)=>{t.oht(s)},(t,s)=>t.oL(s),t=>t.aL(),!1,!0),ch("offsetOpacity",(t,s,e,i,r)=>{const n=i.aht||1,h=(s/=n,t.j3()),o=h+s;if(0===i.lht)1<o?i.lht+=o-1:o<0&&(i.lht+=o),t.uht(s);else{const a=t.j3()+s;0<s&&0<i.lht?1<a&&(i.lht+=a-1):0<s&&i.lht<0?(i.lht+=s,0<i.lht&&(t.uht(i.lht),i.lht=0)):s<0&&0<i.lht?(i.lht+=s,i.lht<0&&(t.uht(i.lht),i.lht=0)):s<0&&i.lht<0&&a<0&&(i.lht+=a)}},(t,s)=>{t.H3(s)},t=>t.j3(),!1,!0,(n,r,h)=>{switch(n.lht=0,n.art.SZ()){case"relative":{n.art.jst();let t=n.art.uit(),s=t.iit(),e=s.eit(),i=n.RD().j3(),r=i;for(const o of e){const a=o.SF(),l=n.art.Xit(a);r=i+l,r=lh.yn(r,0,1)}n.cht=i-r,n.cht=Math.round(100*(n.cht+Number.EPSILON))/100,r=i;for(let t=e.length-1;0<=t;t--){const u=e[t].SF(),c=n.art.Xit(u);r-=c,r=lh.yn(r,0,1)}n.fht=r,n.fht=Math.round(100*(n.fht+Number.EPSILON))/100;break}}const t="relative"===n.art.SZ(),s=1===n.Qnt.vT();if((t||s)&&r.N4()&&r.s6()){let s=[],t=r.G4();for(;t;)s.push(t),t=t.G4();s.reverse();let e=(t,s,e)=>{const i=s.Hst().gst(t.XW());if(!i)return 0;const r=i.sU(e);if(!r)return 0;const n=r.uit().iit();if(!n)return 0;const h=n.Mnt();return h?h.Tit():0},i=s[0].eht().dht();i+=e(s[0],h,"offsetOpacity");for(let t=1;t<s.length;t++)i+=e(s[t],h,"offsetOpacity");n.aht=0===i?1:i}},e=>{switch(e.art.SZ()){case"relative":{e.lht=0;let t=e.RD(),s=t.j3();s=Math.round(100*(s+Number.EPSILON))/100,e.art.Hst().xtt()?(t.H3(s+e.cht),e.lG=0):(t.H3(s-e.fht),e.lG=e.ltt().ort());break}}}),ch("offsetOriginX",(t,s)=>t.pht(s),(t,s)=>t.mht(s),t=>t.aW(),!1),ch("offsetOriginY",(t,s)=>t.ght(s),(t,s)=>t.yht(s),t=>t.uW(),!1),ch("offsetZElevation",(t,s)=>t.Sht(s),(t,s)=>t.kb(s),t=>t.Ab(),!0),ch("offsetScaleX",(t,s,e,i)=>{if(0!==s){const r=t.lm()<0?-1:1;if("relative"===i.art.SZ()&&t.N4()&&t.J4()){const n=e.bet()*r*s;isNaN(i.tht)&&uh.get("offsetWidth").qnt(t,1,e,i,!0),t.zm(n/i.tht,!0)}else t.zm(e.bet()*r*s)}},(t,s,e)=>{t.wm(e.bet()*s)},(i,r)=>{const n=i.lm()<0?-1:1;if(i.J4()){let t=i.G4(),s=r.Hst().gst(t.XW()),e=NaN;if(s)e=t.lm()/s.bet();else{const h=t.XW().v6();e=h.vet()?t.lm()/h.bet():1}return i.lm()*n/(r.bet()*e)}return i.lm()*n/r.bet()},!1),ch("offsetScaleY",(t,s,e,i)=>{if(0!==s){const r=t.Mm()<0?-1:1;if("relative"===i.art.SZ()&&t.N4()&&t.X4()){const n=e.Met()*r*s;isNaN(i.tht)&&uh.get("offsetHeight").qnt(t,1,e,i,!0),t.hht(n/i.tht,!0)}else t.hht(e.Met()*r*s)}},(t,s,e)=>{t.um(e.Met()*s)},(i,r)=>{const n=i.Mm()<0?-1:1;if(i.X4()){let t=i.G4(),s=r.Hst().gst(t.XW()),e=NaN;if(s)e=t.Mm()/s.Met();else{const h=t.XW().v6();e=h.vet()?t.Mm()/h.Met():1}return i.Mm()*n/(r.Met()*e)}return i.Mm()*n/r.Met()},!1);class fh extends lh.Vst.Mrt{constructor(t){super(t),this.lG=0,this.lht=0,this.cht=0,this.fht=0,this.aht=NaN,this.tht=NaN,this.wht=void 0,this.bht=void 0,this.vht=null,this.xht=null,this.Mht=null,this.Tht=null,this.Ght=null,this._ht=null,this.Iht=null,this.Cht=null,this.Rht=!1,this.Eht=!1,lh.Zi(this.art.Hst(),lh.Fht)?this.Qnt=new lh.Vst.Mrt.Pht(this):this.Qnt=new lh.Vst.Mrt.Aht(this);const s=this.art.mst();switch(this.art.Qst()){case"world-instance":{const e=uh.get(s);this.vht=e.Xnt,this.xht=e.qnt,this.Mht=e.$nt,this.Rht=e.round,this.Eht=e.Ynt,this.Ght=e.init,this.Tht=e.reset;break}case"audio":this._ht=t.unt,this.Iht=t.cnt,this.Cht=t.fnt,this.Rht=!!t.dnt(),this.Eht=!1}}cn(){this.Qnt=null,this.vht=null,this.xht=null,this.Mht=null,this.Tht=null,this.Ght=null,this._ht=null,this.Iht=null,this.Cht=null,super.cn()}$it(){return this.Qnt.$it()}kht(){return this.lG}Dht(t){this.lG=t}Htt(){this.Tht&&this.Tht(this)}RK(){const t=this.Qnt.RK();if("number"==typeof t&&(this.lG=t),this.Ght){const s=this.RD(),e=this.art.lit();this.Ght(this,s,e)}}Ktt(){const t=this.Qnt.Ktt();"number"==typeof t&&(this.lG=t)}Jit(){return this.bnt()}jet(){const t=this.vnt();return t!==this.Jit()}Vet(){return!lh.gi(this.gnt)&&this.gnt!==this.Jit()}drt(){this.Qnt.drt()}wrt(t,s,e,i,r,n,h,o){return this.Qnt.wrt(t,s,e,i,r,n,h,o)}brt(){this.Qnt.brt()}bnt(){const t=this.Ent(),s=this.Rnt(),e=this.RD(),i=this.art.lit(),r=this.art.Qst();switch(r){case"behavior":return t.Ont(s);case"effect":return t[s];case"instance-variable":return t.znt(s);case"plugin":return t.Ont(s);case"world-instance":return this.vht(e,i);case"audio":return this._ht.call(this.ltt(),e,i)}}Unt(t,s,e){const i=this.Ent(),r=this.Rnt(),n=this.RD(),h=this.art.lit(),o=this.art.Qst();switch(o){case"behavior":i.Oht(r,t);break;case"effect":i[r]+=t;break;case"instance-variable":i.Lht(r,t);break;case"plugin":i.Oht(r,t,this.ltt().krt());break;case"world-instance":this.xht(n,t,h,this);break;case"audio":this.Iht.call(this.ltt(),n,t,h,this)}}Bht(t,s,e){let i=this.art.mtt();if("discrete"!==(i="default"===i?"continuous":i)||s){if("discrete"===i&&e){const l=this.art.Hst(),u=l.SF(),c=this.art.Nit(u);if(!c)return}const r=this.Ent(),n=this.Rnt(),h=this.RD(),o=this.art.lit(),a=this.art.Qst();switch(a){case"behavior":r.jnt(n,t);break;case"effect":r[n]=t;break;case"instance-variable":r.Jnt(n,t);break;case"plugin":r.jnt(n,t,this.ltt().krt());break;case"world-instance":this.Mht(h,t,o);break;case"audio":this.Cht.call(this.ltt(),h,t,o)}}}Nht(t,s,e,i,r,n,h,o){this.Qnt.Nht(t,s,e,i,r,n,h,o)}Wht(t,s,e,i,r){let n=(t="angle"===this.art.Cit()?lh.bn(t):t).toString(),h=n.split(".")[1]||"",o=h.length,a=this.bnt(),l;switch(l=0===o?this.Rht?Math.round(a):this.Eht?"angle"===this.art.Cit()?lh.wn(Math.round(lh.bn(a))):Number(lh.toFixed(a,2)):a:this.Rht?Number(lh.toFixed(a,o)):(this.Eht,a),this.Unt(l-a,s,e),this.art.mst()){case"offsetWidth":case"offsetScaleX":{const u=this.RD(),c=u.lm(),f=Number(lh.toFixed(c,2));u.zm(f-c);break}case"offsetHeight":case"offsetScaleY":{const d=this.RD(),p=d.Mm(),m=Number(lh.toFixed(p,2));d.hht(m-p);break}}}Sq(){return Object.assign(super.Sq(),{v:this.lG,a:this.lht,fod:this.cht,bod:this.fht,of:this.aht,sf:this.tht,armorf:this.wht,armandf:this.bht})}wq(t){t&&(super.wq(t),this.lG=t.v,this.lht=t.a,this.cht=lh.fi(t.fod)?t.fod:0,this.fht=lh.fi(t.bod)?t.bod:0,this.aht=lh.fi(t.of)?t.of:NaN,this.tht=lh.fi(t.sf)?t.sf:NaN,this.wht=lh.fi(t.armorf)?t.armorf:void 0,this.bht=lh.fi(t.armandf)?t.armandf:void 0)}}lh.Vst.Mrt.Trt=fh}{const dh=self.Bs;class ph{constructor(t){this.Uht=!1,this.Ort=0,this.jht=!1,this.Vht=!1,this.Lst=t;for(let t=0,s=this.Lst.length;t<s;t++)this.Lst[t].oit(this)}pst(){return this.Lst}Hht(){this.Uht=!0}zht(){return this.Uht}hrt(t){this.Ort=t}Tit(){return this.Ort}Jht(t){this.jht=t}qht(){return this.jht}sst(t){this.Vht=t}$ht(){return this.Vht}l0(){this.Uht=!1,this.Ort=0,this.jht=!1,this.Vht=!1}}class mh{constructor(t){this.Xht=t}cn(){this.Xht=null}vT(){return 0}RK(){const t=this.Xht;return this.Xht.sU(),t._nt(()=>t.xnt(()=>0,()=>t.ltt().ort()),()=>{})}Ktt(){}$it(){this.Xht;const t=this.Xht.sU();switch(t.SZ()){case"relative":return!1;case"absolute":return!0}}drt(){this.Xht;const t=this.Xht.sU(),s=t.mst();switch(t.SZ()){case"relative":break;case"absolute":if(t.hit()){const e=t.ait();e.l0()}else{const i=t.Hst(),r=t.XW(),n=t.ltt(),h=i.att(r,n,s,t);h&&1<h.length&&new ph(h)}}}wrt(t,s,e,i,r,n,h,o){const a=this.Xht,l=this.Xht.sU();switch(l.SZ()){case"relative":{const u=a.kht();a.Unt(s-u,e,i),n&&this.Nht(t,e,i,r,u,s),a.Dht(s);break}case"absolute":{const c=l.Hst(),f=l.lit();if(l.XW(),l.ltt(),l.hit()){const d=l.ait(),p=d.pst(),m=a.Pnt(p,!0),g=a.Ant(c,c.SF(),m);if(g){const y=f.ist(),S=g.time-y;if(0==S)d.sst(h),d.Jht(o),d.Hht(),d.hrt(d.Tit()+s);else{if(S<0)return;const w=l.Xit(S);d.sst(h),d.Jht(o),d.Hht(),d.hrt(d.Tit()+(s-w))}}}else a.Bht(s,o,h);break}}}brt(){const t=this.Xht,s=this.Xht.sU();switch(s.SZ()){case"relative":break;case"absolute":if(s.hit()){const e=s.ait();e.zht()&&t.Bht(e.Tit(),e.qht(),e.$ht())}}}Nht(t,s,e,i,r,n){const h=this.Xht;i||(s&&t===s.SF()?h.Wht(s._Z(),s,e):e&&t===e.SF()?h.Wht(e._Z(),s,e):n-r==0&&h.Wht(s._Z(),s,e))}}dh.Vst.Mrt.Aht=mh}{const gh=self.Bs;class yh{constructor(t){this.Xht=t}cn(){this.Xht=null}vT(){return 1}RK(){const t=this.Xht;return t.Snt(!0),this.Cnt(t.vnt())}Ktt(){const t=this.Xht;if(t.vnt()!==t.Gnt())return t.Snt(!0),this.Cnt(t.Gnt())}$it(){return!1}drt(){}wrt(t,s,e,i,r,n,h,o){const a=this.Xht,l=a.kht();switch(a.sU().SZ()){case"relative":a.Unt(s-l,e,i),n&&this.Nht(t,e,i,r,l,s,!1,h);break;case"absolute":a.wnt()?(a.Snt(!1),a.Unt(l,e,i)):0===t&&0===a.sU().Hst().AW()?a.Bht(s,!0,!1):(a.Unt(s-l,e,i),n&&this.Nht(t,e,i,r,l,s,this.Yht(),h))}a.Dht(s)}brt(){}Cnt(t){const s=this.Xht;return t-s.Jit()}Yht(){let t=this.Xht,s=t.RD().XW(),e=t.sU().YD(),i=e.ott(),r=0;for(const n of i.rK())0===n.vT()?n.lK(s)&&r++:1===n.vT()&&n.XW()===s&&r++;return r<=1}Nht(t,s,e,i,r,n,h,o){const a=this.Xht;i?s&&t===s.SF()?a.Wht(s._Z(),s,e,h,o):e&&t===e.SF()?a.Wht(e._Z(),s,e,h,o):e||a.Wht(s._Z(),s,e,h,o):s&&t===s.SF()?a.Wht(s._Z(),s,e,h,o):e&&t===e.SF()?a.Wht(e._Z(),s,e,h,o):n-r==0&&a.Wht(s._Z(),s,e,h,o)}}gh.Vst.Mrt.Pht=yh}{const Sh=self.Bs,wh=self.mc;Sh.Vst.prt=class{constructor(){}static Hnt(t,s,e,i){let r;switch(i){case"behavior":r=s.Ont(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.znt(t);break;case"plugin":r=s.Ont(t)}return r!==e}static jc(n,h,o,a){if(!o){let t=a.uit(),s=a.jst();return(t=s.Mnt(t))._Z()}let l=a.mtt();if("default"===l&&(l="continuous"),"discrete"===(l="combo"===a.Cit()?"discrete":l))return h._Z();if("continuous"===l||"step"===l){const u=a.Hst().dtt();if("step"===l&&0!==u){const g=1/u;n=Math.floor(n*g)/g}const c=h._Z(),f=o._Z(),d=h.TZ("cubic-bezier"),p=o.TZ("cubic-bezier"),m=d&&d.Kht()&&p&&p.Zht();if(!m&&c===f)return c;let t=h.SF(),s=o.SF(),e=("step"===l&&0!==u&&(n=Sh.yn(n,t,s)),Sh.normalize(n,t,s)),i=h.nrt(),r;if(m){const y=s-t;r=wh.Pc(i)(y*e,0,1,y),r=wh.Pc("cubicbezier")(r,c,c+d.RZ(),f+p.PZ(),f)}else r=wh.Pc(i)((s-t)*e,c,f-c,s-t);return"integer"===a.Cit()?Math.floor(r):r}}}}{const bh=self.Bs;bh.Vst.mrt=class{constructor(){}static Hnt(t,s,e,i){let r;switch(i){case"behavior":r=s.Ont(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.znt(t);break;case"plugin":r=s.Ont(t)}return r!==e}static jc(t,s,e,i){if(!e){let t=i.uit(),s=i.jst();return(t=s.Mnt(t))._Z()}let r=i.mtt();if("default"===r&&(r="continuous"),"discrete"===(r="combo"===i.Cit()?"discrete":r))return s._Z();if("continuous"===r||"step"===r){const n=i.Hst().dtt();if("step"===r&&0!==n){const c=1/n;t=Math.floor(t*c)/c}const h=s.SF(),o=e.SF(),a=s._Z(),l=e._Z(),u=("step"===r&&0!==n&&(t=bh.yn(t,h,o)),s.TZ("angle"));if(!u){if(a===l)return a;const f=bh.normalize(t,h,o),d=self.mc.Pc(s.nrt());return bh.In(a,l,d(f,0,1,1))}{const p=u.Qht();if(a===l&&0===p)return a;const m=bh.normalize(t,h,o),g=self.mc.Pc(s.nrt()),y=g(m,0,1,1);switch(u.tot()){case"closest":return bh.In(a,l,y,p);case"clockwise":return bh.Cn(a,l,y,p);case"anti-clockwise":return bh.Rn(a,l,y,p)}}}}}}{const vh=self.Bs;vh.Vst.grt=class{constructor(){}static Hnt(t,s,e,i){let r;switch(i){case"behavior":r=s.Ont(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.znt(t);break;case"plugin":r=s.Ont(t)}return!!r!=!!e}static jc(t,s,e,i){if(e)return s._Z()?1:0;{let t=i.uit(),s=i.jst();return(t=s.Mnt(t))._Z()?1:0}}}}{const xh=self.Bs,Mh=[0,0,0],Th=[0,0,0],Gh=[0,0,0];xh.Vst.yrt=class{constructor(){}static Hnt(t,s,e,i){let r;switch(i){case"behavior":r=s.Ont(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.znt(t);break;case"plugin":r=s.Ont(t)}return Array.isArray(e)?(Mh[0]=e[0],Mh[1]=e[1],Mh[2]=e[2]):(Gh.Fa(e),Mh[0]=Math.floor(255*Gh.ra()),Mh[1]=Math.floor(255*Gh.na()),Mh[2]=Math.floor(255*Gh.oa())),Array.isArray(r)?(Th[0]=r[0],Th[1]=r[1],Th[2]=r[2]):(Gh.Fa(r),Th[0]=Math.floor(255*Gh.ra()),Th[1]=Math.floor(255*Gh.na()),Th[2]=Math.floor(255*Gh.oa())),Mh[0]!==Th[0]||Mh[1]!==Th[1]||Mh[2]!==Th[2]}static jc(t,s,e,i){if(!e){let t=i.uit(),s=i.jst(),e=(t=s.Mnt(t))._Z();return Mh[0]=e[0],Mh[1]=e[1],Mh[2]=e[2],Mh}let r=i.mtt();if("discrete"===(r="default"===r?"continuous":r)){const n=s._Z();return Mh[0]=n[0],Mh[1]=n[1],Mh[2]=n[2],Mh}if("continuous"===r||"step"===r){const h=i.Hst().dtt();if("step"===r&&0!==h){const x=1/h;t=Math.floor(t*x)/x}const o=s.SF(),a=e.SF(),l=s._Z(),u=e._Z(),c=("step"===r&&0!==h&&(t=xh.yn(t,o,a)),xh.normalize(t,o,a)),f=s.nrt(),d=l[0],p=l[1],m=l[2],g=u[0],y=u[1],S=u[2],w=self.mc.Pc(f),b=a-o,v=b*c;return Mh[0]=d===g?d:w(v,d,g-d,b),Mh[1]=p===y?p:w(v,p,y-p,b),Mh[2]=m===S?m:w(v,m,S-m,b),Mh}}}}{const _h=self.Bs;_h.Vst.Srt=class{constructor(){}static Hnt(t,s,e,i){let r;switch(i){case"behavior":r=s.Ont(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.znt(t);break;case"plugin":r=s.Ont(t)}return r!==e}static jc(t,s,e,i){if(e)return s._Z();{let t=i.uit(),s=i.jst();return(t=s.Mnt(t))._Z()}}}}{const Ih=self.Bs;Ih.fY=class{constructor(){this.sot=new Map}cn(){for(const t of this.sot.values())t.cn();this.sot.clear(),this.sot=null}cc(t){const s=new Ih.eot(t),e=s.Zc();this.sot.set(e,s)}re(t){return this.sot.get(t)}QQ(){return 0}static iot(t,s,e,i){if(s)for(const r of s)Ih.fY.rot("create",r,t,e,i)}static not(t,s,e,i){if(s)for(const r of s)Ih.fY.rot("create-including-disabled",r,t,e,i)}static hot(e,t,s,i){e.length?t.forEach((t,s)=>{e[s].wq(t)}):t.forEach(t=>{Ih.fY.rot("load",t,e,s,i)})}static rot(t,s,e,i,r){let n;if("function"==typeof i)switch(t){case"load":n=new i(null,r);break;case"create":case"create-including-disabled":n=new i(s,r)}else if("object"==typeof i){const h=i.prop,o=s[h],a=i.map.get(o);switch(t){case"load":n=new a(null,r);break;case"create":case"create-including-disabled":n=new a(s,r)}}switch(t){case"load":n.wq(s),e.push(n);break;case"create":if("function"==typeof n.pet&&!n.pet())return n.cn();e.push(n);break;case"create-including-disabled":e.push(n)}}}}{const Ch=self.Bs;Ch.eot=class{constructor(t){this.mn="",this.tst=NaN,this.oot=0,this.aot="default",this.lot="default",this.uot=!1,this.cot=!1,this.dot=1,this.Tst=null,this.pot="",this.mot=!1,this.got=!0,t&&(this.mn=t[0],this.tst=t[1],this.oot=t[2],this.aot=t[3],this.lot=t[4],this.uot=!!t[6],this.cot=!!t[7],this.dot=t[8],this.pot=t[9],this.mot=!!t[10],this.got=!!t[11],this.Tst=new Ch.yot(t[5],this))}cn(){this.Tst.cn(),this.Tst=null}ntt(){return this.Tst||(this.Tst=new Ch.yot(null,this)),this.Tst}Zc(){return this.mn}z8(t){this.mn=t}AW(){return this.tst}PW(t){this.tst=t}dtt(){return this.oot}ptt(t){this.oot=t}mtt(){return this.aot}gtt(t){this.aot=t}SZ(){return this.lot}ytt(t){this.lot=t}DW(){return this.uot}kW(t){this.uot=t}LW(){return this.cot}OW(t){this.cot=t}z6(){return this.dot}Stt(t){this.dot=t}UK(){return this.pot}wtt(){return this.mot}btt(){return this.got}Sq(){return{trackDataJson:this.Tst.Sq(),name:this.mn,totalTime:this.tst,step:this.oot,interpolationMode:this.aot,resultMode:this.lot,loop:this.uot,pingPong:this.cot,repeatCount:this.dot,startOnLayout:this.pot,transformWithSceneGraph:!!this.mot,useSystemTimescale:this.got}}wq(t){t&&(this.ntt().wq(t.trackDataJson),this.mn=t.name,this.tst=t.totalTime,this.oot=t.step,this.aot=t.interpolationMode,this.lot=t.resultMode,this.uot=t.loop,this.cot=t.pingPong,this.dot=t.repeatCount,this.pot=t.startOnLayout,this.mot=!!t.transformWithSceneGraph,this.got=!!t.useSystemTimescale)}}}{const Rh=self.Bs;class Eh{constructor(t,s){this.Tst=s,this.Sot=null,this.wot=null,this.Gst=NaN,this._st=NaN,this.aot="default",this.lot="default",this.Lu=!1,this.bot=null,this.Qet=null,this.cf="",this.vot=null,this.xot=0,this.Mot=this.Tst.ftt().AW(),this.yf=0,this.mn="",t&&(t[0]&&(this.Sot=t[0],this.Gst=t[0][2],this._st=t[0][1]),this.aot=t[1],this.lot=t[2],this.Lu=!!t[3],t[6]&&(this.cf=t[6]),t[7]&&(this.vot=t[7],this.xot=t[7][0],this.Mot=t[7][1]),t[8]&&(this.wot=t[8]),t[8]&&(this.wot=t[8]),t[9]&&(this.yf=t[9]),t[10]&&(this.mn=t[10]),this.bot=new Rh.Tot(t[4],this),this.Qet=new Rh.Got(t[5],this))}cn(){this.Sot=null,this.Tst=null,this.bot&&(this.bot.cn(),this.bot=null),this.Qet&&(this.Qet.cn(),this.Qet=null),this.vot=null}ntt(){return this.Tst}Ost(){return this.bot||(this.bot=new Rh.Tot(null,this)),this.bot}jst(){return this.Qet||(this.Qet=new Rh.Got(null,this)),this.Qet}_ot(){return this.Sot}$st(){return this._st}yet(t){this._st=t}qst(){return this.Gst}cet(t){this.Gst=t}mtt(){return this.aot}gtt(t){this.aot=t}SZ(){return this.lot}ytt(t){this.lot=t}pet(){return this.Lu}met(t){this.Lu=!!t}QW(){return this.cf}ist(){return this.xot}fet(){return this.Mot}det(t){this.Mot=t}bet(){return this.wot[0]}wet(t){this.wot||(this.wot=[]),this.wot[0]=t}Met(){return this.wot||(this.wot=[]),this.wot[1]}xet(t){this.wot||(this.wot=[]),this.wot[1]=t}vT(){return this.yf}Zc(){return this.mn}Sq(){return{keyframeDataJson:this.bot.Sq(),propertyTrackDataJson:this.Qet.Sq(),instanceData:this.Sot,additionalInstanceData:this.wot,instanceUid:this.Gst,objectClassIndex:this._st,interpolationMode:this.aot,resultMode:this.lot,enabled:this.Lu,id:this.cf,nestedData:this.vot,type:this.yf,name:this.mn}}wq(t){t&&(this.Sot=t.instanceData,this.Gst=t.instanceUid,this._st=t.objectClassIndex,this.aot=t.interpolationMode,this.lot=t.resultMode,this.Lu=t.enabled,this.cf=t.id,this.yf=t.type||0,this.mn=t.name||"",this.Mot=this.Tst.ftt().AW(),t.nestedData&&(this.vot=t.nestedData,this.xot=this.vot[0],this.Mot=this.vot[1]),t.additionalInstanceData&&(this.wot=t.additionalInstanceData),this.Ost().wq(t.keyframeDataJson),this.jst().wq(t.propertyTrackDataJson))}}Rh.yot=class{constructor(t,s){this.MQ=s,this.Iot=[],Rh.fY.iot(this.Iot,t,Eh,this)}cn(){this.MQ=null;for(const t of this.Iot)t.cn();Rh.Lh(this.Iot),this.Iot=null}ftt(){return this.MQ}hst(){const t=new Eh(null,this);return this.Iot.push(t),t}Cot(t){return t.Ost().Dst()[0]}Rot(t){const s=t.Ost().Dst();return s.at(-1)}Aet(s,t){const e=t.Ost().Dst(),i=e.length;for(let t=0;t<i;t++){const r=e[t];if(r.SF()===s)return r}}Eot(s,t){const e=t.Ost().Dst(),i=e.length;for(let t=0;t<i;t++){const r=e[t];if(r.SF()>s)return r}}Fot(s,t){const e=t.Ost().Dst(),i=e.length;for(let t=0;t<i;t++){const r=e[t];if(r.SF()>=s)return r}}Pet(s,t){const e=t.Ost().Dst();for(let t=e.length-1;0<=t;t--){const i=e[t];if(i.SF()<=s)return i}}*itt(){for(const t of this.Iot)yield t}Sq(){return{trackDataItemsJson:this.Iot.map(t=>t.Sq())}}wq(t){t&&Rh.fY.hot(this.Iot,t.trackDataItemsJson,Eh,this)}}}{const Fh=self.Bs;class Ph{constructor(t,s){this.Qet=s,this.Pot="",this.Aot=null,this.pnt=null,this.yf=null,this.kot=NaN,this.Dot=NaN,this.aot="default",this.lot="default",this.Lu=!1,this.Oot=null,this.Lot=!0,t&&(this.Pot=t[0][0],this.Aot=t[0].slice(1),this.pnt=t[1],this.yf=t[2],this.kot=t[3],this.Dot=t[4],this.aot=t[5],this.lot=t[6],this.Lu=!!t[7],this.Oot=new Fh.Bot(t[8],this),this.Lot=t[9])}cn(){this.Oot.cn(),this.Oot=null,this.Qet=null,this.Aot=null}jst(){return this.Qet}iit(){return this.Oot||(this.Oot=new Fh.Bot(null,this)),this.Oot}Qst(){return this.Pot}wit(t){this.Pot=t}vit(){return this.Aot}Mit(t){this.Aot=t}Git(){return this.pnt}Iit(t){this.pnt=t}vT(){return this.yf}Eit(t){this.yf=t}Ait(){return this.kot}kit(t){this.kot=t}Dit(){return this.Dot}Oit(t){this.Dot=t}mtt(){return this.aot}gtt(t){this.aot=t}SZ(){return this.lot}ytt(t){this.lot=t}pet(){return this.Lu}met(t){this.Lu=!!t}Bit(){return!!this.Lot}Sq(){return{propertyKeyframeDataJson:this.Oot.Sq(),sourceAdapterId:this.Pot,sourceAdapterArguments:this.Aot,property:this.pnt,type:this.yf,min:this.kot,max:this.Dot,interpolationMode:this.aot,resultMode:this.lot,enabled:this.Lu,canHavePropertyKeyframes:this.Lot}}wq(t){t&&(this.Pot=t.sourceAdapterId,this.Aot=t.sourceAdapterArguments,this.pnt=t.property,this.yf=t.type,this.kot=t.min,this.Dot=t.max,this.aot=t.interpolationMode,this.lot=t.resultMode,this.Lu=t.enabled,this.Lot=t.canHavePropertyKeyframes,this.iit().wq(t.propertyKeyframeDataJson))}}Fh.Got=class{constructor(t,s){this.Mst=s,this.Not=[],Fh.fY.iot(this.Not,t,Ph,this)}cn(){this.Mst=null;for(const t of this.Not)t.cn();Fh.Lh(this.Not),this.Not=null}uet(){return this.Mst}Let(){const t=new Ph(null,this);return this.Not.push(t),t}Pit(t){const s=t.iit();return s.eit()[0]}Mnt(t){const s=t.iit(),e=s.eit();return e.at(-1)}Nit(s,t){const e=t.iit(),i=e.eit(),r=i.length;for(let t=0;t<r;t++){const n=i[t];if(n.SF()===s)return n}}jit(s,t){const e=t.iit(),i=e.eit(),r=i.length;for(let t=0;t<r;t++){const n=i[t];if(n.SF()>s)return n}}Vit(s,t){const e=t.iit(),i=e.eit(),r=i.length;for(let t=0;t<r;t++){const n=i[t];if(n.SF()>=s)return n}}Wit(s,t){const e=t.iit(),i=e.eit();for(let t=i.length-1;0<=t;t--){const r=i[t];if(r.SF()<=s)return r}}*Ust(){for(const t of this.Not)yield t}Sq(){return{propertyTrackDataItemsJson:this.Not.map(t=>t.Sq())}}wq(t){t&&Fh.fY.hot(this.Not,t.propertyTrackDataItemsJson,Ph,this)}}}{const Ah=self.Bs;class kh{constructor(t,s){if(this.bot=s,this.pP=-1,this.Wot="noease",this.Uot=!1,this.$Q=null,this.jot=null,t){this.pP=t[0],this.Wot=t[1],this.Uot=!!t[2];const e=t[3];this.$Q=e?e.split(" "):[],this.jot=new Set(this.$Q.map(t=>t.toLowerCase())),this.Vot=null}}cn(){this.bot=null,Ah.Lh(this.$Q),this.$Q=null,this.jot.clear(),this.jot=null,this.Vot=null}Ost(){return this.bot}uZ(){return this.Vot}Hot(t){this.Vot=t}SF(){return this.pP}FW(t){this.pP=t,this.bot.zot()}nrt(){return this.Wot}$W(t){this.Wot=t}pet(){return this.Uot}met(t){this.Uot=!!t}WW(){return this.$Q}Mtt(t){this.$Q=t?t.split(" "):[],this.jot=new Set(this.$Q.map(t=>t.toLowerCase()))}Jot(){return this.jot}wst(t){return this.jot.has(t.toLowerCase())}Sq(){return{time:this.pP,ease:this.Wot,enable:this.Uot,tags:this.$Q}}wq(t){t&&(this.pP=t.time,this.Wot=t.ease,this.Uot=t.enable,this.$Q=t.tags,this.jot=new Set(this.$Q.map(t=>t.toLowerCase())))}}Ah.Tot=class{constructor(t,s){this.Mst=s,this.kst=[],Ah.fY.iot(this.kst,t,kh,this),this.zot()}cn(){this.Mst=null;for(const t of this.kst)t.cn();Ah.Lh(this.kst),this.kst=null}zot(){this.kst.sort((t,s)=>t.SF()-s.SF());for(let t=0;t<this.kst.length;t++){const s=this.kst[t];s.Hot(this.kst[t+1])}}uet(){return this.Mst}qot(){return this.kst.length}Dst(){return this.kst}Det(){const t=new kh(null,this);return this.kst.push(t),this.zot(),t}Net(t){for(const s of this.kst)if(t(s)){const e=this.kst.indexOf(s);-1!==e&&(s.cn(),this.kst.splice(e,1))}this.$ot(),this.zot()}$ot(){this.kst.sort((t,s)=>t.SF()-s.SF())}Xet(t){return this.kst.indexOf(t)}Yet(t){return this.kst[t]}*Xot(){for(const t of this.kst)yield t}*Yot(){for(let t=this.kst.length-1;0<=t;t--)yield this.kst[t]}Sq(){return{keyframeDataItemsJson:this.kst.map(t=>t.Sq())}}wq(t){t&&(Ah.fY.hot(this.kst,t.keyframeDataItemsJson,kh,this),this.zot())}}}{const Dh=self.Bs;class Oh{constructor(t,s){this.Oot=s,this.Ort=null,this.Kot=null,this.yf="",this.pP=NaN,this.Wot="noease",this.Uot=!1,this.Zot=null,this.Qot=void 0,this.tat="line",t&&(this.Ort=t[0][0],this.Kot=t[0][1],this.yf=t[0][2],this.pP=t[1],this.Wot=t[2],this.Uot=!!t[3],this.tat=t[5],this.Zot=null,t[4]&&(this.Zot=new Dh.sat(t[4],this)),this.Vot=null,this.eat=null)}cn(){this.Oot=null,this.Zot&&(this.Zot.cn(),this.Zot=null),this.Vot=null,this.eat=null}iat(){return this.Zot}Hot(t){this.Vot=t}uZ(){return this.Vot}rat(t){this.eat=t}cZ(){return this.eat}Tit(){return this.Ort}hrt(t){"color"===this.yf&&Dh.fi(t)?(this.Ort[0]=Dh.zn(t),this.Ort[1]=Dh.Jn(t),this.Ort[2]=Dh.qn(t)):this.Ort=t}Tnt(){return this.Kot}ert(t){"color"===this.yf&&Dh.fi(t)?(this.Kot[0]=Dh.zn(t),this.Kot[1]=Dh.Jn(t),this.Kot[2]=Dh.qn(t)):this.Kot=t}_Z(){const t=this.Oot.uit().SZ();return"relative"===t?this.Tit():"absolute"===t?this.Tnt():void 0}vT(){return this.yf}Eit(t){this.yf=t}SF(){return this.pP}FW(t){this.pP=t,this.Oot.nat()}nrt(){return this.Wot}$W(t){this.Wot=t}pet(){return this.Uot}met(t){this.Uot=!!t}fZ(){return this.tat}TZ(s){if(this.Zot){if(!this.Qot&&null!==this.Qot){const e=this.Zot.hat();if(e){const i=e.length;for(let t=0;t<i;t++){const r=e[t];if(r.QW()===s)return this.Qot=r,this.Qot}}this.Qot=null}return this.Qot}}Sq(){const t=this.Zot;return{addonDataJson:t&&t.Sq(),value:this.Ort,aValue:this.Kot,type:this.yf,time:this.pP,ease:this.Wot,enable:this.Uot}}wq(t){t&&(t.addonDataJson&&this.Zot._SetFromJson(t.addonDataJson),this.Ort=t.value,this.Kot=t.aValue,this.yf=t.type,this.pP=t.time,this.Wot=t.ease,this.Uot=t.enable)}}Dh.Bot=class{constructor(t,s){this.Zet=s,this.sit=[],this.oat=[],Dh.fY.iot(this.sit,t,Oh,this),Dh.fY.not(this.oat,t,Oh,this),this.nat()}cn(){this.Zet=null;for(const t of this.sit)t.cn();Dh.Lh(this.sit),this.sit=null;for(const s of this.oat)s.cn();Dh.Lh(this.oat),this.oat=null}nat(){let s=this.sit;s.sort((t,s)=>t.SF()-s.SF());for(let t=0;t<s.length;t++){const e=s[t];t+1<s.length&&e.Hot(s[t+1]),0<=t-1&&e.rat(s[t-1])}(s=this.oat).sort((t,s)=>t.SF()-s.SF());for(let t=0;t<s.length;t++){const i=s[t];t+1<s.length&&i.Hot(s[t+1]),0<=t-1&&i.rat(s[t-1])}}trt(){const t=new Oh(null,this);return this.sit.push(t),this.nat(),t}srt(t){for(const s of this.sit)if(t(s)){const e=this.sit.indexOf(s);-1!==e&&(s.cn(),this.sit.splice(e,1))}this.aat(),this.nat()}aat(){this.sit.sort((t,s)=>t.SF()-s.SF())}uit(){return this.Zet}lat(){return this.sit.length}Mnt(){return this.sit[this.sit.length-1]}eit(){return this.sit}lZ(){return this.oat}*uat(){for(const t of this.sit)yield t}*cat(){for(let t=this.sit.length-1;0<=t;t--)yield this.sit[t]}Sq(){const t=this.sit,s=this.oat;return{propertyKeyframeDataItemsJson:t.map(t=>t.Sq()),propertyKeyframeDataItemsIncludingDisabledJson:s.map(t=>t.Sq())}}wq(t){t&&(Dh.fY.hot(this.sit,t.propertyKeyframeDataItemsJson,Oh,this),Dh.fY.hot(this.oat,t.propertyKeyframeDataItemsIncludingDisabledJson,Oh,this),this.nat())}}}{const Lh=self.Bs;class Bh{constructor(t,s){this.Zot=s,this.cf=t[0],this.fat=t[1]}cn(){this.Zot=null,this.fat=null}iat(){return this.Zot}QW(){return this.cf}Sq(){return{id:this.cf,data:this.fat}}wq(t){t&&(this.cf=t.id,this.fat=t.data)}}class Nh extends Bh{constructor(t,s){super(t,s),this.dat=this.fat[0],this.pat=!!this.fat[1],this.mat=this.fat[2],this.gat=!!this.fat[3]}cn(){super.cn()}RZ(){return this.dat}Kht(){return this.pat}PZ(){return this.mat}Zht(){return this.gat}Sq(){return Object.assign(super.Sq(),{startAnchor:this.dat,startEnable:!!this.pat,endAnchor:this.mat,endEnable:!!this.gat})}wq(t){t&&(super.wq(t),this.dat=t.startAnchor,this.pat=!!t.startEnable,this.mat=t.endAnchor,this.gat=!!t.endEnable)}}class Wh extends Bh{constructor(t,s){super(t,s),this.yat=this.fat[0],this.Sat=this.fat[1]}cn(){super.cn()}tot(){return this.yat}Qht(){return this.Sat}Sq(){return Object.assign(super.Sq(),{direction:this.yat,revolutions:this.Sat})}wq(t){t&&(super.wq(t),this.yat=t.direction,this.Sat=t.revolutions)}}Lh.sat=class{constructor(t,s){this.wat=s,this.bat=[],Lh.fY.iot(this.bat,t,{prop:0,map:new Map([["cubic-bezier",Nh],["angle",Wh]])},this)}cn(){this.wat=null;for(const t of this.bat)t.cn();Lh.Lh(this.bat),this.bat=null}vat(){return this.wat}hat(){return this.bat}*xat(){for(const t of this.bat)yield t}Sq(){return{addonDataItemsJson:this.bat.map(t=>t.Sq())}}wq(t){t&&Lh.fY.hot(this.bat,t.addonDataItemsJson,{prop:"id",map:new Map([["cubic-bezier",Nh],["angle",Wh]])},this)}}}{let m=self.Bs,e=0;m.Fht=class extends m.zY{constructor(t,s){super("tween-"+e++,t,s),this.cf="",this.Mat=!1,this.Tat="start-value",this.Ist=null,this.Gat=null,this._at=null,this.Ket=null,this.Iat=null}stt(t){const s=m.un(m.Event,"tweenstatereleased");s.Cat=this,t.dispatchEvent(s)}vT(){return 1}CQ(){for(const t of this.MQ.ntt().itt())this.TQ.push(m.Rat.wM(this,t));this.Ket=this.TQ[0]}nst(){const t=this.MQ.ntt().hst(),s=m.Rat.wM(this,t);return this.TQ.push(s),this.Eat(),s}Eat(){this.Ket=this.TQ[0]}sU(t){return this.Ket.pst()[0]}Rit(t){this.Fat=t}XW(){const t=this.hZ();if(t&&t.length){const s=t[0];if(this.Ket=s){const e=s.XW();return s.Jst()?e:void 0}}}Pat(t){this._at||(this._at=[]),this._at.push(t)}Aat(t){this.Gat||(this.Gat=[]),this.Gat.push(t)}kat(t){if(this._at){const s=this._at.indexOf(t);-1!==s&&this._at.splice(s,1)}}Dat(t){if(this.Gat){const s=this.Gat.indexOf(t);-1!==s&&this.Gat.splice(s,1)}}Oat(t,s){for(const e of this.TQ)for(const i of e.Lst)if(i.mst()===s){const r=i.jst(),n=i.uit(),h=r.Pit(n);h.hrt(t),h.ert(t)}}Lat(t){for(const s of this.TQ)for(const e of s.Lst)if(e.mst()===t)return e}Bat(t){for(const s of t){const e=this.Lat(s);this.Oat(e.Jit(),s)}if(this.xtt()){const i=this.AW()-this.SF();this.PW(i);for(const r of this.TQ)r.det(i);this.Ltt(0)}else{const n=this.SF();this.PW(n);for(const h of this.TQ)h.det(n);this.Ltt(n)}this.Btt()}Nat(t,s){const e=this.Lat(s),i=e.jst(),r=e.uit(),n=i.Mnt(r);n.FW(this.AW()),n.hrt(t),n.ert(t)}Wat(t){this.cf=t}QW(){return this.cf}Uat(t){this.Tat=t}jat(){return this.Tat}ZW(t){this.Mat=t}KW(){return this.Mat}Itt(){if(this._at)for(const t of this._at)t(this);if(!this.LK())for(const s of this.TQ)s.Vet()}Ctt(){this.jQ=this.lf.Rtt()}NK(){if(!this.zQ&&(this.zQ=!0,this.Gat))for(const t of this.Gat)t(this)}FW(t){this.Vat(),super.FW(t)}Vtt(t){(t=m.fi(t)?t:this.AW())<0?this.FQ=0:t>=this.AW()?this.FQ=this.AW():this.FQ=t,this.Ket.Htt()}RK(t){if(!this.BK()&&"current-state"===this.jat())for(const s of this.TQ)s.jet();super.RK(t)}IW(t=!1){if(super.IW(t),!this.LK())for(const s of this.TQ)s.Uet()}l0(t=!0,s=!1){this.Vat(),super.l0(t,s)}Vat(){for(const t of this.TQ){const s=t=>{const s=t.SF(),e=this.AW();return 0!==s&&s!==e};t.Bet(s),t.Wet(s)}}RY(){if(!this.GW()){const t=this.XW();if(t&&t.OB().Fz())return!1;this.xQ.GK(this),this.Xtt()}return!0}AK(r,t,s){if(this.Ist||(this.Ist=this.XW()),!this.Ist||this.Ist.QU())this.IW(!0),this.Ctt();else{const e=this.Ist.jk();if(0!==(r=-1!==e?s*e:r)||0!==this.qQ){this.qQ=r;const n=this.FQ+this.PQ,h=r*this.AQ,o=n+h,a=this.MQ.tst;o<0?(this.FQ=0,this.PQ=-o):a<=o?(this.FQ=a,this.PQ=this.FQ-o):(this.FQ=o,this.PQ=0);let t=!1,s=!1,e=this.DW(),i=this.LW();e||i?e&&!i?0<this.AQ?this.FQ>=a&&(this.Vtt(0),this.Hat(m.zat.Tween.nX.OnAnyTweenLoop),this.Hat(m.zat.Tween.nX.OnTweensLoop),s=!0):this.FQ<=0&&(this.Vtt(a),this.Hat(m.zat.Tween.nX.OnAnyTweenLoop),this.Hat(m.zat.Tween.nX.OnTweensLoop),s=!0):!e&&i?0<this.AQ?this.FQ>=a&&(this.Ltt(a),this.BW(-1*this.NW()),s=!0,1===this.kQ?this.DQ<this.z6()?(this.DQ++,this.Hat(m.zat.Tween.nX.OnAnyTweenLoop),this.Hat(m.zat.Tween.nX.OnTweensLoop),this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong),this.kQ=0):(this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong),t=!0):0===this.kQ&&(this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong),this.kQ=1)):this.FQ<=0&&(this.Ltt(0),this.BW(-1*this.NW()),s=!0,1===this.kQ?this.DQ<this.z6()?(this.DQ++,this.Hat(m.zat.Tween.nX.OnAnyTweenLoop),this.Hat(m.zat.Tween.nX.OnTweensLoop),this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong),this.kQ=0):(t=!0,this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong)):0===this.kQ&&(this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong),this.kQ=1)):e&&i&&(0<this.AQ?this.FQ>=a&&(this.Ltt(a),this.BW(-1*this.NW()),s=!0,0===this.kQ&&(this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong)),1===this.kQ&&(this.Hat(m.zat.Tween.nX.OnAnyTweenLoop),this.Hat(m.zat.Tween.nX.OnTweensLoop),this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong)),this.kQ++,this.kQ=m.wrap(this.kQ,0,2)):this.FQ<=0&&(this.Ltt(0),this.BW(-1*this.NW()),s=!0,0===this.kQ&&(this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong)),1===this.kQ&&(this.Hat(m.zat.Tween.nX.OnAnyTweenLoop),this.Hat(m.zat.Tween.nX.OnTweensLoop),this.Hat(m.zat.Tween.nX.OnAnyTweenPingPong),this.Hat(m.zat.Tween.nX.OnTweensPingPong)),this.kQ++,this.kQ=m.wrap(this.kQ,0,2))):0<this.AQ?this.FQ>=a&&(this.DQ<this.z6()?(this.DQ++,this.Vtt(0),this.Hat(m.zat.Tween.nX.OnAnyTweenLoop),this.Hat(m.zat.Tween.nX.OnTweensLoop),s=!0):(this.Ltt(a),t=!0)):this.FQ<=0&&(this.DQ<this.z6()?(this.DQ++,this.Vtt(a),this.Hat(m.zat.Tween.nX.OnAnyTweenLoop),this.Hat(m.zat.Tween.nX.OnTweensLoop),s=!0):(this.Ltt(0),t=!0)),t?(this.Ket.sst(),this.IW(!0),this.Ctt()):(this.Ket.jc(this.FQ,!0,!1,s,this.JQ,!1),this.JQ&&(this.JQ=!1))}}}Hat(t){const s=this.XW(),e=s.Jat(m.zat.Tween);e.PushTriggerTween(this),this.lf.vN(t,s,e.F6()),e.PopTriggerTween()}Sq(){const t=super.Sq(),s=this.ftt();return Object.assign(t,{tweenDataItemJson:s.Sq(),id:this.cf,destroyInstanceOnComplete:this.Mat,initialValueMode:this.Tat})}wq(t){if(t){const s=this.ftt();s.wq(t.tweenDataItemJson),super.wq(t),this.cf=t.id,this.Mat=t.destroyInstanceOnComplete,this.Tat=t.initialValueMode,this.Eat()}}static IsPlaying(t){return t.IsPlaying()}static VW(t){return t.VW()}static qat(t){return!!t.LW()&&0===t.vtt()}static $at(t){return!!t.LW()&&1===t.vtt()}static Xat(t){const s=t.runtime.ott(),e=new m.eot;if(t.json){e.wq(t.json.tweenDataItemJson);const i=new m.Fht(e,s);return i.wq(t.json),i}{const r=new m.Fht(e,s),n=(m.Li(t.Yat)||(t.Yat=[t.Yat]),r.Wat(t.id),r.Mtt(t.tags),r.Uat(t.initialValueMode),r.ZW(t.releaseOnComplete),r.kW(t.loop),r.OW(t.pingPong),r.PW(t.time),r.ptt(0),r.gtt("default"),r.ytt(t.Yat[0].resultMode),r.Stt(t.repeatCount),r.nst()),h=(n.cet(t.P6.YB()),n.gtt("default"),n.ytt(t.Yat[0].resultMode),n.met(!0),n.yet(t.P6.OB().DA()),t.P6.v6()),o=h.vet()?h.bet():t.P6.RD().lm(),a=h.vet()?h.Met():t.P6.RD().Mm(),l=(n.wet(o),n.xet(a),n.ket()),u=(l.FW(0),l.$W("noease"),l.met(!0),l.Mtt(""),n.ket());u.FW(t.time),u.$W("noease"),u.met(!0),u.Mtt("");for(const c of t.Yat){const f=n.Oet(),d=(f.wit(c.sourceId),f.xit(c.sourceArgs),f._it(c.property),f.Rit(c.type),f.kit(NaN),f.Oit(NaN),f.gtt("default"),f.ytt(c.resultMode),f.met(!0),f.Qit()),p=(d.Eit(c.valueType),d.FW(0),d.$W(c.ease),d.met(!0),d.hrt(c.startValue),d.ert(c.startValue),f.Qit());p.Eit(c.valueType),p.FW(t.time),p.$W(c.ease),p.met(!0),p.hrt(c.endValue),p.ert(c.endValue),f.ltt()}return r}}static cet(t,s){if(!isNaN(s))for(const e of t.hZ())e.cet(s)}Kat(t,s){return this.Iat||(this.Iat=m.un(self.JW,this,t,s)),this.Iat}}}{const Uh=self.Bs;Uh.Rat=class extends Uh.htt{constructor(t,s){super(t,s),this.Zat=null,this.Qat=null}static wM(t,s){return Uh.un(Uh.Rat,t,s)}tlt(){1===this.Lst.length?this.Zat=this.Lst[0]:(this.Zat=this.Lst[0],this.Qat=this.Lst[1])}Bst(){for(const t of this.Mst.jst().Ust())this.Lst.push(Uh.slt.wM(this,t));this.tlt()}Oet(){const t=this.Mst.jst(),s=t.Let(),e=Uh.slt.wM(this,s);return this.Lst.push(e),this.tlt(),e}RK(){if(this.zst(),this.Jst()||!this.ctt()){const t=this.Hst(),s=t.xtt(),e=s?0:this.fet();for(const r of this.Lst)r.RK(e),0===this.Nst&&1===r._et()&&(this.Nst=1),0===this.UY&&1===r.EK()&&(this.UY=1);this.Wst=0;const i=this.Lst.some(t=>t.Qtt());i&&(this.Wst=1),this.Ast=this.Iet(e),this.Est=!1,this.Fst=!1,this.jc(e)}}est(){}jc(t,s=0,e=!1,i=!1,r,n=!1,h=!1){if(this.Ist||this.XW(),this.Ist){const o=!this.Ist.QU();return o&&(!n||!this.OB().Fz())&&((this.Qat?(this.Zat.jc(t,e,i,h),this.Qat):this.Zat).jc(t,e,i,h),void(0!==this.Zat._et()&&(this.Cst||(this.Cst=this.Ist.RD()),this.Cst)&&this.Cst.YN()))}}rst(){}wq(t){super.wq(t),this.tlt()}}}{const jh=self.Bs;jh.slt=class extends jh.Vst{constructor(t,s){super(t,s),this.elt=!1}static wM(t,s){return jh.un(jh.slt,t,s)}jc(t,s=!1,e=!1,i=!1){let r,n;if(this.elt)r=this.sit[0],n=this.sit[1];else{if(s)r=this.Qet.Wit(t,this.Zet);else{if(this.rit){const h=this.Hst(),o=this.rit.uZ(),a=this.rit.SF(),l=o?o.SF():h.AW();(t<=a||l<=t)&&(this.rit=this.Qet.Wit(t,this.Zet))}else this.rit=this.Qet.Wit(t,this.Zet);r=this.rit}n=r.uZ()}this.tit.jc(t,r,n,s,e,i)}Qit(){const t=this.Zet.iit(),s=t.trt();return this.rit=null,this.elt=this.Lit().length<=2,s}Wet(t){this.rit=null;const s=this.Zet.iit();s.srt(t),this.elt=this.Lit().length<=2}Sq(){return{sourceAdapterJson:this.ltt().Sq(),basic:this.elt}}wq(t){t&&(this.ltt().wq(t.sourceAdapterJson),this.elt=t.basic)}}}{const Vh=self.Bs,Hh=self.mc;Vh.Vc=class extends Vh.an{constructor(t,s=!0){super(),this.mn=t[0],this.ilt=t[2],this.rlt=[];for(const e of t[1]){const i=Vh.nlt.wM(this,e);this.rlt.push(i)}for(let t=0;t<this.rlt.length;t++){const r=this.rlt[t],n=this.rlt[t+1],h=this.rlt[t-1];r.Hot(n),r.rat(h)}this.hlt=new Map,this.olt=new Map,this.llt(),s&&Hh.zc(this.mn,(t,s,e,i)=>this.jc(t,s,e,i),null,{transition:this})}static wM(t){return Vh.un(Vh.Vc,t)}cn(){for(const t of this.rlt)t.cn();Vh.Lh(this.rlt),this.rlt=null,this.hlt.clear(),this.hlt=null,this.olt.clear(),this.olt=null}Hc(t){this.ilt=!!t}ult(t){const s=this.olt.get(t);if(s)return s;for(const e of this.rlt)if(e.clt()===t)return this.olt.set(t,e),e}flt(s){for(let t=this.rlt.length-1;0<=t;t--){const e=this.rlt[t],i=e.clt();if(i<=s){let t=e;if(i<s)return t;if(i===s){for(;t;){const r=t.cZ();if(!r)break;if(r.clt()!==t.clt())break;t=r}return t}}}}jc(t,s,e,i){let r=t/i;if(this.ilt){const S=this.ult(0),w=this.ult(1),b=s+(s+e)*S.dlt(),v=(s+e)*w.dlt(),x=v-b;return 0===i?b+x:Hh.qc(t,b,x,i)}0===i&&(r=1);let n=this.flt(r),h=n.uZ();if(!h){const M=n.cZ(),T=n;n=M,h=T}const o=h.clt()-n.clt(),a=Vh.gn(r,n.clt(),h.clt(),0,o);if(n.plt()||0==o){const G=s+(s+e)*n.dlt(),_=(s+e)*h.dlt(),I=_-G;return 0==o?1===a?G+I:G:Hh.qc(a,G,I,o)}let l=n.clt(),u=n.dlt(),c=n.clt()+n.mlt(),f=n.dlt()+n.glt(),d=h.clt()+h.ylt(),p=h.dlt()+h.Slt(),m=h.clt(),g=h.dlt(),y=Hh.Pc("spline")(a,l,u,c,f,d,p,m,g,this.hlt.get(n));return(1-(y+=n.dlt()))*s+y*(s+e)}llt(){this.hlt.clear();for(let t=0;t<this.rlt.length-1;t++){const s=this.rlt[t];if(s.Kht()){const e=s,i=this.rlt[t+1];if(i.Zht()){const r=e.clt(),n=e.clt()+e.mlt(),h=i.clt()+i.ylt(),o=i.clt();this.hlt.set(e,Hh.$c(r,n,h,o))}}}}}}{const zh=self.Bs;zh.nlt=class extends zh.an{constructor(t,s){super(),this.wlt=t,this.blt=s[0],this.vlt=s[1],this.xlt=s[2],this.Mlt=s[3],this.Tlt=s[4],this.Glt=s[5],this.pat=s[6],this.gat=s[7],this._lt=s[8],this.Vot=null,this.eat=null}cn(){this.wlt=null}static wM(t,s){return zh.un(zh.nlt,t,s)}Hot(t){this.Vot=t}uZ(){return this.Vot}rat(t){this.eat=t}cZ(){return this.eat}clt(){return this.blt}dlt(){return this.vlt}mlt(){return this.xlt}glt(){return this.Mlt}ylt(){return this.Tlt}Slt(){return this.Glt}Kht(){return this.pat}Zht(){return this.gat}plt(){return"linear"===this._lt}Ilt(){return"cubic"===this._lt}}}{const Jh=self.Bs;Jh.Clt=class extends Jh.an{constructor(t){super(),this.lf=t,this.Rlt=[]}cn(){for(const t of this.Rlt)t.cn();Jh.Lh(this.Rlt),this.Rlt=null}wM(t){this.Rlt.push(Jh.Vc.wM(t))}}}{const qh=self.Bs;qh.Elt=class extends qh.an{constructor(t){super(),this.lf=t,this.Flt=null,this.Plt=null,this.PY=t=>this.AY(t.P6)}cn(){if(this.jY(),this.Flt){for(const t of this.Flt.values())t.clear();this.Flt.clear()}this.Flt=null,this.lf=null}wM(t){if(this.Flt||(this.Flt=new Map),t){const s=t[0][16],e=s[0],i=t[1],r=(this.Flt.has(i)||this.Flt.set(i,new Map),this.Flt.get(i));r.set(e,t)}}VY(){const t=this.lf.jf();t&&t.addEventListener("instancedestroy",this.PY)}jY(){const t=this.lf.jf();t&&t.removeEventListener("instancedestroy",this.PY)}Alt(){return!!this.Flt&&0!==this.Flt.size}klt(t,s){let e;if(e=t instanceof qh.Dlt?t.DA():t,this.Flt.has(e)){const i=this.Flt.get(e).get(s);return i?JSON.parse(JSON.stringify(i)):void 0}}Olt(t,s){this.Plt||(this.Plt=new WeakMap),this.Plt.has(t)||this.Plt.set(t,s)}Llt(t){if(!this.Plt)return"";const s=this.Plt.get(t);return s||""}AY(t){this.Plt&&this.Plt.has(t)&&this.Plt.delete(t)}}}{const $h=self.Bs;$h.Blt=class{constructor(t){this.lf=t,this.Nlt=new $h.Wlt}cn(){this.Nlt.cn(),this.Nlt=null,this.lf=null}YD(){return this.lf}wM(t){this.Nlt.cc(t)}Ult(t){return this.Nlt.re(t)}jlt(){return this.Nlt.jlt()}}}{const v=self.Bs;v.Vlt=class{constructor(t,s,e,i,r,n,h){this.lf=r.YD(),this.Hlt=r,this.zlt=t,this.Jlt=e,this.qlt=i,this.Yg=s,this.dY=n,this.$lt=h??n.XW().YB(),this.Xlt(),this.Ylt=this.Zlt?.Klt()??-1,this.Qlt=[],this.tut=null,this.sut=NaN,this.eut=null,this.iut=null,this.rut=null,this.nut="",this.hut=null,this.out="",this.aut="",this.lut=0,this.uut=!1,this.WQ=!1}cn(){this.WQ||(v.Lh(this.Qlt),this.Qlt=null,this.lf=null,this.Hlt=null,this.qlt=null,this.dY=null,this.tut=null,this.sut=NaN,this.eut&&this.eut.clear(),this.eut=null,this.iut=null,this.rut=null,this.nut="",this.hut=null,this.out="",this.aut="",this.WQ=!0)}dn(){return this.WQ}cut(){return this.Hlt}YD(){return this.lf}Zc(){return this.zlt}fut(){return this.qlt}TW(){return this.Yg}eK(){return this.dY||(this.dY=this.lf.TD(this.$lt).v6()),this.dY}dut(){return this.mut(this.Ylt)}gut(){const t=this.dut();return t?t.TW():""}yut(){const t=this.dut();return t?t.WW():[]}Sut(t){const s=this.yut();if(!s)return!1;if(!s.length)return!1;const e=v.Vlt.Ttt(t);return!(!e||!e.length)&&e.every(v.Vlt._tt,s)}wut(t,s){const e=this.yut();if(!e)return!1;if(!e.length)return!1;const i=v.Vlt.Ttt(t);return!(!i||!i.length)&&i.every(t=>v.Vlt.but.call(e,t,s))}static _tt(t){return""===t?1===this.length&&""===this[0]:this.map(t=>t.trim().toLowerCase()).includes(t.trim().toLowerCase())}static Ttt(t){return t.trim().split(" ")}static but(s,e){return""===s?1===this.length&&""===this[0]:this.some(t=>v.compare(t.trim(),e,s.trim()))}vut(t){const s=this.dut();if(s){if(v.fi(t)){const e=s.xut(),i=e?e[t]:void 0;if(v.fi(i))return this.mut(i)}if("string"==typeof t)for(const r of s.xut()){const n=this.mut(r);if(n.EW(t))return this.mut(n.Klt())}}}Mut(t){const s=this.vut(t);return s?s.TW():""}Tut(t){const s=this.vut(t);return s?s.WW():""}Gut(t){const s=this.dut();if(!s)return-1;const e=s.xut();if(!e)return-1;const i=this.vut(t);return i?e.indexOf(i.Klt()):-1}_ut(){const t=this.dut();if(!t)return 0;const s=t.xut();return s?s.length:0}mut(t){return this.qlt.mut(t)}l0(){const t=this.Iut();t.Cut(!0)}Cut(t){if(this.Rut()){for(const[s,e]of this.Rut().entries())e.Cut(!1);this.Rut().clear()}if(this.eut=null,this.tut=null,this.Eut=null,this.iut=null,this.nut="",this.hut=null,this.out="",this.aut="",this.Qlt=[],t){this.Hlt.Fut(this);const i=this.Zlt.Klt();i!==this.Ylt&&this.Put(i)}else this.Ylt=this.Zlt.Klt()}Aut(){const t=this.qlt.mut(this.Ylt);return t?t.Dut().kut():0}Out(t){const s=this.Lut(t);return s?s.Zc():""}But(t){let s;return v.fi(t)&&(s=this.Lut(t)),"string"==typeof t&&(s=this.Nut(t)),"number"!=typeof t&&"string"!=typeof t&&console.warn("[Flowcharts] unexpected argument type in GetCurrentNodeOutputValueAt expression"),s?s.Tit():""}Wut(t){let s;if(v.fi(t)&&(s=this.Lut(t)),s="string"==typeof t?this.Nut(t):s){const e=s.Uut();v.fi(e)&&(this.Qlt.push(this.Ylt),this.Put(e))}}jut(t){const s=this.qlt.Vut(t);if(s){const e=this.qlt.mut(s.Klt());e&&(this.Qlt.push(this.Ylt),this.Put(e.Klt()))}}Hut(){const t=this.Qlt.pop();v.fi(t)?this.Put(t):this.zut()&&(this.Hlt.Fut(this.zut(),!0,!1,!1),this.zut().Put(this.Jut()),this.Iut().qut(this.zut()))}$ut(t){const s=this.dut();if(s){s.Klt();const e=this.vut(t);e&&(this.Qlt.push(this.Ylt),this.Put(e.Klt()))}}Xut(s){if(v.fi(s)){const t=this.qlt.mut(this.Ylt),e=t.Dut().Yut();return!!e[s]}if("string"==typeof s){const i=this.qlt.mut(this.Ylt),r=i.Dut().Yut();for(let t=0;t<r.length;t++)if(r[t].Zc()===s)return!0}return!1}Kut(){this.uut=!0}Zut(){return 0<this.lut}Qut(){this.lut++}tct(){this.lut--,0===this.lut&&this.uut&&this.Hlt.sct(this)}Put(t){const e=this.Ylt,s=this.eK().XW();if(this.Qut(),this.Hlt.ect(this),this.lf.vN(v.aX.Flowchart.nX.OnBeforeAnyNodeChange,s),this.lf.vN(v.aX.Flowchart.nX.OnBeforeTaggedNodeChange,s),this.lf.vN(v.aX.Flowchart.nX.OnBeforeAnyNodeChangeInFlowchart,s),this.lf.vN(v.aX.Flowchart.nX.OnBeforeTaggedNodeChangeInFlowchart,s),this.Ylt=t,this.lf.vN(v.aX.Flowchart.nX.OnAnyNodeChange,s),this.lf.vN(v.aX.Flowchart.nX.OnTaggedNodeChange,s),this.lf.vN(v.aX.Flowchart.nX.OnAnyNodeChangeInFlowchart,s),this.lf.vN(v.aX.Flowchart.nX.OnTaggedNodeChangeInFlowchart,s),this.Hlt.ict(),this.tct(),!this.dn()){const i=this.mut(this.Ylt);if("reference"===i.vT()){const r=i.rct();if(this.nct(i)){this.Qlt.pop();const n=this.hct(i),h=(this.Hlt.Fut(n,!0,!0,!1),n.oct(this,e),this.Iut());h.qut(n)}else{const o=i.lct();if(r){this.Qlt.pop();let s=i.uct();if(s){let t=this.Hlt.cct(s);for(;t;)s=v.Y1(s),t=this.Hlt.cct(s)}else{s=r+"-ref";let t=this.Hlt.cct(s);for(;t;)s=v.Y1(s),t=this.Hlt.cct(s)}const a=this.Hlt.fct(r,o,s,this.dY,!0),l=(a.oct(this,e),this.dct(i,a),this.Iut());a.pct(l),l.qut(a)}}}}}Lut(t){const s=this.qlt.mut(this.Ylt);if(!s)return null;const e=s.Dut().Yut();if(!e)return null;const i=e[t];return i||null}Nut(t){const s=this.qlt.mut(this.Ylt);if(!s)return null;const e=s.Dut().mct(t);return e||null}Xlt(s){if("number"==typeof s){let t=this.mut(s);t=t||this.qlt.gct(),this.Zlt=t}else{let t=this.qlt.Vut(this.Jlt);t=t||this.qlt.gct(),this.Zlt=t}}Sq(){return this.uut?null:{flowchartName:this.zlt,flowchartTag:this.Yg,startNodeTag:this.Jlt,currentNodeId:this.Ylt,previousNodeIds:this.Qlt,pluginUID:this.dY.XW().YB(),reference:{previousFlowchartTag:this.zut()?this.zut().TW():"",previousStartNodeId:v.fi(this.Jut())?this.Jut():NaN,referencesJson:this.yct(),currentReferenceFlowchartTag:this.Sct()?this.Sct().TW():"",rootFlowchartTag:this.Iut()?this.Iut().TW():""}}}yct(){if(!this.wct())return null;const t=[];for(const[s,e]of this.Rut().entries())t.push({flowchartElementId:s.Klt(),flowchartStateTag:e.TW()});return t.length?t:null}wq(t){if(t){if(this.zlt=t.flowchartName,this.Yg=t.flowchartTag,this.Jlt=t.startNodeTag,this.Ylt=t.currentNodeId,this.Qlt=t.previousNodeIds,this.$lt=t.pluginUID,t.hasOwnProperty("reference")){const s=t.reference;this.nut=s.previousFlowchartTag,this.sut=s.previousStartNodeId,this.hut=s.referencesJson,this.out=s.currentReferenceFlowchartTag,this.aut=s.rootFlowchartTag}this.Xlt()}}zut(){return"string"==typeof this.nut&&this.nut&&(this.tut=this.Hlt.cct(this.nut),this.nut=""),this.tut}Jut(){return this.sut}oct(t,s){this.tut=t,this.sut=s}Sct(){return"string"==typeof this.out&&this.out&&(this.iut=this.Hlt.cct(this.out),this.out=""),this.iut}qut(t){this.iut=t,this.iut===this&&(this.iut=null)}Iut(){return"string"==typeof this.aut&&this.aut&&(this.rut=this.Hlt.cct(this.aut),this.aut=""),this.rut||this}pct(t){this.rut=t}wct(){return this.bct(),!!this.eut}nct(t){return this.bct(),this.eut&&this.eut.has(t)}bct(){if(this.hut){this.eut&&this.eut.clear(),this.eut||(this.eut=new Map);for(const t of this.hut){const s=this.Hlt.cct(t.flowchartStateTag),e=s.mut(t.flowchartElementId);this.eut.set(e,s)}this.hut=null}}Rut(){return this.bct(),this.eut}hct(t){return this.bct(),this.eut.get(t)}dct(t,s){this.eut||(this.eut=new Map),this.eut.set(t,s)}}}{const Xh=self.Bs;Xh.vct=class{constructor(t){this.lf=t,this.xct=new Map,this.Mct=null,this.Tct=[],this.Gct=()=>this.LY(),this._ct=null}cn(){Xh.Lh(this.Tct),this.Tct=null,this.xct.clear(),this.xct=null,this.Mct=null,this.lf=null,this._ct=null}YD(){return this.lf}fct(t,s,e,i,r,n){const h=this.lf.cut().Ult(t);if(h){if(!this.xct.has(e)){const o=new Xh.Vlt(t,e,s,h,this,i,n);return this.xct.set(e,o),r&&this.Fut(o,!0),o}{const a=this.xct.get(e);a&&this.sct(a)}}else console.warn(`[Flowcharts] no flowchart found with name '${t}'`)}sct(t){if(t.Kut(),!t.Zut()){const s=t.TW();this.xct.delete(s),t.cn(),this.Mct===t&&(this.Mct=null)}}Ict(t){t.l0()}cct(t){return this.xct.get(t)}ect(t){this.Tct.push(t)}ict(){this.Tct.pop()}Fut(t,s=!1,e=!1,i=!0){if(i){const r=t.Sct();t=r||t}t!==this.Mct&&(this.Cct(),this.Rct(t,s,e))}Ect(t){return"string"==typeof t?this.cct(t):this.Tct.length?this.Tct[this.Tct.length-1]:this.Mct}Cct(){if(this.Mct&&!this.Mct.dn()){const t=this.Mct.eK().XW();this.Mct.Qut(),this.ect(this.Mct),this.lf.vN(Xh.aX.Flowchart.nX.OnBeforeFlowchartChange,t),this.ict(),this.Mct.tct()}}Rct(t,s=!1,e=!1){if(this.Mct=t,this.Mct&&!this.Mct.dn()){const i=this.Mct.eK().XW();this.Mct.Qut(),this.ect(this.Mct),this.lf.vN(Xh.aX.Flowchart.nX.OnFlowchartChange,i),!0!==e&&"number"!=typeof e||this.Mct.Xlt(e),s&&(this.lf.vN(Xh.aX.Flowchart.nX.OnAnyNodeChange,i),this.lf.vN(Xh.aX.Flowchart.nX.OnTaggedNodeChange,i)),this.ict(),this.Mct.tct()}}Sq(){return{flowchartJsonObjects:[...this.xct.values()].map(t=>t.Sq()),currentFlowchartTag:this.Mct?this.Mct.TW():null}}wq(t){if(t){this._ct=t;const s=new Map;for(const e of this._ct.flowchartJsonObjects){const i=e.flowchartTag;if(this.xct.has(i)){const r=this.xct.get(i);r.wq(e),s.set(i,r)}else{const n=this.fct(e.flowchartName,e.startNodeTag,e.flowchartTag,null,!1,e.pluginUID);n.wq(e),s.set(e.flowchartTag,n)}}for(const[h,o]of this.xct.entries())s.has(h)||o.cn();this.xct.clear(),this.xct=s,this.lf.K$()?this.lf.jf().addEventListener("afterload",this.Gct):this.LY()}}LY(){this.lf.jf().removeEventListener("afterload",this.Gct);const t=this.xct.get(this._ct.currentFlowchartTag);t&&this.Fut(t,!0),this._ct=null}}}{const Yh=self.Bs;Yh.Wlt=class{constructor(){this.Fct=new Map}cn(){for(const t of this.Fct.values())t.cn();this.Fct.clear(),this.Fct=null}cc(t){const s=new Yh.Pct(t),e=s.Zc();this.Fct.set(e,s)}re(t){return this.Fct.get(t)}jlt(){return!!this.Fct.size}static Act(t,s,e,i){if(s)for(const r of s){const n=new e(r,i);t.push(n)}}}}{const Kh=self.Bs;Kh.Pct=class{constructor(t){this.mn=t[0],this.kct=new Kh.Dct(t[1],this)}cn(){this.kct.cn(),this.kct=null}Oct(){return this.kct}mut(t){return this.kct.mut(t)}Vut(t){return this.kct.Vut(t)}gct(){return this.kct.gct()}Zc(){return this.mn}}}{const Zh=self.Bs;class Qh{constructor(t,s){this.kct=s,this.yf=t[7],this.Lct=t[0],this.Yg=t[1],this.Yg?this.$Q=this.Yg.trim().split(" ").map(t=>t.trim()):this.$Q=[],this.Bct=t[2],this.Nct=null,this.Wct=null,"dictionary"===this.yf&&(this.Nct=t[3],this.Wct=t[4]),this.Uct=t[6],this.jct=null,this.Vct=null,this.Hct=null,"reference"===this.yf&&(this.jct=t[8],this.Vct=t[9],this.Hct=t[10]),this.zct=new Zh.Jct(t[5],this)}cn(){this.kct=null}Oct(){return this.kct}Dut(){return this.zct}Klt(){return this.Lct}TW(){return this.Yg}WW(){return this.$Q}EW(t){if(!this.$Q)return!1;if(!this.$Q.length)return!1;const s=Zh.Vlt.Ttt(t);return!(!s||!s.length)&&s.every(Zh.Vlt._tt,this.$Q)}qct(){return this.Uct}xut(){return this.Bct}$ct(){return this.Nct}Xct(){return this.Wct}vT(){return this.yf}rct(){return this.jct}lct(){return this.Vct}uct(){return this.Hct}}Zh.Dct=class{constructor(t,s){this.qlt=s,this.Yct=[],this.Kct=new Map,this.Zct=new Map,this.Qct=null,Zh.Wlt.Act(this.Yct,t,Qh,this);for(const e of this.Yct){const i=e.Klt(),r=e.TW(),n=e.WW(),h=e.qct();if(this.Kct.set(i,e),r)for(const a of n)this.Zct.has(a)||this.Zct.set(a,new Set),this.Zct.get(a).add(e);h&&(this.Qct=e);const o=e.Dut();for(const l of o.tft()){const u=l.Klt();this.Kct.set(u,l)}}}cn(){this.qlt=null;for(const t of this.Yct)t.cn();Zh.Lh(this.Yct),this.Yct=null}fut(){return this.qlt}mut(t){return this.Kct.get(t)}Vut(t){if(!t||!t.length)return null;const e=[];for(const i of t.trim().split(" ")){let t=this.Zct.get(i.trim())??new Set;if(0===t.size)return null;e.push(t)}const s=e.reduce((t,s)=>s.size<t.size?s:t);return[...s].filter(s=>e.every(t=>t.has(s)))[0]}gct(){return this.Qct}*eft(){for(const t of this.Yct)yield t}}}{const to=self.Bs;class so{constructor(t,s){this.zct=s,this.Lct=t[0],this.mn=t[1],this.Ort=t[2],this.ift=t[3]}cn(){this.zct=null}Dut(){return this.zct}Klt(){return this.Lct}Zc(){return this.mn}Tit(){return this.Ort}Uut(){return this.ift}}to.Jct=class{constructor(t,s){this.rft=s,this.nft=[],this.hft=new Map,to.Wlt.Act(this.nft,t,so,this);for(const e of this.nft)this.hft.set(e.Zc(),e)}cn(){this.rft=null;for(const t of this.nft)t.cn();to.Lh(this.nft),this.nft=null}oft(){return this.rft}kut(){return this.nft.length}Yut(){return this.nft}mct(t){return this.hft.get(t)}*tft(){for(const t of this.nft)yield t}}}{const eo=self.Bs;eo.aft=class extends eo.an{constructor(t){super(),this.lft=t,this.uft=[],this.uft.push(eo.un(eo.cft,this)),this.Xg=0,this.fft=this.uft[0]}cn(){for(const t of this.uft)t.cn();eo.Lh(this.uft),this.fft=null,this.lft=null}OB(){return this.lft}VO(){return this.fft}dft(){return this.uft[this.Xg-1]}tc(){this.VO().tc()}pft(){const t=this.uft,s=++this.Xg;if(s===t.length){const e=eo.un(eo.cft,this);t.push(e),this.fft=e}else{const i=t[s];i.l0(),this.fft=i}}mft(){const t=this.uft,s=++this.Xg,e=(s===t.length&&t.push(eo.un(eo.cft,this)),t[s]);e.C0(t[s-1]),this.fft=e}sj(){this.fft=this.uft[--this.Xg]}gft(e){const i=this.uft;for(let t=0,s=i.length;t<s;++t)i[t].gft(e)}}}{const io=self.Bs;io.cft=class extends io.an{constructor(t){super(),this.uft=t,this.lft=this.uft.OB(),this.yft=this.lft.YD().Ik(),this.Sft=!0,this.W7=[],this.wft=[]}cn(){this.bft(),this.uft=null,this.lft=null,this.yft=null}bft(){io.Lh(this.W7),io.Lh(this.wft)}OB(){return this.lft}vft(){return this.Sft}xft(){return this.Sft?!!this.lft.zO():!!this.W7.length}jO(){return this.Sft?this.lft.jO():this.W7}Mft(){return!!this.wft.length}Tft(){return this.wft}Gft(){const t=this.jO();return t.length?t:this.wft}l0(){this.Sft=!0,io.Lh(this.wft)}tc(){this.Sft=!0}C0(t){t.vft()?this.l0():(this.Sft=!1,io.Uh(this.W7,t.W7),io.Lh(this.wft))}_ft(t){this.W7.push(t)}Ift(t){this.wft.push(t)}Cft(t){this.Sft=!!t}Rft(){return this.W7}Eft(){return this.wft}Fft(t){this.Sft=!1,io.Lh(this.W7),this.W7.push(t)}Pft(t){this.Sft=!1,io.Uh(this.W7,t)}Aft(t){this.Sft=!1,io.Lh(this.W7);for(const s of t)this.W7.push(s)}kft(t,s){for(const e of s)t.has(e)||this.wft.push(e)}Dft(t){for(const s of t)this.W7.push(s);io.Jh(this.wft,t)}Oft(){io.Lh(this.wft)}Lft(t){if(t)if(this.yft.j8().bk().Bft()){this.vft()&&(io.Lh(this.W7),io.Uh(this.wft,t.OB().jO()),this.Sft=!1);const s=this.wft.indexOf(t);-1!==s&&(this.W7.push(this.wft[s]),this.wft.splice(s,1))}else this.Fft(t)}gft(t){io.Jh(this.W7,t),io.Jh(this.wft,t)}}}{const ro=self.Bs;ro.Nft=class extends ro.an{constructor(t){super(),this.Wft=t,this.lf=this.Wft.YD(),this.uft=[],this.uft.push(ro.un(ro.Uft,this,null)),this.Xg=0,this.jft=[]}cn(){for(const t of this.uft)t.cn();ro.Lh(this.uft),ro.Lh(this.jft),this.Wft=null,this.lf=null}pk(){return this.Wft}YD(){return this.lf}j8(){return this.uft[this.Xg]}Vft(){return this.uft}Hft(){return this.Xg}V8(t){const s=this.uft,e=++this.Xg;if(e===s.length){const i=ro.un(ro.Uft,this,t);return s.push(i),i}{const r=s[e];return r.l0(t),r}}sj(){--this.Xg}zft(t){this.jft.push(t)}Jft(){this.jft.pop()}_k(){const t=this.jft;return 0===t.length?null:t.at(-1)}}}{const no=self.Bs;no.Uft=class extends no.an{constructor(t,s){super(),this.uft=t,this.lf=this.uft.YD(),this.qft=s,this.$ft=0,this.Xft=0,this.Yft=!1,this.Kft=!1,this.Zft=null,this.Qft=0,this.t0t=0,this.s0t=null}cn(){this.l0(null),this.uft=null,this.lf=null}l0(t){this.qft=t,this.$ft=0,this.Xft=0,this.Yft=!1,this.Kft=!1,this.s0t=null}e0t(t,s){this.qft=t,this.$ft=0,this.Xft=s}i0t(){this.$ft=0,this.Xft=0}bk(){return this.qft}r0t(t){this.qft=t}n0t(){return this.$ft}h0t(t){this.$ft=t}o0t(){return this.Xft}a0t(t){this.Xft=t}l0t(t){this.Yft=!!t}u0t(){return this.Yft}c0t(t){this.Kft=!!t}f0t(){return this.Kft}d0t(t){this.Zft=t}p0t(){return this.Zft}m0t(t,s){this.Qft=t,this.t0t=s}Ck(){return this.Qft}Rk(t){this.t0t=t}g0t(){return this.t0t}y0t(){const t=this.qft;return!!t.S0t()||this.$ft<t.w0t()-1&&!!t.U8().length}b0t(t){this.s0t=t}v0t(){return this.s0t}}}{const ho=self.Bs;ho.x0t=class extends ho.an{constructor(t){super(),this.Wft=t,this.lf=this.Wft.YD(),this.uft=[],this.Xg=-1,this.fft=null,this.M0t=[]}cn(){ho.Lh(this.uft),this.Wft=null,this.lf=null}T0t(t){this.M0t=t;const s=this.M0t.slice(0);this.uft.push(s),this.Xg=0,this.fft=s}pk(){return this.Wft}YD(){return this.lf}G0t(){return this.fft}V8(){const t=++this.Xg,s=this.uft;t===s.length?s.push(this.M0t.slice(0)):ho.Uh(s[t],this.M0t),this.fft=s[t]}sj(){this.fft=this.uft[--this.Xg]}}}{const oo=self.Bs;oo._0t=class extends oo.an{constructor(t){super(),this.Wft=t,this.lf=this.Wft.YD(),this.uft=[],this.Xg=-1}cn(){oo.Lh(this.uft),this.Wft=null,this.lf=null}pk(){return this.Wft}YD(){return this.lf}I0t(){return 0<=this.Xg}G0t(){return this.uft[this.Xg]}V8(){if(++this.Xg,this.Xg===this.uft.length){const t=oo.un(oo.C0t,this);return this.uft.push(t),t}{const s=this.uft[this.Xg];return s.l0(),s}}sj(){--this.Xg}R0t(s){const e=this.uft;for(let t=this.Xg;0<=t;--t){const i=e[t];if(i.Zc()===s)return i}return null}E0t(){return this.uft.slice(0,this.Xg+1)}}}{const ao=self.Bs;ao.C0t=class extends ao.an{constructor(t){super(),this.F0t=t,this.mn="",this.Xg=0,this.P0t=!1,this.A0t=NaN}l0(){this.mn="",this.Xg=0,this.P0t=!1,this.A0t=NaN}z8(t){this.mn=t}Zc(){return this.mn}Z8(t){this.Xg=t}DA(){return this.Xg}IW(){this.P0t=!0}tj(){return this.P0t}k0t(t){this.A0t=t}D0t(){return this.A0t}}}{const lo=self.Bs;lo.O0t=class extends lo.an{constructor(){super(),this.uft=[],this.Xg=-1}cn(){lo.Lh(this.uft)}G0t(){return this.uft[this.Xg]}V8(){if(++this.Xg,this.Xg!==this.uft.length)return this.uft[this.Xg];{const t=[];return this.uft.push(t),t}}sj(){--this.Xg}}}{let t=function(t,s){return t.DA()-s.DA()},n=function(e,i){for(let t=0,s=e.length;t<s;++t)if(e[t]!==i[t])return!1;return!0};t,n;const uo=self.Bs;uo.L0t=class extends uo.an{constructor(t){super(),this.lf=t,this.B0t=[],this.N0t=new Map,this.W0t=[],this.U0t=new Map,this.j0t=new Map,this.V0t=new Map,this.H0t=new Map,this.z0t=new Map,this.J0t=new Map,this.q0t=0,this.$0t=[],this.X0t=[],this.Y0t=[],this.K0t=new Map,this.Z0t=new Map,this.yft=uo.un(uo.Nft,this),this.Q0t=uo.un(uo.x0t,this),this.F0t=uo.un(uo._0t,this),this.tdt=[],this.sdt=[],this.edt=[],this.idt=0,this.rdt=0,this.ndt=0,this.hdt=[],this.odt=[],this.adt=[],this.ldt=new Map,this.udt=new Map,self.c3_callFunction=(t,s)=>this.cdt(t,s)}cn(){this.bX(),this.yft.cn(),this.yft=null,this.Q0t.cn(),this.Q0t=null,uo.Lh(this.sdt),uo.Lh(this.edt),this.lf=null,uo.Lh(this.B0t),this.N0t.clear()}wM(t){const s=uo.un(uo.fdt,this,t);this.B0t.push(s),this.N0t.set(s.Zc().toLowerCase(),s)}ddt(t){this.tdt.push(t)}pdt(){for(const t of this.Z0t.values())t.mdt();for(const s of this.K0t.values())s.pdt();for(const e of this.Z0t.values())e.pdt();for(const i of this.B0t)i.pdt();for(const r of this.B0t)r.W$();for(const n of this.tdt)n.pdt(!1);uo.Lh(this.tdt),this.Q0t.T0t(this.Y0t)}YD(){return this.lf}N$(t){return this.N0t.get(t.toLowerCase())||null}gdt(t){this.W0t.push(t),this.U0t.set(t.ydt(),t)}Sdt(t){this.j0t.set(t.t9(),t)}wdt(t){this.V0t.set(t.t9(),t)}bdt(t){this.H0t.set(t.t9(),t)}vdt(t){switch(t.xdt()){case 0:this.K0t.set(t.Mdt().toLowerCase(),t);break;case 1:this.Z0t.set(t.Mdt().toLowerCase(),t)}}Tdt(t){this.J0t.set(t.t9(),t),(t.Fz()?this.$0t:this.X0t).push(t)}Gdt(e){2<=e.length&&e.sort(t);let i=this.z0t.get(e.length);i||(i=[],this.z0t.set(e.length,i));for(let t=0,s=i.length;t<s;++t){const r=i[t];if(n(e,r))return r}return i.push(e),e}_dt(t){return this.Y0t.push(t.Idt()),this.q0t++}Ik(){return this.yft}Cdt(){return this.Ik().j8()}bk(){return this.Cdt().bk()}Rdt(){const t=this.Cdt(),s=t.bk();return s.Edt(t.n0t())}Fdt(){const t=this.Cdt(),s=t.bk();return s.Pdt(t.o0t())}Adt(){return this.Q0t}H8(){return this.F0t}kdt(t){const s=[];for(t=t.Ddt();t;)uo.Yr(s,t.Odt()),t=t.Ddt();return s}Ldt(t){const s={};for(const e of this.kdt(t))s[e.Bdt()]=e.Ndt();return Object.create(Object.prototype,s)}Wdt(t){return this.J0t.get(t)||null}Udt(t){return this.j0t.get(t)||null}jdt(t){return this.V0t.get(t)||null}Vdt(t){return this.H0t.get(t)||null}mk(t){return this.K0t.get(t.toLowerCase())||null}Hdt(t,s){let e=this.Z0t.get((t.Zc()+"."+s).toLowerCase());if(e)return e;if(!t.Jz())for(const i of t.zdt())if(e=this.Z0t.get((i.Zc()+"."+s).toLowerCase()))return e;return null}Jdt(){return this.$0t}qdt(){return this.X0t}$dt(t){for(const s of this.$0t)s.Xdt();if(t)for(const e of this.X0t)e.xx()&&e.Xdt()}Ydt(t){return this.U0t.get(t.toLowerCase())||null}Kdt(t){const s=this.j0t.get(t);return s&&s.Zdt()?s:null}Qdt(){return this.W0t}t1t(){for(const t of this.W0t)t.s1t()}e1t(){for(const t of this.B0t)t.i1t()}r1t(t){this.e1t(),this.idt++;for(const s of t.rY()){const e=s.d$();e&&(this.lf.n1t(s),e.B_(),this.lf.h1t())}this.idt--}async o1t(t){this.e1t(),this.idt++;for(const s of this.a1t(t))await this.lf.l1t(s);this.idt--}*a1t(t){for(const s of t.rY()){const e=s.d$();e&&(this.lf.n1t(s),yield*e.u1t(),this.lf.h1t())}}c1t(t,s,e,i){let r=!1;if(!t.oD())return this.f1t(s,e,i);this.rdt++;for(const n of t.rY()){const h=n.d$();if(h){this.lf.n1t(n);for(const a of h.d1t()){const l=a.c1t(s,e,i);r=r||l}const o=h.c1t(s,e,i);r=r||o,this.lf.h1t()}}return this.rdt--,r}*p1t(t,s,e,i){let r=!1;if(!t.oD())return this.f1t(s,e,i);this.rdt++;for(const n of t.rY()){const h=n.d$();if(h){this.lf.n1t(n);for(const a of h.d1t()){const l=yield*a.p1t(s,e,i);r=r||l}const o=yield*h.p1t(s,e,i);r=r||o,this.lf.h1t()}}return this.rdt--,r}f1t(t,s,e){return this.sdt.push([t,s,e]),!1}m1t(t,s,e){let i=null,r=new Promise(t=>i=t);return this.edt.push([t,s,e,i]),r}*g1t(){if(this.lf.y1t())throw new Error("should not be in breakpoint");const t=this.lf.uD();for(;this.edt.length;){const[s,e,i,r]=this.edt.shift(),n=yield*this.p1t(t,s,e,i);r(n)}}async S1t(){for(const t of this.g1t())await this.lf.l1t(t)}w1t(t,e,i,r){let n=!1,s=t.oD(),h=s.d$();if(h){this.rdt++,this.lf.n1t(s);const o=h.d1t();for(let t=0,s=o.length;t<s;++t){const l=o[t].w1t(e,i,r);n=n||l}const a=h.w1t(e,i,r);return n=n||a,this.lf.h1t(),this.rdt--,n}}*b1t(t,e,i,r){let n=!1,s=t.oD(),h=s.d$();if(h){this.rdt++,this.lf.n1t(s);const o=h.d1t();for(let t=0,s=o.length;t<s;++t){const l=yield*o[t].b1t(e,i,r);n=n||l}const a=yield*h.b1t(e,i,r);return n=n||a,this.lf.h1t(),this.rdt--,n}}v1t(){return this.rdt}x1t(){return 0<this.v1t()}M1t(){return++this.rdt}T1t(){--this.rdt}G1t(){return 0<this.idt}KO(){return this.G1t()||this.x1t()}lX(t){for(const[s,e,i]of this.sdt)this.c1t(t,s,e,i);uo.Lh(this.sdt)}XO(t){t?this.ndt++:this.ndt--}HB(){return 0<this.ndt}_1t(e){for(let t=0,s=e.length;t<s;++t)e[t].I1t().tc()}C1t(e){for(let t=0,s=e.length;t<s;++t)e[t].I1t().pft()}X8(e){for(let t=0,s=e.length;t<s;++t)e[t].I1t().mft()}K8(e){for(let t=0,s=e.length;t<s;++t)e[t].I1t().sj()}vk(s){const e=new Set,i=this.yft.Vft(),r=this.yft.Hft();for(let t=0;t<=r;++t){const n=i[t].v0t();if(n)for(const h of n)s&&s.has(h)||e.add(h)}return e}R1t(t){const s=new Set([...t]),e=this.vk(s);if(0<e.size){for(const i of e)i.I1t().pft();return[...e]}return null}E1t(){const t=uo.un(uo.F1t,this);return this.hdt.push(t),t}P1t(){return this.hdt}A1t(){if(this.hdt.length){let e=this.Cdt(),i=!1;this.idt++;for(let t=0,s=this.hdt.length;t<s;++t){const r=this.hdt[t];r.k1t()&&r.D1t(e),r.O1t()&&(i=!0)}i&&(this.L1t(),e.l0(null)),this.idt--}}async B1t(){if(this.hdt.length){let e=this.Cdt(),i=!1;this.idt++;for(let t=0,s=this.hdt.length;t<s;++t){const r=this.hdt[t];r.k1t()&&await r.N1t(e),r.O1t()&&(i=!0)}i&&(this.L1t(),e.l0(null)),this.idt--}}L1t(){const t=uo.zh(this.hdt,t=>t.O1t());for(const s of t)s.cn()}bX(){for(const t of this.hdt)t.cn();uo.Lh(this.hdt)}W1t(t){for(const s of this.hdt)s.gft(t);for(const e of t){const i=this.udt.get(e);if(this.udt.delete(e),i)for(const{resolve:r}of i.U1t.values())r(!0)}}j1t(t){this.odt.push({promise:t,V1t:this.v1t()})}H1t(){uo.Lh(this.odt)}z1t(){const s=this.v1t();this.odt=this.odt.filter(t=>t.V1t<=s)}J1t(){const t=Promise.all(this.odt.map(t=>t.promise));return this.odt=[],t}Ek(t){const s=t.toLowerCase();this.adt.push(s),this.lf.vN(uo.aX.hX.nX.q1t,null),this.adt.pop();for(const i of this.lf.pk().P1t())i.$1t()&&i.X1t()===s&&i.Y1t();const e=this.ldt.get(s);e&&(e.resolve(),this.ldt.delete(s))}Pk(t){const e=t.toLowerCase(),s=this.ldt.get(e);if(s)return s.promise;{let s=null,t=new Promise(t=>s=t);return this.ldt.set(e,{promise:t,resolve:s}),t}}K1t(){if(0===this.adt.length)throw new Error("not in a signal");return this.adt.at(-1)}Z1t(t){let s=this.udt.get(t);return s||(s={Q1t:[],U1t:new Map},this.udt.set(t,s)),s}oN(t,s){const e=this.Z1t(t),i=s.toLowerCase();e.Q1t.push(i),this.lf.vN(t.FO().spt().nX.tpt,t),e.Q1t.pop();for(const n of this.lf.pk().P1t())n.ept()&&n.X1t()===i&&n.ipt(t);const r=e.U1t.get(i);r&&(r.resolve(!1),e.U1t.delete(i)),0===e.Q1t.length&&0===e.U1t.size&&this.udt.delete(t)}aN(t,s){const e=this.Z1t(t),i=s.toLowerCase(),r=e.U1t.get(i);if(r)return r.promise;{let s=null,t=new Promise(t=>s=t);return e.U1t.set(i,{promise:t,resolve:s}),t}}rpt(t){const s=this.Z1t(t);if(s&&0!==s.Q1t.length)return s.Q1t.at(-1);throw new Error("not in a signal")}Sq(){return{groups:this.npt(),cnds:this.hpt(),acts:this.opt(),vars:this.apt(),waits:this.lpt()}}wq(t){this.upt(t.groups),this.cpt(t.cnds),this.fpt(t.acts),this.dpt(t.vars),this.ppt(t.waits)}npt(){const t={};for(const s of this.Qdt())t[s.t9().toString()]=s.mpt();return t}upt(t){for(const[s,e]of Object.entries(t)){const i=parseInt(s,10),r=this.Kdt(i);r&&r.gpt(e)}}hpt(){const t={};for(const[s,e]of this.V0t){const i=e.Sq();i&&(t[s.toString()]=i)}return t}cpt(t){const s=new Map;for(const[e,i]of Object.entries(t))s.set(parseInt(e,10),i);for(const[r,n]of this.V0t)n.wq(s.get(r)||null)}opt(){const t={};for(const[s,e]of this.H0t){const i=e.Sq();i&&(t[s.toString()]=i)}return t}fpt(t){const s=new Map;for(const[e,i]of Object.entries(t))s.set(parseInt(e,10),i);for(const[r,n]of this.H0t)n.wq(s.get(r)||null)}apt(){const t={};for(const[s,e]of this.J0t)e.ypt()||!e.Fz()&&!e.xx()||(t[s.toString()]=e.Tit());return t}dpt(t){for(const[s,e]of Object.entries(t)){const i=parseInt(s,10),r=this.Wdt(i);r&&r.hrt(e)}}lpt(){return this.hdt.filter(t=>!t.Spt()).map(t=>t.Sq())}ppt(t){this.bX();for(const s of t){const e=uo.F1t.wpt(this,s);e&&this.hdt.push(e)}}bpt(){return[...this.lf.uD().rY()].map(t=>t.d$()).filter(t=>t).map(t=>t.vpt())}xpt(t){for(;t;){const s=t.Ddt();if(s instanceof uo.Mpt)return s;t=s}return null}cdt(t,s){Array.isArray(s)||(s=[]);const e=this.mk(t.toLowerCase());if(!e)return null;if(!e.Ku())return e.gk();const i=e.Tpt();if(s.length<i.length)for(s=s.slice(0);s.push(i[s.length].Idt()),s.length<i.length;);const r=e.Sk();return r.xk(r.wk(),!1,e.Tk(),e.gk(),...s)}}}{const co=self.Bs;co.fdt=class extends co.an{constructor(t,s){super(),this.Wft=t,this.lf=t.YD(),this.mn=s[0],this.Gpt=[],this._pt=new Map,this.Ipt=new Map,this.Cpt=new Map,this.Rpt=!1,this.Ept=[],this.Fpt=[],this.Ppt=new Set;for(const e of s[1])this.Apt(e,null,this.Gpt);this.kpt=this.lf.NX()?{type:"sheet",name:this.mn,Dpt:0,children:[]}:null}cn(){this.Wft=null,this.lf=null}Apt(t,s,e){switch(t[0]){case 0:case 3:this.Opt(t,s,e);break;case 1:this.Lpt(t,s,e);break;case 2:this.Bpt(t,s,e);break;case 4:this.Npt(t,s);break;case 5:this.Wpt(t,s,e);break;case 6:this.Upt(t,s);break;default:throw new Error("invalid event type")}}Opt(t,s,e){const i=co.jpt.wM(this,s,t);if(i.Bft()){e.push(i);const r=i.Vpt();for(let t=0,s=r.length;t<s;++t)r[t].Hpt()&&this.zpt(i,t)}else i.Hpt()?this.zpt(i,0):e.push(i)}Npt(t,s){const e=co.Mpt.Jpt(this,s,t);this.Wft.vdt(e)}Upt(t,s){const e=co.Mpt.qpt(this,s,t);this.Wft.vdt(e)}Lpt(t,s,e){const i=co.$pt.wM(this,s,t);e.push(i)}Bpt(t,s,e){const i=co.Xpt.wM(this,s,t);e.push(i)}Wpt(t,s,e){const i=co.Ypt.wM(this,s,t);e.push(i)}zpt(r,n){r.Bft()||this.Wft.ddt(r);const h=r.Edt(n),o=h.Kpt(),a=h.OB();if(h.Zpt()){let t=this.Ipt.get(a),s=(t||(t=new Map,this.Ipt.set(a,t)),h.Qpt().toLowerCase()),e=t.get(o),i=(e||(e=new Map,t.set(o,e)),e.get(s));i||(i=[],e.set(s,i)),i.push([r,n])}else{let t=this._pt.get(a),s=(t||(t={tmt:new Map,smt:new Map},this._pt.set(a,t)),h.F6()),e,i=(s?(e=t.smt.get(s))||(e=new Map,t.smt.set(s,e)):e=t.tmt,e.get(o));i||(i=[],e.set(o,i)),i.push([r,n])}}pdt(){const e=this.Gpt;for(let t=0,s=e.length;t<s;++t){const i=t<s-1&&e[t+1]instanceof co.jpt&&e[t+1].emt();e[t].pdt(i)}}imt(t){this.Ept.push(t)}W$(){co.Lh(this.Fpt),this.rmt(this),this.Ppt.clear()}rmt(t){const s=t.Fpt,e=t.Ppt;for(const i of this.Ept){const r=i.nmt();i.hmt()&&t!==r&&!e.has(r)&&(e.add(r),r.rmt(t),s.push(r))}}d1t(){return this.Fpt}pk(){return this.Wft}YD(){return this.lf}Zc(){return this.mn}omt(t,s){this.Cpt.set(s,t)}amt(t){return this.Cpt.get(t)||null}i1t(){this.Rpt=!1}B_(){if(!this.Rpt){const t=this.lf,s=t.lmt(),e=s?performance.now():0,i=(this.Rpt=!0,this.pk()),r=i.Cdt();for(const n of this.Gpt)n.B_(r),i._1t(n.U8()),i.H1t(),t.QO();r.l0(null),s&&(this.kpt.Dpt+=performance.now()-e)}}*u1t(){if(!this.Rpt){this.Rpt=!0;const t=this.lf,s=this.pk(),e=s.Cdt();for(const i of this.Gpt)yield*i.u1t(e),s._1t(i.U8()),s.H1t(),t.QO();e.l0(null)}}c1t(i,r,n){if(!r)return this.umt(i,r,null,null);{let t=r.OB(),s=!1,e=this.umt(i,r,t,n);s=s||e;for(const h of t.zdt())e=this.umt(i,r,h,n),s=s||e}}umt(t,s,e,i){const r=this._pt.get(e);if(!r)return!1;const n=i?r.smt.get(i):r.tmt;if(!n)return!1;const h=n.get(t);if(!h)return!1;let o=!1;for(const[a,l]of h){const u=this.cmt(s,a,l);o=o||u}return o}*p1t(i,r,n){if(!r)return yield*this.fmt(i,r,null,null);{let t=r.OB(),s=!1,e=yield*this.fmt(i,r,t,n);s=s||e;for(const h of t.zdt())e=yield*this.fmt(i,r,h,n),s=s||e}}*fmt(t,s,e,i){const r=this._pt.get(e);if(!r)return!1;const n=i?r.smt.get(i):r.tmt;if(!n)return!1;const h=n.get(t);if(!h)return!1;let o=!1;for(const[a,l]of h){let t;t=a.dmt()?this.cmt(s,a,l):yield*this.pmt(s,a,l),o=o||t}return o}w1t(t,s,e){const i=s.OB(),r=this.Ipt.get(i);if(!r)return!1;const n=r.get(t);if(!n)return!1;const h=n.get(e);if(!h)return!1;let o=!1;for(let t=0,s=h.length;t<s;++t){const a=h[t],l=this.cmt(null,a[0],a[1]);o=o||l}return o}*b1t(t,s,e){const i=s.OB(),r=this.Ipt.get(i);if(!r)return!1;const n=r.get(t);if(!n)return!1;const h=n.get(e);if(!h)return!1;let o=!1;for(let r=0,t=h.length;r<t;++r){let t=h[r],s=t[0],e=t[1],i;i=s.dmt()?this.cmt(null,s,e):yield*this.pmt(null,s,e),o=o||i}return o}cmt(t,s,e){let i=this.lf,r=this.Wft,n=r.bk(),h=r.Ik(),o=r.v1t(),a=!1;n&&r.C1t(n.wk()),r.C1t(s.wk());const l=1<o,u=(l&&r.Adt().V8(),h.V8(s));if(t){const f=s.Vpt()[e].OB(),d=f.VO();d.Fft(t),t.$B()&&t.mmt()}let c=!0;if(s.G4()){const p=s.gmt();for(let t=0,s=p.length;t<s;++t)if(!p[t].ymt(u)){c=!1;break}}return c&&(s.Bft()?s.Smt(u,e):s.B_(u),a=u.u0t()),h.sj(),l&&r.Adt().sj(),r.K8(s.wk()),n&&r.K8(n.wk()),n||1!==o||(r.H1t(),r.HB())||i.QO(),a}*pmt(t,s,e){let i=this.lf,r=this.Wft,n=r.bk(),h=r.Ik(),o=r.v1t(),a=!1;n&&r.C1t(n.wk()),r.C1t(s.wk());const l=1<o,u=(l&&r.Adt().V8(),h.V8(s));if(t){const f=s.Vpt()[e].OB(),d=f.VO();d.Fft(t),t.$B()&&t.mmt()}let c=!0;if(s.G4()){const p=s.gmt();for(let t=0,s=p.length;t<s;++t)if(!(yield*p[t].wmt(u))){c=!1;break}}return c&&(s.Bft()?yield*s.bmt(u,e):yield*s.u1t(u),a=u.u0t()),h.sj(),l&&r.Adt().sj(),r.K8(s.wk()),n&&r.K8(n.wk()),n||1!==o||(r.H1t(),r.HB())||i.QO(),a}vpt(){return this.kpt}}}{let u=function(t,s){return!0};u;const fo=self.Bs,po=[];function*N(t,s){return!0}fo.jpt=class extends fo.an{constructor(t,s,e){super(),this.Pq=t,this.lf=t.YD(),this.vmt=s,this.xmt=null,this.yft=this.lf.pk().Ik(),this.Mmt=[],this.Tmt=[],this.Gmt=!1,this._mt=!1,this.Imt=!1,this.Cmt=!1,this.Rmt=!!e[2],this.Emt=!1,this.Fmt=null,this.Pmt=[],this.Wrt=[],this.Amt=[],this.kmt=u,this.Dmt=N,this.Omt=!1,this.Lmt=!1,this.Bmt="",this.Nmt=!1,this.Wmt=null,this.kpt=null,this.wH=e[4],this.Umt=e[5],this.Pq.omt(this,this.Umt),this.jmt=this.lf.NX()?{Vmt:e[3][0],Hmt:e[3][1],zmt:!1,Jmt:!1,qmt:!1,$mt:!1}:null,this.pk().Sdt(this),3===e[0]&&this.Xmt(e[1]);let i=0;for(const r of e[6]){const n=fo.Ymt.wM(this,r,i++);this.Pmt.push(n),this.Kmt(n.OB())}i=0;for(const h of e[7]){const o=fo.Zmt.wM(this,h,i++);this.Wrt.push(o)}if(9===e.length){const a=e[8];for(const l of a)this.Pq.Apt(l,this,this.Amt)}this.Pmt.length&&(this.Emt=null===this.Pmt[0].OB()&&this.Pmt[0].Kpt()===fo.aX.hX.nX.Qmt),0===this.Pmt.length&&(this.Pmt=po),0===this.Wrt.length&&(this.Wrt=po),0===this.Amt.length&&(this.Amt=po)}static wM(t,s,e){return fo.un(fo.jpt,t,s,e)}Xmt(t){this.Omt=!0,this.Lmt=!!t[0],this.Nmt=this.Lmt,this.Bmt=t[1].toLowerCase(),this.Wmt=[],this.pk().gdt(this),this.lf.NX()&&(this.kpt={type:"group",name:t[1],Dpt:0,children:[]})}tgt(t){this.Wmt.push(t)}sgt(t,s){for(const e of t._$().fX())s.includes(e)||s.push(e)}egt(t,s){if(t)if(s.includes(t)||s.push(t),t.Jz())for(const e of t.igt())e.$B()&&this.sgt(e,s);else t.$B()&&this.sgt(t,s)}Kmt(t){this.egt(t,this.Mmt)}rgt(t){this.egt(t,this.Tmt)}ngt(){this.Mmt=this.lf.zz()}pdt(t){this.Cmt=!!t,this.hgt(),this.ogt();for(const s of this.Pmt)s.pdt();if(0<this.Wrt.length){let t=!1;for(const i of this.Wrt)i.pdt(),i.agt()&&(t=!0);t?(this.kmt=this.lgt,this.Dmt=this.ugt):(this.kmt=this.cgt,this.Dmt=this.fgt)}const e=this.Amt;for(let t=0,s=e.length;t<s;++t){const r=t<s-1&&e[t+1]instanceof fo.jpt&&e[t+1].emt();e[t].pdt(r)}this.jmt&&this.dgt(),this.kpt&&this.pgt().vpt().children.push(this.kpt)}vpt(){return this.kpt}pgt(){let t=this.G4();for(;t;){if(t.Zdt())return t;t=t.G4()}return this.Pq}dgt(){const t=this.jmt;t.zmt=this.Pmt.every(t=>t.dmt()),t.Jmt=this.Wrt.every(t=>t.dmt()),t.qmt=this.Amt.every(t=>t.dmt()),t.$mt=t.zmt&&t.Jmt&&t.qmt}mgt(){let t=this;for(;t.dgt(),t=t.G4(););}hgt(){if(this.Zdt()){let t=this.G4();for(this.Imt=!0;t;){if(!t.Zdt()){this.Imt=!1;break}t=t.G4()}}}ggt(){const t=this.lf.zz();if(this.Mmt===t)this.Tmt=t;else{this.Tmt=fo.Xh(this.Mmt);let t=this.G4();for(;t;){for(const e of t.Mmt)this.rgt(e);t=t.G4()}const s=this.pk();this.Mmt=s.Gdt(this.Mmt),this.Tmt=s.Gdt(this.Tmt)}}ogt(){if(this.ygt()){this.Fmt=[];let t=this.G4();for(;t;)this.Fmt.push(t),t=t.G4();this.Fmt.reverse()}}Sgt(){this._mt=!0,this.vmt&&this.vmt.Sgt()}S0t(){return this._mt}U8(){return this.Mmt}wk(){return this.Gmt||(this.Gmt=!0,this.ggt()),this.Tmt}wgt(t){return this.Mmt.includes(t)}gmt(){return this.Fmt}d$(){return this.Pq}pk(){return this.Pq.pk()}YD(){return this.lf}G4(){return this.vmt}bgt(t){this.xmt=t}Ddt(){return this.xmt||this.vmt}vgt(){return this.Umt}xgt(){return this.jmt&&this.jmt.Hmt}Mgt(){return this.xgt()&&this.jmt.Vmt}Tgt(t){this.jmt.Vmt=!!t,this.mgt()}Zdt(){return this.Omt}Ggt(){return this.Imt}emt(){return this.Emt}_gt(){return this.Cmt}ydt(){return this.Bmt}mpt(){return this.Nmt}s1t(){this.gpt(this.Lmt)}gpt(t){if(t=!!t,!this.Omt)throw new Error("not a group");if(this.Nmt!==t){this.Nmt=t;for(const s of this.Wmt)s.Igt();if(this.Wmt.length){const e=this.lf.ID(),i=e.d$();i&&i.W$()}}}t9(){return this.wH}Bft(){return this.Rmt}Hpt(){return this.Pmt.length&&this.Pmt[0].Hpt()}Cgt(){return this.xmt&&this.xmt instanceof fo.Mpt}ygt(){return this.Cgt()||this.Pmt.some(t=>t.Hpt())}Vpt(){return this.Pmt}w0t(){return this.Pmt.length}Edt(t){if((t=Math.floor(t))<0||t>=this.Pmt.length)throw new RangeError("invalid condition index");return this.Pmt[t]}Rgt(t){return this.Edt(t)}Egt(t){let s=t.DA();if(0!==s){--s;const e=t.Fgt()?t.Pgt():t.OB();for(;0<=s;--s){const i=this.Pmt[s];if(e===i.OB()||i.Fgt()&&i.Pgt()===e)return!1}}return!0}Agt(){return this.Wrt}kgt(){return this.Wrt.length}Pdt(t){if((t=Math.floor(t))<0||t>=this.Wrt.length)throw new RangeError("invalid action index");return this.Wrt[t]}Dgt(s){s=Math.floor(s);const t=this.Wrt.find(t=>t.Ogt()===s);if(t)return t;throw new RangeError("invalid action debug index")}Lgt(t){return 0<=(t=Math.floor(t))&&t<this.Wrt.length}Bgt(){return this.Amt}Odt(){return this.Amt.filter(t=>t instanceof fo.$pt)}ymt(e){e.r0t(this);let i=this.Pmt,r=0===i.length;for(let t=0,s=i.length;t<s;++t){const n=i[t];if(e.h0t(t),n.H6())throw new Error("trigger cannot be used as sub-event to a loop");if(n.B_())r=!0;else if(!this.Rmt)return!1}return!this.Rmt||r}Smt(t,s){t.r0t(this),t.h0t(s),this.Pmt[s].B_()&&(this.kmt(t,0)&&this.Ngt(t),t.l0t(!0))}*wmt(e){e.r0t(this);let i=this.Pmt,r=0===i.length;for(let t=0,s=i.length;t<s;++t){const n=i[t];if(e.h0t(t),n.H6())throw new Error("trigger cannot be used as sub-event to a loop");if(n.dmt()?n.B_():yield*n.u1t())r=!0;else if(!this.Rmt)return!1}return!this.Rmt||r}*bmt(t,s){t.r0t(this),t.h0t(s);let e=this.Pmt[s];if(e.dmt()?e.B_():yield*e.u1t())(this.Wgt()?this.kmt(t,0):yield*this.Dmt(t,0))&&(this.Ugt()?this.Ngt():yield*this.jgt()),t.l0t(!0)}B_(t){t.r0t(this),this.Emt||t.c0t(!1),this.Rmt?this.Vgt(t):this.Hgt(t)}*u1t(t){(this.Mgt()||this.lf.zgt())&&(yield this),t.r0t(this),this.Emt||t.c0t(!1),this.Rmt?yield*this.Jgt(t):yield*this.qgt(t)}Vgt(e){let i=this.Pmt,r=0===i.length;for(let t=0,s=i.length;t<s;++t){const n=i[t];if(!n.Hpt()){e.h0t(t);const h=n.B_();r=r||h}}e.l0t(r),r&&(this.kmt(e,0)&&this.Ngt(e),this.Cmt)&&e.c0t(!0)}*Jgt(e){let i=this.Pmt,r=0===i.length;for(let s=0,t=i.length;s<t;++s){const n=i[s];if(!n.Hpt()){e.h0t(s);let t;t=n.dmt()?n.B_():yield*n.u1t(),r=r||t}}if(e.l0t(r),r)(this.Wgt()?this.kmt(e,0):yield*this.Dmt(e,0))&&(this.Ugt()?this.Ngt():yield*this.jgt()),this.Cmt&&e.c0t(!0)}Hgt(e){const i=this.Pmt;for(let t=0,s=i.length;t<s;++t){const r=i[t],n=(e.h0t(t),r.B_());if(!n)return void e.l0t(!1)}e.l0t(!0),this.kmt(e,0)&&this.Ngt(e),e.u0t()&&this.Cmt&&e.c0t(!0)}*qgt(e){const i=this.Pmt;for(let t=0,s=i.length;t<s;++t){const r=i[t];e.h0t(t);if(!(r.dmt()?r.B_():yield*r.u1t()))return void e.l0t(!1)}e.l0t(!0);(this.Wgt()?this.kmt(e,0):yield*this.Dmt(e,0))&&(this.Ugt()?this.Ngt():yield*this.jgt()),e.u0t()&&this.Cmt&&e.c0t(!0)}cgt(e,i){const r=this.Wrt;for(let t=i,s=r.length;t<s;++t){const n=r[t];e.a0t(t),n.B_()}return!0}*fgt(e,i){const r=this.Wrt;for(let t=i,s=r.length;t<s;++t){const n=r[t];e.a0t(t),n.dmt()?n.B_():yield*n.u1t()}return!0}lgt(e,i){const r=this.pk(),n=this.Wrt;for(let t=i,s=n.length;t<s;++t){const h=n[t],o=(e.a0t(t),h.B_());if(h.$gt()&&!0===o)return!1;h.Xgt()&&o instanceof Promise&&r.j1t(o)}return!0}*ugt(e,i){const r=this.pk(),n=this.Wrt;for(let s=i,t=n.length;s<t;++s){const h=n[s];e.a0t(s);let t;if(t=h.dmt()?h.B_():yield*h.u1t(),h.$gt()&&!0===t)return!1;h.Xgt()&&t instanceof Promise&&r.j1t(t)}return!0}Ygt(t){this.kmt(t,t.o0t())&&this.Ngt()}*Kgt(t){(yield*this.Dmt(t,t.o0t()))&&(yield*this.jgt())}Ngt(){if(this.Amt.length){const t=this.Zdt()&&this.lf.lmt(),s=t?performance.now():0,e=this.yft,i=e.V8(this);this._mt?this.Zgt(i):this.Qgt(i),e.sj(),t&&(this.kpt.Dpt+=performance.now()-s)}}Zgt(i){const r=this.Omt,n=this.Imt,h=this.pk(),o=this.Amt;for(let t=0,s=o.length,e=s-1;t<s;++t){const a=o[t],l=a.U8(),u=!n||!r&&t<e;u&&h.X8(l),a.B_(i),u?h.K8(l):h._1t(l)}}Qgt(e){const i=this.Amt;for(let t=0,s=i.length;t<s;++t)i[t].B_(e)}*jgt(){if(this.Amt.length){const t=this.yft,s=t.V8(this);this._mt?yield*this.tyt(s):yield*this.syt(s),t.sj()}}*tyt(i){const r=this.Omt,n=this.Imt,h=this.pk(),o=this.Amt;for(let t=0,s=o.length,e=s-1;t<s;++t){const a=o[t],l=a.U8(),u=!n||!r&&t<e;u&&h.X8(l),yield*a.u1t(i),u?h.K8(l):h._1t(l)}}*syt(e){const i=this.Amt;for(let t=0,s=i.length;t<s;++t)yield*i[t].u1t(e)}Y8(e,i){i.i0t();const r=this.Pmt;if(!this.Bft())for(let t=e.n0t()+1,s=r.length;t<s;++t){const n=r[t],h=(i.h0t(t),n.B_());if(!h)return!1}return this.kmt(i,0)&&this.Ngt(i),!0}*eyt(e,i){i.i0t();const r=this.Pmt;if(!this.Bft())for(let t=e.n0t()+1,s=r.length;t<s;++t){const n=r[t];i.h0t(t);if(!(n.dmt()?n.B_():yield*n.u1t()))return!1}return(this.Wgt()?this.kmt(i,0):yield*this.Dmt(i,0))&&(this.Ugt()?this.Ngt():yield*this.jgt()),!0}dmt(){return!this.Mgt()&&!this.lf.zgt()&&this.jmt.$mt}Wgt(){return!this.lf.zgt()&&this.jmt.Jmt}Ugt(){return!this.lf.zgt()&&this.jmt.qmt}iyt(e){if(this.G4()){const i=this.gmt();for(let t=0,s=i.length;t<s;++t)if(!i[t].ymt(e))return!1}return!0}*ryt(e){if(this.G4()){const i=this.gmt();for(let t=0,s=i.length;t<s;++t)if(!(yield*i[t].wmt(e)))return!1}return!0}nyt(t,s,e){if(0<s.length)if(e){const i=s.map(t=>t.re(0));t.Adt().V8(),this.xmt.hyt(i)}else this.xmt.oyt(s);else e&&t.Adt().V8()}ayt(t,s,e,i){let r,n,h=0<t.length,o=null,a=this.lf,l=this.yft,u=a.pk(),c=this.xmt,f=c.Xgt(),d=u.M1t(),p=1<d;if(this.nyt(u,s,p),h&&(e?u.X8(t):u.C1t(t)),null!==i){if(i.lyt){const g=e?i.lyt.VO():i.lyt.I1t().dft(),y=i.uyt.VO();y.Pft(g.jO()),y.Oft(),e||i.uyt.cyt()}else if(i.fyt){const S=i.fyt.VO();S.Pft(i.dyt),S.Oft()}i.pyt&&(o=u.R1t(t))}const m=l.V8(this);return e&&m.b0t(t),this.iyt(m)&&(m.r0t(this),f&&([n,r]=c.myt()),this.Hgt(m),f)&&c.gyt(n),l.sj(),p&&u.Adt().sj(),null!==o&&u.K8(o),h&&u.K8(t),u.T1t(),f||u.z1t(),r}*yyt(t,s,e,i){let r,n,h=((this.Mgt()||this.lf.zgt())&&(yield this),0<t.length),o=null,a=this.lf,l=this.yft,u=a.pk(),c=this.xmt,f=c.Xgt(),d=u.M1t(),p=1<d;if(this.nyt(u,s,p),h&&(e?u.X8(t):u.C1t(t)),null!==i){if(i.lyt){const g=e?i.lyt.VO():i.lyt.I1t().dft(),y=i.uyt.VO();y.Pft(g.jO()),y.Oft(),e||i.uyt.cyt()}else if(i.fyt){const S=i.fyt.VO();S.Pft(i.dyt),S.Oft()}i.pyt&&(o=u.R1t(t))}const m=l.V8(this);return e&&m.b0t(t),(yield*this.ryt(m))&&(m.r0t(this),f&&([n,r]=c.myt()),yield*this.qgt(m),f)&&c.gyt(n),l.sj(),p&&u.Adt().sj(),null!==o&&u.K8(o),h&&u.K8(t),u.T1t(),f||u.z1t(),r}Syt(t,s){const e=this.wk(),i=0<e.length,r=this.lf,n=this.yft,h=r.pk(),o=h.M1t(),a=1<o,l=(a&&h.Adt().V8(),this.xmt.hyt(t),i&&(s?h.X8(e):h.C1t(e)),n.V8(this));this.iyt(l)&&(l.r0t(this),this.Hgt(l)),n.sj(),a&&h.Adt().sj(),i&&h.K8(e),h.T1t(),h.z1t()}*wyt(t,s){(this.Mgt()||this.lf.zgt())&&(yield this);const e=this.wk(),i=0<e.length,r=this.lf,n=this.yft,h=r.pk(),o=h.M1t(),a=1<o,l=(a&&h.Adt().V8(),this.xmt.hyt(t),i&&(s?h.X8(e):h.C1t(e)),n.V8(this));(yield*this.ryt(l))&&(l.r0t(this),yield*this.qgt(l)),n.sj(),a&&h.Adt().sj(),i&&h.K8(e),h.T1t(),h.z1t()}xk(t,s,e,i,...r){let n,h,o=0<t.length,a=this.lf,l=this.yft,u=a.pk(),c=this.xmt,f=c.Xgt(),d=u.M1t(),p=1<d,m=(p&&u.Adt().V8(),0<r.length&&this.xmt.hyt(r),o&&(s?u.X8(t):u.C1t(t)),l.V8(this));return m.m0t(e,i),l.zft(m),a.J8(!1),this.iyt(m)&&(m.r0t(this),f&&([h,n]=c.myt()),this.Hgt(m),f)&&c.gyt(h),a.J8(!0),l.sj(),l.Jft(),p&&u.Adt().sj(),o&&u.K8(t),u.T1t(),f||u.z1t(),n||m.g0t()}}}{let i=self.Bs,t=[],s=!1;i.Ypt=class extends i.an{constructor(t,s,e){super();const i=t.YD(),r=t.pk(),n=(this.Pq=t,this.Wft=r,this.lf=t.YD(),this.vmt=s,i.byt(e[1]));this.vyt=n,this.Umt=e[2],this.Pq.omt(this,this.Umt),this.jmt=i.NX()?{Vmt:e[3][0],Hmt:e[3][1]}:null}static wM(t,s,e){return i.un(i.Ypt,t,s,e)}pdt(){const t=this.vyt,s=this.lf.pk().Ldt(this);this.vyt=t.bind(null,this.lf.rO(),s)}G4(){return this.vmt}Ddt(){return this.vmt}d$(){return this.Pq}vgt(){return this.Umt}xgt(){return this.jmt&&this.jmt.Hmt}Mgt(){return this.xgt()&&this.jmt.Vmt}Tgt(t){this.jmt.Vmt=!!t}emt(){return!1}U8(){return t}wk(){return this.vmt?this.vmt.wk():t}B_(t){t.r0t(this),this.Wft.j1t(this.xyt())}async xyt(){try{await this.vyt()}catch(t){console.error(`Unhandled exception running script %c${this.d$().Zc()}, event ${this.vgt()}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),s||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),s=!0)}}*u1t(t){t.r0t(this),(this.Mgt()||this.lf.zgt())&&(yield this),this.B_(t)}dmt(){return!this.Mgt()&&!this.lf.zgt()}static Myt(){return s}static Tyt(){s=!0}}}{const mo=self.Bs;mo.Mpt=class extends mo.an{constructor(t,s,e){super(),this.Pq=t,this.lf=t.YD(),this.vmt=s,this.Gyt=0,this._yt="",this.Iyt=0,this.Cyt=[],this.Ryt=!0,this.Eyt="",this.lft=null,this.Fyt=!1,this.Pyt=[],this.Ayt=!1,this.kyt=!1,this.Dyt=0,this.Oyt=-1,this.Lyt=new Map,this.Byt=mo.jpt.wM(t,s,e),this.Byt.bgt(this)}Nyt(t){this.Gyt=0,this._yt=t[0],this.Iyt=t[1],this.Cyt=t[2].map(t=>mo.$pt.wM(this.Pq,this,t)),this.Ryt=t[3],this.kyt=t[4],this.Ayt=t[5]}Wyt(t){this.Gyt=1,this.Eyt=t[1],this.lft=this.lf.vz(t[2]),this.Byt.Kmt(this.lft),this._yt=this.lft.Zc()+"."+this.Eyt,this.Iyt=t[3],this.Cyt=t[4].map(t=>mo.$pt.wM(this.Pq,this,t)),this.Ryt=t[5],this.kyt=t[6],this.Ayt=t[7],this.lft.Uyt(this)}static Jpt(t,s,e){const i=mo.un(mo.Mpt,t,s,e),r=e[1];return i.Nyt(r),i}static qpt(t,s,e){const i=mo.un(mo.Mpt,t,s,e),r=e[1];return i.Wyt(r),i}mdt(){if(this.lft&&this.lft.Jz())for(const t of this.lft.igt())if(t.jyt(this.Eyt)){this.Fyt=!0;break}}pdt(){for(const t of this.Cyt)t.pdt();this.Byt.pdt(!1)}xdt(){return this.Gyt}Odt(){return this.Cyt}Tpt(){return this.Cyt}yk(){return this.Cyt.length}Vyt(t){this.Pyt.push(t)}Hyt(){return this.Pyt}oyt(e){const i=this.Cyt;for(let t=0,s=i.length;t<s;++t)i[t].hrt(e[t].re(0))}hyt(e){const i=this.Cyt;for(let t=0,s=i.length;t<s;++t)i[t].hrt(e[t])}zyt(){return this.Cyt.map(t=>t.Tit())}G4(){return this.vmt}Ddt(){return this.vmt}Mdt(){return this._yt}Jyt(){return this.Eyt}qyt(){return this.Fyt}Tk(){return this.Iyt}OB(){return this.lft}Ku(){return this.Ryt}gk(){switch(this.Iyt){case 0:return null;case 2:return"";default:return 0}}Sk(){return this.Byt}Mk(){return this.Ayt}Xgt(){return this.kyt}myt(){const t=this.Dyt++;this.Oyt=t;let s,e=new Promise(t=>s=t);return this.Lyt.set(t,{resolve:s,$yt:0}),[t,e]}gyt(t){const s=this.Lyt.get(t);0===s.$yt&&(s.resolve(),this.Lyt.delete(t)),this.Oyt=-1}Xyt(){const t=this.Lyt.get(this.Oyt);return t.$yt++,this.Oyt}Yyt(t){this.Oyt=t;const s=this.Lyt.get(t);s.$yt--}Kyt(t,s){const e=new Map,i=[];for(const r of this.lft.VO().jO()){const n=r.OB();if(n.jyt(this.Eyt)){const h=e.get(n);Array.isArray(h)?h.push(r):e.set(n,[r])}else i.push(r)}if(0<i.length&&this.Byt.ayt(t,s,this.Ayt,{fyt:this.lft,dyt:i}),0<e.size)for(const[o,a]of e){const l=o.Zyt(this.Eyt).Sk(),u=[...new Set([...t,...l.U8()])];l.ayt(u,s,this.Ayt,{fyt:o,dyt:a})}}*Qyt(t,s){const e=new Map,i=[];for(const r of this.lft.VO().jO()){const n=r.OB();if(n.jyt(this.Eyt)){const h=e.get(n);Array.isArray(h)?h.push(r):e.set(n,[r])}else i.push(r)}if(0<i.length&&(yield*this.Byt.yyt(t,s,this.Ayt,{fyt:this.lft,dyt:i})),0<e.size)for(const[o,a]of e){const l=o.Zyt(this.Eyt).Sk(),u=[...new Set([...t,...l.U8()])];yield*l.yyt(u,s,this.Ayt,{fyt:o,dyt:a})}}}}{const go=self.Bs,yo=[];go.$pt=class extends go.an{constructor(t,s,e){super();const i=t.pk();this.Pq=t,this.Wft=i,this.lf=t.YD(),this.vmt=s,this.Q0t=i.Adt(),this.mn=e[1],this.yf=e[2],this.tSt=e[3],this.Nv=!!e[4],this.sSt=!!e[5],this.eSt=s instanceof go.Mpt,this.wH=e[6],this.iSt=this.lf.Bdt(e[8]),this.rSt=t=>this.hrt(t),this.nSt=()=>this.Tit(),this.hSt=!this.vmt||this.Nv||this.sSt,this.Ort=this.tSt,this.oSt=-1,this.aSt()&&(this.Ort=this.Ort?1:0),!this.lSt()||this.xx()||this.ypt()||(this.oSt=i._dt(this)),i.Tdt(this)}static wM(t,s,e){return go.un(go.$pt,t,s,e)}pdt(){if(this.lSt()&&!this.xx()&&!this.ypt()&&!this.uSt()){const t=this.Wft.xpt(this);t&&t.Vyt(this)}}Zc(){return this.mn}Bdt(){return this.iSt}G4(){return this.vmt}Ddt(){return this.G4()}Fz(){return!this.G4()}lSt(){return!this.Fz()}uSt(){return this.eSt}xx(){return this.Nv}ypt(){return this.sSt}ci(){return 0===this.yf}xi(){return 1===this.yf}aSt(){return 2===this.yf}emt(){return!1}t9(){return this.wH}Idt(){return this.tSt}U8(){return yo}B_(t){!this.lSt()||this.xx()||this.ypt()||this.hrt(this.Idt())}dmt(){return!0}*u1t(t){this.B_(t)}hrt(t){this.ci()?"number"!=typeof t&&(t=parseFloat(t)):this.xi()?"string"!=typeof t&&(t=t.toString()):this.aSt()&&(t=t?1:0),this.hSt?this.Ort=t:this.Q0t.G0t()[this.oSt]=t}Tit(){return this.hSt?this.Ort:this.Q0t.G0t()[this.oSt]}cSt(){let t=this.Tit();return this.aSt()?!!t:t}Xdt(){this.Ort=this.tSt}Ndt(){return{configurable:!1,enumerable:!0,get:this.nSt,set:this.rSt}}}}{const So=self.Bs,wo=[];So.Xpt=class extends So.an{constructor(t,s,e){super();const i=t.pk();this.Pq=t,this.Wft=i,this.lf=t.YD(),this.vmt=s,this.fSt=null,this.dSt=e[1],this.a0=!0}static wM(t,s,e){return So.un(So.Xpt,t,s,e)}pdt(){this.fSt=this.Wft.N$(this.dSt),this.Pq.imt(this);let t=this.G4();for(;t;)t instanceof So.jpt&&t.Zdt()&&t.tgt(this),t=t.G4();this.Igt(),this.lf.NX()&&this.Pq.vpt().children.push(this.fSt.vpt())}G4(){return this.vmt}U8(){return wo}nmt(){return this.fSt}B_(t){const s=!!this.G4(),e=this.lf.zz();s&&this.Wft.C1t(e),this.fSt.B_(),s&&this.Wft.K8(e)}*u1t(t){const s=!!this.G4(),e=this.lf.zz();s&&this.Wft.C1t(e),yield*this.fSt.u1t(),s&&this.Wft.K8(e)}dmt(){return!1}hmt(){return this.a0}Igt(){let t=this.G4();for(;t;){if(t instanceof So.jpt&&t.Zdt()&&!t.mpt())return void(this.a0=!1);t=t.G4()}this.a0=!0}}}{let a=function(t,s){return s<=t?t%s:(t<0&&(t<=-s&&(t%=s),t<0)&&(t+=s),t)};a;const bo=self.Bs;bo.pSt=class extends bo.an{constructor(t){super(),this.Xb=t,this.lf=t.YD()}pdt(){}static mSt(t,s){const e=s[0],i=[Go,Mo,To,_o,vo,xo];return bo.un(i[e],t,s)}};class vo extends bo.pSt{constructor(t,s){super(t),this.gSt=this.lf.ySt(),this.vyt=this.lf.byt(s[1]),this.vyt!==bo.aX.hX.Qrt.random&&this.vyt!==bo.aX.hX.Qrt.SSt||this.Xb.wSt()}bSt(){return this.gSt.vSt(this.vyt,this.gSt)}}class xo extends bo.pSt{constructor(t,s){super(t),this.xSt=null,this._yt=s[1],this.Xb.wSt()}pdt(){const t=this.lf.pk(),s=(this.xSt=t.mk(this._yt),this._yt=null,this.Xb.Sk()),e=this.xSt.Sk();this.MSt=[...new Set([...s.wk(),...e.wk()])],this.MSt=t.Gdt(this.MSt)}bSt(){const t=this.xSt;if(t.Ku()){const s=t.Sk();return bo.jpt.prototype.xk.bind(s,this.MSt,t.Mk(),t.Tk(),t.gk())}{const e=t.gk();return()=>e}}}class Mo extends bo.pSt{constructor(t,s){super(t),this.lft=this.lf.vz(s[1]),this.vyt=this.lf.byt(s[2]),this.TSt=!!s[3],this.yft=this.lf.pk().Ik(),this.Xb.GSt(this.lft)}bSt(){return this.lft.FO().vSt(this.vyt,this.lft.CO().v6())}_St(...t){const s=this.lft,e=s.VO().Gft(),i=e.length;if(0===i)return this.TSt?"":0;const r=a(this.Xb.ISt(),i);return this.yft.j8().d0t(s),this.vyt.apply(e[r].v6(),t)}CSt(t,...s){const e=this.lft,i=e.jO(),r=i.length;if(0===r)return this.TSt?"":0;const n=a(t,r);return this.yft.j8().d0t(e),this.vyt.apply(i[n].v6(),s)}}class To extends bo.pSt{constructor(t,s){super(t),this.lft=this.lf.vz(s[1]),this.RSt=s[3],this.TSt=!!s[2],this.Xb.GSt(this.lft)}ESt(){const t=this.lft.VO().Gft(),s=t.length;if(0===s)return this.TSt?"":0;const e=a(this.Xb.ISt(),s);return t[e].FSt(this.RSt)}PSt(){const t=this.lft,s=t.VO().Gft(),e=s.length;if(0===e)return this.TSt?"":0;const i=a(this.Xb.ISt(),e),r=s[i],n=r.OB().ASt(t.kSt());return r.FSt(this.RSt+n)}DSt(t){const s=this.lft,e=s.jO(),i=e.length;if(0===i)return this.TSt?"":0;let r=a(t,i),n=e[r],h=0;return s.Jz()&&(h=n.OB().ASt(s.kSt())),n.FSt(this.RSt+h)}}class Go extends bo.pSt{constructor(t,s){super(t),this.lft=this.lf.vz(s[1]),this.OSt=this.lft.Ert(s[2]),this.LSt=this.lft.het(s[2]),this.vyt=this.lf.byt(s[3]),this.TSt=!!s[4],this.yft=this.lf.pk().Ik(),this.Xb.GSt(this.lft)}BSt(...t){const s=this.lft,e=s.VO().Gft(),i=e.length;if(0===i)return this.TSt?"":0;let r=a(this.Xb.ISt(),i),n=(this.yft.j8().d0t(s),e[r]),h=0;return s.Jz()&&(h=n.OB().NSt(s.kSt())),this.vyt.apply(n.Rrt()[this.LSt+h].v6(),t)}WSt(t,...s){const e=this.lft,i=e.jO(),r=i.length;if(0===r)return this.TSt?"":0;let n=a(t,r),h=(this.yft.j8().d0t(e),i[n]),o=0;return e.Jz()&&(o=h.OB().NSt(e.kSt())),this.vyt.apply(h.Rrt()[this.LSt+o].v6(),s)}}class _o extends bo.pSt{constructor(t,s){super(t),this.USt=null,this.jSt=s[1]}pdt(){this.USt=this.lf.pk().Wdt(this.jSt)}VSt(){return this.USt}}}{let n=function(t){const s=self.HSt[t];if(s)return s;throw new Error("invalid expression number")};n;const Io=self.Bs;Io.zSt=class extends Io.an{constructor(t,s,e){super(),this.Xb=t,this.Xg=e,this.yf=s,this.re=null,this.JSt=!1,this.sSt=!1}static wM(t,s,e){const i=s[0],r=[Co,Ro,Oo,Fo,Ao,Eo,ko,Co,Fo,Fo,Lo,Bo,Oo,Wo,Ro,Do,Po,No,Uo,jo,Vo,Ho];return Io.un(r[i],t,i,e,s)}pdt(){}wSt(){this.JSt=!0}GSt(t){this.JSt||!t||t.FO().hO()||(this.JSt=!0)}qSt(){return this.JSt}DA(){return this.Xg}YD(){return this.Xb.YD()}Sk(){return this.Xb.Sk()}ypt(){return this.sSt}$St(){return 4===this.yf}};class Co extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.XSt=0;const r=i[1];this.YSt=r[0],this.KSt=[],this.ZSt=null;for(let t=1,s=r.length;t<s;++t)this.KSt.push(Io.pSt.mSt(this,r[t]));this.KSt.length?this.re=this.QSt:(this.re=n(this.YSt),this.sSt=!0)}twt(t){if(t<0||t>=this.KSt.length)throw new RangeError("invalid numbered node");return this.KSt[t]}pdt(){for(const s of this.KSt)s.pdt();const t=n(this.YSt);this.KSt.length?this.ZSt=t(this):this.ZSt=t}ISt(){return this.XSt}QSt(t){return this.XSt=t,this.ZSt()}}class Ro extends Co{constructor(t,s,e,i){super(t,s,e,i),this.re=this.swt,14===s&&(this.Sk().ngt(),this.Xb instanceof Io.Zmt)&&this.Sk().Sgt()}swt(t){this.XSt=t;const s=this.ZSt();return"string"==typeof s?s:""}ewt(){return n(this.YSt)()}}class Eo extends Co{constructor(t,s,e,i){super(t,s,e,i),2<=t.iwt()?this.re=this.mL:this.re=this.ED,this.sSt=!1}ED(t){this.XSt=t;const s=this.ZSt(),e=this.YD().ID();return e.ED(s)}mL(t){const s=this.ED(t);return s?s.mL():null}}class Fo extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.rwt=i[1],this.re=this.nwt,this.sSt=!0}nwt(){return this.rwt}}class Po extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.hwt=i[1],this.re=this.owt,this.sSt=!0}owt(){return this.hwt}}class Ao extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.lft=this.YD().vz(i[1]),2<=t.iwt()?this.re=this.GO:this.re=this.OB;const r=this.Sk();r.Kmt(this.lft),this.Xb instanceof Io.Zmt?r.Sgt():r.G4()&&r.G4().Sgt(),this.sSt=!0}OB(){return this.lft}GO(){return this.lft?this.lft.GO():null}}class ko extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.mH=this.YD().uD().QX(i[1]),2<=t.iwt()?this.re=this.aD:this.re=this.cD,this.sSt=!0}cD(){return this.mH}aD(){return this.mH?this.mH.aD():null}}class Do extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.iZ=this.YD().ott().uK(i[1]),2<=t.iwt()?this.re=this.xst:this.re=this.Hst,this.sSt=!0}Hst(){return this.iZ}xst(){return this.iZ?this.iZ.xst():null}}class Oo extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.awt=i[1],this.re=this.lwt,this.sSt=!0}lwt(){return this.awt}}class Lo extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.uwt=i[1];const r=this.Xb.OB();this.Xb instanceof Io.Ymt&&this.Xb.xx()||!r||!r.Jz()?(this.re=this.cwt,this.sSt=!0):(this.re=this.fwt,this.wSt())}cwt(){return this.uwt}fwt(t){t=t||0;let s=this.Xb.OB(),e=s.VO(),i=e.jO(),r=null;if(i.length)r=i[t%i.length].OB();else if(e.Mft()){const n=e.Tft();r=n[t%n.length].OB()}else{if(!(0<s.zO()))return 0;{const h=s.jO();r=h[t%h.length].OB()}}return this.uwt+r.ASt(s.kSt())}}class Bo extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.jSt=i[1],this.USt=null,2<=t.iwt()?this.re=this.dwt:this.re=this.pwt,this.sSt=!0}pdt(){this.USt=this.YD().pk().Wdt(this.jSt)}pwt(){return this.USt}dwt(){return null}}class No extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.mwt=i[1],this.xSt=null,2<=t.iwt()?this.re=this.gwt:this.re=this.ywt,this.sSt=!0}pdt(){this.xSt=this.YD().pk().mk(this.mwt),this.mwt=null}ywt(){return this.xSt}gwt(){return null}}class Wo extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.Swt=[],this.wwt=[],this.sSt=!0;for(let t=1,s=i.length;t<s;++t){const r=Io.zSt.wM(this.Xb,i[t],0);this.Swt.push(r),this.wwt.push(0),r.ypt()||(this.sSt=!1)}this.re=this.bwt}pdt(){for(const t of this.Swt)t.pdt()}bwt(){const e=this.Swt,i=this.wwt;for(let t=0,s=e.length;t<s;++t)i[t]=e[t].re(0);return i}}class Uo extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.vwt=i[1],this.re=this.nrt,this.sSt=!0}nrt(){return this.vwt}}class jo extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.xwt=i[1],this.re=this.Mwt,this.sSt=!0}Mwt(){return this.xwt}}class Vo extends Co{constructor(t,s,e,i){super(t,s,e,i),this.re=this.ZB,this.sSt=!1}ZB(){return this.ZSt()}}class Ho extends Io.zSt{constructor(t,s,e,i){super(t,s,e),this.qlt=this.YD().cut().Ult(i[1]),this.re=this.Twt,this.sSt=!0}Twt(){return this.qlt.Zc()}}}{let i=function(e,i){for(let t=0,s=e.length;t<s;++t)i[t]=e[t].re(0)};i;const zo=self.Bs,Jo=[],qo=function(){};zo.Ymt=class extends zo.an{constructor(t,e,s){if(super(),this.Byt=t,this.lf=t.YD(),this.Xg=s,this.vyt=this.lf.byt(e[1]),this.Gwt=0<e[3],this._wt=2===e[3],this.Iwt=!!e[4],this.Cwt=!!e[5],this.Nv=!!e[6],this.wH=e[7],this.Rwt=this.Byt.Bft(),this.lft=null,this.OSt=null,this.LSt=-1,this.gSt=null,this.B_=qo,this.u1t=qo,this.Ks=[],this.Ewt=[],this.Fwt=!1,this.Pwt=null,this.Awt=null,this.jmt=this.lf.NX()?{Vmt:e[8][0],kwt:e[8][1]}:null,-1===e[0]?this.gSt=this.lf.ySt():(this.lft=this.lf.vz(e[0]),e[2]&&(this.OSt=this.lft.Ert(e[2]),this.LSt=this.lft.het(e[2])),this.Byt.G4()&&this.Byt.G4().Sgt()),10===e.length){let s=e[9];for(let t of s)this.Ks.push(zo.zSt.wM(this,t,this.Ks.length)),this.Ewt.push(0)}0===this.Ks.length&&(this.Ks=Jo,this.Ewt=Jo),this.Byt.pk().wdt(this)}static wM(t,s,e){return zo.un(zo.Ymt,t,s,e)}pdt(){for(const t of this.Ks)t.pdt(),t.qSt()&&(this.Fwt=!0);this._wt?(this.B_=this.Dwt,this.u1t=this.Owt):this.gSt?(this.Lwt(),this.u1t=this.Bwt):this.lft.FO().hO()?(this.Nwt(),this.u1t=this.Wwt):this.Nv?(this.B_=this.Uwt,this.u1t=this.jwt):(this.B_=this.Vwt,this.u1t=this.Hwt)}Lwt(){const t=this.gSt,s=this.gSt;this.zwt(t,s,this.Jwt)}Nwt(){const t=this.lft.FO(),s=this.lft.CO().v6();this.zwt(t,s,this.qwt)}zwt(t,s,e){const i=this.vyt,r=this.Cwt,n=this.Ks;if(0===n.length){const h=t.vSt(i,s);r?this.B_=function(){return zo.xor(h(),r)}:this.B_=h}else if(1===n.length){const o=n[0];if(!r&&o.ypt())this.B_=t.$wt(i,s,o.re(0));else{const a=t.vSt(i,s);this.B_=function(){return zo.xor(a(o.re(0)),r)}}}else if(2===n.length){const l=n[0],u=n[1];if(!r&&l.ypt()&&u.ypt())this.B_=t.Xwt(i,s,l.re(0),u.re(0));else{const c=t.vSt(i,s);this.B_=function(){return zo.xor(c(l.re(0),u.re(0)),r)}}}else if(3===n.length){const f=n[0],d=n[1],p=n[2];if(!r&&f.ypt()&&d.ypt()&&p.ypt())this.B_=t.Ywt(i,s,f.re(0),d.re(0),p.re(0));else{const m=t.vSt(i,s);this.B_=function(){return zo.xor(m(f.re(0),d.re(0),p.re(0)),r)}}}else this.B_=e}t9(){return this.wH}Kpt(){return this.vyt}OB(){return this.lft}F6(){return this.OSt}Kwt(){return this.OSt?this.OSt.C6():this.lft?this.lft.FO():null}iwt(){const t=this.Kwt();return t?t.Zwt():1}Sk(){return this.Byt}YD(){return this.lf}DA(){return this.Xg}Ogt(){return this.DA()}Hpt(){return this.Gwt}Zpt(){return this._wt}Qwt(){return this.Cwt}H6(){return this.Iwt}xx(){return this.Nv}t2t(){return this.jmt.Vmt}s2t(){return!!this.gSt}Fgt(){return this.s2t()||this.lft.FO().hO()}Pgt(){for(const t of this.Ks)if(t.$St())return t.OB();return null}e2t(t){this.jmt.Vmt=!!t,this.Byt.mgt()}i2t(){return this.jmt.kwt}dmt(){return!this.t2t()&&!this.lf.zgt()&&!this.i2t()}r2t(){return this.Pwt||(this.Pwt=new Map),this.Pwt}n2t(){return this.Awt||(this.Awt=new Map),this.Awt}Jwt(){const t=this.Ewt;return i(this.Ks,t),zo.xor(this.vyt.apply(this.gSt,t),this.Cwt)}*Bwt(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const s=this.Ewt;i(this.Ks,s);let t=this.vyt.apply(this.gSt,s);return zo.Uo(t)&&(t=yield*t),zo.xor(t,this.Cwt)}return this.B_()}qwt(){const t=this.Ewt,s=(i(this.Ks,t),this.lft.CO().v6());return zo.xor(this.vyt.apply(s,t),this.Cwt)}*Wwt(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){let t=this.Ewt,s=(i(this.Ks,t),this.lft.CO().v6()),e=this.vyt.apply(s,t);return zo.Uo(e)&&(e=yield*e),zo.xor(e,this.Cwt)}return this.B_()}Dwt(){return!0}*Owt(){return(this.t2t()||this.lf.zgt())&&(yield this),!0}h2t(){if(this.OSt){if(2<=this.OSt.C6().Zwt())throw new Error("not yet implemented");return this.OSt}return 2<=this.lft.FO().Zwt()?this.lft.GO():this.lft}Uwt(){const t=this.Ewt,s=(i(this.Ks,t),this.vyt.apply(this.h2t(),t));return this.lft.cyt(),s}*jwt(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const s=this.Ewt;i(this.Ks,s);let t=this.vyt.apply(this.h2t(),s);return zo.Uo(t)&&(t=yield*t),this.lft.cyt(),t}return this.B_()}Vwt(){const e=this.Ks,i=this.Ewt,t=this.lft.VO();for(let t=0,s=e.length;t<s;++t){const r=e[t];r.qSt()||(i[t]=r.re(0))}return t.vft()?this.o2t(t):this.a2t(t)}*Hwt(){return(this.t2t()||this.lf.zgt())&&(yield this),this.Vwt()}l2t(e){const i=this.Ks,r=this.Ewt;for(let t=0,s=i.length;t<s;++t){const n=i[t];n.qSt()&&(r[t]=n.re(e))}}o2t(e){const t=this.lft,i=t.Jz(),r=t.kSt(),n=this.LSt,h=0<=n,o=t.jO(),a=this.Fwt,l=this.Ewt,u=this.vyt,c=this.Cwt,f=this.Rwt&&!this.Gwt;e.bft();for(let s=0,t=o.length;s<t;++s){const d=o[s];a&&this.l2t(s);let t;if(h){const p=i?d.OB().NSt(r):0;t=u.apply(d.Rrt()[n+p].v6(),l)}else t=u.apply(d.v6(),l);zo.xor(t,c)?e._ft(d):f&&e.Ift(d)}return t.u2t(!0),e.Cft(!1),t.cyt(),e.xft()}a2t(t){let s=this.lft,e=s.Jz(),i=s.kSt(),r=s.$B(),n=this.LSt,h=0<=n,o=this.Fwt,a=this.Ewt,l=this.vyt,u=this.Cwt,c=this.Rwt&&!this.Gwt,f=t.Rft(),d=t.Eft(),p=c&&!this.Byt.Egt(this),m=p?d:f,g=0,y=!1;for(let s=0,t=m.length;s<t;++s){const w=m[s];o&&this.l2t(s);let t;if(h){const b=e?w.OB().NSt(i):0;t=l.apply(w.Rrt()[n+b].v6(),a)}else t=l.apply(w.v6(),a);zo.xor(t,u)?(y=!0,p?(f.push(w),r&&w.c2t()):(m[g]=w,r&&w.f2t(g),++g)):p?(m[g]=w,r&&w.d2t(g),++g):c&&(d.push(w),r)&&w.p2t()}zo.Oh(m,g),r&&s.m2t(p,g);const S=y;return p&&!y&&(y=this.g2t(f)),s.u2t(S||c),c?y:t.xft()}g2t(e){const t=this.lft,i=t.Jz(),r=t.kSt(),n=this.Fwt,h=this.LSt,o=0<=h,a=this.Ewt,l=this.vyt,u=this.Cwt;for(let s=0,t=e.length;s<t;++s){const c=e[s];n&&this.l2t(s);let t;if(o){const f=i?c.OB().NSt(r):0;t=l.apply(c.Rrt()[h+f].v6(),a)}else t=l.apply(c.v6(),a);if(zo.xor(t,u))return!0}return!1}y2t(t,s){return this.Ks[t].re(s)}Qpt(){const t=this.Ks;if(t.length)return t[0].ewt();throw new Error("no parameters")}Sq(){if(!this.Pwt||!this.Pwt.size)return null;const s={};for(const[e,i]of this.Pwt.entries()){let t=i;"collmemory"===e&&(t=[...i.entries()].map(t=>[t[0].YB(),t[1].YB(),t[2]])),s[e]=t}return{ex:s}}wq(t){if(this.Pwt&&(this.Pwt.clear(),this.Pwt=null),t){const s=this.lf,e=t.ex;if(e){const i=this.r2t();i.clear();for(const[r,n]of Object.entries(e)){let t=n;"collmemory"===r&&(t=zo.un(zo.Zu,n.map(t=>[s.TD(t[0]),s.TD(t[1]),t[2]]).filter(t=>t[0]&&t[1]))),i.set(r,t)}}}}}}{let r=function(e,i){for(let t=0,s=e.length;t<s;++t)i[t]=e[t].re(0)};r;const $o=self.Bs,Xo=[],Yo=function(){},Ko=function*(){};$o.Zmt=class extends $o.an{constructor(t,s,e){super();const i=(this.Byt=t).YD(),r=(this.lf=i,this.Xg=e,this.wH=4<=s.length?s[3]:-1,this.S2t=5<=s.length?255&s[4]:0,this.w2t=5<=s.length?s[4]>>8:0,this.vyt=null,this.lft=null,this.OSt=null,this.LSt=-1,this.gSt=null,this.b2t="",this.v2t=null,this.x2t=null,this.B_=Yo,this.u1t=Yo,this.Ks=[],this.Ewt=[],this.Fwt=!1,this.Pwt=null,this.Awt=null,-3===s[0]),n=r?s[2]:s[5];if(this.jmt=i.NX()||r?{Vmt:n[0],kwt:n[1],index:n[2]}:null,-1===s[0])this.gSt=i.ySt(),this.vyt=i.byt(s[1]);else if(-2===s[0])this.b2t=s[1];else if(r){const h=i.byt(s[1]);this.vyt=h,this.B_=this.M2t,this.u1t=this.T2t,this.w2t|=8}else this.lft=i.vz(s[0]),4&this.w2t?(this.b2t=s[1],this.v2t=i.vz(s[2])):(s[2]&&(this.OSt=this.lft.Ert(s[2]),this.LSt=this.lft.het(s[2])),this.vyt=i.byt(s[1]));if(7===s.length){const o=s[6];for(const a of o)this.Ks.push($o.zSt.wM(this,a,this.Ks.length)),this.Ewt.push(0)}0===this.Ks.length&&(this.Ks=Xo,this.Ewt=Xo),this.G2t()&&(this.Byt.ngt(),this.Byt.Sgt()),this.Byt.pk().bdt(this)}static wM(t,s,e){return $o.un($o.Zmt,t,s,e)}pdt(){for(const t of this.Ks)t.pdt(),t.qSt()&&(this.Fwt=!0);if(this.gSt)this.Lwt(),this.u1t=this.Bwt;else if(this.b2t)4&this.w2t?this._2t():this.I2t(),this.b2t="",this.v2t=null;else if(this.B_===this.M2t){const s=this.vyt,e=this.lf.pk().Ldt(this.Byt);this.vyt=s.bind(null,this.lf.rO(),e)}else this.OSt?this.Xgt()?(this.B_=this.C2t,this.u1t=this.R2t):(this.B_=this.E2t,this.u1t=this.F2t):this.lft.FO().hO()?(this.Nwt(),this.u1t=this.Wwt):this.xx()?(this.B_=this.P2t,this.u1t=this.A2t):this.Xgt()?(this.B_=this.k2t,this.u1t=this.D2t):this.O2t()?(this.B_=this.L2t,this.u1t=this.B2t):this.Ks.length?this.Ks.every(t=>t.qSt())?(this.B_=this.N2t,this.u1t=this.W2t):this.Fwt?(this.B_=this.U2t,this.u1t=this.j2t):this.Ks.every(t=>t.ypt())?(r(this.Ks,this.Ewt),this.B_=this.V2t,this.u1t=this.H2t):(this.B_=this.z2t,this.u1t=this.J2t):(this.B_=this.V2t,this.u1t=this.H2t)}Lwt(){const t=this.gSt,s=this.gSt;this.zwt(t,s,this.Jwt)}Nwt(){const t=this.lft.FO(),s=this.lft.CO().v6();this.zwt(t,s,this.qwt)}I2t(){const t=this.Byt.pk(),e=t.mk(this.b2t);if(e.Ku()){const i=0!=(2&this.w2t);this.x2t=e.Sk();let s=[...new Set([...this.Byt.wk(),...this.x2t.wk()])];s=t.Gdt(s);const r=!e.Mk()&&this.q2t()?{pyt:!0}:null;if(this.B_=$o.jpt.prototype.ayt.bind(this.x2t,s,this.Ks,i,r),this.lf.NX()){const n=this;this.u1t=function*(){(n.t2t()||n.lf.zgt())&&(yield n);const t=yield*n.x2t.yyt(s,n.Ks,i,r);return t}}else this.u1t=Ko}else this.B_=Yo,this.u1t=Ko}_2t(){const n=this.Byt.pk(),h=n.Hdt(this.v2t,this.b2t);if(h.Ku()){const o=0!=(2&this.w2t);this.x2t=h.Sk();let s=[...new Set([...this.Byt.wk(),...this.x2t.wk(),this.lft,h.OB()])],t=(s=n.Gdt(s),!this.lft.Jz()&&!h.OB().Jz()),e=!this.lft.Jz()&&h.OB().Jz(),i=this.lft.Jz(),r=null;if(!h.Mk()&&this.q2t()&&((r=r||{}).pyt=!0),!e&&o||((r=r||{}).lyt=this.lft,r.uyt=h.OB()),t||e||i&&!h.qyt()?this.B_=$o.jpt.prototype.ayt.bind(this.x2t,s,this.Ks,o,r):i&&(this.B_=$o.Mpt.prototype.Kyt.bind(h,s,this.Ks)),this.lf.NX()){const a=this;t||e||i&&!h.qyt()?this.u1t=function*(){(a.t2t()||a.lf.zgt())&&(yield a);const t=yield*a.x2t.yyt(s,a.Ks,o,r);return t}:i&&(this.u1t=function*(){(a.t2t()||a.lf.zgt())&&(yield a);const t=yield*h.Qyt(s,a.Ks);return t})}else this.u1t=Ko}else this.B_=Yo,this.u1t=Ko}zwt(t,s,e){const i=this.vyt,r=this.Ks;if(0===r.length)this.B_=t.vSt(i,s);else if(1===r.length){const n=r[0];if(n.ypt())this.B_=t.$wt(i,s,n.re(0));else{const h=t.vSt(i,s);this.B_=function(){return h(n.re(0))}}}else if(2===r.length){const o=r[0],a=r[1];if(o.ypt()&&a.ypt())this.B_=t.Xwt(i,s,o.re(0),a.re(0));else{const l=t.vSt(i,s);this.B_=function(){return l(o.re(0),a.re(0))}}}else if(3===r.length){const u=r[0],c=r[1],f=r[2];if(u.ypt()&&c.ypt()&&f.ypt())this.B_=t.Ywt(i,s,u.re(0),c.re(0),f.re(0));else{const d=t.vSt(i,s);this.B_=function(){return d(u.re(0),c.re(0),f.re(0))}}}else this.B_=e}t9(){return this.wH}Xgt(){return 0!=(8&this.w2t)}$gt(){return 0!=(16&this.w2t)}O2t(){return 1===this.S2t}xx(){return 2===this.S2t}G2t(){return 0!=(1&this.w2t)}agt(){return this.Xgt()||this.$gt()}OB(){return this.lft}Kwt(){return this.OSt?this.OSt.C6():this.lft?this.lft.FO():null}iwt(){const t=this.Kwt();return t?t.Zwt():1}Sk(){return this.Byt}q2t(){let t=this.Byt;do{if(t instanceof $o.Mpt&&t.Mk())return!0}while(t=t.Ddt());return!1}YD(){return this.lf}DA(){return this.Xg}Ogt(){return this.jmt.index}t2t(){return this.jmt.Vmt}e2t(t){this.jmt.Vmt=!!t,this.Byt.mgt()}i2t(){return this.jmt.kwt}dmt(){return!this.t2t()&&!this.lf.zgt()&&!this.i2t()}r2t(){return this.Pwt||(this.Pwt=new Map),this.Pwt}n2t(){return this.Awt||(this.Awt=new Map),this.Awt}Jwt(){const t=this.Ewt;return r(this.Ks,t),this.vyt.apply(this.gSt,t)}*Bwt(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const t=this.Ewt,s=(r(this.Ks,t),yield*this.vyt.apply(this.gSt,t));return s}return this.B_()}qwt(){const t=this.Ewt;return r(this.Ks,t),this.vyt.apply(this.lft.CO().v6(),t)}*Wwt(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const t=this.Ewt,s=(r(this.Ks,t),yield*this.vyt.apply(this.lft.CO().v6(),t));return s}return this.B_()}V2t(){const e=this.Ewt,i=this.lft.VO().jO();for(let t=0,s=i.length;t<s;++t)this.vyt.apply(i[t].v6(),e)}*H2t(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const e=this.Ewt,i=this.lft.VO().jO();for(let t=0,s=i.length;t<s;++t)yield*this.vyt.apply(i[t].v6(),e)}else this.V2t()}z2t(){const e=this.Ewt,i=(r(this.Ks,e),this.lft.VO().jO());for(let t=0,s=i.length;t<s;++t)this.vyt.apply(i[t].v6(),e)}*J2t(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const e=this.Ewt,i=(r(this.Ks,e),this.lft.VO().jO());for(let t=0,s=i.length;t<s;++t)yield*this.vyt.apply(i[t].v6(),e)}else this.z2t()}N2t(){const i=this.Ks,r=this.Ewt,s=this.vyt,n=this.lft.VO().jO();for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);s.apply(h.v6(),r)}}*W2t(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const i=this.Ks,r=this.Ewt,s=this.vyt,n=this.lft.VO().jO();for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);yield*s.apply(h.v6(),r)}}else this.N2t()}U2t(){const i=this.Ks,r=this.Ewt,s=this.vyt,n=this.lft.VO().jO();for(let t=0,s=i.length;t<s;++t){const e=i[t];e.qSt()||(r[t]=e.re(0))}for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t){const o=i[t];o.qSt()&&(r[t]=o.re(e))}s.apply(h.v6(),r)}}*j2t(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const i=this.Ks,r=this.Ewt,s=this.vyt,n=this.lft.VO().jO();for(let t=0,s=i.length;t<s;++t){const e=i[t];e.qSt()||(r[t]=e.re(0))}for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t){const o=i[t];o.qSt()&&(r[t]=o.re(e))}yield*s.apply(h.v6(),r)}}else this.U2t()}L2t(){const i=this.Ks,r=this.Ewt,s=this.vyt,t=this.lft,e=t.$2t(),n=t.VO().jO();e.X2t(s);for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);s.apply(h.v6(),r)}e.Y2t(s)}*B2t(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const i=this.Ks,r=this.Ewt,s=this.vyt,t=this.lft,e=t.$2t(),n=t.VO().jO();e.X2t(s);for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);yield*s.apply(h.v6(),r)}e.Y2t(s)}else this.L2t()}P2t(){const t=this.Ewt;return r(this.Ks,t),this.vyt.apply(this.OSt||this.lft,t)}*A2t(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const s=this.Ewt;r(this.Ks,s);let t=this.vyt.apply(this.OSt||this.lft,s);return $o.Uo(t)?yield*t:t}return this.P2t()}E2t(){const t=this.lft,s=t.Jz(),i=t.kSt(),r=this.Ks,n=this.Fwt,h=this.Ewt,o=this.vyt,a=this.LSt,l=t.VO().jO();for(let t=0,s=r.length;t<s;++t){const e=r[t];e.qSt()||(h[t]=e.re(0))}for(let e=0,t=l.length;e<t;++e){const u=l[e];if(n)for(let t=0,s=r.length;t<s;++t){const f=r[t];f.qSt()&&(h[t]=f.re(e))}const c=s?u.OB().NSt(i):0;o.apply(u.Rrt()[a+c].v6(),h)}}*F2t(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const t=this.lft,s=t.Jz(),i=t.kSt(),r=this.Ks,n=this.Fwt,h=this.Ewt,o=this.vyt,a=this.LSt,l=t.VO().jO();for(let t=0,s=r.length;t<s;++t){const e=r[t];e.qSt()||(h[t]=e.re(0))}for(let e=0,t=l.length;e<t;++e){const u=l[e];if(n)for(let t=0,s=r.length;t<s;++t){const f=r[t];f.qSt()&&(h[t]=f.re(e))}const c=s?u.OB().NSt(i):0;yield*o.apply(u.Rrt()[a+c].v6(),h)}}else this.E2t()}k2t(){const i=this.Ks,r=this.Ewt,s=this.vyt,n=this.lft.VO().jO(),h=[];for(let e=0,t=n.length;e<t;++e){const o=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);h.push(s.apply(o.v6(),r))}return Promise.all(h)}*D2t(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const i=this.Ks,r=this.Ewt,s=this.vyt,n=this.lft.VO().jO(),h=[];for(let e=0,t=n.length;e<t;++e){const o=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);h.push(yield*s.apply(o.v6(),r))}return Promise.all(h)}return this.k2t()}C2t(){const t=this.lft,s=t.Jz(),i=t.kSt(),r=this.Ks,n=this.Ewt,h=this.vyt,o=this.LSt,a=t.VO().jO(),l=[];for(let e=0,t=a.length;e<t;++e){const u=a[e];for(let t=0,s=r.length;t<s;++t)n[t]=r[t].re(e);const c=s?u.OB().NSt(i):0;l.push(h.apply(u.Rrt()[o+c].v6(),n))}return Promise.all(l)}*R2t(){if((this.t2t()||this.lf.zgt())&&(yield this),this.i2t()){const t=this.lft,s=t.Jz(),i=t.kSt(),r=this.Ks,n=this.Ewt,h=this.vyt,o=this.LSt,a=t.VO().jO(),l=[];for(let e=0,t=a.length;e<t;++e){const u=a[e];for(let t=0,s=r.length;t<s;++t)n[t]=r[t].re(e);const c=s?u.OB().NSt(i):0;l.push(yield*h.apply(u.Rrt()[o+c].v6(),n))}return Promise.all(l)}return this.C2t()}async M2t(){try{await this.vyt()}catch(t){console.error(`Unhandled exception running script %c${this.Byt.d$().Zc()}, event ${this.Byt.vgt()}, action ${this.Ogt()+1}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),$o.Ypt.Myt()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),$o.Ypt.Tyt())}}*T2t(){return(this.t2t()||this.lf.zgt())&&(yield this),this.M2t()}Sq(){return this.Pwt&&this.Pwt.size?{ex:$o.Bo(this.Pwt)}:null}wq(t){if(this.Pwt&&(this.Pwt.clear(),this.Pwt=null),t){const s=t.ex;s&&(this.Pwt=$o.No(s))}}}}{let d=function(t){return t instanceof h?S.vL(t):t.XW()},u=function(t){return d(t).RD()},r=function(t){return S.vL(t)},C=function(t,s,e,i){const r=s.YB(),n=e.YB();r<n?t.Set(s,e,i):t.Set(e,s,i)},R=function(t,s,e){const i=s.YB(),r=e.YB();i<r?t.ic(s,e):t.ic(e,s)},E=function(t,s){t.rc(s)},F=function(t,s,e){const i=s.YB(),r=e.YB();return i<r?t.re(s,e):t.re(e,s)},i=function(t,s,e,i){if(!s)return!1;const r=0!==e||0!==i,n=t.RD(),h=S.jA(),o=S.Rdt(),a=o.Sk().Bft(),l=o.OB(),u=o.Qwt(),c=s.VO(),f=l!==s;_=s,G=f&&!u;let d,p=0,m=0,g=I=!1;c.vft()?(w.I(n.r4()),w.offset(e,i),h.K2t(n.ED(),s,w,b),d=b):!a||S.Z2t()&&!c.Eft().length&&c.Rft().length?d=c.Rft():(d=c.Eft(),I=!0),r&&(p=n.Cb(),m=n.Fb(),n.t4(e,i),n.YN());for(const y of d)if(h.S5(t,y)){if(g=!0,u)break;f&&k.add(y)}return r&&(n.KN(p,m),n.YN()),P.Lh(b),g},e=function(t){const s=S.bk().Bft(),e=_.VO(),i=e.Rft(),r=e.Eft();e.vft()?(e.Aft(k),s&&(P.Lh(r),e.kft(k,_.jO()))):s?I?e.Dft(k):(e.kft(k,i),e.Aft(k)):e.Aft(k),_.cyt()},v=function(t,s){G&&(s&&e(),k.clear(),_=null,G=!1)},s=function(t,s){const e=S.TD(s);if(e){const i=t.VO();if(i.vft()||i.Rft().includes(e))if(t.Jz()){if(e.OB().Q2t(t))return i.Lft(e),t.cyt(),!0}else if(e.OB()===t)return i.Lft(e),t.cyt(),!0}return!1},n=function(t,r){const n=t.VO();if(n.vft()){n.Cft(!1),n.bft();const e=t.jO();for(let t=0,s=e.length;t<s;++t){const i=e[t];i.YB()===r?n.Ift(i):n._ft(i)}return t.cyt(),!!n.Rft().length}{let e=n.Rft(),i=0;for(let t=0,s=e.length;t<s;++t){const h=e[t];(e[i]=h).YB()===r?n.Ift(h):++i}return P.Oh(e,i),t.cyt(),!!e.length}},P=(d,u,r,C,R,E,F,i,e,v,s,n,self.Bs),l=new P.Vo,x={},M={},T={},S=null,h=(P.tbt=function(t){S=t},self.kB),w=(M.sbt=function(t,s){return P.compare(this.RD().Cb(),t,s)},T.sbt=function(t,s){return P.compare(this.x,t,s)},M.ebt=function(t,s){return P.compare(this.RD().Fb(),t,s)},T.ebt=function(t,s){return P.compare(this.y,t,s)},M.ibt=function(){return this.RD().a4()},T.ibt=function(){return this.o4()},x.rbt=function(){const t=u(this),s=t.cD(),e=t.r4();return e.Gl()<0||e._l()<0||e.Ml()>s.lm()||e.Tl()>s.Mm()},x.nbt=function(e,i,r){const t=this.VO(),n=t.jO();if(!n.length)return!1;let h=n[0],o=h.RD(),a=h,l=P.xn(o.Cb(),o.Fb(),i,r);for(let t=1,s=n.length;t<s;++t){h=n[t],o=h.RD();const u=P.xn(o.Cb(),o.Fb(),i,r);(0===e&&u<l||1===e&&u>l)&&(l=u,a=h)}return t.Lft(a),!0},M.Rb=function(t){const s=this.RD();s.Cb()!==t&&(s.Rb(t),s.YN())},T.Rb=function(t){this.x=+t},M.Pb=function(t){const s=this.RD();s.Fb()!==t&&(s.Pb(t),s.YN())},T.Pb=function(t){this.y=+t},M.hbt=function(t,s){const e=this.RD();e.obt(t,s)||(e.KN(t,s),e.YN())},T.hbt=function(t,s){this.setPosition(t,s)},x.abt=function(t,s){if(t){const e=d(this),i=t.WO(e);if(i){const[r,n]=i.lbt(s),h=e.RD();h.Cb()===r&&h.Fb()===n||(h.KN(r,n),h.YN())}}},x.ubt=function(t){if(0!==t){const s=u(this);s.t4(s.cbt()*t,s.fbt()*t),s.YN()}},M.dbt=function(t,s){if(0!==s){const e=this.RD();t=P.wn(t),e.t4(Math.cos(t)*s,Math.sin(t)*s),e.YN()}},T.dbt=function(t,s){0!==s&&(t=P.wn(t),this.QN(Math.cos(t)*s,Math.sin(t)*s))},M.Cb=function(){return this.RD().Cb()},T.Cb=function(){return this.x},M.Fb=function(){return this.RD().Fb()},T.Fb=function(){return this.y},x.Ok=function(){return S.Ok(d(this))},M.pbt=function(t,s){return P.compare(this.RD().lm(),t,s)},T.pbt=function(t,s){return P.compare(this.width,t,s)},M.mbt=function(t,s){return P.compare(this.RD().Mm(),t,s)},T.mbt=function(t,s){return P.compare(this.height,t,s)},M.wm=function(t){const s=this.RD();s.lm()!==t&&(s.wm(t),s.YN())},T.wm=function(t){this.width=t},M.um=function(t){const s=this.RD();s.Mm()!==t&&(s.um(t),s.YN())},T.um=function(t){this.height=t},M.lC=function(t,s){const e=u(this);e.lm()===t&&e.Mm()===s||(e.lC(t,s),e.YN())},T.lC=function(t,s){this.rL(t,s)},M.lm=function(){return this.RD().lm()},T.lm=function(){return this.width},M.Mm=function(){return this.RD().Mm()},T.Mm=function(){return this.height},x.gbt=function(){return u(this).r4().Ml()},x.ybt=function(){return u(this).r4().Tl()},x.Sbt=function(){return u(this).r4().Gl()},x.wbt=function(){return u(this).r4()._l()},x.bbt=function(){const t=u(this).r4();return(t.Ml()+t.Gl())/2},x.vbt=function(){const t=u(this).r4();return(t.Tl()+t._l())/2},x.xbt=function(t,s){return P.Tn(u(this).aL(),P.wn(s))<=P.wn(t)},x.Mbt=function(t){return P._n(u(this).aL(),P.wn(t))},x.Tbt=function(t,s){const e=P.wn(t),i=P.wn(s),r=u(this).aL(),n=!P._n(i,e);return n?!(!P._n(r,e)&&P._n(r,i)):P._n(r,e)&&!P._n(r,i)},M.oL=function(t){const s=this.RD(),e=P.Sn(P.wn(t));isNaN(e)||s.aL()===e||(s.oL(e),s.YN())},T.oL=function(t){this.i4=t},x.Gbt=function(t){if(!isNaN(t)&&0!==t){const s=u(this);s.oL(s.aL()+P.wn(t)),s.YN()}},x._bt=function(t){if(!isNaN(t)&&0!==t){const s=u(this);s.oL(s.aL()-P.wn(t)),s.YN()}},x.Ibt=function(t,s){const e=u(this),i=e.aL(),r=P.Gn(i,P.wn(s),P.wn(t));isNaN(r)||i===r||(e.oL(r),e.YN())},x.Cbt=function(t,s,e){const i=u(this),r=i.aL(),n=s-i.Cb(),h=e-i.Fb(),o=Math.atan2(h,n),a=P.Gn(r,o,P.wn(t));isNaN(a)||r===a||(i.oL(a),i.YN())},x.Rbt=function(t,s){const e=u(this),i=e.aL(),r=t-e.Cb(),n=s-e.Fb(),h=Math.atan2(n,r);isNaN(h)||i===h||(e.oL(h),e.YN())},M.aL=function(){return P.bn(this.RD().aL())},T.aL=function(){return this.i4},x.Ebt=function(t,s){return P.compare(P.Wn(100*u(this).j3(),6),t,s)},M.JL=function(){return this.RD().JL()},T.JL=function(){return this.isVisible},x.HL=function(t){const s=u(this);t=2===t?!s.JL():0!==t,s.JL()!==t&&(s.HL(t),S.OD())},x.H3=function(t){const s=P.yn(t/100,0,1),e=u(this);if(e.s6()){if(e.eht().Fbt()===s)return}else if(e.j3()===s)return;e.H3(s),S.OD()},x.Pbt=function(t){l.Ta(t);const s=u(this);s.u4().fa(l)||(s.c4(l),S.OD())},x.J3=function(){const t=u(this).u4();return P.Vn(t.ra(),t.na(),t.oa(),t.aa())},x.j3=function(){return P.Wn(100*u(this).j3(),6)},x.Abt=function(t){return!!t&&u(this).ED()===t},x.kbt=function(e){const t=this.VO(),i=t.jO();if(!i.length)return!1;let s=i[0],r=s;for(let t=1,s=i.length;t<s;++t){const n=i[t],h=n.RD(),o=r.RD(),a=h.ED().DA(),l=o.ED().DA();0===e?(l<a||a===l&&h.FD()>o.FD())&&(r=n):(a<l||a===l&&h.FD()<o.FD())&&(r=n)}return t.Lft(r),!0},M.Dbt=function(t,s,e){const i=this.RD(),r=0===t?i.Ab():i.e4();return P.compare(r,s,e)},T.Dbt=function(t,s,e){const i=0===t?this.lB:this.s4;return P.compare(i,s,e)},M.Obt=function(){this.RD().d4()},T.Obt=function(){this.f4()},M.Lbt=function(){this.RD().g4()},T.Lbt=function(){this.m4()},x.Bbt=function(t){t&&u(this).S4(t)},x.Nbt=function(t,s){const e=0===t;if(s){const i=d(this),r=s.Wbt(i);r&&i.RD().b4(r,e)}},M.kb=function(t){const s=this.RD();s.Ab()!==t&&(s.kb(t),S.OD())},T.kb=function(t){this.lB=t},x.Ubt=function(){return u(this).ED().DA()},x.jbt=function(){return u(this).ED().Zc()},M.Vbt=function(){return this.RD().FD()},T.Vbt=function(){return this.zIndex},M.Hbt=function(){return this.RD().Ab()},T.Hbt=function(){return this.lB},M.zbt=function(){return this.RD().e4()},T.zbt=function(){return this.s4},x.Jbt=function(t){const s=d(this),e=s.OB().sL().Prt(t);if(e){const i=e.DA(),r=s.RD().$N();return r.L6(i)}},x.qbt=function(t,s){const e=d(this),i=e.OB().sL().Prt(s);if(i){const r=i.DA(),n=1===t,h=e.RD().$N();h.L6(r)!==n&&(h.B6(r,n),h.N6(),S.OD())}},x.$bt=function(t,s,e){const i=d(this),r=i.OB().sL().Prt(t);if(r){s=Math.floor(s);const n=r.ST().bT(s);if(n){"color"===n?(l.Ta(e),e=l):"percent"===n&&(e/=100);const h=r.DA(),o=i.RD().$N(),a=o.U6(h,s,e);a&&o.L6(h)&&S.OD()}}},P.un(P.Rect)),A=[],b=[],G=!1,_=null,I=!1,k=new Set;x.Xbt=function(S){if(this.lf.Ybt())return function*(S){if(S){let t=this.lf,s=t.jA(),i=t.pk(),e=i.Ik(),r=i.Rdt(),n=r.OB(),h=r.r2t(),o=r.n2t(),a=e.j8(),l=t.Rtt(),u=l-1,c=a.bk(),f=e.V8(c),d=h.get("collmemory"),p=(d||(d=P.un(P.Zu),h.set("collmemory",d)),o.get("collisionCreatedDestroyCallback")||(o.set("collisionCreatedDestroyCallback",!0),t.jf().addEventListener("instancedestroy",t=>E(d,t.P6))),n.VO()),m=S.VO(),g=p.jO(),y=null;for(let t=0;t<g.length;++t){const w=g[t];m.vft()?(s.K2t(w.RD().ED(),S,w.RD().r4(),A),y=A,s.Kbt(w,S,y)):y=m.jO();for(let t=0;t<y.length;++t){const b=y[t];if(s.S5(w,b)||s.Zbt(w,b)){let t=F(d,w,b),s=!1,e=-2;"number"==typeof t&&(s=!0,e=t);const v=!s||e<u;if(C(d,w,b,l),v){const x=c.U8(),M=(i.X8(x),n.VO()),T=S.VO();if(M.Cft(!1),T.Cft(!1),n===S){const G=M.Rft();P.Lh(G),G.push(w),G.push(b),n.cyt()}else{const _=M.Rft(),I=T.Rft();P.Lh(_),P.Lh(I),_.push(w),I.push(b),n.cyt(),S.cyt()}yield*c.eyt(a,f),i.K8(x)}}else R(d,w,b)}P.Lh(A)}e.sj()}return!1}.call(this,S);if(S){let t=this.lf,s=t.jA(),i=t.pk(),e=i.Ik(),r=i.Rdt(),n=r.OB(),h=r.r2t(),o=r.n2t(),a=e.j8(),l=t.Rtt(),u=l-1,c=a.bk(),f=e.V8(c),d=h.get("collmemory"),p=(d||(d=P.un(P.Zu),h.set("collmemory",d)),o.get("collisionCreatedDestroyCallback")||(o.set("collisionCreatedDestroyCallback",!0),t.jf().addEventListener("instancedestroy",t=>E(d,t.P6))),n.VO()),m=S.VO(),g=p.jO(),y=null;for(let t=0;t<g.length;++t){const w=g[t];m.vft()?(s.K2t(w.RD().ED(),S,w.RD().r4(),A),y=A,s.Kbt(w,S,y)):y=m.jO();for(let t=0;t<y.length;++t){const b=y[t];if(s.S5(w,b)||s.Zbt(w,b)){let t=F(d,w,b),s=!1,e=-2;"number"==typeof t&&(s=!0,e=t);const v=!s||e<u;if(C(d,w,b,l),v){const x=c.U8(),M=(i.X8(x),n.VO()),T=S.VO();if(M.Cft(!1),T.Cft(!1),n===S){const G=M.Rft();P.Lh(G),G.push(w),G.push(b),n.cyt()}else{const _=M.Rft(),I=T.Rft();P.Lh(_),P.Lh(I),_.push(w),I.push(b),n.cyt(),S.cyt()}c.Y8(a,f),i.K8(x)}}else R(d,w,b)}P.Lh(A)}e.sj()}return!1},x.Qbt=function(t){return i(d(this),t,0,0)},x.tvt=function(t,s,e){return i(d(this),t,s,e)},x.N4=function(){return u(this).N4()},x.xq=function(){return u(this).xq()},x.svt=function(e,i){const t=this.VO(),r=t.jO();if(0===r.length)return!1;let s=e.VO(),n=s.jO();if(s.vft()){const a=[...this.lf.evt(e)];0<a.length&&(n=n.concat(a))}if(0===n.length)return!1;const h=s.vft()?null:new Set(n),o=new Set;for(let t=0,s=r.length;t<s;++t){const l=r[t];if(1===i)for(const u of l.C4())u.ivt(e)&&(null===h||h.has(u))&&o.add(u);else{let t;if(0===i){if(null===(t=l.G4()))continue}else t=l.I4();t.ivt(e)&&(null===h||h.has(t))&&o.add(t)}}return 0!==o.size&&(s.Aft(o),e.cyt(),!0)},x.rvt=function(e,i){const t=this.VO(),r=t.jO();if(0===r.length)return!1;let s=e.VO(),n=s.jO();if(s.vft()){const a=[...this.lf.evt(e)];0<a.length&&(n=n.concat(a))}if(0===n.length)return!1;const h=s.vft()?null:new Set(n),o=new Set;for(let t=0,s=r.length;t<s;++t){const l=r[t];2!==i||l.xq()||!l.ivt(e)||null!==h&&!h.has(l)||o.add(l);for(const u of 0===i?l.children():l.A4())2===i&&u.xq()||u.ivt(e)&&(null===h||h.has(u))&&o.add(u)}return 0!==o.size&&(s.Aft(o),e.cyt(),!0)},x.nvt=function(e,i,r){const t=this.VO(),n=t.jO();if(0===n.length)return!1;let s=e.VO(),h=s.jO();if(s.vft()){const l=[...this.lf.evt(e)];0<l.length&&(h=h.concat(l))}if(0===h.length)return!1;const o=s.vft()?null:new Set(h),a=[];for(let t=0,s=n.length;t<s;++t){const u=n[t];if(0===i){const c=u.P4(r);null!==c&&c.ivt(e)&&(null===o||o.has(c))&&a.push(c)}else if(1===i)for(const f of u.children())if(f.ivt(e)){if(0===r){null!==o&&!o.has(f)||a.push(f);break}--r}}return 0!==a.length&&(s.Pft(a),e.cyt(),!0)},x.hvt=function(t,s,e){const i=d(this);switch(t){case 0:default:return P.compare(i.E4(),s,e);case 1:return P.compare(i.ovt(),s,e)}},x.O4=function(t,s,e,i,r,n,h,o,a,l){const u=d(this),c=S.Fdt().OB();for(const f of t.avt(u,c)){if(!f.FO().SO())return;u.O4(f,{U4:s,V4:e,z4:i,q4:r,Y4:n,t6:h,Z4:o,e6:a,r6:l})}},x.L4=function(t){const s=d(this),e=S.Fdt().OB();for(const i of t.avt(s,e))s.L4(i)},x.lvt=function(){const t=d(this);if(t.N4()){const s=t.G4();s.L4(t)}},x.uvt=function(){return d(this).E4()},x.cvt=function(){return d(this).ovt()},x.fvt=function(t,s){t=Math.floor(t),s=Math.floor(s);const e=u(this);t<2||s<2||!isFinite(t)||!isFinite(s)?(e.l6(),e.YN()):e.o6(t,s)},x.c6=function(t,s,e,i,r,n,h,o){const a=u(this),l=a.c6(t,s,{mode:0===e?"absolute":"relative",x:i,y:r,lB:n,u:h,v:o});l&&a.YN()},x.dvt=function(){const t=u(this);return t.d6()?t.p6().nv():0},x.pvt=function(){const t=u(this);return t.d6()?t.p6().hv():0},x.mvt=function(t){const s=u(this);t=2===t?!s.JL():0!==t,s.JL()!==t&&s.HL(t)},x.G6=function(t,s){this instanceof self.kB?this.r8(t,s):this.G6(t,s)},x.gvt=function(t,s){this instanceof self.kB?this.n8(t,""+s):this.gvt(t,""+s)},x.yvt=function(t){this instanceof self.kB?this.h8(t):this.yvt(t)},x.Svt=function(){this instanceof self.kB?this.s8():this.x6()},x.wvt=function(){this instanceof self.kB?this.e8():this.M6()},x.bvt=function(){return this instanceof self.kB?this.i8():this.bvt()},x.vvt=function(t){this instanceof self.kB?this._setEnabled(0!==t):this.xvt(0!==t)},x.Mvt=function(){return this instanceof self.kB?this.Ryt():this.Tvt()},M.Gvt=function(t,s,e){return P.compare(this.XW().znt(t),s,e)},T.Gvt=function(t,s,e){return P.compare(r(this).znt(t),s,e)},M._vt=function(t){return!!this.XW().znt(t)},T._vt=function(t){return!!r(this).znt(t)},x.Ivt=function(e,i){const t=this.VO(),r=t.jO();if(!r.length)return!1;let n=this.Jz(),h=null,o=0;for(let t=0,s=r.length;t<s;++t){const a=r[t],l=n?a.OB().ASt(this.kSt()):0,u=a.znt(l+i);(null===h||0===e&&u<o||1===e&&u>o)&&(o=u,h=a)}return t.Lft(h),!0},x.Cvt=function(t){return(this.lf.Rdt().Qwt()?n:s)(this,t)},x.EW=function(t){const s=new Set(P.Zh(t)),e=d(this).iN();return s.isSubsetOf(e)},x.Rvt=function(){return d(this).Evt()},x.Fvt=function(){return d(this).iN().size},x.Pvt=function(t){return d(this).Avt(t)},x.kvt=function(t,s){const e=P.Zh(s);if(0!==e.length){const i=d(this),r=new Set(i.iN());if(0===t)for(const n of e)r.add(n);else if(1===t)for(const h of e)r.delete(h);i.nN(r)}},x.Dvt=function(){S.VB(d(this))},x.Ovt=function(){return!0},x.Lvt=function(){return!0},M.Bvt=function(t,s){this.XW().Jnt(t,s)},T.Bvt=function(t,s){r(this).Jnt(t,s)},M.Nvt=function(t,s){const e=this.XW(),i=e.znt(t);"number"==typeof i&&"number"!=typeof s?s=parseFloat(s):"string"==typeof i&&"string"!=typeof s&&(s=s.toString()),e.Jnt(t,i+s)},T.Nvt=function(t,s){const e=r(this),i=e.znt(t);"number"==typeof i&&"number"!=typeof s?s=parseFloat(s):"string"==typeof i&&"string"!=typeof s&&(s=s.toString()),e.Jnt(t,i+s)},M.Wvt=function(t,s){const e=this.XW(),i=e.znt(t);"number"==typeof i&&("number"!=typeof s&&(s=parseFloat(s)),e.Jnt(t,i-s))},T.Wvt=function(t,s){const e=r(this),i=e.znt(t);"number"==typeof i&&("number"!=typeof s&&(s=parseFloat(s)),e.Jnt(t,i-s))},M.Uvt=function(t,s){this.XW().Jnt(t,s?1:0)},T.Uvt=function(t,s){r(this).Jnt(t,s?1:0)},M.jvt=function(t){const s=this.XW();s.Jnt(t,0===s.znt(t)?1:0)},T.jvt=function(t){const s=r(this);s.Jnt(t,0===s.znt(t)?1:0)},x.Vvt=function(t){let s;try{s=JSON.parse(t)}catch(t){return void console.error("Failed to load from JSON string: ",t)}const e=d(this);S.Hvt(),e.DY("state"),e.jb(s,"state"),S.zvt("state",{Jvt:!0})},x.qvt=function(){return JSON.stringify(d(this).Ub("state"))},x.$vt=function(){return d(this).OB().Zc()},x.Xvt=function(){let t=S.Cdt().p0t(),s=t.zO();for(const e of S.evt(t))++s;return s},x.Yvt=function(){return S.Cdt().p0t().VO().jO().length},M.cX=function(){return this.XW().cX()},T.cX=function(){return r(this).cX()},M.YB=function(){return this.XW().YB()},T.YB=function(){return r(this).YB()},x.tpt=function(t){const s=d(this);return t.toLowerCase()===S.pk().rpt(s)},x.oN=function(t){const s=d(this);S.pk().oN(s,t)},x.Kvt=function(t){return S.pk().E1t().Zvt(this.VO().jO(),t),!0},x.Qvt=function(){return d(this).ZB()},P.txt=function(t,s,e){const i=t[1],r=t[3],n=t[4],h=t[5],o=t[6],a=t[7],l=t[8],u=t[10],c=t[11],f=t[12],d=t[13],p=t[14],m=t[15],g=t[16],y=s.nX,S=s.Zrt,w=s.Qrt,b=Object.assign({},x,2<=e?T:M);r&&(y.sbt=b.sbt,y.ebt=b.ebt,y.ibt=b.ibt,y.rbt=b.rbt,y.nbt=b.nbt,S.Rb=b.Rb,S.Pb=b.Pb,S.hbt=b.hbt,S.abt=b.abt,S.ubt=b.ubt,S.dbt=b.dbt,w.sxt=b.Cb,w.ixt=b.Fb,w.Dk=b.Ok),n&&(y.pbt=b.pbt,y.mbt=b.mbt,S.wm=b.wm,S.um=b.um,S.lC=b.lC,w.rxt=b.lm,w.nxt=b.Mm,w.hxt=b.gbt,w.oxt=b.ybt,w.axt=b.Sbt,w.lxt=b.wbt,w.uxt=b.bbt,w.cxt=b.vbt),h&&(y.fxt=b.xbt,y.dxt=b.Mbt,y.Tbt=b.Tbt,S.oL=b.oL,S.Gbt=b.Gbt,S._bt=b._bt,S.Ibt=b.Ibt,S.Cbt=b.Cbt,S.Rbt=b.Rbt,w.pxt=b.aL),o&&(y.JL=b.JL,y.Ebt=b.Ebt,S.HL=b.HL,S.H3=b.H3,S.Pbt=b.Pbt,w.Opacity=b.j3,w.mxt=b.J3),a&&(y.Abt=b.Abt,y.kbt=b.kbt,y.Dbt=b.Dbt,S.Obt=b.Obt,S.Lbt=b.Lbt,S.Bbt=b.Bbt,S.Nbt=b.Nbt,S.kb=b.kb,w.Ubt=b.Ubt,w.jbt=b.jbt,w.Vbt=b.Vbt,w.Hbt=b.Hbt,w.zbt=b.zbt),l&&(y.Jbt=b.Jbt,S.qbt=b.qbt,S.$bt=b.$bt),d&&(y.N4=b.N4,y.xq=b.xq,y.svt=b.svt,y.rvt=b.rvt,y.nvt=b.nvt,y.hvt=b.hvt,S.O4=b.O4,S.L4=b.L4,S.lvt=b.lvt,w.uvt=b.uvt,w.cvt=b.cvt),p&&(S.fvt=b.fvt,S.c6=b.c6,w.dvt=b.dvt,w.pvt=b.pvt),u&&(y.JL=b.JL,S.HL=b.mvt,S.gxt=b.G6,S.yxt=b.gvt,S.Sxt=b.yvt),c&&(y.wxt=b.bvt,S.bxt=b.Svt,S.vxt=b.wvt),f&&(y.Ku=b.Mvt,S.xxt=b.vvt),m&&(y.Xbt=b.Xbt,y.Qbt=b.Qbt,y.tvt=b.tvt,s.Mxt=v),i||(y.Gvt=b.Gvt,y._vt=b._vt,y.Ivt=b.Ivt,y.Cvt=b.Cvt,y.EW=b.EW,S.Bvt=b.Bvt,S.Nvt=b.Nvt,S.Wvt=b.Wvt,S.Uvt=b.Uvt,S.jvt=b.jvt,S.kvt=b.kvt,y.Ovt=b.Ovt,y.Lvt=b.Lvt,S.Dvt=b.Dvt,S.Vvt||(S.Vvt=b.Vvt),w.qvt||(w.qvt=b.qvt),w.Xvt=b.Xvt,w.Yvt=b.Yvt,w.Txt=b.cX,w.Gxt=b.YB,w.$vt=b.$vt,w.Rvt=b.Rvt,w.Fvt=b.Fvt,w.Pvt=b.Pvt,y.tpt=b.tpt,S.oN=b.oN,S.Kvt=b.Kvt),g&&(w.Qvt=b.Qvt)}}{const Zo=self.Bs;Zo.F1t=class extends Zo.an{constructor(t){super(),this.Wft=t,this.yf="",this.pP=-1,this._xt="",this.Ixt=!1,this.Cxt=null,this.Xft=0,this.Mmt=[],this.s0t=null,this.Rxt=new Map,this.Ext=null,this.Fxt=null,this.Pxt=-1,this.Cyt=null,this.Axt=null,this.kxt=!1}cn(){this.yf="",this.pP=-1,this._xt="",this.Cxt=null,this.Fxt=null,this.Cyt=null,this.Axt=null,this.Pxt=-1,Zo.Lh(this.Mmt),this.s0t&&(this.s0t.clear(),this.s0t=null);for(const t of this.Rxt.values())t.cn();this.Rxt.clear(),this.Ext=null}Ib(){const t=this.Wft,s=t.YD().zz(),e=t.Cdt(),i=(this.Cxt=e.bk(),this.Xft=e.o0t()+1,t.xpt(this.Cxt));i&&(this.Fxt=i,this.Cyt=i.zyt(),this.Axt=i.Hyt().map(t=>t.Tit()),i.Xgt())&&(this.Pxt=i.Xyt());for(const n of s){const h=n.VO();h.vft()&&!this.Cxt.wgt(n)||(this.Mmt.push(n),this.Rxt.set(n,Zo.un(Zo.Dxt,h)))}const r=t.vk();this.s0t=0<r.size?r:null}Oxt(t){this.yf="timer",this.Ib(),this.pP=this.Wft.YD().Nk()+t}Lxt(t){this.yf="signal",this.Ib(),this._xt=t.toLowerCase()}Zvt(t,s){this.yf="instance-signals",this.Ib(),this._xt=s.toLowerCase(),this.Ext=new Set(t)}Bxt(t){this.yf="promise",this.Ib(),t.then(()=>this.Y1t()).catch(t=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",t),this.Y1t()})}Nxt(){return"timer"===this.yf}$1t(){return"signal"===this.yf}ept(){return"instance-signals"===this.yf}Spt(){return"promise"===this.yf}X1t(){return this._xt}Wxt(){return this.Ixt}Y1t(){this.Ixt=!0}ipt(t){this.Ext.delete(t),0===this.Ext.size&&this.Y1t()}k1t(){return this.Nxt()?this.pP<=this.Wft.YD().Nk():this.Wxt()}Uxt(t){t.e0t(this.Cxt,this.Xft);for(const[e,i]of this.Rxt.entries()){const r=e.VO();i.e0t(r)}this.s0t&&t.b0t([...this.s0t]);const s=this.Fxt;s&&(s.hyt(this.Cyt),s.Hyt().map((t,s)=>t.hrt(this.Axt[s])),s.Xgt())&&s.Yyt(this.Pxt)}D1t(t){this.Uxt(t),this.Cxt.Ygt(t),this.Fxt&&this.Fxt.Xgt()&&this.Fxt.gyt(this.Pxt),this.Wft._1t(this.Mmt),this.kxt=!0}async N1t(t){this.Uxt(t);for(const s of this.Cxt.Kgt(t))await this.Wft.YD().l1t(s);this.Fxt&&this.Fxt.Xgt()&&this.Fxt.gyt(this.Pxt),this.Wft._1t(this.Mmt),this.kxt=!0}O1t(){return this.kxt}gft(t){for(const s of this.Rxt.values())s.gft(t);if("instance-signals"===this.yf){for(const e of t)this.Ext.delete(e);0===this.Ext.size&&this.Y1t()}}Sq(){const t={},s={wt:this.yf,t:this.pP,st:this._xt,s:this.Ixt,ev:this.Cxt.t9(),sm:this.Mmt.map(t=>t.t9()),dsm:this.s0t?[...this.s0t].map(t=>t.t9()):null,sols:t};this.Cxt.Lgt(this.Xft)&&(s.act=this.Cxt.Pdt(this.Xft).t9());for(const[e,i]of this.Rxt)t[e.t9().toString()]=i.Sq();return"instance-signals"===this.yf&&(s.pi=[...this.Ext].map(t=>t.YB())),s}static wpt(t,s){const e=t.YD(),i=t.Udt(s.ev);if(!i)return null;let r=0;if(s.hasOwnProperty("act")){const h=t.Vdt(s.act);if(!h)return null;r=h.DA()}const n=Zo.un(Zo.F1t,t);n.pP=s.t,s.hasOwnProperty("wt")?n.yf=s.wt:n.yf=-1===n.pP?"signal":"timer",n._xt=s.st,n.Ixt=s.s,n.Cxt=i,n.Xft=r;for(const o of s.sm){const a=e.k8(o);a&&n.Mmt.push(a)}if(Array.isArray(s.dsm))for(const l of s.dsm){const u=e.k8(l);u&&(n.s0t||(n.s0t=new Set),n.s0t.add(u))}for(const[c,f]of Object.entries(s.sols)){const d=parseInt(c,10),p=e.k8(d);if(p){const m=Zo.un(Zo.Dxt,null);m.wq(t,f),n.Rxt.set(p,m)}}if("instance-signals"===n.yf){n.Ext=new Set;for(const g of s.pi){const y=e.TD(g);y&&n.Ext.add(y)}}return n}}}{const Qo=self.Bs;Qo.Dxt=class extends Qo.an{constructor(t){super(),this.lft=null,this.jxt=!0,this.W7=[],t&&(this.lft=t.OB(),this.jxt=t.vft(),Qo.Uh(this.W7,t.Rft()))}cn(){this.lft=null,Qo.Lh(this.W7)}e0t(t){t.Cft(this.jxt),Qo.Uh(t.Rft(),this.W7)}gft(t){Qo.Jh(this.W7,t)}Sq(){return{sa:this.jxt,insts:this.W7.map(t=>t.YB())}}wq(t,s){const e=t.YD();this.jxt=!!s.sa,Qo.Lh(this.W7);for(const i of s.insts){const r=e.TD(i);r&&this.W7.push(r)}}}}{let l=function(t,s){let e=t.get(s);return e||(e=new Map,t.set(s,e)),e};l;const ta=self.Bs;ta.Vxt=class extends ta.an{constructor(t){super(),this.lf=t.runtime,this.Hxt=!!t.nO,this.zxt=!!t.Jxt,this.qxt=!!t.cO,this.$xt=!!t.Xxt,this.Yxt=!!t.dO,this.Kxt=!!t.Zxt,this.Qxt=!!t.wO,this.tMt=!!t.lO,this.sMt=!!t.mO,this.eMt=t.iMt,this.rMt=null,this.nMt=new Map,this.hMt=new Map,this.oMt=new Map,this.aMt=new Map,this.lMt=t.uMt,this.cMt=null}cn(){this.lf=null}YD(){return this.lf}fMt(){}spt(){return(2<=this.Zwt()?this.cMt:this).constructor}Zwt(){return this.eMt}dMt(t=!1){let s=this.lMt;return t&&"function"!=typeof s&&2<=this.Zwt()?globalThis.eU:s}hO(){return this.Hxt}aO(){return this.zxt}uO(){return this.tMt}gO(){return this.sMt}fO(){return this.qxt}sb(){return this.$xt}pO(){return this.Yxt}SO(){return this.Kxt}bO(){return this.Qxt}vSt(t,s){if(!s)throw new Error("missing 'this' binding");let e=this.nMt.get(t);return e||(e=t.bind(s),this.nMt.set(t,e)),e}$wt(t,s,e){if(!s)throw new Error("missing 'this' binding");let i=l(this.hMt,t),r=i.get(e);return r||(r=t.bind(s,e),i.set(e,r)),r}Xwt(t,s,e,i){if(!s)throw new Error("missing 'this' binding");let r=l(this.oMt,t),n=l(r,e),h=n.get(i);return h||(h=t.bind(s,e,i),n.set(i,h)),h}Ywt(t,s,e,i,r){if(!s)throw new Error("missing 'this' binding");let n=l(this.aMt,t),h=l(n,e),o=l(h,i),a=o.get(r);return a||(a=t.bind(s,e,i,r),o.set(r,a)),a}pMt(t){if(!this.hO())throw new Error("must be single-global plugin");this.rMt=t}_O(){if(this.hO())return this.rMt;throw new Error("must be single-global plugin")}CO(){if(this.hO())return this.rMt.CO();throw new Error("must be single-global plugin")}mMt(){const t=this.Zwt(),s=(ta.iO.gMt(this,t),this.dMt(!0));if(s){if(this.cMt=new s,!(this.cMt instanceof self.tO))throw new TypeError("plugin class must derive from IPlugin")}else this.cMt=new self.tO;ta.iO.yMt(t)}MO(){return this.cMt}}}{const sa=self.Bs;sa.SMt=class extends sa.Vxt{constructor(t,s){super(t),this.wMt=s,this.bMt=0,this.vMt=new Map,this.xMt("elem-focused",t=>t.MMt()),this.xMt("elem-blurred",t=>{t&&t.TMt()})}cn(){super.cn()}GMt(t){const s=this.bMt++;return this.vMt.set(s,t),s}_Mt(t){this.vMt.delete(t)}xMt(t,e){this.lf.GN(this.wMt,t,t=>{const s=this.vMt.get(t.elementId);e(s,t)})}}}{const ea=self.Bs;ea.IMt=class extends ea.an{constructor(t){super(),this.lft=t,this.lf=t.YD(),this.CMt=t.FO()}cn(){this.lft=null,this.lf=null,this.CMt=null}OB(){return this.lft}YD(){return this.lf}FO(){return this.CMt}nW(){return this.lft.nW()}fMt(){}u2t(t){}X2t(t){}Y2t(t){}R$(t){}D$(){}P$(){}sX(t){}RMt(){}dMt(){return null}EMt(t,s,e){const i=ea.un(ea.Event,t,s);i.FMt=this,e&&Object.assign(i,e),this.OB().BX(i)}}}{const ia=self.Bs;ia.PMt=class extends ia.an{constructor(t,s){super(),this._e=t,this.wMt=s,this.AMt=null,this.lf=t.YD(),this.lft=this._e.OB(),this.kMt=this.lft.$2t(),this.TY=null,this._Y=null,this.FN=!1,this.AN=!1,this.b0=null,this.kI=!1}cn(){this.kI=!0,this.DMt(),this.OMt(),this.TY=null,this._Y=null,this.b0&&(this.b0.cn(),this.b0=null),this._e=null,this.lf=null,this.lft=null,this.kMt=null}dn(){return this.kI}XW(){return this._e}YD(){return this.lf}OB(){return this.lft}FO(){return this.kMt.FO()}$2t(){return this.kMt}LMt(){return this._e.GD()}vN(t){return this.lf.vN(t,this._e,null)}BMt(t){return this.lf.BMt(t,this._e,null)}MN(t){return this.lf.MN(t,this._e,null)}NMt(t,s){return this.lf.NMt(t,this._e,s)}WMt(t,s){return this.lf.WMt(t,this._e,s)}UMt(t){return this.lf.UMt(t)}jMt(t,s){this.lf.GN(this.wMt,t,s)}VMt(t){for(const[s,e]of t)this.jMt(s,e)}HMt(t,s){this.lf.ff(this.wMt,t,s)}zMt(t,s){return this.lf.BD(this.wMt,t,s)}JMt(t,s){if(!this.lf.YA())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.wMt,handler:t,data:s,responseId:null});this.HMt(t,s)}qMt(t){if(!t)throw new Error("cannot set empty component id");this.AMt=t}$Mt(){if(this.AMt)return this.lf.BN(this.AMt);throw new Error("wrapper extension component id not set")}WN(t,s){if(!this.AMt)throw new Error("wrapper extension component id not set");this.lf.WN(this.AMt,t,s)}XMt(t){for(const[s,e]of t)this.WN(s,e)}M8(t,s){if(!this.AMt)throw new Error("wrapper extension component id not set");this.lf.M8(this.AMt,t,s)}T8(t,s){if(this.AMt)return this.lf.T8(this.AMt,t,s);throw new Error("wrapper extension component id not set")}AK(){}YMt(){}KMt(){this.FN||(this.TY||(this.TY=()=>this.AK()),this.lf.jf().addEventListener("tick",this.TY),this.FN=!0)}DMt(){this.FN&&(this.lf.jf().removeEventListener("tick",this.TY),this.FN=!1)}ZMt(){return this.FN}QMt(){this.AN||(this._Y||(this._Y=()=>this.YMt()),this.lf.jf().addEventListener("tick2",this._Y),this.AN=!0)}OMt(){this.AN&&(this.lf.jf().removeEventListener("tick2",this._Y),this.AN=!1)}tTt(){return this.AN}sTt(){return[]}Ub(){return null}jb(t){}Ont(t){}jnt(t,s){}Oht(t,s,e){if(0!==s){const i=this.Ont(t);if("number"!=typeof i)throw new Error("expected number");this.jnt(t,i+s,e)}}eTt(t,s,e,i){}iTt(t,...s){t.call(this,...s)}rTt(t,...s){return t.call(this,...s)}dMt(){return null}EMt(t,s,e){if(this._e.nTt()){const i=this.LMt(),r=ia.un(ia.Event,t,s);r.P6=i,e&&Object.assign(r,e),i.dispatchEvent(r)}}sb(){return!1}}}{const ra=self.Bs;ra.hTt=class extends ra.PMt{constructor(t,s){super(t,s),this.Cst=t.RD(),this.oTt=null,this.aTt=null}cn(){if(this.oTt){const t=this.lf.jf();t.removeEventListener("renderercontextlost",this.oTt),t.removeEventListener("renderercontextrestored",this.aTt),this.oTt=null,this.aTt=null}this.Cst=null,super.cn()}lTt(){this.uTt()}cTt(){}fTt(){}uTt(){if(!this.oTt){this.oTt=()=>this.P7(),this.aTt=()=>this.dTt();const t=this.lf.jf();t.addEventListener("renderercontextlost",this.oTt),t.addEventListener("renderercontextrestored",this.aTt)}}P7(){this.cTt()}dTt(){this.fTt()}RD(){return this.Cst}vet(){return!1}bet(){if(!this.vet())throw new Error("original size not known");const t=this.pTt();if(t)return t.lm()}Met(){if(!this.vet())throw new Error("original size not known");const t=this.pTt();if(t)return t.Mm()}pTt(){return null}mTt(){const t=this.pTt();if(t){const s=t.Qx();if(s)return[s.lm(),s.Mm()]}return[100,100]}gTt(){const t=this.pTt();return t?t.WC():null}yTt(){const t=this.pTt();return t?t.STt():null}wTt(){const t=this.pTt();return!!t&&t.bTt()}lbt(t){const s=this._e.RD();return[s.Cb(),s.Fb(),s.e4()]}RMt(t,s,e){}vTt(t,s){}XJ(){return!0}}}{const na=self.Bs,ha=na.un(na.Rect);na.xTt=class extends na.hTt{constructor(t,s){super(t,s),this.MTt=this.FO().GMt(this),this.TTt=!0,this.GTt=!1,this._Tt=!1,this.ITt=-.2,this.CTt=na.un(na.Rect,0,0,-1,-1);const e=this.lf.N5();this.RTt=e.NU(),this.ETt=e.WU(),this.FTt=-1,this.PTt=-1,this.ATt=!1,this.KMt()}cn(){this.FO()._Mt(this.MTt),this.kTt("destroy"),this.MTt=-1,super.cn()}b6(){if(this.lf.YA())throw new Error("not valid in worker mode");return this.DTt("get-element")}kTt(t,s){(s=s||{}).elementId=this.MTt,this.HMt(t,s)}DTt(t,s){return(s=s||{}).elementId=this.MTt,this.JMt(t,s)}OTt(t,s){return(s=s||{}).elementId=this.MTt,this.zMt(t,s)}LTt(t){t=t||{};const s=this.RD();t.elementId=this.MTt,t.isVisible=s.JL(),t.htmlIndex=s.ED().JU(),t.htmlZIndex=s.qU(),Object.assign(t,this.BTt()),this.TTt=!!t.isVisible,this.JMt("create",t),this.NTt(!0)}mvt(t){this.TTt!==(t=!!t)&&(this.TTt=t,this.kTt("set-visible",{isVisible:t}))}AK(){this.NTt(!1)}WTt(){const t=this.lf.N5().ZU();return"Android"===na.ue.fe&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}NTt(u){if(!this.XW().QU()){let t=this.RD(),s=t.ED(),e=t.r4(),[i,r]=s._B(e.Ml(),e.Tl()),[n,h]=s._B(e.Gl(),e._l()),o=this.lf.N5(),a=o.V5(),l=o.z5();if(t.JL()&&s.JL())if(!this.WTt()&&(n<=0||h<=0||a<=i||l<=r))this.mvt(!1);else{ha.set(i,r,n,h);const c=o.NU(),f=o.WU(),d=s.JU(),p=t.qU();if(!u&&ha.equals(this.CTt)&&this.RTt===c&&this.ETt===f&&this.FTt===d&&this.PTt===p)this.mvt(!0);else{this.CTt.I(ha),this.RTt=c,this.ETt=f,this.FTt=d,this.PTt=p,this.mvt(!0);let t=null;this._Tt&&(t=s.t8()+this.ITt),this.kTt("update-position",{left:Math.round(this.CTt.Ml()),top:Math.round(this.CTt.Tl()),width:Math.round(this.CTt.width()),height:Math.round(this.CTt.height()),htmlIndex:d,htmlZIndex:p,fontSize:t})}}else this.mvt(!1)}}x6(){this.DTt("focus",{focus:!0})}M6(){this.DTt("focus",{focus:!1})}MMt(){this.GTt=!0}TMt(){this.GTt=!1}bvt(){return this.GTt}G6(t,s){this.kTt("set-css-style",{prop:na.Wo(t),val:s})}gvt(t,s){this.kTt("set-attribute",{name:t,val:s})}yvt(t){this.kTt("remove-attribute",{name:t})}UTt(){this.ATt||(this.ATt=!0,Promise.resolve().then(()=>{this.ATt=!1,this.kTt("update-state",this.BTt())}))}BTt(){}jTt(){return this.MTt}}}{const oa=self.Bs,aa=self.D6;oa.VTt=class extends oa.an{constructor(t){super(),this.lf=t.runtime,this.HTt=oa.un(oa.oc),this.zTt=oa.un(oa.oc),this.eMt=t.iMt,this.lMt=t.uMt,this.JTt=null}cn(){this.zTt.cn(),this.HTt.cn(),this.lf=null}YD(){return this.lf}fMt(){}Zwt(){return this.eMt}dMt(t=!1){let s=this.lMt;return t&&"function"!=typeof s&&2<=this.Zwt()?globalThis.l8:s}qTt(t){this.HTt.cc(t)}hK(){return this.HTt.fc()}Pz(t){this.zTt.cc(t)}Dz(t){this.zTt.ic(t)}jO(){return this.zTt.fc()}mMt(){const t=this.Zwt(),s=(oa.iO.gMt(this,t),this.dMt(!0));if(s){if(this.JTt=new s,!(this.JTt instanceof aa))throw new TypeError("behavior class must derive from IBehavior")}else this.JTt=new aa;oa.iO.yMt(t)}I6(){return this.JTt}}}{const la=self.Bs;la.$Tt=class extends la.an{constructor(t){super(),this.lf=t.YD(),this.OSt=t,this.lft=t.OB(),this.XTt=t.C6(),this.XTt.qTt(this.lft)}cn(){this.lf=null,this.OSt=null,this.lft=null,this.XTt=null}fMt(){}F6(){return this.OSt}OB(){return this.lft}YD(){return this.lf}C6(){return this.XTt}}}{const ua=self.Bs;ua.YTt=class extends ua.an{constructor(t,s){super(),this.KTt=t,this.wMt=s,this._e=t.A6(),this.lf=t.YD(),this.OSt=t.F6(),this.kMt=this.OSt.$2t(),this.FN=!1,this.AN=!1,this.v8=!1,this.b0=null}cn(){this.DMt(),this.OMt(),this.ZTt(),this.b0&&(this.b0.cn(),this.b0=null),this.KTt=null,this._e=null,this.lf=null,this.OSt=null,this.kMt=null}C6(){return this.OSt.C6()}QTt(){return this.KTt}A6(){return this._e}OB(){return this._e.OB()}RD(){return this._e.RD()}YD(){return this.lf}F6(){return this.OSt}$2t(){return this.kMt}LMt(){return this.KTt.LMt()}vN(t){return this.lf.vN(t,this._e,this.OSt)}BMt(t){return this.lf.BMt(t,this._e,this.OSt)}MN(t){return this.lf.MN(t,this._e,this.OSt)}tGt(){}AK(){}YMt(){}sGt(){}KMt(){this.FN||(this.lf.m8(this),this.FN=!0)}DMt(){this.FN&&(this.lf.g8(this),this.FN=!1)}ZMt(){return this.FN}QMt(){this.AN||(this.lf.y8(this),this.AN=!0)}OMt(){this.AN&&(this.lf.S8(this),this.AN=!1)}tTt(){return this.AN}eGt(){this.v8||(this.lf.w8(this),this.v8=!0)}ZTt(){this.v8&&(this.lf.b8(this),this.v8=!1)}iGt(){return this.v8}sTt(){return[]}jMt(t,s){this.lf.GN(this.wMt,t,s)}rGt(t,s){}Ub(){return null}jb(t){}Ont(t){}jnt(t,s){}Oht(t,s){if(0!==s){const e=this.Ont(t);if("number"!=typeof e)throw new Error("expected number");this.jnt(t,e+s)}}eTt(t,s,e,i){}iTt(t,...s){t.call(this,...s)}rTt(t,...s){return t.call(this,...s)}dMt(){return null}EMt(t,s,e){if(this.KTt.nTt()){const i=this.LMt(),r=ua.un(ua.Event,t,s);r.nGt=i,r.P6=i.P6,e&&Object.assign(r,e),i.dispatchEvent(r)}}}}{let s=function(t){if(t!==e)throw new Error("invalid internal API token")},n=(s,self.Bs),e=(n.aX={},n.zat={},n.Ns()),i=[],r=[],h=[],o=null,a=null,t=null,l=null,u=new Map,c=new Map;n.iO=class extends n.an{constructor(t,s){super(),this.lf=t,this.hGt=[],this.gSt=null,this.oGt=[],this.aGt=new Map,this.lGt=null,this.uGt=null,this.cGt=new Set(s)}fGt(t){const s=t[19],e=this.lf.byt(t[0]);if(!e)throw new Error("missing plugin");n.txt(t,e,s);const i=2<=s?n.Vxt:e,r=n.un(i,{runtime:this.lf,nO:t[1],Jxt:t[2],cO:t[5],dO:t[8],Xxt:t[9],Zxt:t[13],wO:t[14],lO:t[17],mO:t[18],iMt:s,uMt:2<=s?e:null});r.fMt(),this.hGt.push(r),u.set(e,r)}dGt(){this.gSt=n.un(n.aX.hX,{runtime:this.lf,nO:!0}),this.gSt.fMt()}pGt(t){const e=t[1],i=this.lf.byt(t[0]);if(!i)throw new Error("missing behavior");this.aGt.set(i,()=>{const t=2<=e?n.VTt:i,s=n.un(t,{runtime:this.lf,iMt:e,uMt:2<=e?i:null});s.fMt(),this.oGt.push(s),c.set(i,s),!this.lGt&&n.zat.solid&&s instanceof n.zat.solid?this.lGt=s:!this.uGt&&n.zat.jumpthru&&s instanceof n.zat.jumpthru&&(this.uGt=s),s.mMt()})}mGt(t){const s=this.aGt.get(t);s&&(s(),this.aGt.delete(t))}static gMt(t,s=1){if(n.iO.gMt!==o)throw new Error("invalid method");1===s&&i.push(t),r.push(t)}static yMt(t=1){if(n.iO.yMt!==a)throw new Error("invalid method");1===t&&i.pop(),r.pop()}static WB(){if(n.iO.WB!==t)throw new Error("invalid method");if(0===i.length)throw new Error("no init object set");return i.at(-1)}static eO(t){if(n.iO.eO!==l)throw new Error("invalid method");if(s(t),0===r.length)throw new Error("no init object set");return r.at(-1)}static gGt(t){h.push(t)}static yGt(){h.pop()}static wN(){if(0===h.length)throw new Error("no init properties set");return h.at(-1)}SGt(){for(const t of this.hGt)t.mMt()}static xO(t){return u.get(t)||null}static O6(t){return c.get(t)||null}ySt(){return this.gSt}wGt(){return this.lGt}bGt(){return this.uGt}BN(t){return this.cGt.has(t)}},o=n.iO.gMt,a=n.iO.yMt,t=n.iO.WB,l=n.iO.eO}{const ca=self.Bs,fa=new Set;ca.vGt=class extends ca.an{constructor(){super(),this.xGt=0,this.v7="",this.x7=0,this.MGt=0,this.TGt=0,this.Xm=0,this.Ym=0,this.GGt=!1,this._Gt=!1,this.IGt=null,this.CGt="",this.II=ca.un(ca.Rect),this.RGt=ca.un(ca.Ql),this.EGt="",this.FGt=new self.$D(this),fa.add(this)}cn(){this.EI(),this.IGt&&0===this.IGt.D7()&&this.IGt.cn(),this.IGt=null,fa.delete(this),this.PGt()}static P7(){for(const t of fa)t.CGt="",t.II.set(0,0,0,0),t.RGt.bu(t.II)}AGt(t){this.v7=t[0],this.x7=t[1],this.MGt=t[2],this.TGt=t[3],this.Xm=t[4],this.Ym=t[5],this.GGt=t[6],this._Gt=!0}kGt(t,s){if(this.IGt)throw new Error("already loaded asset");this.v7=s;const e={};return ca.So(s)&&(e.ZV="remote"),this.XD(t,e),this.IGt.s7()}DGt(t,s){if(this.IGt)throw new Error("already loaded asset");this.v7="",this.x7=s.size,this.IGt=ca.un(ca.QV,t.NA(),{blob:s,size:this.x7,ZV:"local"})}OGt(t){if(t===this)throw new Error("cannot replace with self");this.xGt++,this.EI(),this.v7=t.v7,this.x7=t.x7,this.MGt=t.MGt,this.TGt=t.TGt,this.Xm=t.Xm,this.Ym=t.Ym,this.GGt=t.GGt,this._Gt=t._Gt,this.IGt=t.IGt,this.CGt=t.CGt,this.II=t.II,this.RGt=t.RGt,this.PGt()}t7(){return this.v7}nc(){return this.x7}LGt(){return this.MGt}BGt(){return this.TGt}bTt(){return this.GGt}lm(){return this.Xm}Mm(){return this.Ym}NGt(){return this.IGt.lm()}WGt(){return this.IGt.Mm()}XD(t,s){if(this.IGt)throw new Error("already got asset");s=Object.assign({},s,{url:this.t7(),size:this.nc()}),this.IGt=t.KV(s)}_7(){return this.IGt&&this.IGt._7()}async Aj(t,s){if(!this.IGt)throw new Error("no asset");if(this.CGt)throw new Error("already loaded texture");const e=this.xGt,i=(this.CGt="loading",await this.IGt.Aj(t,s));if(this.xGt!==e)return null;if(!i)return this.CGt="",null;this.CGt="loaded",this._Gt||(this.Xm=i.lm(),this.Ym=i.Mm(),this._Gt=!0);const r=this.GGt?this.Ym:this.Xm,n=this.GGt?this.Xm:this.Ym;return this.II.set(this.MGt,this.TGt,this.MGt+r,this.TGt+n),this.II.Ct(i.lm(),i.Mm()),this.RGt.bu(this.II),this.GGt&&this.RGt._u(),i}EI(){this.CGt&&(this.IGt&&this.IGt.EI(),this.CGt="",this.II.set(0,0,0,0),this.RGt.bu(this.II))}Qx(){return this.IGt&&"loaded"===this.CGt?this.IGt.Qx():null}WC(){return this.II}STt(){return this.RGt}mU(){return this.FGt}UGt(){return this.IGt}async jGt(t){t=t||await this.IGt.O7();const s=ca.Fo(this.Xm,this.Ym),e=s.getContext("2d");return this.GGt?(e.rotate(Math.PI/-2),e.translate(-this.Ym,0),e.drawImage(t,this.MGt,this.TGt,this.Ym,this.Xm,0,0,this.Ym,this.Xm)):e.drawImage(t,this.MGt,this.TGt,this.Xm,this.Ym,0,0,this.Xm,this.Ym),s}async VGt(t){if(!this.EGt){const s=await this.jGt(t),e=await ca.Po(s);this.EGt=URL.createObjectURL(e)}return this.EGt}PGt(){this.EGt&&(URL.revokeObjectURL(this.EGt),this.EGt="")}}}{const da=self.Bs;da.HGt=class extends da.an{constructor(t){super(),this.mn=t[0],this.zGt=t[1],this.Iwt=!!t[2],this.dot=t[3],this.JGt=t[4],this.qGt=!!t[5],this.wH=t[6],this.$Gt=t[7].map(t=>da.un(da.XGt,t)),this.YGt=new self.j6(this)}static KGt(t,s){const e=da.un(da.HGt,[s,0,!1,0,0,!1,Math.floor(1e15*Math.random()),[]]);return e.$Gt.push(da.XGt.KGt(t)),e}cn(){for(const t of this.$Gt)t.cn();da.Lh(this.$Gt)}ZGt(t){for(const s of this.$Gt)s.nW().XD(t)}QGt(s,e){return Promise.all(this.$Gt.map(t=>t.nW().Aj(s,e)))}t_t(){for(const t of this.$Gt)t.nW().EI()}Zc(){return this.mn}t9(){return this.wH}K6(){return this.$Gt.length}Q6(){return this.$Gt}s_t(t){if((t=Math.floor(t))<0||t>=this.$Gt.length)throw new RangeError("invalid frame");return this.$Gt[t]}e_t(t,s){(s=Math.floor(s))<0?this.$Gt.unshift(t):s>=this.$Gt.length?this.$Gt.push(t):this.$Gt.splice(s,0,t)}i_t(t){if((t=Math.floor(t))<0||t>=this.$Gt.length)throw new RangeError("invalid frame");this.$Gt[t].cn(),this.$Gt.splice(t,1)}r_t(e){for(let t=0,s=this.$Gt.length;t<s;++t)if(da.br(this.$Gt[t].TW(),e))return t;return-1}n_t(t){if("string"!=typeof t)return t;{const s=this.r_t(t);if(-1===s)throw new Error("cannot find animation frame with tag "+t);return s}}V6(){return this.zGt}H6(){return this.Iwt}z6(){return this.dot}q6(){return this.JGt}Y6(){return this.qGt}h_t(){return this.YGt}}}{const pa=self.Bs,ma=(()=>{const e=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),i=new Uint8Array(e.length);for(let t=0,s=e.length;t<s;++t)i[t]=e.charCodeAt(t);return new Blob([i],{type:"image/png"})})();pa.XGt=class extends pa.an{constructor(t){super(),this.o_t=pa.un(pa.vGt),this.o_t.AGt(t),this.a_t=t[7],this.l_t=pa.un(pa.Qa,t[8],t[9]),this.u_t=t[10].map(t=>pa.un(pa.c_t,this,t)),this.f_t=new Map;for(const e of this.u_t)this.f_t.set(e.Zc().toLowerCase(),e);this.d_t=null;const s=t[11];6<=s.length&&(this.d_t=pa.un(pa.Au,s)),this.Yg=t[12]||"",this.p_t=new self.rW(this)}static KGt(t){const s=pa.un(pa.XGt,["",0,0,0,100,100,!1,1,0,0,[],[],""]);return s.o_t.DGt(t,ma),s}cn(){this.d_t&&(this.d_t.cn(),this.d_t=null),this.o_t.cn(),this.o_t=null}nW(){return this.o_t}hW(){return this.a_t}aW(){return this.l_t.rl()}uW(){return this.l_t.hl()}bW(){return this.d_t}SW(t){return this.f_t.get(t.toLowerCase())||null}yW(t){return(t=Math.floor(t))<0||t>=this.u_t.length?null:this.u_t[t]}dW(){return this.u_t.length}TW(){return this.Yg}tW(){return this.p_t}}}{const ga=self.Bs;ga.c_t=class extends ga.an{constructor(t,s){super(),this.m_t=t,this.mn=s[0],this.g_t=ga.un(ga.Qa,s[1],s[2])}cn(){}Zc(){return this.mn}Cb(){return this.g_t.rl()}Fb(){return this.g_t.hl()}y_t(){return this.g_t}}}{const x=self.Bs,ya=self.C3Debugger,Sa=self.RO;x.Dlt=class extends x.an{constructor(s,t,e){super();const i=s.byt(e[1]),[r,n]=(this.lf=s,this.CMt=x.iO.xO(i),this.kMt=null,this.S_t=i.Instance,this.Xg=t,this.wH=e[11],this.mn=e[0],this.iSt=this.lf.Bdt(e[14]),this.w_t=!!e[9],this.b_t=!!e[2],this.v_t=!!e[10],this.x_t=e[3].map(t=>({sid:t[0],type:t[1],name:t[2],M_t:s.Bdt(t[3])})),this.T_t=e[4],this.G_t=e[5],this.zxt=this.CMt.aO(),this.__t=x.un(x.Event.jf),this.sz=null,s.jA().G5());if(this.I_t=x.un(x.C_t,r,n),this.R_t=!0,this.E_t=null,this.F_t=null,this.P_t=-1,this.A_t=null,this.k_t=null,this.D_t=null,this.O_t=null,this.L_t=null,this.B_t=!1,this.N_t=null,this.W_t=e[8].map(t=>x.U_t.wM(this,t)),this.j_t=[],this.V_t=new Map,this.H_t=new Map,this.z_t=new Set,this.J_t=new Map,this.q_t=x.un(x.aft,this),this.$_t=null,this.X_t=0,this.Y_t=!1,this.N_t=null,this.o_t=null,this.K_t=null,this.Z_t=null,this.Q_t=null,this.tIt=0,this.Pwt=new Map,this.Awt=new Map,this.W7=[],this.sIt=new Map,this.eIt=!0,this.CMt.pO()&&(this.sz=x.un(x.ez,this,e[12])),e[6]&&(this.o_t=x.un(x.vGt),this.o_t.AGt(e[6])),e[7]){this.K_t=e[7].map(t=>x.un(x.HGt,t)),this.Z_t=new Map,this.Q_t=new Map;for(const a of this.K_t)this.Z_t.set(a.Zc().toLowerCase(),a),this.Q_t.set(a.t9(),a)}this.b_t?(this.E_t=[],this.F_t=new Set,this.P_t=this.lf.iIt()):(this.A_t=[],this.k_t=new Set,this.D_t=[],this.O_t=[],this.L_t=[]);const h=this.CMt.Zwt();if(h<2&&(this.kMt=x.un(i.rIt,this,e[15]),!(this.kMt instanceof x.IMt)))throw new Error("v1 sdk type must derive from SDKTypeBase");this.nIt=null,this.hIt=null,this.s$=x.un(x.Event.jf),x.iO.gMt(this,h);let o;if(o=2<=h?(o=i.rIt)||globalThis.fU:this.kMt.dMt()){if(this.nIt=new o(h<2?this:null),h<2&&!(this.nIt instanceof Sa))throw new TypeError("script interface class must derive from IObjectClass");if(2<=h&&!(this.nIt instanceof globalThis.fU))throw new TypeError("script interface class must derive from ISDKObjectTypeBase")}else this.nIt=new Sa;if(x.iO.yMt(h),e[13]){const l=e[13];if(l){const u=l[0],c=l[1],f=l[2];this.kMt.RMt(u,c,f)}}this.lf.oIt()&&!this.b_t&&!this.v_t&&this.zxt||this.fMt(),this.CMt.hO()&&(this.CMt.pMt(this),this.aIt(e)),this.lIt=null}static wM(t,s,e){return x.un(x.Dlt,t,s,e)}cn(){if(this.__t.cn(),this.__t=null,this.o_t&&(this.o_t.cn(),this.o_t=null),this.K_t){for(const t of this.K_t)t.cn();x.Lh(this.K_t),this.Z_t.clear(),this.Q_t.clear()}this.lIt=null,this.q_t.cn(),this.q_t=null,this.Pwt.clear(),this.Awt.clear(),this.N_t=null,this.lf=null}uIt(e){for(let t=1,s=e.length;t<s;++t){const i=this.lf.vz(e[t]);this.E_t.push(i),this.F_t.add(i),i.A_t.push(this),i.k_t.add(this)}}cIt(t){this.B_t=!0,this.N_t=t}$B(){return this.B_t}_$(){return this.N_t}fIt(){let t=0;if(!this.b_t)for(const s of this.A_t)for(const e of s.dIt()){const i=e.Zc().toLowerCase();this.V_t.set(i,e),this.H_t.set(i,t),this.j_t.push(e),++t}for(const r of this.dIt()){const n=r.Zc().toLowerCase();this.V_t.set(n,r),this.H_t.set(n,t),this.j_t.push(r),++t}for(const h of this.j_t)this.z_t.add(h.C6().constructor);if(!this.b_t&&this.A_t.length){let t=this.lf.pIt(),s=(x.Nh(this.D_t,t,0),x.Nh(this.O_t,t,0),x.Nh(this.L_t,t,0),[]),e=0,i=0,r=0;for(const o of this.A_t){const a=o.kSt(),l=(this.D_t[a]=e,e+=o.mIt(),this.O_t[a]=i,i+=o.gIt(),this.L_t[a]=r,r+=o.yIt(),o.sL());if(l&&this.sz)for(const u of l.eL())s.push(u.SIt(this.sz))}this.sz&&this.sz.wIt(s)}}aIt(t){const s=this.lf.bIt(),e=x.un(x.Instance,{runtime:this.lf,DB:this,uid:s});e.vIt(t[16],[]),this.lf.xIt(s,e),this.W7.push(e)}$2t(){return this.kMt}MIt(){return this.v_t}jf(){return this.__t}fMt(){this.b_t||(this.kMt?this.kMt.fMt():this.nIt.dU())}TIt(){return 0<this.tIt}async R$(t){this.b_t||(this.tIt++,1===this.tIt&&(this.kMt?await this.kMt.R$(t):await this.nIt.gU(this.lf.N5().GIt())))}D$(){if(!this.b_t){if(this.tIt--,this.tIt<0)throw new Error("released textures too many times");0===this.tIt&&(this.kMt?this.kMt.D$():this.nIt.yU(this.lf.N5().GIt()))}}P$(){if(this.b_t)throw new Error("not applicable to family");this.kMt?this.kMt.P$():this.nIt.SU()}async sX(t){this.b_t||(this.kMt?await this.kMt.sX(t):await this.nIt.wU(this.lf.N5().GIt()))}YD(){return this.lf}FO(){return this.CMt}_It(){return this.S_t}Zc(){return this.mn}Bdt(){return this.iSt}DA(){return this.Xg}t9(){return this.wH}Jz(){return this.b_t}Fz(){return this.w_t}aO(){return this.zxt}kSt(){return this.P_t}dIt(){return this.W_t}gIt(){return this.T_t}IIt(t){return t&&this.z_t.has(t)}mIt(){return this.x_t.length}CIt(){return this.x_t.map(t=>t.sid)}RIt(s){return this.x_t.findIndex(t=>t.sid===s)}eet(s){return this.x_t.findIndex(t=>t.name===s)}EIt(){return this.x_t.map(t=>t.name)}FIt(){return this.x_t.map(t=>t.M_t)}ret(t){if((t=Math.floor(t))<0||t>=this.x_t.length)throw new RangeError("invalid instance variable index");return this.x_t[t].type}iet(t){if((t=Math.floor(t))<0||t>=this.x_t.length)throw new RangeError("invalid instance variable index");return this.x_t[t].name}yIt(){return this.G_t}PIt(){return this.j_t}Ert(t){return this.V_t.get(t.toLowerCase())||null}het(t){const s=this.H_t.get(t.toLowerCase());return void 0===s?-1:s}sL(){return this.sz}pO(){return this.CMt.pO()}AIt(){return this.sz&&this.sz.kIt()}I1t(){return this.q_t}VO(){return this.q_t.VO()}nW(){return this.o_t}Tz(t){this.$_t=t}Mz(){return this.$_t}Gz(t){this.X_t=t}DIt(){return this.X_t}OIt(){return this.K_t}LIt(){return this.K_t.length}zdt(){return this.A_t}Q2t(t){return this.k_t.has(t)}igt(){return this.E_t}qz(t){return this.F_t.has(t)}NSt(t){return this.O_t[t]}ASt(t){return this.D_t[t]}Uyt(t){this.J_t.set(t.Jyt().toLowerCase(),t)}jyt(t){return!!this.Zyt(t)}Zyt(t){const s=this.J_t.get(t.toLowerCase());return s&&s.Ku()?s:null}BIt(){return this.K_t}NIt(t){if(this.K_t)return this.Z_t.get(t.toLowerCase())||null;throw new Error("no animations")}WIt(t){if(this.K_t)return this.Q_t.get(t)||null;throw new Error("no animations")}UIt(t){if(this.NIt(t))throw new Error(`animation name '${t}' already exists`);const s=x.HGt.KGt(this.YD(),t);return this.K_t.push(s),this.Z_t.set(s.Zc().toLowerCase(),s),this.Q_t.set(s.t9(),s),s}jIt(t){const s=this.NIt(t);if(!s)throw new Error(`animation name '${t}' does not exist`);if(1===this.K_t.length)throw new Error("cannot remove last animation");const e=this.K_t.indexOf(s);this.K_t.splice(e,1),this.Z_t.delete(s.Zc().toLowerCase()),this.Q_t.delete(s.t9()),s.cn()}VIt(){if(this.K_t)return this.K_t[0];throw new Error("no animations")}HIt(){return this.VIt().s_t(0)}zIt(){if(this.K_t){const t=this.HIt().nW();return[t.lm(),t.Mm()]}return this.o_t?[this.o_t.lm(),this.o_t.Mm()]:[100,100]}CO(){if(this.CMt.hO())return this.W7[0];throw new Error("not a single-global plugin")}jO(){return this.W7}*instances(){yield*this.W7}*UO(){yield*this.W7,yield*this.lf.evt(this)}zO(){return this.W7.length}Pz(t){this.W7.push(t)}JIt(){this.eIt=!0}pX(){if(this.eIt&&!this.b_t){let s=this.W7,e=0;for(let t=s.length;e<t;++e)s[e].qIt(e);const t=this.lf.$It();for(const i of t)i.OB()===this&&i.qIt(e++);this.eIt=!1}}XIt(t){const s=this.W7;if(t<s.length)return s[t];t-=s.length;const e=this.lf.$It();for(const i of e)if(i.OB()===this){if(0===t)return i;--t}return null}Wbt(t){if(t&&t.$B()&&t.OB()!==this)for(const e of t.XB())if(e.OB()===this)return e;const s=this.VO().jO();return s.length?s[0]:null}WO(t){const s=this.VO().jO();return 0<s.length?s[t.cX()%s.length]:null}*avt(t,s){let e=this.VO().jO(),i=e.length,r=s.VO(),n=s.VO().jO(),h=n.length,o=t.cX(),a=(!s.Jz()&&r.vft()||(o=n.indexOf(t)),Math.ceil(i/h)),l=i%h,u=0,c;c=0==l||o<l?(u=o*a,a):(u=l*a+(o-l)*(a-1),a-1);for(let t=u,s=u+c;t<s;++t)yield e[t]}u2t(t){this.kMt?.u2t(t)}cyt(){if(this.B_t&&!this.b_t){this.pX();const t=this.VO(),s=t.Rft(),e=t.vft(),i=this.lf.Cdt(),r=i&&i.bk()&&i.bk().Bft();for(const n of this.N_t.fX())if(n!==this){n.pX();const h=n.VO();if(h.Cft(e),!e){const o=h.Rft();x.Lh(o);for(const a of s)o.push(n.XIt(a.cX()));if(r){const l=t.Eft(),u=h.Eft();x.Lh(u);for(const c of l)u.push(n.XIt(c.cX()))}}}}}m2t(t,s){for(const e of this._$().fX()){const i=e.VO();t?x.Oh(i.Eft(),s):x.Oh(i.Rft(),s)}}YIt(){return this.I_t}KIt(t){this.R_t=!!t}ZIt(){if(this.R_t&&this.zxt){for(const t of this.W7)t.RD().QIt();for(const s of this.lf.$It())s.OB()===this&&s.RD().QIt();this.R_t=!1}}tCt(s,t,e){if(t){const i=this.sIt.get(t);i&&(i.delete(s),0===i.size)&&this.sIt.delete(t)}if(e){let t=this.sIt.get(e);t||(t=new Set,this.sIt.set(e,t)),t.add(s)}}sCt(){if(this.Jz()){const t=new Set;for(const s of this.E_t)for(const e of s.sCt())t.add(e);return t.values()}return this.sIt.keys()}r2t(){return this.Pwt||(this.Pwt=new Map),this.Pwt}n2t(){return this.Awt||(this.Awt=new Map),this.Awt}eCt(){return this.IIt(x.zat.solid)}iCt(){return this.IIt(x.zat.jumpthru)}rCt(){return this.IIt(x.zat.NoSave)}Rz(){return this.IIt(x.zat.Persist)}Sq(){const t={instances:this.W7.map(t=>t.Ub())};return this.Pwt&&this.Pwt.size&&(t.ex=x.Bo(this.Pwt)),t}wq(t,i){this.Pwt&&(this.Pwt.clear(),this.Pwt=null);const s=t.ex,r=(s&&(this.Pwt=x.No(s)),this.W7),n=t.instances;for(let t=0,s=Math.min(r.length,n.length);t<s;++t)r[t].jb(n[t]);for(let t=n.length,s=r.length;t<s;++t)this.lf.VB(r[t]);for(let e=r.length,t=n.length;e<t;++e){let t=n[e],s=null;if(!this.aO()||(s=this.lf.oD().g$(t.w.l))){const h=this.lf.Ez(this.$_t||this,s,!1,0,0,!0);h.jb(t),i&&i.add(h)}}this.lIt=n,this.JIt()}nCt(){return this.lIt}hCt(){this.lIt=null}oCt(){for(let t=0,s=this.W7;t<s;++t)this.W7[t].oCt()}GO(){return this.nIt}uk(){return this.s$}aCt(){return this.hIt}JO(t){this.hIt=t}BX(t){const s=this.lf,e=s.NX()&&!s.pk().KO();e&&ya.StartMeasuringScriptTime(),this.s$.dispatchEvent(t),e&&ya.AddScriptTime()}}}{const wa=self.Bs;wa.lCt=class extends wa.an{constructor(t,s){super(),this.lf=t,this.uCt=s;for(const e of this.uCt)e.cIt(this)}cn(){this.lf=null}YD(){return this.lf}G$(){return this.uCt}fX(){return this.uCt}gX(){return this.uCt.some(t=>t.aO())}}}{let w=self.Bs,r=self.C3Debugger,h=w.iO,o=[],a=0,b=new WeakMap,i=new WeakMap;w.Instance=class extends w.an{constructor(t){if(w.iO!==h)throw new Error("invalid addon manager");super(),this.lf=t.runtime,this.cCt=t.DB,this.Cst=null,this.fCt=null,this.dCt=null,this.pCt=0,this.mCt=t.uid,this.gCt=a++,this.w2t=0,this.yCt=null;const s=w.Zh(t.tags),e=(0<s.length&&(this.yCt=new Set(s)),this.SCt=o,this.wCt=o,this.cCt.PIt()),i=(0<e.length&&(this.wCt=e.map((t,s)=>w.un(w.bCt,{runtime:this.lf,R6:t,P6:this,index:s}))),this.vCt=this.cCt.$B()?[]:null,this.xCt=-1,this.__t=null,this.FO());if(i.sb()&&(this.w2t|=4),i.aO())if(this.Cst=w.un(w.MCt,this,t.XN),t.TCt)this.Cst.GCt(t.TCt);else{this.Cst._Ct();const[r,n]=this.cCt.zIt();this.Cst.lC(r,n),this.OB().AIt()&&this.Cst.$N().ICt()}t.CCt?this.RCt(t.CCt):this.ECt()}cn(){if(this.dCt&&(this.dCt.UB(),this.dCt=null),0<this.wCt.length){for(const e of this.wCt)e.cn();w.Lh(this.wCt)}this.fCt&&(this.fCt.cn(),this.fCt=null);const t=b.get(this),s=(t&&(t.clear(),b.delete(this)),i.get(this));s&&(s.clear(),i.delete(this)),this.vCt&&w.Lh(this.vCt),this.__t&&(this.__t.cn(),this.__t=null),this.yCt&&this.yCt.clear(),this.yCt=null,this.lf=null,this.cCt=null,0<this.SCt.length&&w.Lh(this.SCt),this.Cst&&(this.Cst.cn(),this.Cst=null)}RCt(t){0<t.length&&(this.SCt=[],w.Uh(this.SCt,t))}ECt(){const s=this.cCt.mIt();if(0!==s){this.SCt=[];const e=[0,0,""];for(let t=0;t<s;++t)this.SCt.push(e[this.cCt.ret(t)])}}vIt(t,e){if(this.fCt)throw new Error("already got sdk instance");for(let t=0,s=this.wCt.length;t<s;++t){const i=this.wCt[t];i.vIt(e?e[t]:null)}const s=this.FO().Zwt();if(s<2){if(this.fCt=w.un(this.cCt._It(),this,t),!(this.fCt instanceof w.PMt))throw new Error("sdk type must derive from SDKInstanceBase");!this.FO().aO()&&this.cCt.aCt()&&this.GD()}else{const r=this.FO().dMt();this.FCt(r.Instance,t)}}v6(){return this.fCt??this.dCt}RD(){return this.Cst}YD(){return this.lf}jk(){return this.xCt}QB(){const t=this.xCt;return-1===t?this.YD().jk():t}Vk(t){((t=+t)<0||!isFinite(t))&&(t=0),this.xCt=t,this.OB().AIt()&&this.lf.PCt(this,!0)}sN(){this.xCt=-1,this.OB().AIt()&&this.lf.PCt(this,!1)}hq(){return this.lf.ACt(this)}jf(){return this.__t||(this.__t=w.un(w.Event.jf)),this.__t}bv(t){this.fCt?this.fCt.bv(t):this.dCt._U(this.lf.N5().GIt())}fMt(t){this.fCt.fMt(t)}kCt(){this.w2t|=2}DCt(){return 0!=(2&this.w2t)}OCt(){this.w2t|=1}QU(){return 0!=(1&this.w2t)}sb(){return 0!=(4&this.w2t)||this.fCt.sb()}LCt(){this.w2t|=32}KJ(){return 0!=(32&this.w2t)}BCt(){return 0!=(8&this.w2t)}NCt(t){t?this.w2t|=8:this.w2t&=-9}WCt(){return 0!=(16&this.w2t)}UCt(t){t?this.w2t|=16:this.w2t&=-17}jCt(){return 0!=(64&this.w2t)}VCt(t){t?this.w2t|=64:this.w2t&=-65}HCt(t,s){t<<=16,s?this.w2t|=t:this.w2t&=~t}zCt(t){return 0!=(this.w2t&t<<16)}pTt(){return this.fCt.pTt()}mTt(){return this.fCt.mTt()}gTt(){return this.fCt.gTt()}yTt(){return this.fCt.yTt()}wTt(){return this.fCt.wTt()}lbt(t){return this.fCt.lbt(t)}OB(){return this.cCt}XJ(){return this.fCt.XJ()}ivt(t){return t.Jz()?t.qz(this.OB()):this.OB()===t}JCt(r,t,s){const e=(t,s)=>{const e=s||t.OB(),i=r.get(e);i?i.add(t):r.set(e,new Set([t]))};if(e(this,t),this.$B())for(const i of this.XB())e(i);if(s)for(const n of this.A4())e(n)}qCt(){if(!this.FO().SO())throw new Error("object does not support scene graph")}N4(){return null!==this.G4()}G4(){const t=this.RD();if(!t)return null;const s=t.G4();return s?s.XW():null}I4(){const t=this.RD();if(!t)return null;const s=t.I4();return s?s.XW():null}*C4(){const t=this.RD();if(t)for(const s of t.C4())yield s.XW()}$Ct(t){if(t)for(const s of this.children())if(s===t)return!0;return!1}xq(){const t=this.RD();return!!t&&t.xq()}XCt(t){const s=this.RD();if(!s)return[];const e=t.Zc();return s.TX().map(t=>t.XW()).filter(t=>t.OB().Zc()===e)}TX(){const t=this.RD();return t?t.TX().map(t=>t.XW()):[]}*children(){const t=this.RD();if(t)for(const s of t.children())yield s.XW()}*A4(){const t=this.RD();if(t)for(const s of t.A4())yield s.XW()}E4(){const t=this.RD();return t?t.E4():0}YCt(){return[...this.C4()].length}ovt(){const t=this.RD();return t?t.ovt():0}P4(t){const s=this.RD();if(!s)return null;const e=s.P4(t);return e?e.XW():null}KCt(){const t=this.RD();if(!t)return NaN;const s=t.G4();return s?s.ZCt(t):NaN}QCt(t){for(const s of this.RD().TX())if(s.XW().YB()===t)return!0;return!1}O4(t,s){this.qCt(),t.qCt(),this.RD().O4(t.RD(),s||{})}L4(t){const s=this.RD();s&&s.L4(t.RD())}n6(){const t=this.RD();return!!t&&t.n6()}Z$(){const t=this.RD();if(t){const s=t.tRt();if(s)for(const e of s){const i=this.lf.TD(e[2]);if(i){const r=e[3];this.O4(i,{U4:!!(r>>0&1),V4:!!(r>>1&1),z4:!!(r>>2&1),q4:!!(r>>3&1),Y4:!!(r>>4&1),r6:!!(r>>5&1),Z4:!!(r>>6&1),t6:!!(r>>7&1),e6:!!(r>>8&1)})}}}}Q$(t,s){const e=t.get(this);if(e)for(const i of e.sceneGraphJson.children){const r=s.get(i.index);if(r){const n=i.flags;this.O4(r,{U4:!!(n>>0&1),V4:!!(n>>1&1),z4:!!(n>>2&1),q4:!!(n>>3&1),Y4:!!(n>>4&1),r6:!!(n>>5&1),Z4:!!(n>>6&1),t6:!!(n>>7&1),e6:!!(n>>8&1)})}}}ZB(){const t=this.lf.sRt();return t?t.Llt(this):""}$B(){return null!==this.vCt}dX(t){this.vCt.push(t)}JB(){return this.vCt}eRt(t){return!!this.iRt(t)}iRt(t){const s=this.XB();if(null===s||0===s.length)return!1;for(const e of s)if(e.OB()===t)return e;return null}XB(){return this.vCt}mmt(){for(const t of this.XB())t.OB().VO().Fft(t)}c2t(){for(const t of this.XB())t.OB().VO()._ft(t)}f2t(t){for(const s of this.XB())s.OB().VO().Rft()[t]=s}p2t(){for(const t of this.XB())t.OB().VO().Ift(t)}d2t(t){for(const s of this.XB())s.OB().VO().Eft()[t]=s}FO(){return this.cCt.FO()}qIt(t){this.pCt=t}cX(){return this.cCt.pX(),this.pCt}YB(){return this.mCt}rRt(){return this.gCt}nRt(t){t?this.nN(new Set(t)):this.yCt=null}nN(t){if(0===t.size)this.yCt=null;else{this.yCt?this.yCt.clear():this.yCt=new Set;for(const s of t)this.yCt.add(s)}}iN(){return this.yCt??new Set}Evt(){return Array.from(this.iN()).join(" ")}Avt(t){t=Math.floor(t);for(const s of this.iN()){if(0===t)return s;--t}return""}Rrt(){return this.wCt}hRt(t){if(t)for(const s of this.wCt)if(s.C6()instanceof t)return s;return null}Jat(t){if(!t)return null;const s=this.hRt(t);return s?s.v6():null}Crt(e){const i=this.wCt;for(let t=0,s=i.length;t<s;++t)if(i[t].F6().t9()===e)return t;return-1}oRt(){return this.SCt}EIt(){return this.cCt.EIt()}aRt(){return this.SCt.length}znt(t){const s=this.SCt;if((t|=0)<0||t>=s.length)throw new RangeError("invalid instance variable");return s[t]}FSt(t){return this.SCt[t]}lRt(t){const s=this.SCt[t];return 0===this.cCt.ret(t)?!!s:s}Jnt(t,s){const e=this.SCt;if((t|=0)<0||t>=e.length)throw new RangeError("invalid instance variable");const i=this.cCt.ret(t);switch(i){case 0:e[t]=s?1:0;break;case 1:e[t]="number"==typeof s?s:parseFloat(s);break;case 2:e[t]="string"==typeof s?s:s.toString();break;default:throw new Error("unknown instance variable type")}}Lht(t,s){if(0!==s){const e=this.SCt;if((t|=0)<0||t>=e.length)throw new RangeError("invalid instance variable");const i=e[t];if("number"!=typeof i)throw"boolean"==typeof i?new Error("can not set offset of boolean variable"):"string"==typeof i?new Error("can not set offset of string variable"):new Error("unknown instance variable type");e[t]+="number"==typeof s?s:parseFloat(s)}}r2t(){let t=b.get(this);return t||(t=new Map,b.set(this,t)),t}n2t(){let t=i.get(this);return t||(t=new Map,i.set(this,t)),t}uRt(t){const s=this.OB();if(s.uk().qf(t))return!0;for(const e of s.zdt())if(e.uk().qf(t))return!0;return!!this.lf.uk().qf(t)}YO(){const t=new Set,s=(t.add(this),this.RD());if(s&&s.xq())for(const e of this.A4())if(t.add(e),e.$B())for(const i of e.XB())t.add(i);if(this.$B())for(const r of this.XB())t.add(r);for(const n of t.values())n.tX()}cRt(){this.cCt.aCt()&&this.GD();for(const t of this.wCt)t.tGt()}fRt(){this.cRt()}tX(){if(this.cRt(),this.uRt("instancecreate")){const t=this.OB(),s=new w.Event("instancecreate");s.P6=this.GD(),t.BX(s);for(const e of t.zdt())e.BX(s);this.lf.BX(s)}this.lf.vN(this.FO().spt().nX.Ovt,this,null)}dRt(){this.lf.vN(this.FO().spt().nX.Lvt,this,null)}pRt(t){if(this.dCt){const s=new w.Event("destroy");s.mRt=t,this.BX(s)}if(this.uRt("instancedestroy")){const e=this.OB(),i=new w.Event("instancedestroy");i.P6=this.GD(),i.mRt=t,e.BX(i);for(const r of e.zdt())r.BX(i);this.lf.BX(i)}}gRt(){return this.fCt?this.fCt.sTt():this.dCt.kN()}Ub(t="full",s=null){const e={},i=("full"===t?e.uid=this.YB():e.c3=!0,this.iN());if(0<i.size&&(e.tags=Array.from(i)),"visual-state"!==t){const n=b.get(this);if(n&&n.size&&(e.ex=w.Bo(n)),-1!==this.jk()&&(e.mts=this.jk()),0<this.cCt.mIt()){const h={},o=this.cCt.CIt();for(let t=0,s=this.SCt.length;t<s;++t)h[o[t].toString()]=this.SCt[t];e.ivs=h}if(this.wCt.length){const a={};for(const l of this.wCt){const u=l.Ub(t);u&&(a[l.F6().t9().toString()]=u)}e.behs=a}}this.Cst&&(e.w=this.Cst.Sq(t,s));const r=this.fCt?this.fCt.Ub():this.dCt.DN();return r&&(e.data=r),e}DY(t="full",s){this.Cst&&this.Cst.DY(t)}LY(t,s="full",e=null){this.Cst&&this.Cst.LY(t,s,e)}yRt(t,s="full",e=null){this.Cst&&this.Cst.yRt(t,s,e)}oCt(){this.FO().aO()&&this.Cst.oCt()}jb(s,t="full",e){if("full"===t)this.mCt=s.uid;else if(!s.c3)return;if(this.nRt(s.tags),"visual-state"!==t){let t=b.get(this);t&&(t.clear(),b.delete(this));const r=s.ex,n=(r&&(t=w.No(r),b.set(this,t)),this.xCt=s.hasOwnProperty("mts")?s.mts:-1,s.ivs);if(n)for(const[h,o]of Object.entries(n)){const a=parseInt(h,10),l=this.cCt.RIt(a);if(!(l<0||l>=this.SCt.length)){let t=o;null===t&&(t=NaN),this.SCt[l]=t}}}if(this.FO().aO()){const u=s.w;if(u){const c=u.l;if(this.Cst.ED().t9()!==c){const f=this.Cst.ED(),d=f.cD().g$(c);d?(this.Cst.kD(d),f.Dz(this,!0),d.Pz(this,!0),d.DD(this),this.Cst.YN()):"full"===t&&this.lf.VB(this)}this.Cst.wq(u,t)}}if("visual-state"!==t){const p=s.behs;if(p)for(const[m,g]of Object.entries(p)){const y=parseInt(m,10),S=this.Crt(y);S<0||S>=this.wCt.length||this.wCt[S].jb(g,t)}}const i=s.data;i&&(this.fCt?this.fCt.jb(i,t):this.dCt.ON(i))}GD(){return this.dCt||this.FCt()}nTt(){return!!this.dCt}FCt(t,s){const e=this.Cst?t?self.bU:self.g6:t?self.lN:self.kB,i=t||this.fCt.dMt(),r=this.cCt.aCt(),n=r||i||e,h=this.FO().Zwt();if(w.iO.gMt(this,h),w.iO.gGt(s),this.dCt=new n,w.iO.yGt(),w.iO.yMt(h),i&&!(this.dCt instanceof e))throw new TypeError(`script interface class '${i.name}' does not extend the right base class '${e.name}'`);if(r){const o=i||e;if(!(this.dCt instanceof o))throw new TypeError(`setInstanceClass(): class '${r.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`)}return this.dCt}LB(t){if(0!==this.SCt.length){const e={},i=this.cCt.FIt();for(let t=0,s=i.length;t<s;++t)e[i[t]]={configurable:!1,enumerable:!0,get:w.Instance.prototype.lRt.bind(this,t),set:w.Instance.prototype.Jnt.bind(this,t)};const s=Object.create(Object.prototype,e);t.SRt={value:s,writable:!1}}}BB(t){const s=this.wCt;if(0!==s.length){const e={};for(const r of s)e[r.F6().Bdt()]={value:r.LMt(),writable:!1};const i=Object.create(Object.prototype,e);t.smt={value:i,writable:!1}}}BX(t){if(this.nTt()){const s=this.GD(),e=(t.P6=s,this.lf),i=e.NX()&&!e.pk().KO();i&&r.StartMeasuringScriptTime(),s.dispatchEvent(t),i&&r.AddScriptTime()}}}}{const ba=self.Bs;ba._X=class extends ba.an{constructor(i){super(),this.Xb=i,this.vmt=null,this.wRt=[],this.bRt=i.lm(),this.vRt=i.Mm(),this.xRt=1,this.MRt=1,this.TRt=0,this.GRt=1,this._Rt=i.j3(),this.IRt=null,this.CRt=null,this.RRt=NaN,this.ERt=!1,this.Gq=NaN,this._q=NaN,this.FRt=t=>{if(t.P6===this.vmt.XW()){const s=i.YD(),e=(s.jf().removeEventListener("instancecreate",this.FRt),this.vmt.XW().v6());this.ERt=!!e.vet(),this.Gq=this.ERt?e.bet():NaN,this._q=this.ERt?e.Met():NaN}}}cn(){this.vmt=null,this.IRt=null,this.CRt=null,this.RRt=NaN,this.ERt=!1,this.Gq=NaN,this._q=NaN,ba.Lh(this.wRt)}PRt(t){if(this.GRt=this.Xb.j3(),this._Rt=this.GRt,this.vmt=t,this.TRt=t?t.aL():0,this.vmt){const s=this.Xb,e=s.YD(),i=this.vmt.XW().FO().Zwt();if(i<2){const r=this.vmt.XW().v6();r?(this.ERt=!!r.vet(),this.Gq=this.ERt?r.bet():NaN,this._q=this.ERt?r.Met():NaN):this.vmt.XW().QU()||e.jf().addEventListener("instancecreate",this.FRt)}else this.ERt=!1,this.Gq=NaN,this._q=NaN}else this.ERt=!1,this.Gq=NaN,this._q=NaN}G4(){return this.vmt}xq(){return 0<this.wRt.length}TX(){return this.wRt}ARt(){this.xq()&&1!==this.wRt.length&&(this.CRt?this.wRt.sort((t,s)=>{const e=this.CRt.get(t.XW()),i=this.CRt.get(s.XW());return ba.fi(e)&&ba.fi(i)?e-i:0}):this.wRt.sort((t,s)=>{const e=t.eht().kRt(),i=s.eht().kRt();return ba.fi(e)&&ba.fi(i)?e-i:0}))}kRt(){return this.RRt}iht(){return this.xRt}DRt(t){this.xRt=t}nht(){return this.MRt}ORt(t){this.MRt=t}dht(){return this._Rt}Fbt(){return this.GRt}LRt(t){this.GRt=t}sht(){return 0===this.bRt?Number.EPSILON:this.bRt}rht(){return 0===this.vRt?Number.EPSILON:this.vRt}BRt(){if(this.Xb.J4()){let t=this.vmt,s=t.lm(),e=t.eht().sht();return 0===s&&(s=Number.EPSILON),e===Number.EPSILON&&s===Number.EPSILON?1:e===Number.EPSILON&&s!==Number.EPSILON&&this.ERt?1+s/this.Gq:s/e}return 1}NRt(){if(this.Xb.X4()){let t=this.vmt,s=t.Mm(),e=t.eht().rht();return 0===s&&(s=Number.EPSILON),e===Number.EPSILON&&s===Number.EPSILON?1:e===Number.EPSILON&&s!==Number.EPSILON&&this.ERt?1+s/this._q:s/e}return 1}WRt(){return 0}URt(){return{sw:this.bRt,sh:this.vRt,sx:this.xRt,sy:this.MRt,psa:this.TRt,oo:this.GRt,so:this._Rt,pi:this.Xb.XW().KCt()}}Sq(t,s=null){const e=this.URt();return s&&s.selfOnly?Object.assign(e,{p:null,c:[]}):Object.assign(e,{p:this.jRt(t),c:this.VRt(t)})}HRt(t){let s="";return t.j4()&&(s+="x"),t.H4()&&(s+="y"),t.J4()&&(s+="w"),t.X4()&&(s+="h"),t.K4()&&(s+="a"),t.Q4()&&(s+="z"),t.n6()&&(s+="d"),t.s6()&&(s+="o"),t.i6()&&(s+="v"),s}jRt(t){return this.vmt&&this.vmt.XW()&&!this.vmt.XW().QU()?this.zRt(this.vmt,this.Xb,t):null}VRt(s){return this.wRt.map(t=>this.zRt(t,t,s)).filter(t=>t)}zRt(t,s,e){const i=t.XW();if(i&&i.QU())return null;const r={};return r.uid=i.YB(),r.f=this.HRt(s),r.offsets=s.JRt(),r.data=ba._X.qRt(i),r.oci=i.OB().DA(),"state"===e?(r.inst=i.Ub("full",{selfOnly:!0}),r.instIndex=NaN):(r.instIndex=i.OB().jO().indexOf(i),r.inst=null),r}wq(t){this.bRt=t.sw,this.vRt=t.sh,this.xRt=t.sx,this.MRt=t.sy,this.TRt=t.psa,this.GRt=t.oo,this._Rt=t.so,this.RRt=ba.fi(t.pi)?t.pi:NaN}$Rt(t,s){if(!t&&!s&&this.IRt)for(const e of this.IRt)e.QU()||e.N4()||e.YD().VB(e);this.IRt=t,this.CRt=s}LY(t,s){const e=this.Xb,i=e.YD(),r=new Set;if(t.p&&!this.vmt){const o=t.p.uid,a=i.TD(o);if(s?.Jvt,a){const l=a.RD();if(a.$Ct(e.XW()))this.vmt=l;else{a.QCt(e.XW().YB())?i.VB(e.XW()):a.O4(e.XW(),this.XRt(t.p.f)),r.has(e)||(e.YRt(t.p.offsets),this.KRt(a,t.p,s)),r.add(e);const u=a.RD();u.eht().ARt()}}else if(ba.fi(t.p.oci)){const c=i.vz(t.p.oci),f=(i.ySt(),i.qO(c,e.ED(),0,0,!0));if(s?.Jvt,f){const d=this.ZRt(t.p,i),p=(d&&f.jb(d),f.RD()),m=(p.ED().$O(f),f.O4(e.XW(),this.XRt(t.p.f)),f.RD());m.eht().ARt()}}}const n=[];for(const g of t.c){const y=g.uid,S=i.TD(y);S&&n.push(S)}let h=0;for(const w of t.c){const b=w.uid,v=i.TD(b);if(s?.Jvt,v){if(this.IRt){if(this.IRt.includes(v)){const G=v;if(G.OB()!==v.OB()){h++;continue}if(G.QU()){h++;continue}const _=t.c[h];if(!s?.Jvt&&this.QRt(G,n,e)){this.t3t(h,_,e,r,s),h++;continue}if(G.N4()&&G.G4()!==e.XW()){const I=this.s3t(_,s);this.e3t(I,_,r,s),h++;continue}this.e3t(G.RD(),_,r,s,!0),h++;continue}if(this.IRt[h]){const C=this.IRt[h];if(C.OB()!==v.OB()){h++;continue}if(C.QU()){h++;continue}const R=t.c[h];if(!s?.Jvt&&this.QRt(C,n,e)){this.t3t(h,R,e,r,s),h++;continue}if(C.N4()&&C.G4()!==e.XW()){const E=this.s3t(R,s);this.e3t(E,R,r,s),h++;continue}this.e3t(C.RD(),R,r,s,!0),h++;continue}}const x=v.OB(),M=this.i3t(n,x),T=e.XW().XCt(x).length;if(M===T){const F=e.XW().P4(h);if(F){const P=F.RD();P&&(r.has(P)||(P.YRt(w.offsets),this.KRt(F,w,s)),r.add(P))}h++;continue}if(v.N4()&&v.G4()!==e.XW()){const A=this.s3t(w,s);this.e3t(A,w,r,s),h++;continue}this.e3t(v.RD(),w,r,s)}else if(this.IRt&&this.IRt[h]){const k=this.IRt[h],O=i.vz(this.r3t(w));if(k.OB()!==O){h++;continue}if(k.QU()){h++;continue}const D=t.c[h];if(!s?.Jvt&&this.QRt(k,n,e)){this.t3t(h,D,e,r,s),h++;continue}if(k.N4()&&k.G4()!==e.XW()){const L=this.s3t(D,s);this.e3t(L,D,r,s),h++;continue}this.e3t(k.RD(),D,r,s)}else{const B=this.s3t(w,s);this.e3t(B,w,r,s)}h++}}QRt(t,s,e){const i=t.OB(),r=this.i3t(s,i),n=e.XW().XCt(i).length;return r===n}t3t(t,s,e,i,r){const n=e.XW().P4(t,s);if(n){const h=n.RD();h&&(i.has(h)||(h.YRt(s.offsets),this.KRt(n,s,r)),i.add(h))}}XRt(t){const s={};return s.U4=t.includes("x"),s.V4=t.includes("y"),s.z4=t.includes("w"),s.q4=t.includes("h"),s.Y4=t.includes("a"),s.Z4=t.includes("z"),s.r6=t.includes("d"),s.t6=t.includes("o"),s.e6=t.includes("v"),s}r3t(t){return ba.fi(t.oci)?t.oci:t[1]}s3t(i,r){if(ba.fi(i.oci)){let t=this.Xb,s=t.YD(),e;if(i.data)e=s.Ez(i.data,t.ED(),!1,0,0,!1,!0);else{const n=s.vz(i.oci);e=s.qO(n,t.ED(),0,0,!0)}if(r?.Jvt,e){const h=this.ZRt(i,s),o=(h&&e.jb(h),e.RD());return o.ED().$O(e,!0),o}}}e3t(t,s,e,i,r=!0){const n=this.Xb,h=n.O4(t,this.XRt(s.f));h&&r&&(e.has(t)||(t.YRt(s.offsets),this.KRt(t.XW(),s,i)),e.add(t)),this.ARt()}KRt(t,s,e){let i=this.ZRt(s,this.Xb.YD());i&&((i=JSON.parse(JSON.stringify(i))).w=null,t.jb(i))}i3t(t,s){return t.filter(t=>t.OB().Zc()===s.Zc()).length}ZRt(t,s){if(ba.fi(t.instIndex)){const e=s.vz(t.oci),i=e.nCt();return i?i[t.instIndex]:null}return ba.xi(t.inst)?JSON.parse(t.inst):t.inst||void 0}static qRt(t){let s=t.RD().ED()._z(t.YB());if(!s)return null;s=JSON.parse(JSON.stringify(s));const e=[];for(const i of[...t.TX()]){const r=i.RD();e.push([r.cD().t9(),r.ED().DA(),i.YB(),ba._X.GX(r),i.OB().$B()?1:0,r.FD(),ba._X.qRt(i)])}return ba.Li(s[0][14])?s[0][14][1]=e:(s[0][14]=[],s[0][14][0]=ba._X.n3t(),s[0][14][1]=e,s[0][14][2]=t.RD().FD()),s}static GX(t){let s=0;return(s|=Number(t.i6())<<8)|Number(t.s6())<<7|Number(t.Q4())<<6|Number(t.n6())<<5|Number(t.K4())<<4|Number(t.X4())<<3|Number(t.J4())<<2|Number(t.H4())<<1|Number(t.j4())<<0}static n3t(t){let s=0;return s,511}}}{let d=self.Bs,t=self.vs,n=(t.Rs,d.un(d.Rect)),h=d.un(d.Ql),s=d.un(d.Event,"bboxchange",!1),f=d.un(d.Vo,0,0,0,0),u=d.un(d.Au),e=d.un(d.Vo,1,1,1,1),o=d.un(d.Rect,0,0,-1,-1),r=d.un(d.Rect,0,0,-1,-1),p=new Set(["absolute","relative"]),i=[],m=!0,g=new WeakMap,a=new WeakMap;d.MCt=class extends d.an{constructor(t,s){super(),this._e=t,this.lft=t.OB(),this.lf=t.YD(),this.h3t=s,this.lft.tCt(this,null,s),this.o3t=-1,this.a3t=-1,this.w2t=196635,this.lft.FO().fO()&&(this.w2t|=128),this.tl=NaN,this.sl=NaN,this.mb=NaN,this.l3t=NaN,this.u3t=NaN,this.kx=NaN,this.qo=NaN,this.c3t=NaN,this.f3t=NaN,this.d3t=NaN,this.p3t=NaN,this.m3t=d.un(d.Rect),this.g3t=d.un(d.Ql),this.y3t=r,this.S3t=o,this.w3t=null,this.b3t=null,this.v3t=null,this.pb=e,this.x3t=e,this.M3t=null,this.T3t=null,this._e.OB().AIt()&&(this.T3t=d.un(d.G3t,this._e,this)),this._3t=null,this.IRt=null,this.CRt=null,this.I3t=-1,this.C3t=null}OCt(){this.w2t|=256}cn(){if(this.lft.tCt(this,this.h3t,null),this.M3t&&(this.lf.Y2().rw(this.M3t),this.M3t=null),this.w3t=null,this.b3t&&(this.b3t.R3t.cn(),this.b3t=null),this.v3t&&(this.v3t.clear(),this.v3t=null),this.l6(),this.T3t&&this.T3t.cn(),this.N4()&&this.G4().L4(this),this.xq()){const t=[...this.TX()];for(const s of t)this.L4(s)}this.E3t(),this.F3t(),g.delete(this),a.delete(this),this._e=null,this.lft=null,this.lf=null,this.h3t=null}GCt(t){if(m=!1,this.KN(t[0],t[1]),this.kb(t[2]),this.lC(t[3],t[4]),this.kx=0,this.fO()?this.oL(t[6]):this.qo=0,f.Va(t[7]),this.P3t(f),this.mht(t[8]),this.yht(t[9]),this.yb(t[10]),this.T3t&&this.T3t.A3t(t[12]),t[14]&&g.set(this,{k3t:t[14][1],D3t:t[14][2]}),t[15]){const s=t[15],i=(this.o6(s[0],s[1]),this.p6()),r=s[2];for(let e=0,t=r.length;e<t;++e){const n=r[e];for(let t=0,s=n.length;t<s;++t){const h=n[t],o=i.Sv(t,e);o.Rb(h[0]),o.Pb(h[1]),o.kb(h[2]),o.Ob(h[3]),o.Bb(h[4])}}}if(t[16]){const e=t[16][0],a=t[16][1],l=!!a,u=!l,c=this.lf.sRt();l&&c&&c.Olt(this.XW(),a),u&&c&&c.Olt(this.XW(),e)}m=!0,this.O3t()}_Ct(){this.tl=0,this.sl=0,this.mb=0,this.l3t=0,this.u3t=0,this.kx=0,this.qo=0,this.c3t=0,this.f3t=1,this.d3t=0,this.p3t=0,this.O3t()}YD(){return this.lf}OB(){return this.lft}XW(){return this._e}L3t(){return this.K4()?this.B3t(this.G4().N3t()-this._3t.WRt()):0}Rb(t){if(t=+t,this.j4()){const s=this._3t,e=t-this.Cb(),i=-this.L3t();0==i?this.tl+=e/s.BRt():(this.tl+=Math.cos(i)*e/s.BRt(),this.H4()&&(this.sl+=Math.sin(i)*e/s.NRt()))}else this.tl=t}Knt(t,s=!1){t=+t,!s&&this.j4()?this.Rb(this.Cb()+t):this.tl+=t}Cb(){if(this.j4()){let t=this.tl,s=this._3t,e=this.G4(),i=this.L3t();return 0===i?t*=s.BRt():(t=t*s.BRt()*Math.cos(i),this.H4()&&(t-=this.sl*s.NRt()*Math.sin(i))),e.Cb()+t}return this.tl}Pb(t){if(t=+t,this.H4()){const s=this._3t,e=t-this.Fb(),i=-this.L3t();0==i?this.sl+=e/s.NRt():(this.j4()&&(this.tl-=Math.sin(i)*e/s.BRt()),this.sl+=Math.cos(i)*e/s.NRt())}else this.sl=t}Znt(t,s=!1){t=+t,!s&&this.H4()?this.Pb(this.Fb()+t):this.sl+=t}Fb(){if(this.H4()){let t=this.sl,s=this._3t,e=this.G4(),i=this.L3t();return 0===i?t*=s.NRt():(t=t*s.NRt()*Math.cos(i),this.j4()&&(t+=this.tl*s.BRt()*Math.sin(i))),e.Fb()+t}return this.sl}KN(t,s){if(t=+t,s=+s,this.W3t()){const e=this.j4(),i=this.H4(),r=this._3t,n=t-this.Cb(),h=s-this.Fb(),o=-this.L3t();if(0==o)e?this.tl+=n/r.BRt():this.tl=t,i?this.sl+=h/r.NRt():this.sl=s;else{const a=Math.sin(o),l=Math.cos(o);e?this.tl+=i?(l*n-a*h)/r.BRt():l*n/r.BRt():this.tl=t,i?this.sl+=e?(a*n+l*h)/r.NRt():l*h/r.NRt():this.sl=s}}else this.tl=t,this.sl=s}U3t(){return[this.Cb(),this.Fb()]}t4(t,s){t=+t,s=+s,this.W3t()?this.KN(this.Cb()+t,this.Fb()+s):(this.tl+=t,this.sl+=s)}obt(t,s){return this.Cb()===t&&this.Fb()===s}kb(t){if(t=+t,this.Q4()&&(t-=this.G4().Ab()),this.mb!==t){this.mb=t,this.j3t();const s=this.ED();0!==this.mb&&s.Bz(),s.DD(this)}}j3t(){if(this.O3t(),this.xq()){const e=this.TX();for(let t=0,s=e.length;t<s;t++){const i=e[t];i.Q4()&&i.j3t()}}}Sht(t){this.kb(this.Ab()+t)}Ab(){return this.Q4()?this.G4().Ab()+this.mb:this.mb}e4(){return this.ED().Ab()+this.Ab()}vet(){const t=this.XW().FO().Zwt();return t<2&&this.XW().v6().vet()}wm(t){if(t=+t,this.J4()){const s=this.lm();0===s?this.l3t=Number.EPSILON:this.l3t*=t/s}else this.l3t=t;this.V3t()}zm(t,s){t=+t,!s&&this.J4()?this.wm(this.lm()+t):this.l3t+=t,this.V3t()}lm(){if(this.J4()){const t=this.G4(),s=t.lm(),e=t.eht().sht();return e===Number.EPSILON?(this.eht().sht()+s)*this.l3t:s*this.l3t}return this.l3t}um(t){if(t=+t,this.X4()){const s=this.Mm();0===s?this.u3t=Number.EPSILON:this.u3t*=t/s}else this.u3t=t;this.V3t()}hht(t,s){t=+t,!s&&this.X4()?this.um(this.Mm()+t):this.u3t+=t,this.V3t()}Mm(){if(this.X4()){const t=this.G4(),s=t.Mm(),e=t.eht().rht();return e===Number.EPSILON?(this.eht().rht()+s)*this.u3t:s*this.u3t}return this.u3t}lC(t,s){if(t=+t,s=+s,this.J4()){const e=this.lm();0===e?this.l3t=Number.EPSILON:this.l3t*=t/e}else this.l3t=t;if(this.X4()){const i=this.Mm();0===i?this.u3t=Number.EPSILON:this.u3t*=s/i}else this.u3t=s;this.V3t()}nc(){return[this.lm(),this.Mm()]}YJ(){return this.kx}H3t(t){if(t<0)throw new RangeError("invalid depth");this.kx=t}z3t(){if(this.N4()){const t=this._3t;return Math.min(t.BRt(),t.NRt())}return 1}fO(){return 0!=(128&this.w2t)}oL(t){t=+t,this.fO()&&(this.K4()&&(t-=this.G4().aL()),t=d.Sn(t),this.qo!==t)&&(this.qo=t,this.V3t())}oht(t){0!=(t=+t)&&this.fO()&&(this.qo=d.Sn(this.qo+t),this.V3t())}V3t(){if(this.w2t|=1<<18,this.xq()){const e=this.TX();for(let t=0,s=e.length;t<s;t++)e[t].V3t()}}aL(){return this.K4()&&this.fO()?this.B3t(d.Sn(this.G4().N3t()+this.qo)):this.qo}N3t(){return this.K4()&&this.fO()?d.Sn(this.G4().N3t()+this.qo):this.qo}B3t(t){return this.J4()&&this.I4().lm()<0&&(t=d.Sn(d.En(t,this.I4().aL()+Math.PI))),this.X4()&&this.I4().Mm()<0?d.En(t,this.I4().aL()):t}J3t(){const t=this.G4();return!!(this.J4()&&t.lm()<0)||!!(this.X4()&&t.Mm()<0)}q3t(){const t=this.G4();return!!(this.J4()&&t.lm()<0&&this.X4()&&t.Mm()<0)}$3t(){const t=this.w2t;if(0!=(t&1<<18)){const s=this.aL();this.c3t=Math.sin(s),this.f3t=Math.cos(s),this.w2t=-262145&t}}fbt(){return this.$3t(),this.c3t}cbt(){return this.$3t(),this.f3t}mht(t){this.d3t=+t}pht(t){this.d3t+=+t}aW(){return this.d3t}yht(t){this.p3t=+t}ght(t){this.p3t+=+t}uW(){return this.p3t}P3t(t){this.pb.equals(t)||(this.pb===e?(this.pb=d.un(d.Vo,t),this.x3t=d.un(d.Vo,t),this.x3t.xa()):t.ya(1,1,1,1)?(this.pb=e,this.x3t=e):(this.pb.set(t),this.x3t.set(t),this.x3t.xa()),this.O3t())}H3(t){if(t=d.yn(+t,0,1),this.s6()){if(this.eht().Fbt()===t)return;this.eht().LRt(t),t=this.j3()}else if(this.pb.a===t)return;this.X3t(t)}Y3t(){if(this.xq()){const e=this.TX();for(let t=0,s=e.length;t<s;t++){const i=e[t];i.X3t(i.j3())}}}X3t(t){f.ia(this.pb),f.a=t,this.P3t(f),this.Y3t()}uht(t){this.s6()?this.H3(this.eht().Fbt()+t):this.H3(this.j3()+t)}j3(){return this.s6()?this.G4().j3()*this.eht().Fbt():this.pb.a}c4(t){this.pb.fa(t)||(f.ia(t),f.a=this.j3(),this.P3t(f))}Vnt(t,s,e){f.Xo(t,s,e),this.c4(f)}K3t(t,s,e){0===t&&0===s&&0===e||(f.ia(this.pb),f.r+=t,f.g+=s,f.b+=e,this.c4(f))}u4(){return this.pb}rz(){return this.x3t}n6(){return 0!=(512&this.w2t)}Z3t(t){this.Q3t(512,t)}j4(){return 0!=(1024&this.w2t)}tEt(t){this.Q3t(1024,t)}H4(){return 0!=(2048&this.w2t)}W3t(){return 0!=(3072&this.w2t)}sEt(t){this.Q3t(2048,t)}J4(){return 0!=(4096&this.w2t)}eEt(t){this.Q3t(4096,t)}X4(){return 0!=(8192&this.w2t)}iEt(t){this.Q3t(8192,t)}K4(){return 0!=(16384&this.w2t)}rEt(t){this.Q3t(16384,t)}Q4(){return 0!=(32768&this.w2t)}nEt(t){this.Q3t(32768,t)}s6(){return 0!=(this.w2t&1<<22)}hEt(t){this.Q3t(1<<22,t)}i6(){return 0!=(this.w2t&1<<23)}oEt(t){this.Q3t(1<<23,t)}aEt(){this.w2t&=-12647937}O4(t,s){if(t===this)return!1;if(t.N4())return!1;if(this.lEt(t))return!1;if(this.uEt(t))return!1;const e=t.Cb(),i=t.Fb(),r=t.lm(),n=t.Mm(),h=t.aL(),o=t.Ab(),a=t.j3(),l=(t.cEt(this),t.tEt(s.U4),t.sEt(s.V4),t.eEt(s.z4),t.iEt(s.q4),t.rEt(s.Y4),t.nEt(s.Z4),t.hEt(s.t6),t.oEt(s.e6),t.Z3t(s.r6),e-this.Cb()),u=i-this.Fb(),c=-this.aL(),f=Math.cos(c),d=Math.sin(c);if(s.U4&&(s.Y4?t.tl=l*f-u*d:t.tl=l,s.z4)){const p=this.lm()/this._3t.sht();0!=p&&(t.tl/=p)}if(s.V4&&(s.Y4?t.sl=l*d+u*f:t.sl=u,s.q4)){const m=this.Mm()/this._3t.rht();0!=m&&(t.sl/=m)}if(s.z4){const g=this.lm();0===g||g===Number.EPSILON?(t.l3t=1,t._3t.DRt(1)):(t.l3t=r/this.lm(),t._3t.DRt(t.l3t))}if(s.q4){const y=this.Mm();0===y||y===Number.EPSILON?(t.u3t=1,t._3t.ORt(1)):(t.u3t=n/this.Mm(),t._3t.ORt(t.u3t))}return s.Y4&&(t.qo=h-this.aL()),s.Z4&&(t.mb=o-this.Ab()),s.t6&&t._3t.LRt(a),s.e6&&t.HL(this.JL()),this.fEt(t),this.YN(),this.Y3t(),!0}L4(t){if(t.G4()===this){const s=t.Cb(),e=t.Fb(),i=t.lm(),r=t.Mm(),n=t.aL(),h=t.Ab(),o=t.j3();t.cEt(null),t.aEt(),t.KN(s,e),t.lC(i,r),t.oL(n),t.kb(h),t.H3(o),this.dEt(t),this.YN()}}pEt(){return this.I3t}mEt(){this.gEt();const t=[...this.children()];for(const e of t)this.L4(e);const s=this.G4();s&&s.L4(this),this.aEt()}gEt(){if(this.yEt(),!this.IRt){const s=[...this.children()];s.length&&(this.IRt=[],this.CRt=new WeakMap);let t=0;for(const e of s){const i=e.XW();this.IRt.push(i),this.CRt.set(i,t),t++}}const t=this.G4();t&&t.gEt()}yEt(){if(-1===this.I3t){const t=[...this.C4()];this.I3t=t.length;for(const e of t)e.yEt();const s=[...this.children()];for(const i of s)i.yEt()}}F3t(){this.IRt&&(this.IRt.length=0),this.IRt=null,this.CRt=null;const t=this.G4();t&&t.F3t(),this.I3t=-1}N4(){return null!==this.G4()}G4(){const t=this._3t;return null!==t?t.G4():null}I4(){let t=this;for(;t.N4();)t=t.G4();return t}*C4(){let t=this.G4();for(;t;)yield t,t=t.G4()}$Ct(t){return this.TX().includes(t)}xq(){const t=this._3t;return null!==t&&t.xq()}TX(){const t=this._3t;return null!==t?t.TX():i}children(){return this.TX()}*A4(){for(const t of this.children())yield t,yield*t.A4()}E4(){return this.TX().length}ovt(){return[...this.A4()].length}P4(t){const s=this.TX();return(t=Math.floor(+t))<0||t>=s.length?null:s[t]}ZCt(s){if(s){const e=this.TX();if(e)for(let t=0;t<e.length;t++)if(s===e[t])return t}return NaN}SEt(t){this._3t||(this._3t=d.un(d._X,this)),t&&this._3t.PRt(t)}eht(){return this._3t}E3t(){this._3t&&(this._3t.cn(),this._3t=null)}cEt(t){t?(t.SEt(null),this.SEt(t)):(this._3t&&this._3t.PRt(null),this.xq()||this.E3t())}uEt(t){if(!this.N4())return!1;const s=this.G4();return s===t||s.uEt(t)}lEt(t){if(this.$Ct(t))return!0;for(const s of this.TX())if(s.lEt(t))return!0;return!1}fEt(t){this._3t.TX().push(t)}dEt(t){const s=this._3t.TX(),e=s.indexOf(t);-1!==e&&s.splice(e,1),0!==s.length||this.N4()||this.E3t(),t.xq()||t.E3t()}tRt(){const t=g.get(this);return t?t.k3t:null}wEt(){const t=g.get(this);return t?t.D3t:NaN}vq(){const t=a.get(this);return d.fi(t)?t:NaN}bEt(t){a.set(this,t)}vEt(){this.Q3t(1<<19,!0),this.O3t()}O3t(){if(m){const s=this.lf.Y2();this.M3t&&s.rw(this.M3t);let t;t=0!=(this.w2t&1<<19)?s.BS()||"<point>":s.DS()||"<default>",this.M3t=s.ZS(t,this.gB(),this.x3t,this.Ab())}}iq(){return this.M3t}r9(){return this.pb===e}yb(t){if((t|=0)<0||31<t)throw new RangeError("invalid blend mode");this.gB()!==t&&(this.w2t=this.w2t&~(31<<26)|t<<26,this.O3t())}gB(){return(this.w2t&31<<26)>>26}kD(t,s){const e=s&&this.h3t!==t;e&&this.Oz(),this.lft.tCt(this,this.h3t,t),this.h3t=t,e&&this.xEt(),0!==this.Ab()&&this.h3t.Bz()}ED(){return this.h3t}cD(){return this.ED().cD()}Wz(t){this.o3t=0|t}FD(){return this.h3t.K9(),this.o3t}sJ(t){this.a3t=0|t}qU(){return this.h3t.Q9(),this.a3t}L7(){return this.o3t}Q3t(t,s){s?this.w2t|=t:this.w2t&=~t}JL(){return 0!=(1&this.w2t)}HL(t){if(this.Q3t(1,t),this.xq())for(const s of this.TX())s.i6()&&s.HL(t)}x4(){return 0!=(8&this.w2t)}M4(t){t=!!t,this.x4()!==t&&(this.Q3t(8,t),t?this.YN():this.MEt())}TEt(t,s){if(this.Q3t(32,t),this.v3t&&this.v3t.clear(),s.trim()){this.v3t||(this.v3t=new Set);for(const e of s.split(" "))e&&this.v3t.add(e.toLowerCase())}else this.v3t=null}GEt(t){const s=0!=(32&this.w2t),e=this.v3t;if(t&&e)for(const i of e)if(t.has(i))return s;return!s}YN(){if(this.w2t|=65554,this.lft.KIt(!0),this.lf.OD(),this.h3t.yz()&&(this._Et(this.m3t,this.g3t,!0),this.w2t&=-3,this.xEt()),0!=(4&this.w2t)&&this._e.jf().dispatchEvent(s),null!==this._3t){const e=this._3t.TX();for(let t=0,s=e.length;t<s;++t)e[t].YN()}}_Et(t,s,e){const i=this.Cb(),r=this.Fb(),n=this.lm(),h=this.Mm(),o=this.aL();t.ml(i-this.d3t*n,r-this.p3t*h,n,h),e&&this.d6()&&this.IEt(t),0===o?s.bu(t):(t.offset(-i,-r),s.xu(t,this.fbt(),this.cbt()),s.offset(i,r),s.Mu(t)),t.normalize()}CEt(){const t=this.w2t;0!=(2&t)&&(this._Et(this.m3t,this.g3t,!0),this.w2t=-3&t)}r4(){return this.CEt(),this.m3t}h4(){return this.CEt(),this.g3t}REt(t){const s=this.Cb(),e=this.Fb(),i=Math.round(s)-s,r=Math.round(e)-e;return 0==i&&0==r?t:(h.I(t),h.offset(i,r),h)}EEt(t){this.m3t.I(t),this.g3t.bu(this.m3t),this.w2t&=-3,this.QIt(),this.xEt()}FEt(t){this.Q3t(4,t)}PEt(){return 0!=(4&this.w2t)}zJ(t,s,e){return s&&0!==this.YJ()?this.$J(this.ED().qJ()):0===this.Ab()||e?t.ql(this.r4()):this.AEt()}AEt(){const t=this.ED(),s=this.e4();return!(s>=t.x9())&&(t.b9(s,n),n.ql(this.r4()))}$J(t){const s=this.r4(),e=s.Ml(),i=s.Gl(),r=s.Tl(),n=s._l(),h=this.e4(),o=h+this.YJ();return t.xy(e,r,h,i,n,o)}a4(){const t=this.ED();if(t.k9())return this.$J(t.qJ());{const s=t.cD();return this.zJ(t.bB(),s.HJ(),s.DL())}}tq(t){this.Q3t(1<<20,t)}QJ(t){this.Q3t(1<<21,t)}kEt(){return 0!=(this.w2t&1<<20)}DEt(){return 0!=(this.w2t&1<<21)}OEt(t){this.w3t=t,this.LEt(),this.d6()&&(this.C3t.BEt=null)}NEt(){return this.w3t}WEt(){return null!==this.w3t||this.d6()}UEt(){return this.jEt(this.lm(),this.Mm(),this.aL(),this.fbt(),this.cbt())}VEt(t,s,e){let i=0,r=1;return 0!==e&&(i=Math.sin(e),r=Math.cos(e)),this.jEt(t,s,e,i,r)}jEt(r,n,t,h,o){let s=this.b3t;null===s&&(s={R3t:d.un(d.Au),width:NaN,height:NaN,angle:NaN},this.b3t=s);const a=s.R3t;if(s.width!==r||s.height!==n||s.angle!==t){const l=this.w3t;if(this.d6()){let t=this.aW(),s=this.uW(),e=this.p6(),i=this.C3t.BEt;i||(l?(u.I(l),u.offset(t,s)):u.Uu(),i=e.xv(u),this.C3t.BEt=i),e.Mv(i,a),a.offset(-t,-s),a.zu(r,n,h,o)}else l?(a.I(l),a.zu(r,n,h,o)):a.Hu(this.h4(),-this.Cb(),-this.Fb());s.width=r,s.height=n,s.angle=t}return a}LEt(){this.HEt(!0);const t=this.b3t;null!==t&&(t.width=NaN)}o6(t,s){if(t=Math.floor(t),s=Math.floor(s),!this.XW().FO().bO())throw new Error("object does not support mesh");this.l6(),this.C3t={zEt:d.un(d.iy.Jb,t,s),JEt:d.un(d.iy.Jb,t,s),BEt:null}}d6(){return null!==this.C3t}p6(){if(this.d6())return this.C3t.zEt;throw new Error("no mesh")}qEt(){if(this.d6())return this.C3t.JEt;throw new Error("no mesh")}$Et(t){this.Q3t(65536,t)}XEt(){return 0!=(65536&this.w2t)}HEt(t){this.Q3t(1<<17,t)}YEt(){return 0!=(this.w2t&1<<17)}IEt(t){const s=this.C3t.zEt,e=Math.min(s.uv(),0),i=Math.min(s.cv(),0),r=Math.max(s.dv(),1),n=Math.max(s.pv(),1),h=t.width(),o=t.height();t.offsetLeft(e*h),t.offsetTop(i*o),t.Al((r-1)*h),t.kl((n-1)*o),this.kx=s.gv()}l6(){this.C3t&&(this.C3t.zEt.cn(),this.C3t.JEt.cn(),this.C3t=null,this.LEt())}c6(t,s,e){t=Math.floor(t),s=Math.floor(s);const i=e.mode||"absolute";if(!p.has(i))throw new Error("invalid mode");let r="relative"===i,n=e.x,h=e.y,o=e.lB,a="number"==typeof e.u?e.u:r?0:-1,l="number"==typeof e.v?e.v:r?0:-1;if(!this.d6())return!1;const u=this.p6(),c=u.Sv(t,s);if(null===c)return!1;let f=!1;return"number"==typeof o&&c.Ab()!==o&&(c.kb(o),f=!0),r&&(n+=t/(u.nv()-1),h+=s/(u.hv()-1)),a=-1!==a||r?(r&&(a+=t/(u.nv()-1)),d.yn(a,0,1)):c.Db(),l=-1!==l||r?(r&&(l+=s/(u.hv()-1)),d.yn(l,0,1)):c.Lb(),c.Cb()===n&&c.Fb()===h&&c.Db()===a&&c.Lb()===l?f:(c.Rb(n),c.Pb(h),c.Ob(a),c.Bb(l),this.LEt(),!0)}DCt(){return this._e.DCt()}T4(t,s){return!!this.r4().Xl(t,s)&&!!this.h4().Xl(t,s)&&(this.DCt()?this._e.v6().vTt(t,s):!this.WEt()||this.UEt().Xl(t-this.Cb(),s-this.Fb()))}KEt(){return 0!=(16&this.w2t)}QIt(){if(this.KEt()&&this.x4()&&0==(256&this.w2t)){const t=this.r4(),s=this.lft.YIt(),e=this.y3t;if(n.set(s.sH(t.Ml()),s.eH(t.Tl()),s.sH(t.Gl()),s.eH(t._l())),!e.equals(n)){const i=this._e;e===r?(s.iH(i,null,n),this.y3t=d.un(d.Rect,n)):(s.iH(i,e,n),e.I(n)),this.w2t&=-17}}}ZEt(){this.w2t|=16}MEt(){const t=this.y3t;t!==r&&(this.lft.YIt().iH(this._e,t,null),this.y3t=r)}xEt(){const t=this.ED();if(t.yz()&&0==(256&this.w2t)){const s=t.h9(),e=this.r4(),i=this.S3t;if(n.set(s.sH(e.Ml()),s.eH(e.Tl()),s.sH(e.Gl()),s.eH(e._l())),!i.equals(n)){const r=this._e;i===o?(s.iH(r,null,n),this.S3t=d.un(d.Rect,n)):(s.iH(r,i,n),i.I(n)),t.o9()}}}Oz(){const t=this.S3t;t!==o&&(this.ED().h9().iH(this._e,t,null),this.S3t=o)}Z9(){return this.S3t}d4(){const t=this._e,s=this.h3t,e=s.AD();e.length&&e.at(-1)===t||(s.Dz(t,!1),s.Pz(t,!1),this.lf.OD())}g4(){const t=this._e,s=this.h3t,e=s.AD();e.length&&e[0]===t||(s.Dz(t,!1),s.kz(t,!1),this.lf.OD())}S4(t){const s=this._e,e=this.h3t;if(e.cD()!==t.cD())throw new Error("layer from different layout");t!==e&&(e.Dz(s,!0),this.kD(t),t.Pz(s,!0),this.lf.OD())}b4(t,s){let e=this._e,i=!1,r=this.h3t;if(t.YB()!==e.YB()){const n=t.RD();if(!n)throw new Error("expected world instance");const h=n.ED(),o=(r.DA()!==h.DA()&&(r.Dz(e,!0),this.kD(h),h.Pz(e,!0),i=!0),h.rJ(e,t,!!s));(i||o)&&this.lf.OD()}}$N(){return this.T3t}QEt(t){this.Q3t(64,t)}cJ(){return 0!=(64&this.w2t)}Sq(t,s=null){const e={x:this.Cb(),y:this.Fb(),w:this.lm(),h:this.Mm(),l:this.ED().t9(),zi:this.FD()},i=(0!==this.Ab()&&(e.ze=this.Ab()),0!==this.aL()&&(e.a=this.N3t()),this.r9()||(e.c=this.pb.toJSON()),.5!==this.aW()&&(e.oX=this.aW()),.5!==this.uW()&&(e.oY=this.uW()),0!==this.gB()&&(e.bm=this.gB()),this.JL()||(e.v=this.JL()),this.x4()||(e.ce=this.x4()),this.PEt()&&(e.be=this.PEt()),this.T3t&&(e.fx=this.T3t.Sq()),0!=(32&this.w2t));return i&&(e.sfi=i),this.v3t&&(e.sft=[...this.v3t].join(" ")),this._3t&&"visual-state"!==t&&(e.sgi=this._3t.Sq(t,s),g.has(this))&&(e.sgcd=g.get(this).k3t,e.sgzid=g.get(this).D3t),this.d6()&&(e.mesh=this.p6().Ub()),e}JRt(){return{x:this.tl,y:this.sl,z:this.mb,w:this.l3t,h:this.u3t,a:this.qo,sgi:this.eht()?this.eht().URt():null}}YRt(t){t&&(this.tl=t.x,this.sl=t.y,this.mb=t.z,this.l3t=t.w,this.u3t=t.h,this.qo=t.a,t.sgi&&this.eht()&&this.eht().wq(t.sgi),this.V3t(),this.YN())}oCt(){this.F3t(),this.mEt(),this.SEt(null),this._3t&&this._3t.$Rt(this.IRt,this.CRt)}DY(t){"visual-state"!==t&&this.mEt()}LY(t,s="full",e=null){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.w2t)&&this._3t.LY(t.sgi,e)}yRt(t,s="full",e){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.w2t)&&(this._3t.$Rt(null,null),this.F3t(),this.YN())}wq(t,s){if(m=!1,this.Rb(t.x),this.Pb(t.y),this.wm(t.w),this.um(t.h),this.Wz(t.zi),this.kb(t.hasOwnProperty("ze")?t.ze:0),this.oL(t.hasOwnProperty("a")?t.a:0),t.hasOwnProperty("c")?f.Va(t.c):t.hasOwnProperty("o")?(f.ia(this.pb),f.a=t.o):f.$o(1,1,1,1),this.P3t(f),this.mht(t.hasOwnProperty("oX")?t.oX:.5),this.yht(t.hasOwnProperty("oY")?t.oY:.5),this.yb(t.hasOwnProperty("bm")?t.bm:0),this.HL(!t.hasOwnProperty("v")||t.v),this.M4(!t.hasOwnProperty("ce")||t.ce),this.FEt(!!t.hasOwnProperty("be")&&t.be),this.TEt(!!t.hasOwnProperty("sfi")&&t.sfi,t.hasOwnProperty("sft")?t.sft:""),this.T3t&&t.hasOwnProperty("fx")&&this.T3t.wq(t.fx),!t.hasOwnProperty("sgi")&&"visual-state"!==s&&this.IRt)for(const e of this.IRt)e.QU()||this.lf.VB(e);if(t.hasOwnProperty("sgi")&&"visual-state"!==s){this.SEt(null);const i=this._3t,r=t.sgi;i.wq(r),i.$Rt(this.IRt,this.CRt),t.sgcd&&d.fi(t.sgzid)&&g.set(this,{k3t:t.sgcd,D3t:t.sgzid})}if(t.hasOwnProperty("mesh")){const n=t.mesh;this.o6(n.cols,n.rows),this.p6().jb(n)}else this.l6();this.YN(),m=!0,this.O3t(),"visual-state"!==s&&this.lf.tFt(this.XW(),t)}}}{const va=self.Bs;va.U_t=class extends va.an{constructor(t,s){super();const e=t.YD(),i=e.byt(s[1]),r=(e.sFt().mGt(i),this.lf=e,this.lft=t,this.XTt=va.iO.O6(i),this.kMt=null,this.eFt=null,this.S_t=i.Instance,this.wH=s[2],this.mn=s[0],this.iSt=this.lf.Bdt(s[3]),this.XTt.Zwt());if(r<2&&(this.kMt=va.un(i.rIt,this),!(this.kMt instanceof va.$Tt)))throw new Error("v1 sdk type must derive from SDKBehaviorBase");if(va.iO.gMt(this,r),2<=r){const n=i.rIt??globalThis.u8;if(this.eFt=new n,!(this.eFt instanceof globalThis.u8))throw new Error("script interface class must derive from ISDKBehaviorTypeBase")}else this.eFt=new globalThis.k6;va.iO.yMt(r),this.fMt()}static wM(t,s){return va.un(va.U_t,t,s)}cn(){this.lf=null,this.XTt=null,this.kMt&&(this.kMt.cn(),this.kMt=null),this.S_t=null}$2t(){return this.kMt}fMt(){this.kMt?this.kMt.fMt():this.eFt&&this.eFt.dU()}YD(){return this.lf}OB(){return this.lft}C6(){return this.XTt}_It(){return this.S_t}Zc(){return this.mn}t9(){return this.wH}E6(){return this.eFt}Bdt(){return this.iSt}}}{const xa=self.Bs,Ma=self._6;xa.bCt=class extends xa.an{constructor(t){super(),this.lf=t.runtime,this.OSt=t.R6,this.XTt=this.OSt.C6(),this._e=t.P6,this.Xg=t.index,this.fCt=null,this.dCt=null,this.XTt.Pz(this._e)}cn(){this.dCt&&(this.dCt.UB(),this.dCt=null),this.XTt.Dz(this._e),this.fCt&&(this.fCt.cn(),this.fCt=null),this.lf=null,this.OSt=null,this.XTt=null,this._e=null}vIt(t){if(this.fCt)throw new Error("already got sdk instance");const s=this.C6().Zwt();if(s<2){if(this.fCt=xa.un(this.OSt._It(),this,t),!(this.fCt instanceof xa.YTt))throw new Error("v1 sdk type must derive from SDKBehaviorInstanceBase")}else{const e=this.C6().dMt();this.mMt(e.Instance,t)}}v6(){return this.fCt??this.dCt}A6(){return this._e}YD(){return this.lf}F6(){return this.OSt}C6(){return this.XTt}Rnt(){return this.Xg}tGt(){this.fCt?this.fCt.tGt():this.dCt.p8()}rGt(t,s){this.fCt&&this.fCt.rGt(t,s)}gRt(){return this.fCt?this.fCt.sTt():this.dCt.kN()}Ub(t="full"){return this.fCt?this.fCt.Ub(t):this.dCt.DN(t)}jb(t,s="full"){if(this.fCt)return this.fCt.jb(t,s);this.dCt.ON(t,s)}static iFt(t,s,e){let i=globalThis.c8,r,n;r=s instanceof i?t.vL(s):s.QTt(),n=e instanceof i?t.vL(e):e.QTt();const h=r.A6(),o=n.A6(),a=h.OB().DA(),l=o.OB().DA();if(a!==l)return a-l;const u=h.rRt(),c=o.rRt();return u!==c?u-c:r.Rnt()-n.Rnt()}mMt(t,s){const e=Ma,i=t??this.fCt.dMt(),r=i||e,n=this.C6().Zwt();if(xa.iO.gMt(this,n),xa.iO.gGt(s),this.dCt=new r,xa.iO.yGt(),xa.iO.yMt(n),!i||this.dCt instanceof e)return this.dCt;throw new TypeError(`script interface class '${i.name}' does not extend the right base class '${e.name}'`)}LMt(){return this.dCt||this.mMt()}nTt(){return!!this.dCt}}}{const Ta=self.Bs;Ta.ez=class extends Ta.an{constructor(t,s){super(),this.Xb=t,this.rFt=[],this.nFt=[],this.hFt=new Map,this.oFt=[],this.aFt=[],this.lFt=new Set,this.L2=!0;for(const e of s){const i=Ta.un(Ta.uFt,this,e,this.rFt.length);this.rFt.push(i),this.hFt.set(i.Zc().toLowerCase(),i),3<=e.length&&this.oFt.push(this.cFt(i,e[2]))}this.YD().fFt(this)}cn(){this.YD().dFt(this);for(const t of this.aFt)t.cn();Ta.Lh(this.aFt),Ta.Lh(this.rFt),Ta.Lh(this.nFt),this.hFt.clear(),Ta.Lh(this.oFt),this.Xb=null}pFt(t){this.lFt.add(t)}mFt(t){this.lFt.delete(t)}gFt(t){t.CS()&&(this.aFt=this.rFt.map(t=>{const s=t.ST();return 0<s.GetCustomParametersByteSize()?Ta.un(Ta.iy.WebGPUEffectCustomParamsBuffer,s):null}),this.yFt());for(const s of this.lFt)s.gFt(t)}wIt(t){if(t.length){this.rFt=t.concat(this.rFt);for(const s of t)this.hFt.set(s.Zc().toLowerCase(),s);for(let t=0,s=this.rFt.length;t<s;++t)this.rFt[t].Xz(t)}}cFt(t,s){t.SFt(s[0]);const e=s.slice(1);for(let t=0,s=e.length;t<s;++t){const i=e[t];if(Array.isArray(i)){const r=Ta.un(Ta.Vo);r.Va(i),e[t]=r}}return e}ov(){return this.Xb}YD(){return this.Xb.YD()}N6(){Ta.Lh(this.nFt);let t=!0;for(const s of this.rFt)s.hmt()&&(this.nFt.push(s),s.ST().eb()||(t=!1));this.L2=t}eL(){return this.rFt}kIt(){return 0<this.rFt.length}Prt(t){return this.hFt.get(t.toLowerCase())||null}wFt(t){if((t=Math.floor(+t))<0||t>=this.rFt.length)throw new RangeError("invalid effect type index");return this.rFt[t]}L6(t){return this.wFt(t).hmt()}B6(t,s){this.wFt(t).SFt(s)}n9(){return this.nFt}cJ(){return 0<this.nFt.length}eb(){return this.L2}Frt(t){return this.oFt[t]}hz(t){return(t<this.aFt.length?this.aFt:this.oFt)[t]}W6(t,s){if(t<0||t>=this.oFt.length)return null;const e=this.oFt[t];return s<0||s>=e.length?null:e[s]}U6(t,s,e){if(t<0||t>=this.oFt.length)return!1;const i=this.oFt[t];if(s<0||s>=i.length)return!1;const r=i[s];if(r instanceof Ta.Vo){if(r.fa(e))return!1;r.ia(e)}else{if(r===e)return!1;i[s]=e}return t<this.aFt.length&&this.aFt[t].SetParameterValue(s,e),!0}yFt(){const e=this.oFt,i=this.aFt;for(let t=0,s=Math.min(e.length,i.length);t<s;++t){const r=i[t],n=e[t];for(let t=0,s=n.length;t<s;++t)r.SetParameterValue(t,n[t])}}static bFt(t){return t&&t instanceof Ta.Vo?{t:"color",v:t.toJSON()}:t}static vFt(t){if(null===t)return NaN;if("object"!=typeof t)return t;{const s=t.t;if("color"!==s)throw new Error("invalid effect parameter type");{const e=Ta.un(Ta.Vo);return e.Va(t.v),e}}}static xFt(t){return t.map(Ta.ez.bFt)}static MFt(t){return t.map(Ta.ez.vFt)}Ub(){return this.rFt.map(t=>({name:t.Zc(),active:t.hmt(),params:Ta.ez.xFt(this.oFt[t.DA()])}))}jb(t){for(const s of t){const e=this.Prt(s.name);e&&(e.SFt(s.active),this.oFt[e.DA()]=Ta.ez.MFt(s.params))}this.N6(),this.yFt()}}}{const Ga=self.Bs;Ga.uFt=class extends Ga.an{constructor(t,s,e){super(),this.sz=t,this.cf=s[0],this.mn=s[1],this.Xg=e,this.ub=null,this.a0=!0}cn(){this.sz=null,this.ub=null}SIt(t){const s=Ga.un(Ga.uFt,t,[this.cf,this.mn],-1);return s.ub=this.ub,s.a0=this.a0,s}gFt(t){const s=t.kS(this.cf);if(!s)throw new Error("failed to find shader program '"+this.cf+"'");this.ub=s}sL(){return this.sz}Zc(){return this.mn}Xz(t){this.Xg=t}DA(){return this.Xg}ov(){return this.sz.ov()}YD(){return this.sz.YD()}SFt(t){this.a0=!!t}hmt(){return this.a0}ST(){return this.ub}TFt(){const e=[];for(let t=0,s=this.ub.wT();t<s;++t){const i=this.ub.bT(t);if("float"===i||"percent"===i)e.push(0);else{if("color"!==i)throw new TypeError("unknown effect parameter type");e.push(Ga.un(Ga.Vo,1,1,1,1))}}return e}}}{const _a=self.Bs;_a.G3t=class extends _a.an{constructor(t,s){super(),this._e=t,this.GFt=s,this.sz=t.OB().sL(),this._Ft=!0,this.az=!0,this.IFt=!1,this.CFt=!1,this.RFt=!1,this.EFt=!1,this.FA=_a.un(_a.iy.FF,t.YD().N5().iz(),{bF:(t,s)=>{const e=s.MA(),i=e.RD();t.Sb(i.rz()),t.bw(i.e4()),e.bv(t),t.bw(0)},vF:t=>{const s=t.gTt(),[e,i]=t.mTt();return{gA:s,yA:e,SA:i}},xF:t=>this.hz(t)}),this.FFt=[],this.nFt=[],this.L2=!0,this.oFt=[],this.aFt=[],this.gFt(t.YD().Y2());for(let t=0,s=this.sz.eL().length;t<s;++t)this.FFt.push(!0);this.N6(),this.sz.pFt(this)}cn(){this.sz.mFt(this);for(const t of this.aFt)t&&t.cn();_a.Lh(this.aFt),this.FA.cn(),this.FA=null,_a.Lh(this.FFt),_a.Lh(this.nFt),_a.Lh(this.oFt),this._e=null,this.sz=null}gFt(t){t.CS()&&(this.aFt=this.sz.eL().map(t=>{const s=t.ST();return 0<s.GetCustomParametersByteSize()?_a.un(_a.iy.WebGPUEffectCustomParamsBuffer,s):null}))}A3t(t){let s=0;for(const e of t)this.oFt.push(this.cFt(s,e)),++s;this.yFt(),this.N6()}cFt(t,s){this.FFt[t]=s[0];const e=s.slice(1);for(let t=0,s=e.length;t<s;++t){const i=e[t];if(Array.isArray(i)){const r=_a.un(_a.Vo);r.Va(i),e[t]=r}}return e}ICt(){for(const t of this.sz.eL())this.oFt.push(t.TFt());this.yFt()}ov(){return this.Xb}sL(){return this.sz}kA(){return this.i9(),this.FA}YD(){return this._e.YD()}N6(){_a.Lh(this.nFt);let t=this.GFt,e=this.sz.eL(),i=this.nFt,r=this.FFt,n=!0;for(let t=0,s=e.length;t<s;++t)if(r[t]){const h=e[t];i.push(h),h.ST().eb()||(n=!1)}this.L2=n,t.QEt(!!i.length),this._Ft=!0}i9(){const t=this._e,s=this.GFt,e=s.r9(),i=t.FO().gO(),r=0!==s.aL()||0!==s.ED().aL()||s.lm()<0||s.Mm()<0,n=t.wTt(),h=t.sb();(this._Ft||e!==this.az||i!==this.IFt||r!==this.CFt||n!==this.RFt||h!==this.EFt||this.FA.vP())&&(this.FA.xP(this.nFt.map(t=>t.ST()),{TF:this.nFt.map(t=>t.DA()),GF:!e||h,IF:i,CF:n,RF:r}),this._Ft=!1,this.az=e,this.IFt=i,this.CFt=r,this.RFt=n,this.EFt=h)}n9(){return this.nFt}Frt(t){return this.oFt[t]}hz(t){return(t<this.aFt.length?this.aFt:this.oFt)[t]}W6(t,s){if(t<0||t>=this.oFt.length)return null;const e=this.oFt[t];return s<0||s>=e.length?null:e[s]}U6(t,s,e){if(t<0||t>=this.oFt.length)return!1;const i=this.oFt[t];if(s<0||s>=i.length)return!1;const r=i[s];if(r instanceof _a.Vo){if(r.fa(e))return!1;r.ia(e)}else{if(r===e)return!1;i[s]=e}return t<this.aFt.length&&this.aFt[t].SetParameterValue(s,e),!0}yFt(){const e=this.oFt,i=this.aFt;for(let t=0,s=i.length;t<s;++t){const r=i[t],n=e[t];for(let t=0,s=n.length;t<s;++t)r.SetParameterValue(t,n[t])}}eb(){return this.L2}PFt(){return this.nFt.some(t=>t.ST().nb())}L6(t){return this.FFt[t]}B6(t,s){this.FFt[t]=!!s}eL(){return this.sz.eL()}Sq(){return this.sz.eL().map(t=>({name:t.Zc(),active:this.FFt[t.DA()],params:_a.ez.xFt(this.oFt[t.DA()])}))}wq(t){for(const s of t){const e=this.sz.Prt(s.name);e&&(this.FFt[e.DA()]=s.active,this.oFt[e.DA()]=_a.ez.MFt(s.params))}this.N6(),this.yFt()}}}{let _=self.Bs,n=[],b=[],h=[],v=_.un(_.Au),S=_.un(_.Au),x=_.un(_.Ql),d=_.un(_.Rect),p=_.un(_.Rect),m=null,g=null,y=null;_.AFt=class extends _.an{constructor(t){super(),this.lf=t,this.kFt=0,this.DFt=0,this.OFt=[],this.LFt=0,this.BFt=0,this.NFt=0,this.WFt=0,this.UFt=new self.g5(this)}cn(){this.lf=null}YD(){return this.lf}UA(){return this.UFt}jFt(){this.BFt=this.LFt,this.LFt=0,this.WFt=this.NFt,this.NFt=0}VFt(){return this.BFt}HFt(){return this.WFt}zFt(t,s){const e=t.RD(),i=s.RD();e&&i&&e.x4()&&i.x4()&&this.OFt.push([t,s])}Kbt(s,e,i){for(const[r,n]of this.OFt){let t=null;if(s===r)t=n;else{if(s!==n)continue;t=r}t.ivt(e)&&!i.includes(t)&&i.push(t)}}Zbt(t,s){if(this.OFt.length)for(const[e,i]of this.OFt)if(t===e&&s===i||t===i&&s===e)return!0;return!1}JFt(){_.Lh(this.OFt)}S5(t,s){if(!t||!s||t===s)return!1;const e=t.RD(),i=s.RD();if(!e.x4()||!i.x4())return!1;this.LFt++;const r=e.ED(),n=i.ED(),h=r.J9(n);return h?this.qFt(e,i):this.$Ft(e,i)}qFt(t,s){if(!t.r4().ql(s.r4()))return!1;if(this.NFt++,!t.h4().Gu(s.h4()))return!1;if(t.DCt()&&s.DCt())return!1;if(t.DCt())return this.XFt(t,s);if(s.DCt())return this.XFt(s,t);if(!t.WEt()&&!s.WEt())return!0;const e=t.UEt(),i=s.UEt();return e.Ju(i,s.Cb()-t.Cb(),s.Fb()-t.Fb())}$Ft(e,i){const t=e.DCt(),s=i.DCt();if(t&&!s)return this.YFt(e,i);if(s&&!t)return this.YFt(i,e);if(s||t)return!1;{const r=e.ED(),n=i.ED(),h=(v.I(e.UEt()),S.I(i.UEt()),v.Bu());for(let t=0,s=h.length;t<s;t+=2){const a=t+1,l=h[t],u=h[a],[c,f]=r._B(l+e.Cb(),u+e.Fb());h[t]=c,h[a]=f}const o=S.Bu();for(let t=0,s=o.length;t<s;t+=2){const d=t+1,p=o[t],m=o[d],[g,y]=n._B(p+i.Cb(),m+i.Fb());o[t]=g,o[d]=y}return v.ju(),S.ju(),this.NFt++,v.Ju(S,0,0)}}YFt(t,s){const e=t.ED(),i=s.ED(),r=(m=m||_.un(_.Au),g=g||_.un(_.Rect),y=y||_.un(_.Ql),s.Cb()),n=s.Fb(),[h,o]=i._B(r,n),[a,l]=e.xB(h,o),u=a-r,c=l-n;if(g.I(s.r4()),g.offset(u,c),!t.r4().ql(g))return!1;if(y.I(s.h4()),y.offset(u,c),this.NFt++,!t.h4().Gu(y))return!1;m.I(s.UEt());const f=m.Bu();for(let t=0,s=f.length;t<s;t+=2){const d=t+1;f[t]+=u,f[d]+=c}return m.ju(),this.XFt(t,s,a,l,m,g,y)}XFt(t,i,s,e,r,n,h){const o=void 0!==n?n:i.r4(),a=t.Cb(),l=t.Fb(),u=t.XW().v6(),c=void 0!==s?s:i.Cb(),f=void 0!==e?e:i.Fb(),d=i.WEt(),p=void 0!==h?h:i.h4(),m=b;u.GetCollisionRectCandidates(o,m);for(let t=0,s=m.length;t<s;++t){const g=m[t],y=g.GetRect();if(this.LFt++,o.$l(y,a,l)&&(x.bu(y),x.offset(a,l),x.Gu(p)))if(d){let t=void 0!==r?r:i.UEt(),s=c,e=f;void 0!==r&&(s=i.Cb(),e=i.Fb());const S=g.GetPoly();if(S){if(this.NFt++,S.Ju(t,s-(a+y.Ml()),e-(l+y.Tl())))return _.Lh(m),!0}else if(v.Hu(x,0,0),v.Ju(t,s,e))return _.Lh(m),!0}else{const w=g.GetPoly();if(!w)return _.Lh(m),!0;if(v.Hu(p,0,0),w.Ju(v,-(a+y.Ml()),-(l+y.Tl())))return _.Lh(m),!0}}return _.Lh(m),!1}KFt(t,o,a){const l=t.VO(),s=this.lf.bk();if(!s)throw new Error("cannot call outside event");const u=s.Bft(),e=new Map,c=t=>{let s=e.get(t);return void 0===s&&(s=t.QL(),e.set(t,s)),s};if(l.vft()){a||(l.Cft(!1),_.Lh(l.Rft())),u&&_.Lh(l.Eft());for(const i of t.jO()){let r=i.RD(),n=r.ED();if(!(!c(n)||!r.a4())&&o.some(([t,s])=>{const[e,i]=n.xB(t,s,r.e4());return r.T4(e,i)})){if(a)return!1;l._ft(i)}else u&&l.Ift(i)}}else{let e,i=!1,h=(!u||s.Egt(this.lf.Rdt())||this.lf.Z2t()&&!l.Eft().length&&l.Rft().length?e=l.Rft():(e=l.Eft(),i=!0),0);for(let s=0,t=e.length;s<t;++s){let t=e[s],r=t.RD(),n=r.ED();if(!(!c(n)||!r.a4())&&o.some(([t,s])=>{const[e,i]=n.xB(t,s,r.e4());return r.T4(e,i)})){if(a)return!1;i?l._ft(t):e[h++]=t}else i?e[h++]=t:u&&l.Ift(t)}a||(e.length=h)}return t.cyt(),e.clear(),!!a||l.xft()}ZFt(t,s){if(t)for(const e of s.sCt())if(!t.J9(e))return!1;return!0}K2t(t,s,e,i){if(s.Jz())for(const r of s.igt())this.ZFt(t,r)?(r.ZIt(),r.YIt().rH(e,i)):_.Yr(i,r.jO());else this.ZFt(t,s)?(s.ZIt(),s.YIt().rH(e,i)):_.Yr(i,s.jO())}C5(t,s,e,i){for(const r of s)this.K2t(t,r,e,i)}QFt(t,s,e){const i=this.lf.wGt();i&&this.C5(t,i.hK(),s,e)}tPt(t,s,e){const i=this.lf.bGt();i&&this.C5(t,i.hK(),s,e)}GEt(t,s){return t.BCt()&&(!s||s.RD().GEt(t.r2t().get("solidTags")))}v5(t){const s=t.RD();this.QFt(s.ED(),s.r4(),n);for(const e of n)if(this.GEt(e,t)&&this.S5(t,e))return _.Lh(n),e;return _.Lh(n),null}sPt(t,s){this.QFt(null,t,n);for(const e of n)if(this.GEt(e,s)&&this.ePt(t,e))return _.Lh(n),e;return _.Lh(n),null}iPt(t,s){let e=null;s&&(e=h,_.Lh(e));const i=t.RD();this.tPt(i.ED(),i.r4(),n);for(const r of n)if(r.WCt()&&this.S5(t,r)){if(!s)return _.Lh(n),r;e.push(r)}return _.Lh(n),e}rPt(s,e,i,r,n){r=r||50;const h=s.RD(),o=h.Cb(),a=h.Fb();for(let t=0;t<r;++t)if(h.KN(o+e*t,a+i*t),h.YN(),!this.S5(s,n))return!0;return h.KN(o,a),h.YN(),!1}nPt(s,e,i,r,n,h){r=r||50;let o=s.RD(),a=o.Cb(),l=o.Fb(),u=null,c=null;for(let t=0;t<r;++t)if(o.KN(a+e*t,l+i*t),o.YN(),!this.S5(s,u))if(u=this.v5(s))c=u;else if(n&&(u=h?this.S5(s,h)?h:null:this.iPt(s))&&(c=u),!u)return c&&this.hPt(s,e,i,c,16,!0),!0;return o.KN(a,l),o.YN(),!1}oPt(e,i,r,t){t=t||50;let n=e.RD(),h=n.Cb(),o=n.Fb(),a=null,l=null;for(let s=0;s<t;++s)for(let t=0;t<2;++t){const u=2*t-1;if(n.KN(h+i*s*u,o+r*s*u),n.YN(),!this.S5(e,a)){if(!(a=this.v5(e)))return l&&this.hPt(e,i*u,r*u,l,16,!0),!0;l=a}}return n.KN(h,o),n.YN(),!1}hPt(t,s,e,i,r,n){let h=2,o=!1,a=!1,l=t.RD(),u=l.Cb(),c=l.Fb();for(;h<=r;){const f=1/h;h*=2,l.t4(s*f*(o?1:-1),e*f*(o?1:-1)),l.YN(),this.S5(t,i)||n&&this.v5(t)?(o=!0,a=!0):(o=!1,a=!1,u=l.Cb(),c=l.Fb())}a&&(l.KN(u,c),l.YN())}aPt(e,t=100){let i=0,r=e.RD(),n=r.Cb(),h=r.Fb(),o=0,a=this.v5(e);if(!a)return!0;for(;i<=t;){let t=0,s=0;switch(o){case 0:t=0,s=-1,i++;break;case 1:t=1,s=-1;break;case 2:t=1,s=0;break;case 3:t=1,s=1;break;case 4:t=0,s=1;break;case 5:t=-1,s=1;break;case 6:t=-1,s=0;break;case 7:t=-1,s=-1}if(o=(o+1)%8,r.KN(Math.floor(n+t*i),Math.floor(h+s*i)),r.YN(),!this.S5(e,a)&&!(a=this.v5(e)))return!0}return r.KN(n,h),r.YN(),!1}lPt(t,s,e,i){const r=t.RD(),n=r.Cb(),h=r.Fb(),o=Math.max(10,_.vn(s,e,n,h)),a=_.Mn(s,e,n,h),l=i||this.v5(t);if(!l)return _.Sn(a+Math.PI);let u=l,c=0,f=0,d=_.wn(5),p;for(p=1;p<36;++p){const T=a-p*d;if(r.KN(s+Math.cos(T)*o,e+Math.sin(T)*o),r.YN(),!this.S5(t,u)&&!(u=i?null:this.v5(t))){c=T;break}}for(36===p&&(c=_.Sn(a+Math.PI)),u=l,p=1;p<36;++p){const G=a+p*d;if(r.KN(s+Math.cos(G)*o,e+Math.sin(G)*o),r.YN(),!this.S5(t,u)&&!(u=i?null:this.v5(t))){f=G;break}}if(36===p&&(f=_.Sn(a+Math.PI)),r.KN(n,h),r.YN(),f===c)return f;let m=_.Tn(f,c)/2,g;g=_._n(f,c)?_.Sn(c+m+Math.PI):_.Sn(f+m);const y=Math.cos(a),S=Math.sin(a),w=Math.cos(g),b=Math.sin(g),v=y*w+S*b,x=y-2*v*w,M=S-2*v*b;return _.Mn(0,0,x,M)}uPt(t,s,e,i,r){if(!r)return!1;const n=r.RD();if(!n.x4())return!1;if(this.LFt++,d.set(Math.min(t,e),Math.min(s,i),Math.max(t,e),Math.max(s,i)),!n.r4().ql(d))return!1;if(r.DCt())return this.cPt(t,s,e,i,r,n);if(this.NFt++,!n.h4().Tu(t,s,e,i))return!1;if(!n.WEt())return!0;const h=n.UEt();return h.Tu(n.Cb(),n.Fb(),t,s,e,i)}cPt(e,i,r,n,t,s){const h=s.Cb(),o=s.Fb(),a=t.v6(),l=b;p.set(e,i,r,n),p.normalize(),a.GetCollisionRectCandidates(p,l);for(let t=0,s=l.length;t<s;++t){const u=l[t],c=u.GetRect();if(this.LFt++,d.$l(c,h,o)&&(x.bu(c),x.offset(h,o),x.Tu(e,i,r,n))){const f=u.GetPoly();if(!f)return _.Lh(l),!0;if(this.NFt++,f.Tu(h+c.Ml(),o+c.Tl(),e,i,r,n))return _.Lh(l),!0}}return _.Lh(l),!1}ePt(t,s){if(!s)return!1;const e=s.RD();if(!e.x4())return!1;if(this.LFt++,!e.r4().ql(t))return!1;if(s.DCt())return this.fPt(t,s,e);if(this.NFt++,x.bu(t),!e.h4().Gu(x))return!1;if(!e.WEt())return!0;const i=v,r=(i.bu(t,e.Cb(),e.Fb()),e.UEt());return i.Ju(r,0,0)}fPt(e,t,s){const i=s.Cb(),r=s.Fb(),n=t.v6(),h=b;n.GetCollisionRectCandidates(e,h);for(let t=0,s=h.length;t<s;++t){const o=h[t],a=o.GetRect();if(this.LFt++,e.$l(a,i,r)){const l=o.GetPoly();if(!l)return _.Lh(h),!0;if(this.NFt++,v.bu(e,0,0),l.Ju(v,-(i+a.Ml()),-(r+a.Tl())))return _.Lh(h),!0}}return _.Lh(h),!1}dPt(t,s){if(t){const e=t.RD();e.x4()&&(this.LFt++,e.r4().ql(s.rect))&&(t.DCt()?this.pPt(t,e,s):(this.NFt++,e.WEt()?s.mPt(t,e.Cb(),e.Fb(),e.UEt()):s.gPt(t,e.h4())))}}pPt(e,i,r){const n=i.Cb(),h=i.Fb(),o=b;e.v6().GetCollisionRectCandidates(r.rect,o);for(let t=0,s=o.length;t<s;t++){const a=o[t],l=a.GetRect();if(this.LFt++,r.rect.$l(l,n,h)){const u=a.GetPoly();this.NFt++,u?r.mPt(e,n+l.Ml(),h+l.Tl(),u):r.yPt(e,i.Cb(),i.Fb(),l)}}_.Lh(o)}M5(t,s){if(t!==this.kFt||s!==this.DFt){this.kFt=t,this.DFt=s;const e=this.lf.zz();for(const i of e)if(i.aO()){for(const r of i.UO())r.RD().MEt();i.YIt().SPt(t,s),i.KIt();for(const n of i.UO()){const h=n.RD();h.ZEt(),h.QIt()}}}}G5(){return[this.kFt,this.DFt]}wPt(t,s){this.kFt=t,this.DFt=s}}}{const Ia=self.Bs;Ia.C_t=class extends Ia.an{constructor(t,s){super(),this.K7=t,this.Z7=s,this.Q7=Ia.un(Ia.Zu)}cn(){this.Q7.cn(),this.Q7=null}SPt(t,s){if(!this.Q7.ec())throw new Error("grid not empty");this.K7=t,this.Z7=s}tH(t,s,e){let i=this.Q7.re(t,s);return i||(e?(i=Ia.un(Ia.bPt,this,t,s),this.Q7.Set(t,s,i),i):null)}sH(t){const s=Math.floor(t/this.K7);return isFinite(s)?s:0}eH(t){const s=Math.floor(t/this.Z7);return isFinite(s)?s:0}iH(i,r,n){if(r)for(let e=r.Ml(),t=r.Gl();e<=t;++e)for(let t=r.Tl(),s=r._l();t<=s;++t)if(!n||!n.Xl(e,t)){const h=this.tH(e,t,!1);h&&(h.v0(i),h.ec())&&this.Q7.ic(e,t)}if(n)for(let e=n.Ml(),t=n.Gl();e<=t;++e)for(let t=n.Tl(),s=n._l();t<=s;++t)r&&r.Xl(e,t)||this.tH(e,t,!0).J7(i)}rH(t,s){let e=this.sH(t.Ml()),i=this.eH(t.Tl()),r=this.sH(t.Gl()),n=this.eH(t._l());if(isFinite(r)&&isFinite(n))for(;e<=r;++e)for(let t=i;t<=n;++t){const h=this.tH(e,t,!1);h&&h.X7(s)}}}}{const Ca=self.Bs;Ca.bPt=class extends Ca.an{constructor(t,s,e){super(),this.N7=t,this.tl=s,this.sl=e,this.W7=Ca.un(Ca.oc)}cn(){this.W7.cn(),this.W7=null,this.N7=null}ec(){return this.W7.ec()}J7(t){this.W7.cc(t)}v0(t){this.W7.ic(t)}X7(t){Ca.Yr(t,this.W7.fc())}}}{const Ra=self.Bs;Ra.vPt=class{constructor(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.dx=0,this.dy=0,this.rect=new Ra.Rect,this.xPt=2,this.MPt=null,this.TPt=0,this.GPt=0,this._Pt=0,this.IPt=0,this.CPt=0,this.Et=0,this.RPt=1,this.EPt=0,this.FPt=1,this.PPt=0}APt(){return this.xPt<1+1e-6}l0(){this.xPt=2}Set(t,s,e,i){return this.x1=t,this.y1=s,this.x2=e,this.y2=i,this.dx=e-t,this.dy=i-s,this.rect.set(t,s,e,i),this.rect.normalize(),this.xPt=2,this.MPt=null,this.TPt=0,this.GPt=0,this._Pt=0,this.IPt=0,this.CPt=0,this.Et=0,this.RPt=1,this.EPt=0,this.FPt=1,this.PPt=0,this}kPt(){if(!1!==this.APt()){const t=this.dx*this.xPt,s=this.dy*this.xPt,e=Math.hypot(t,s),i=t/e,r=s/e,n=(this.Et=e-1e-6,this.IPt=this.x1+i*this.Et,this.CPt=this.y1+r*this.Et,this.TPt=Math.atan2(this._Pt,this.GPt)+Math.PI/2,this.RPt=Math.cos(this.TPt),this.EPt=Math.sin(this.TPt),i*this.RPt+r*this.EPt);if(this.FPt=i-2*this.RPt*n,this.PPt=r-2*this.EPt*n,0<n){const h=Math.PI;this.TPt=Ra.Sn(this.TPt+h),this.RPt=-this.RPt,this.EPt=-this.EPt}}}DPt(t,s,e,i,r){const n=Ra.uh(this.x1,this.y1,this.x2,this.y2,s,e,i,r);0<=n&&n<this.xPt&&(this.xPt=n,this.MPt=t.YB(),this.GPt=s-i,this._Pt=e-r)}yPt(t,s,e,i){const r=s+i.Ml(),n=s+i.Gl(),h=e+i.Tl(),o=e+i._l();this.DPt(t,r,h,n,h),this.DPt(t,n,h,n,o),this.DPt(t,n,o,r,o),this.DPt(t,r,o,r,h)}gPt(t,s){const e=s.th(),i=s.eh(),r=s.ih(),n=s.rh(),h=s.nh(),o=s.hh(),a=s.oh(),l=s.ah();this.DPt(t,e,i,r,n),this.DPt(t,r,n,h,o),this.DPt(t,h,o,a,l),this.DPt(t,a,l,e,i)}mPt(e,i,r,t){const n=t.Bu();for(let t=0,s=n.length;t<s;t+=2){const h=(t+2)%s,o=n[t]+i,a=n[t+1]+r,l=n[h]+i,u=n[1+h]+r;this.DPt(e,o,a,l,u)}}}}{const M=self.Bs,Ea=new Set(["off","crop","scale-inner","scale-outer","letterbox-scale","letterbox-integer-scale"]),Fa=new Set(["high","low"]),Pa=self.vs,Mr=Pa.Gs,Tr=Pa.Rs,Aa=Mr.create(),ka=M.un(M.Ql),T=M.un(M.Rect);M.OPt=class extends M.an{constructor(t){super(),this.lf=t,this.LPt=[],this.BPt=!1,this.NPt=null,this.WPt=null,this.UPt=null,this.jPt="high-performance",this.VPt=!1,this.HPt=0,this.zPt=0,this.JPt="",this.qPt=0,this.$Pt=0,this.XPt=0,this.YPt=0,this.KPt=0,this.ZPt=0,this.Fy="normalized",this.QPt=0,this.tAt=1,this.sAt=1e4,this.oS=!0,this.eAt=0,this.eP=0,this.iP=0,this.iAt="letterbox-scale",this.rAt="letterbox-scale",this.nAt=0,this.hAt=0,this.oAt=Mr.create(),this.aAt="high",this.lAt=this.aAt,this.uAt=!1,this.cAt=[],this.fAt=new Set,this.dAt=self.C3_Shaders,this.pAt=M.un(M.iy.hF,{eF:()=>[this.IJ(),this.CJ()],iF:()=>this.mAt(),rF:t=>this.gAt(t),getTime:()=>this.YD().Nk(),nF:()=>this.YD().OD()}),this.yAt=0,this.SAt=0,this.wAt=NaN,this.bAt=null,this.vAt=new Map,this.xAt=NaN,this.MAt=new Map,this.TAt="",this.GAt=1,this._At=M.un(M.Rect),this.IAt="",this.CAt=null,this.RAt=null,this.EAt=0,this.FAt=0,this.PAt=-1,this.AAt=0,this.kAt=t=>this.AAt=t.progress,this.DAt=null,this.OAt={LAt:null,BAt:null,NAt:null},this.WAt=0,this.UAt=0,this.jAt=0,this.VAt="fade-in",this.HAt=null,this.zAt=new Promise(t=>this.HAt=t)}JAt(t){this.jPt=t}qAt(t){this.BPt=!!t}$At(t){this.Fy=t}XAt(){return this.Fy}YAt(t){this.QPt=t}KAt(t,s){this.tAt=t,this.sAt=s}ZAt(t){this.VPt=!!t}async Fo(t){let s=t.canvas,e=(this.LPt.push({canvas:s,QAt:null}),this.lf.GN("runtime","window-resize",t=>this.tkt(t)),this.lf.GN("runtime","fullscreenchange",t=>this.skt(t)),this.lf.GN("runtime","fullscreenerror",t=>this.ekt(t)),s.addEventListener("webglcontextlost",t=>this.ikt(t)),s.addEventListener("webglcontextrestored",t=>this.rkt(t)),this.uAt=!!t.isFullscreen,this.JPt=t.cssDisplayMode,navigator.gpu&&this.BPt),i=!1;if(e)try{await this.nkt(!0)}catch(t){this.hkt("WebGPU",t),this.WPt=null}if(!this.Y2())try{await this.okt(!0)}catch(t){this.hkt("WebGL",t),this.NPt=null}if(this.Y2()||(i=!0),!this.Y2()&&e)try{await this.nkt(!1)}catch(t){this.hkt("WebGPU",t),this.WPt=null}if(!this.Y2())try{await this.okt(!1)}catch(t){this.hkt("WebGL",t),this.NPt=null}const r=this.Y2();if(!r)throw new Error("failed to acquire a renderer - check WebGL or WebGPU is supported");r.m2(i),this.WPt&&(this.WPt.akt=()=>this.lkt(),this.WPt.ukt=()=>this.ckt()),"normalized"===this.Fy?r.TS():(r.GS(),r.xS(this.QPt)),this.lC(t.windowInnerWidth,t.windowInnerHeight,!0),await this.gFt()}hkt(t,s){s&&"string"==typeof s.message&&s.message.startsWith("renderer-unavailable")||console.error(`Error creating ${t} renderer: `,s)}async nkt(t){const s={Ty:this.tAt,Gy:this.sAt},e={powerPreference:this.jPt,depth:this.lf.A9(),failIfMajorPerformanceCaveat:t,fkt:this.lf.OJ(),dkt:this.lf.pkt(),SR:this.lf.mkt()};this.WPt=M.un(M.iy.WebGPURenderer,s),await this.WPt.wM(this.LPt[0].canvas,e)}async okt(t){const s={alpha:!0,powerPreference:this.jPt,yR:"xbox-uwp-webview2"!==this.lf.D5(),depth:this.lf.A9(),SR:this.lf.mkt(),failIfMajorPerformanceCaveat:t,Ty:this.tAt,Gy:this.sAt};this.VPt&&(s.wR=1),this.NPt=M.un(M.iy.xR,this.LPt[0].canvas,s),await this.NPt.fS()}async gkt(){if(this.dAt){const t=[];for(const[s,e]of Object.entries(this.dAt)){e.src=e.ykt;const i=M.iy.WebGPUShaderProgram.BT();t.push(this.WPt.I3(Object.assign({gM:i,name:s},e)))}await Promise.all(t)}}async Skt(){if(this.dAt){const s=[];for(const[e,i]of Object.entries(this.dAt)){let t;if(i.wkt&&2<=this.NPt.Yv())i.src=i.wkt,t=M.iy.pM.NT();else{if(!i.bkt)throw new Error(`shader '${e}' does not support WebGL 1`);i.src=i.bkt,t=M.iy.pM.BT()}s.push(this.NPt.I3(Object.assign({gM:t,name:e},i)))}await Promise.all(s),this.NPt.C3(),this.NPt.OS()}this.NPt.VE()&&(this.bAt=M.un(M.iy.oR,this.NPt))}async gFt(){this.WPt?await this.gkt():this.NPt&&await this.Skt();const t=this.Y2();t.f2(this.oS),t.VE()&&(this.wAt=0);for(const s of this.lf.vkt()){for(const e of s.eL())e.gFt(t);s.gFt(t),s.N6()}this.UPt=new self.ej(this.lf,t)}cn(){this.lf=null,this.NPt=null,this.LPt.length=0}YA(){return this.lf.YA()}tkt(t){const s=this.lf;if(!s.xkt()){const e=t.devicePixelRatio,i=(this.YA()&&(self.devicePixelRatio=e),s.Mkt(e),this.uAt=!!t.isFullscreen,this.JPt=t.cssDisplayMode,this.lC(t.innerWidth,t.innerHeight),s.OD(),new M.Event("window-resize")),r=(i.data=t,s.jf().Zf(i),new M.Event("resize"));r.Tkt=this.V5(),r.Gkt=this.z5(),r._kt=this.q5(),r.Ikt=this.Y5(),s.BX(r),s.NX()&&(s.y1t()||self.C3Debugger.IsDebuggerPaused())&&s.PP()}}skt(t){this.uAt=!!t.isFullscreen,this.lC(t.innerWidth,t.innerHeight,!0),this.lf.OD()}ekt(t){this.uAt=!!t.isFullscreen,this.lC(t.innerWidth,t.innerHeight,!0),this.lf.OD()}lC(t,s,e=!1){if(t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid size");if(this.HPt!==t||this.zPt!==s||e){this.HPt=t,this.zPt=s;const i=this.Ckt();"letterbox-scale"===i?this.Rkt(t,s):"letterbox-integer-scale"===i?this.Ekt(t,s):"off"===i?this.Fkt(t,s):this.Pkt(t,s),this.Akt(i);for(const{canvas:h}of this.LPt)h.width=this.XPt,h.height=this.YPt;this.lf.ff("canvas","update-size",{marginLeft:this.KPt,marginTop:this.ZPt,styleWidth:this.qPt,styleHeight:this.$Pt,displayScale:this.t8()});const r=this.Y2();r.lC(this.XPt,this.YPt,!0);for(const o of this.cAt)r.LE(o);M.Lh(this.cAt),this.kkt();const n=this.lf.uD();n.aY(),n.lY()}}kkt(){this.Y2().IS(this.oAt,this.IJ()/this.CJ())}RJ(){return this.oAt}Rkt(t,s){const e=this.lf.K5(),i=this.lf.ZA(),r=this.lf.sk(),n=i/r,h=t/s;if(n<h){const o=s*n;this.qPt=Math.round(o),this.$Pt=s,this.KPt=Math.floor((t-this.qPt)/2),this.ZPt=0}else{const a=t/n;this.qPt=t,this.$Pt=Math.round(a),this.KPt=0,this.ZPt=Math.floor((s-this.$Pt)/2)}this.XPt=Math.round(this.qPt*e),this.YPt=Math.round(this.$Pt*e),this.lf.Dkt(i,r)}Ekt(t,s){let e=this.lf.K5(),i=(1!==e&&(t+=1,s+=1),this.lf.ZA()),r=this.lf.sk(),n=i/r,h=t/s,o;if(n<h){const a=s*n;o=a*e/i}else{const l=t/n;o=l*e/r}1<o?o=Math.floor(o):o<1&&(o=1/Math.ceil(1/o)),this.XPt=Math.round(i*o),this.YPt=Math.round(r*o),this.qPt=this.XPt/e,this.$Pt=this.YPt/e,this.KPt=Math.max(Math.floor((t-this.qPt)/2),0),this.ZPt=Math.max(Math.floor((s-this.$Pt)/2),0),this.lf.Dkt(i,r)}Pkt(t,s){const e=this.lf.K5(),i=(this.qPt=t,this.$Pt=s,this.XPt=Math.round(this.qPt*e),this.YPt=Math.round(this.$Pt*e),this.KPt=0,this.ZPt=0,this.t8());this.lf.Dkt(this.qPt/i,this.$Pt/i)}Fkt(t,s){const e=this.lf.K5();this.qPt=this.lf.M9(),this.$Pt=this.lf.T9(),this.XPt=Math.round(this.qPt*e),this.YPt=Math.round(this.$Pt*e),this.Okt()?(this.KPt=Math.floor((t-this.qPt)/2),this.ZPt=Math.floor((s-this.$Pt)/2)):(this.KPt=0,this.ZPt=0),this.lf.Dkt(this.lf.M9(),this.lf.T9())}Akt(e){if("high"===this.aAt)this.eP=this.XPt,this.iP=this.YPt,this.lAt="high";else{let t,s;if(s="off"===this.Ckt()?(t=this.lf.M9(),this.lf.T9()):(t=this.lf.ZA(),this.lf.sk()),this.XPt<t||this.YPt<s)this.eP=this.XPt,this.iP=this.YPt,this.lAt="high";else if(this.eP=t,this.iP=s,this.lAt="low","scale-inner"===e){const i=t/s,r=this.HPt/this.zPt;r<i?this.eP=this.iP*r:i<r&&(this.iP=this.eP/r)}else if("scale-outer"===e){const n=t/s,h=this.HPt/this.zPt;n<h?this.eP=this.iP*h:h<n&&(this.iP=this.eP/h)}}}YD(){return this.lf}Lkt(){return this.LPt[0].canvas}iz(){return this.pAt}Okt(){return this.uAt}Bkt(){return this.JPt}Nkt(t){if(!Ea.has(t))throw new Error("invalid fullscreen mode");this.iAt=t;const s=this.lf.uD();s.aY(),s.lY()}ZU(){return this.iAt}Wkt(t){if(!Ea.has(t))throw new Error("invalid fullscreen mode");this.rAt=t;const s=this.lf.uD();s.aY(),s.lY()}Ukt(){return this.rAt}Ckt(){return this.Okt()?this.Ukt():this.ZU()}jkt(t){if(!Fa.has(t))throw new Error("invalid fullscreen scaling quality");this.aAt=t,this.lf.uD().aY()}Vkt(){return this.aAt}LJ(){return this.lAt}static Hkt(t){switch(t){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw new Error("invalid fullscreen mode")}}NU(){return this.HPt}WU(){return this.zPt}IJ(){return this.eP}CJ(){return this.iP}f2(t){this.oS=!!t}zkt(t){this.eAt=t}A7(){return this.eAt}Jkt(){return this.Y2().BC()}ikt(t){console.log("[Construct] WebGL context lost"),t.preventDefault(),this.cAt=[],this.fAt.clear(),this.pAt.wb(),this.NPt.wb(),this.lf.L$()}lkt(){console.log("[Construct] WebGPU device lost"),this.cAt=[],this.fAt.clear(),this.pAt.wb(),this.lf.L$()}async rkt(t){await this.NPt.bb(),await this.gFt(),await this.lf.qkt(),console.log("[Construct] WebGL context restored")}async ckt(){await this.gFt(),await this.lf.qkt(),console.log("[Construct] WebGPU device restored")}$kt(){return this.NPt}Xkt(){return this.WPt}Y2(){return this.WPt||this.NPt}GIt(){return this.UPt}B5(){let t="";return t=this.lf.Xkt()?"webgpu":"webgl"+this.lf.$kt().Yv(),this.lf.Y2().g2()&&(t+="-software"),t}U5(){return this.lf.Xkt()?this.lf.Xkt().GetAdapterInfoString():this.lf.$kt().ZE()}AB(){return"low"===this.lAt?1/this.lf.K5():this.t8()}t8(){const t=this.Ckt();if("off"===t||"crop"===t)return 1;const s=this.lf.ZA(),e=this.lf.sk(),i=s/e,r=this.XPt/this.YPt;return"scale-inner"!==t&&i<r||"scale-inner"===t&&r<i?this.$Pt/e:this.qPt/s}oq(){return"low"===this.LJ()?1:this.t8()}nq(){return"low"===this.LJ()?1:this.lf.K5()}Ykt(t,s){this.nAt=t,this.hAt=s}Uj(s,e,i,t=!0){e=e||this.eP,i=i||this.iP;const r=e/2+this.nAt,n=i/2+this.hAt;if(t){let t=this.RJ();e===this.eP&&i===this.iP||(s.IS(Aa,e/i),t=Aa),s.E3(t)}const h=s.FS(r,n,s.pS(i),r,n,0,i);s.L3(h)}Kkt(t,s=!0){const e=this.V5(),i=this.z5(),r=e/2,n=i/2,h=(s&&t.E3(this.RJ()),t.FS(r,n,t.pS(i),r,n,0,i));t.L3(h)}q5(){return this.XPt}Y5(){return this.YPt}V5(){return this.qPt}z5(){return this.$Pt}MB(){return this.KPt}TB(){return this.ZPt}b$(){return this.LPt.length}Zkt(){return"undefined"!=typeof OffscreenCanvas&&this.Lkt()instanceof OffscreenCanvas&&("Chromium"!==M.ue.ye||124<=M.ue.ge)}async j$(i,r=!1){if(i<1)throw new Error("invalid HTML layer count");if(this.LPt.length!==i){let t=this.lf.uD().oD(),s={count:i,layersDomState:t.Qz().filter(t=>t.YL()).map(t=>t.iJ()),immediate:r,marginLeft:this.KPt,marginTop:this.ZPt,styleWidth:this.qPt,styleHeight:this.$Pt},e;if(e=this.YA()?await this.lf.BD("canvas","set-html-layer-count",s):self.c3_runtimeInterface._OnSetHTMLLayerCount(s),i<this.LPt.length)this.LPt.length=i;else for(const n of e.addedCanvases){n.width=this.XPt,n.height=this.YPt;const h=this.Zkt()?"bitmaprenderer":"2d",o=n.getContext(h);if(!o)throw new Error(`failed to acquire '${h}' canvas context`);this.LPt.push({canvas:n,QAt:o})}this.lf.OD()}}DX(t){if(!(t>=this.LPt.length)){const s=this.Lkt(),e=this.LPt[t].QAt;this.Zkt()?e.transferFromImageBitmap(s.transferToImageBitmap()):(e.globalCompositeOperation="copy",e.drawImage(s,0,0))}}BJ(s){s.depth=this.lf.A9();let t=this.cAt,e=t.findIndex(t=>t.aM(s)),i;return-1!==e?(i=t[e],t.splice(e,1)):i=this.Y2().PE(s),this.fAt.add(i),i}nz(t){if(!this.fAt.has(t))throw new Error("render target not in use");this.fAt.delete(t),this.cAt.push(t)}mAt(){const t={Fv:this.lf.ek()};return"low"===this.LJ()&&(t.width=this.IJ(),t.height=this.CJ()),this.BJ(t)}gAt(t){this.nz(t)}*Qkt(){for(const t of this.lf.uD().rY())for(const s of t.yL()){const e=this.vAt.get(s);e&&(yield e)}}AJ(t){if(!this.Y2().VE())return null;let s=this.vAt.get(t);return s||(s={XN:t,name:t.Zc(),tDt:M.un(M.iy.oR,this.NPt),sDt:0,eDt:0,iDt:0},this.vAt.set(t,s)),s.tDt}rDt(){const t=this.Y2();if(t.VE()&&0===this.SAt){this.SAt=t.u2(),this.xAt=NaN;for(const s of this.Qkt())s.sDt=NaN}}nDt(){this.NPt&&this.NPt.VE()&&this.hDt(),this.WPt&&this.WPt.VE()&&this.oDt()}hDt(){if(isNaN(this.xAt)&&(this.xAt=this.bAt.pR(this.yAt,this.SAt),!isNaN(this.xAt))){if(this.lf.NX())for(const t of this.Qkt())if(t.sDt=t.tDt.pR(this.yAt,this.SAt),isNaN(t.sDt))return;if(this.bAt.mR(this.SAt),this.wAt=Math.min(this.xAt,1),this.lf.NX()){const e=new Map;for(const r of this.Qkt())r.tDt.mR(this.SAt),r.eDt=Math.min(r.sDt,1),e.set(r.XN,r.eDt);for(const n of this.Qkt()){const h=n.XN,o=e.get(h)||0,a=o-h.WL().reduce((t,s)=>t+(e.get(s)||0),0);n.iDt=M.yn(a,0,1)}const s=this.lf.oD(),i=this.wAt-s.Qz().reduce((t,s)=>t+(e.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(M.yn(i,0,1),this.wAt,[...this.Qkt()])}this.yAt=this.SAt,this.SAt=0}}aDt(){return this.bAt}oDt(){if(0!==this.SAt){for(let t=this.yAt;t<this.SAt;++t){const e=this.MAt.get(t);if(e&&!e.YC())return}let t=this.lf.oD(),h=M.jo(t.p$()+1,0),s=0;for(let t=this.yAt;t<this.SAt;++t){const o=this.MAt.get(t);if(o){let e=o.KC(),i=BigInt(0),r=BigInt(0),n=BigInt(0);for(let t=0,s=Math.min(h.length,e.length/2);t<s;++t){const u=e[2*t],c=e[2*t+1],f=(u!==n&&(i===n||u<i)&&(i=u),c>r&&(r=c),c-u),d=Number(f)/1e9;h[t]+=d}const a=r-i,l=Number(a)/1e9;s+=l}}if(this.wAt=M.yn(s,0,1),this.lf.NX()){const i=t.yL(),r=new Map;for(let t=0,s=Math.min(i.length,h.length-1);t<s;++t){const g=h[t+1];r.set(i[t],g)}const n=[],p=new Map;for(const[y,S]of r){const w=[...y.jL()].reduce((t,s)=>t+(r.get(s)||0),0);p.set(y,w),n.push({name:y.Zc(),iDt:M.yn(S,0,1),eDt:M.yn(w,0,1)})}const m=this.wAt-t.Qz().reduce((t,s)=>t+(p.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(M.yn(m,0,1),this.wAt,n)}for(let t=this.yAt;t<this.SAt;++t)this.MAt.delete(t);this.yAt=this.SAt,this.SAt=0}}lDt(t){this.MAt.set(this.WPt.u2(),t)}Yk(){return this.wAt}uDt(t,s,e,i,r,n){return this.TAt=t,this.GAt=s,this._At.ml(e,i,r,n),this.CAt||(this.CAt=new Promise(t=>{this.RAt=t})),this.CAt}cDt(){if(this.TAt){let t=this.Lkt(),s=this._At,e=M.yn(Math.floor(s.Ml()),0,t.width),i=M.yn(Math.floor(s.Tl()),0,t.height),r=s.width(),n=(r=0===r?t.width-e:M.yn(Math.floor(r),0,t.width-e),s.height());if(n=0===n?t.height-i:M.yn(Math.floor(n),0,t.height-i),(0!==e||0!==i||r!==t.width||n!==t.height)&&0<r&&0<n){const h=M.Fo(r,n),o=h.getContext("2d");o.drawImage(t,e,i,r,n,0,0,r,n),t=h}M.Po(t,this.TAt,this.GAt).then(t=>{this.IAt&&URL.revokeObjectURL(this.IAt),this.IAt=URL.createObjectURL(t),this.CAt=null,this.RAt(this.IAt)}),this.TAt="",this.GAt=1}}fDt(){return this.IAt}dDt(t){t?this.EAt++:this.EAt--}pDt(){return 0<this.EAt}mDt(t){const s=this.Y2();if(2===t)this.DAt=M.un(M.iy.G2,this.Y2()),this.DAt.NI("Arial"),this.DAt.WI(16),this.DAt.tC("center"),this.DAt.eC("center"),this.DAt.lC(300,200);else if(0===t){const e=this.lf.gDt();e&&e.Aj(s).catch(t=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",t))}else 4===t&&(this.yDt("splash-images/splash-logo.svg").then(t=>{"done"===this.VAt?s.qx(t):this.OAt.LAt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.SDt("splash-images/splash-poweredby-512.png").then(t=>{"done"===this.VAt?s.qx(t):this.OAt.BAt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.SDt("splash-images/splash-website-512.png").then(t=>{"done"===this.VAt?s.qx(t):this.OAt.NAt=t}).catch(t=>console.warn("Failed to load splash image: ",t)))}async yDt(t){t=new URL(t,this.lf.wDt()).toString();const s=await M.To(t),e=await this.lf.bDt(s,2048,2048);return this.Y2().FE(e,{Dv:"high"})}async SDt(t){t=new URL(t,this.lf.wDt()).toString();const s=await M.To(t);return this.Y2().FE(s,{Dv:"high"})}vDt(){this.lf.ff("runtime","hide-cordova-splash")}xDt(){this.FAt=Date.now(),this.lf.jf().addEventListener("loadingprogress",this.kAt),this.PAt=requestAnimationFrame(()=>this.MDt());const t=this.lf.TDt();3!==t&&this.vDt()}async GDt(){const t=this.Y2(),s=(this.AAt=1,this.lf.TDt());4===s&&await this.zAt,this.HAt=null,this.zAt=null,-1!==this.PAt&&(cancelAnimationFrame(this.PAt),this.PAt=-1),this.lf.jf().removeEventListener("loadingprogress",this.kAt),this.kAt=null,this.DAt&&(this.DAt.cn(),this.DAt=null),this.lf._Dt(),t.vE(),this.OAt.LAt&&(t.qx(this.OAt.LAt),this.OAt.LAt=null),this.OAt.BAt&&(t.qx(this.OAt.BAt),this.OAt.BAt=null),this.OAt.NAt&&(t.qx(this.OAt.NAt),this.OAt.NAt=null),t.bE(0,0,0,0),t.a2(),this.VAt="done",this.yAt=t.u2(),3===s&&this.vDt()}MDt(){if(-1!==this.PAt){const t=this.Y2(),s=(t.vE(),this.PAt=-1,this.lf.NA().h7()),e=this.lf.TDt();if(3!==e&&(this.Kkt(t),t.bE(0,0,0,0),t.z3(),t.OS(),t.q3(null)),0===e)this.IDt(s);else if(1===e)this.CDt(s,120,0);else if(2===e)this.RDt(s);else if(3===e)M.Ah();else{if(4!==e)throw new Error("invalid loader style");this.EDt(s)}t.a2(),this.PAt=requestAnimationFrame(()=>this.MDt())}}RDt(t){t?this.DAt.QI(1,0,0):this.DAt.QI(.6,.6,.6),this.DAt.df(Math.round(100*this.AAt)+"%");const s=this.qPt/2,e=this.$Pt/2,i=(ka.au(s-150,e-100,150+s,100+e),this.Y2());i.q3(this.DAt.Qx()),i.Pw(ka,this.DAt.WC())}CDt(t,s,e){const i=this.Y2(),r=(i.jS(),t?i.V3(1,0,0,1):i.V3(.118,.565,1,1),this.qPt/2),n=this.$Pt/2,h=s/2;T.ml(r-h,n-4+e,Math.floor(s*this.AAt),8),i.Rect(T),T.ml(r-h,n-4+e,s,8),T.offset(-.5,-.5),T.Ol(.5,.5),i.V3(0,0,0,1),i.Lw(T),T.Ol(1,1),i.V3(1,1,1,1),i.Lw(T)}IDt(t){const s=this.Y2(),e=this.lf.gDt();if(e){const i=e.Qx();if(i){const r=i.lm(),n=i.Mm(),h=this.qPt/2,o=this.$Pt/2,a=r/2,l=n/2;ka.au(h-a,o-l,h+a,o+l),s.q3(i),s.Ql(ka),this.CDt(t,r,16+l)}else this.CDt(t,120,0)}else this.CDt(t,120,0)}EDt(t){let s=this.Y2(),e=this.OAt.LAt,i=this.OAt.BAt,r=this.OAt.NAt,n=Date.now(),h=(0===this.WAt&&(this.FAt=n),this.lf.FDt()||this.lf.PDt()&&!this.lf.ADt()),o=h?0:200,a=h?0:3e3,l=1,u=("fade-in"===this.VAt?l=Math.min((n-this.FAt)/300,1):"fade-out"===this.VAt&&(l=Math.max(1-(n-this.jAt)/300,0)),s.jS(),s.V3(.231*l,.251*l,.271*l,l),T.set(0,0,this.qPt,this.$Pt),s.Rect(T),Math.ceil(this.qPt)),c=Math.ceil(this.$Pt),f,d;256<this.$Pt?(s.V3(.302*l,.334*l,.365*l,l),f=u,d=Math.max(.005*c,2),T.ml(0,.8*c-d/2,f,d),s.Rect(T),t?s.V3(l,0,0,l):s.V3(.161*l,.953*l,.816*l,l),f=u*this.AAt,T.ml(.5*u-f/2,.8*c-d/2,f,d),s.Rect(T),s.V3(l,l,l,l),s.OS(),i&&(f=1.5*M.yn(.22*c,105,.6*u),d=f/8,T.ml(.5*u-f/2,.2*c-d/2,f,d),s.q3(i),s.Rect(T)),e&&(f=Math.min(.395*c,.95*u),d=f,T.ml(.5*u-f/2,.485*c-d/2,f,d),s.q3(e),s.Rect(T)),r&&(f=1.5*M.yn(.22*c,105,.6*u),d=f/8,T.ml(.5*u-f/2,.868*c-d/2,f,d),s.q3(r),s.Rect(T))):(s.V3(.302*l,.334*l,.365*l,l),f=u,d=Math.max(.005*c,2),T.ml(0,.85*c-d/2,f,d),s.Rect(T),t?s.V3(l,0,0,l):s.V3(.161*l,.953*l,.816*l,l),f=u*this.AAt,T.ml(.5*u-f/2,.85*c-d/2,f,d),s.Rect(T),s.V3(l,l,l,l),s.OS(),e&&(f=.55*c,d=f,T.ml(.5*u-f/2,.45*c-d/2,f,d),s.q3(e),s.Rect(T))),this.WAt++,"fade-in"===this.VAt&&300<=n-this.FAt&&2<=this.WAt&&(this.VAt="wait",this.UAt=n),"wait"===this.VAt&&n-this.UAt>=a&&1<=this.AAt&&(this.VAt="fade-out",this.jAt=n),("fade-out"===this.VAt&&n-this.jAt>=300+o||h&&1<=this.AAt&&n-this.FAt<500)&&this.HAt()}}}{let j=self.Bs,V=self.C3Debugger,e={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""},h=!0;j.kDt=class extends j.an{constructor(t){t=Object.assign({},e,t),super(),this.DDt=t.messagePort,this.ODt=t.runtimeBaseUrl,this.LDt=t.previewUrl,this.BDt=!!t.headless,this.NDt=!!t.hasDom,this.WDt=!!t.isInWorker,h=t.ife,this.UDt=!!t.useAudio,this.jDt=t.exportType,this.VDt=t.isNWjs,this.lV=!!t.isiOSCordova,this.HDt=!!t.isiOSWebView,this.zDt=!!t.isWindowsWebView2,this.JDt=!!t.isAnyWebView2Wrapper,this.qDt=!!t.isFBInstantAvailable,this.$Dt=!("preview"!==this.jDt||!t.isDebug),this.XDt=this.$Dt,this.YDt=this.$Dt,this.KDt=0,this.ZDt=[],this.QDt=[],this.t5t=!1,this.s5t="",this.e5t="",this.i5t="",this.r5t="",this.n5t=0,this.h5t=0,this.cP=self.devicePixelRatio,this.o5t=0,this.a5t=0,this.l5t=0,this.u5t=0,this.c5t=0,this.f5t=!1,this.Bg=!0,this.d5t=!1,this.p5t=!1,this.m5t=!1,this.g5t=null,this.b7=j.un(j.nV,this,t),this.Tq=j.un(j.jX,this),this.Wft=j.un(j.L0t,this),this.y5t=j.un(j.iO,this,t.wrapperComponentIds),this.S5t=j.un(j.AFt,this),this.xQ=j.un(j.uY,this),this.w5t=j.un(j.Clt,this),this.b5t=j.un(j.Elt,this),this.Hlt=j.un(j.Blt,this),this.Ag=j.un(j.vg,{Tg:t=>this.v5t(t),_g:t=>this.x5t(t)}),this.M5t=new Map,this.T5t=[],this.G5t=new Map,this._5t=new Map,this.I5t=0,this.C5t=[],this.R5t=new Set,this.E5t=[],this.F5t=[],this.P5t=new Map,this.A5t=!1,this.k5t=!1,this.D5t=0,this.O5t=0,this.L5t=new Map,this.B5t=new Set,this.N5t=new Set,this.W5t=[],this.U5t=[],this.j5t=null,this.V5t=!1,this.H5t="vsync",this.jv="trilinear",this.z5t=!1,this.J5t=!0,this.q5t=!1,this.$5t=!1,this.X5t=null,this.Y5t={K5t:t=>{this.PAt=-1,this.Z5t=-1,this.AK(t)},Q5t:t=>{this.Z5t=-1,this.AK(t,!1,"skip-render")},tOt:()=>{this.PAt=-1,this.PP()}},this.PAt=-1,this.Z5t=-1,this.sOt=0,this.eOt=0,this.iOt=!1,this.rOt=!1,this.nOt=!1,this.hOt=!0,this.oOt=!0,this.aOt=!1,this.lOt=0,this.uOt=new j.dd(1),this.cOt=()=>Math.random(),this.fOt=0,this.dOt=0,this.pOt=0,this.mOt=0,this.gOt=0,this.xCt=1,this.yOt=1/30,this.SOt=0,this.wOt=j.un(j.M0),this.bOt=j.un(j.M0),this.vOt=j.un(j.M0),this.xOt=new Map,this.MOt=-1,this.TOt=0,this.GOt=0,this._Ot=-1,this.IOt=0,this.COt=0,this.ROt=0,this.EOt=!1,this.FOt="",this.POt=!1,this.AOt="",this.ON=null,this.kOt="",this.DOt=null,this.OOt=null,this.__t=j.un(j.Event.jf),this.LOt=new Map,this.BOt=new Map,this.NOt=0,this.WOt=!1,this.UOt=!1,this.jOt=!1,this.VOt=[],this.HOt={pretick:j.un(j.Event,"pretick",!1),tick:j.un(j.Event,"tick",!1),tick2:j.un(j.Event,"tick2",!1),instancecreate:j.un(j.Event,"instancecreate",!1),instancedestroy:j.un(j.Event,"instancedestroy",!1),beforelayoutchange:j.un(j.Event,"beforelayoutchange",!1),layoutchange:j.un(j.Event,"layoutchange",!1)},this.HOt.instancecreate.P6=null,this.HOt.instancedestroy.P6=null,this.s$=j.un(j.Event.jf),this.zOt=null;const s=(t,s)=>j.bCt.iFt(this,t,s);this.JOt=j.un(j.P0,s),this.qOt=j.un(j.P0,s),this.$Ot=j.un(j.P0,s),this.XOt=j.un(j.YOt,this,t.jobScheduler),t.canvas&&(this.j5t=j.un(j.OPt,this)),this.DDt.onmessage=t=>this._OnMessageFromDOM(t.data),this.GN("runtime","visibilitychange",t=>this.KOt(t)),this.GN("runtime","wrapper-extension-message",t=>this.ZOt(t)),this.GN("runtime","opus-decode",t=>this.l5(t.arrayBuffer)),this.GN("runtime","get-remote-preview-status-info",()=>this.QOt()),this.GN("runtime","js-invoke-function",t=>this.cdt(t)),this.GN("runtime","go-to-last-error-script",self.goToLastErrorScript),this.GN("runtime","offline-audio-render-completed",t=>this.tLt(t)),this.__t.addEventListener("window-blur",t=>this.sLt(t)),this.__t.addEventListener("window-focus",()=>this.eLt()),this.xQ.VY(),this.b5t.VY(),this.iLt=null,this.rLt=new WeakMap,this.nLt={keyboard:null,SD:null,wD:null,bD:null},this.hLt=new WeakMap,this.oLt=[]}static wM(t){return j.un(j.kDt,t)}cn(){j.Lh(this.T5t),this.G5t.clear(),this._5t.clear(),this.Tq.cn(),this.Tq=null,this.Wft.cn(),this.Wft=null,this.y5t.cn(),this.y5t=null,this.b7.cn(),this.b7=null,this.S5t.cn(),this.S5t=null,this.xQ.cn(),this.xQ=null,this.w5t.cn(),this.w5t=null,this.b5t.cn(),this.b5t=null,this.Hlt.cn(),this.Hlt=null,this.Ag.cn(),this.Ag=null,this.j5t&&(this.j5t.cn(),this.j5t=null),this.__t.cn(),this.__t=null,this.aLt=null}["_OnMessageFromDOM"](t){const s=t.type;if("event"===s)this.lLt(t);else{if("result"!==s)throw new Error(`unknown message '${s}'`);this.uLt(t)}}lLt(t){if(this.jOt){const s=t.component,e=t.handler,i=t.data,r=t.dispatchOpts,n=!(!r||!r.dispatchRuntimeEvent),h=!(!r||!r.dispatchUserScriptEvent),o=t.responseId;if("runtime"===s){if(n){const l=new j.Event(e);l.data=i,this.__t.Zf(l)}if(h){const u=new j.Event(e,!0);for(const[c,f]of Object.entries(i))u[c]=f;this.BX(u)}}const a=this.LOt.get(s);if(a){const d=a.get(e);if(d){let t=null;try{t=d(i)}catch(t){return console.error(`Exception in '${s}' handler '${e}':`,t),void(null!==o&&this.cLt(o,!1,""+t))}null!==o&&(t&&t.then?t.then(t=>this.cLt(o,!0,t)).catch(t=>{console.error(`Rejection from '${s}' handler '${e}':`,t),this.cLt(o,!1,""+t)}):this.cLt(o,!0,t))}else n||h||console.warn(`[Runtime] No DOM handler '${e}' for component '${s}'`)}else n||h||console.warn(`[Runtime] No DOM event handlers for component '${s}'`)}else this.VOt.push(t)}cLt(t,s,e){this.DDt.postMessage({type:"result",responseId:t,isOk:s,result:e})}uLt(t){const s=t.responseId,e=t.isOk,i=t.result,r=this.BOt.get(s);e?r.resolve(i):r.reject(i),this.BOt.delete(s)}GN(t,s,e){let i=this.LOt.get(t);if(i||(i=new Map,this.LOt.set(t,i)),i.has(s))throw new Error(`[Runtime] Component '${t}' already has handler '${s}'`);i.set(s,e)}ff(t,s,e,i){this.DDt.postMessage({type:"event",component:t,handler:s,data:e,responseId:null},i)}BD(t,s,e,i){const r=this.NOt++,n=new Promise((t,s)=>{this.BOt.set(r,{resolve:t,reject:s})});return this.DDt.postMessage({type:"event",component:t,handler:s,data:e,responseId:r},i),n}M8(t,s,e,i=-1){this.ff("runtime","send-wrapper-extension-message",{componentId:t,messageId:s,params:e,asyncId:i})}T8(t,s,e){const i=this.NOt++,r=new Promise((t,s)=>{this.BOt.set(i,{resolve:t,reject:s})});return this.M8(t,s,e,i),r}ZOt(t){if(-1!==t.asyncId){const s=t.asyncId,e=this.BOt.get(s);e.resolve(t.params),this.BOt.delete(s)}else this.lLt({component:"wrapper-extension:"+t.componentId,handler:t.messageId,data:t.params,responseId:null})}WN(t,s,e){this.GN("wrapper-extension:"+t,s,e)}BN(t){return this.y5t.BN(t)}fLt(t){if(!this.NX())throw new Error("not in debug mode");this.ff("runtime","post-to-debugger",t)}async GCt(t){j.tbt(this),this.NX()?await V.GCt(this):self.C3Debugger&&self.C3Debugger.InitPreview(this);const[s]=await Promise.all([this.b7.Mo("data.json"),this.dLt(),this.XOt.GCt()]);if(await this.pLt(s),await this.mLt(t),this.FDt()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net","font-weight: bold"),this.$kt()){const e=this.$kt();console.info(`[C3 runtime] Hosted in ${this.YA()?"worker":"DOM"}, rendering with WebGL ${e.Yv()} [${e.ZE()}]`)}else this.Xkt()&&console.info(`[C3 runtime] Hosted in ${this.YA()?"worker":"DOM"}, rendering with WebGPU [${this.Xkt().GetAdapterInfoString()}]`);this.Y2().g2()&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance."),this.jOt=!0;for(const i of this.VOt)this.lLt(i);j.Lh(this.VOt),this.j5t&&this.j5t.xDt();for(const r of t.runOnStartupFunctions)this.ZDt.push(this.gLt(r));if(await Promise.all([this.b7.r7(),...this.ZDt]),j.Lh(this.ZDt),!this.b7.h7())return this.j5t&&await this.j5t.GDt(),await this.__t.Yf(new j.Event("beforeruntimestart")),await this.vE(),this.DDt.postMessage({type:"runtime-ready"}),this;this.j5t&&this.j5t.vDt()}async gLt(t){try{await t(this.iLt)}catch(t){console.error("[C3 runtime] Error in runOnStartup function: ",t)}}async pLt(t){const s=t.project,e=(this.s5t=s[0],this.e5t=s[16],this.i5t=s[31],this.r5t=s[38],s[39]||"loading-logo.png"),i=(this.z5t=!!s[9],this.n5t=this.l5t=s[10],this.h5t=this.u5t=s[11],this.S5t.wPt(this.n5t,this.h5t),this.o5t=this.n5t/2,this.a5t=this.h5t/2,this.H5t=s[37],this.V5t=!!s[40],this.jv=s[14],this.d5t=s[15],this.p5t=s[42],this.m5t=s[17],this.f5t=!!s[18],this.c5t=s[19],this.O5t=s[21],this.q5t=s[22],this.b7);if(i.DV(s[45]),i.c7(s[7],s[25]),i.LV(s[8]),i.BV(s[32]),i.WV(s[28]),i.a7(s[29]),0===this.c5t){let t;(t="flat"===i.r5()?i.UV()+e:e)&&(this.g5t=i.KV({url:t}))}this.j5t&&(this.j5t.Nkt(j.OPt.Hkt(s[12])),this.j5t.jkt(s[23]?"high":"low"),this.j5t.f2(0!==s[24]),this.j5t.JAt(s[34]),this.j5t.zkt(s[41]),this.j5t.qAt(s[13]),this.j5t.$At(s[30]),this.j5t.KAt(s[46],s[47]),this.j5t.YAt(s[26]),this.j5t.ZAt(s[48]));const r=s[43],n=(r&&await this.yLt(r),this.SLt(),this.y5t.dGt(),this.W5t=self.wLt(),s[2]);for(const l of n[1])this.y5t.pGt(l);for(const u of n[0])this.y5t.fGt(u);this.W5t=self.wLt(),this.bLt(),this.y5t.SGt();for(const c of s[3]){const f=j.Dlt.wM(this,this.T5t.length,c);this.T5t.push(f),this.G5t.set(f.Zc().toLowerCase(),f),this._5t.set(f.t9(),f)}for(const d of s[4]){const p=this.T5t[d[0]];p.uIt(d)}for(const m of s[27]){const g=m.map(t=>this.T5t[t]);this.C5t.push(j.un(j.lCt,this,g))}this.vLt();for(const y of this.T5t)y.fIt();for(const S of s[5])this.Tq.wM(S);const h=s[1];if(h){const w=this.Tq.QX(h);w&&this.Tq.KX(w)}for(const b of s[35])this.w5t.wM(b);for(const v of s[33])this.xQ.wM(v);for(const x of s[44])this.b5t.wM(x);this.b5t.Alt()||(this.b5t.cn(),this.b5t=null);for(const M of s[49])this.Hlt.wM(M);this.Hlt.jlt()||(this.Hlt.cn(),this.Hlt=null);for(const T of s[6])this.Wft.wM(T);this.Wft.pdt(),this.xLt(),j.Lh(this.W5t),this.QO();let o="any",a=s[20];1===a?o="portrait":2===a&&(o="landscape"),this.ff("runtime","set-target-orientation",{targetOrientation:o})}async yLt(t){const s=t.format;"image-sequence"===s?this.X5t=new self.C3ExportToImageSequence(this,t):"image-sequence-gif"===s?this.X5t=new self.C3ExportToGIF(this,t):"webm"===s?this.X5t=new self.C3ExportToWebMVideo(this,t):"mp4"===s&&(this.X5t=new self.C3ExportToMP4Video(this,t)),this.H5t="unlimited-frame",this.j5t.Nkt("off"),this.cP=1,self.devicePixelRatio=1,await this.BD("runtime","set-exporting-to-video",{message:this.X5t.GetExportingMessageForPercent(0),duration:this.X5t.hW()})}TDt(){return this.c5t}xkt(){return null!==this.X5t}MLt(){return this.X5t.hW()}TLt(){return this.X5t.GetFramerate()}GLt(){return this.X5t.GCt({width:this.j5t.q5(),height:this.j5t.Y5()})}_Lt(){const t=this.sOt/this.TLt();return this.X5t.AddFrame(this.j5t.Lkt(),t)}ILt(){this.X5t&&this.X5t.ket()}tLt(t){this.X5t.OnOfflineAudioRenderCompleted(t)}CLt(){return this.X5t.a2()}PDt(){return this.qDt}Vg(){return this.Bg}jD(t){this.ZDt.push(t)}H$(t){this.t5t=!!t}RLt(t){this.t5t&&this.QDt.push(t)}Y$(){return this.QDt}iIt(){return this.I5t++}pIt(){return this.I5t}fFt(t){this.R5t.add(t)}dFt(t){this.R5t.delete(t)}vkt(){return this.R5t}async mLt(t){this.j5t&&(await this.j5t.Fo(t),this.j5t.mDt(this.c5t))}async dLt(){const r=this.b7;if(!r.zD("audio/webm; codecs=opus")){let t=null,s=r.OV(),e=s+"opus.wasm.js",i=s+"opus.wasm.wasm";try{t=this.ELt()&&r.jV()?await r.HV(i):await r.Go(i)}catch(t){return void console.info("Failed to fetch Opus decoder WASM; assuming project has no Opus audio.",t)}this.FLt(t,"opus-decoder-wasm"),await this.PLt([e])}}async l5(t){const s=await this.ALt("OpusDecode",{arrayBuffer:t},[t]);return s}async vE(){this.iOt=!0,this.fOt=Date.now();let s=null,t=new Promise(t=>s=t);if(this.f5t){for(const r of this.T5t)r.Jz()||r.MIt()||!r.aO()||r.fMt();(async()=>{await this.b7.r7(),await t,this.Bg=!1,this.kLt()})()}else this.Bg=!1;this.b7.n7(),this.NX()&&V.RuntimeInit(h);for(const n of this.Tq.dD())n.mX();this.xkt()&&await this.GLt();const e=this.Tq.ZX(),i=(await e.C$(null,this.Y2()),await e.B$(!0),this.TOt=performance.now(),s(),this.f5t||this.kLt(),await this.BD("runtime","before-start-ticking"));i.isSuspended&&!this.xkt()?(this.lOt++,this.aOt=!0):this.AK()}kLt(){this.vN(j.aX.hX.nX.DLt,null,null),this.ff("runtime","register-sw")}byt(t){t=Math.floor(t);const s=this.W5t;if(t<0||t>=s.length)throw new Error("invalid object reference");return s[t]}bLt(){for(const t of self.OLt){const s=j.first(Object.keys(t));this.U5t.push(s)}}Bdt(t){t=Math.floor(t);const s=this.U5t;if(t<0||t>=s.length)throw new Error("invalid prop reference");return s[t]}LLt(){return this.NDt}BLt(){return this.BDt}YA(){return this.WDt}wDt(){return this.ODt}NLt(){return this.LDt}pk(){return this.Wft}Ik(){return this.Wft.Ik()}Cdt(){return this.Wft.Cdt()}bk(){return this.Wft.bk()}Rdt(){return this.Wft.Rdt()}Z2t(){return 0===this.Cdt().n0t()}Fdt(){return this.Wft.Fdt()}sFt(){return this.y5t}ySt(){return this.y5t.ySt()}vz(t){if((t=Math.floor(t))<0||t>=this.T5t.length)throw new RangeError("invalid index");return this.T5t[t]}WLt(t){return this.G5t.get(t.toLowerCase())||null}k8(t){return this._5t.get(t)||null}Krt(t){const s=j.iO.xO(t);return s?s._O():null}zz(){return this.T5t}*ULt(){for(const t of this.T5t)t.Jz()||(yield*t.instances())}jf(){return this.__t}uk(){return this.s$}BX(t){t.runtime=this.rO();const s=this.NX()&&!this.Wft.KO();s&&V.StartMeasuringScriptTime(),this.s$.dispatchEvent(t),s&&V.AddScriptTime()}eX(t){return t.runtime=this.rO(),this.s$.Yf(t)}ZA(){return this.n5t}sk(){return this.h5t}jLt(t,s){if(this.n5t!==t||this.h5t!==s){this.n5t=t,this.h5t=s;const e=this.uD();e.aY(),e.lY()}}M9(){return this.l5t}T9(){return this.u5t}Dkt(t,s){if(this.l5t!==t||this.u5t!==s){this.l5t=t,this.u5t=s;const e=this.uD();e.aY(),e.lY()}}Mkt(t){this.xkt()||(this.cP=t)}K5(){return this.cP}bJ(){return this.o5t}vJ(){return this.a5t}N5(){return this.j5t}IJ(){return this.j5t?this.j5t.IJ():this.l5t}CJ(){return this.j5t?this.j5t.CJ():this.u5t}AB(){return this.j5t?this.j5t.AB():1}t8(){return this.j5t?this.j5t.t8():1}oq(){return this.j5t?this.j5t.oq():1}nq(){return this.j5t?this.j5t.nq():1}MB(){return this.j5t?this.j5t.MB():0}TB(){return this.j5t?this.j5t.TB():0}VLt(){return this.j5t?this.j5t.V5():0}HLt(){return this.j5t?this.j5t.z5():0}ZU(){return this.j5t?this.j5t.ZU():"off"}BJ(t){return this.j5t?this.j5t.BJ(t):null}nz(t){this.j5t&&this.j5t.nz(t)}OJ(){return this.d5t}pkt(){return this.p5t}mkt(){return this.m5t}Yk(){return this.j5t?this.j5t.Yk():NaN}sM(){return"nearest"!==this.ek()}Zk(){return this.H5t}Qk(t){this.H5t!==t&&(this.H5t=t,-1!==this.PAt||-1!==this.Z5t)&&(this.zLt(),this.JLt())}ek(){return this.jv}oIt(){return this.f5t}gDt(){return this.g5t}_Dt(){this.g5t&&(this.g5t.EI(),this.g5t.cn(),this.g5t=null)}uD(){return this.Tq}oD(){return this.Tq.oD()}ott(){return this.xQ}qLt(){return this.w5t}sRt(){return this.b5t}cut(){return this.Hlt}NA(){return this.b7}KV(t){return this.b7.KV(t)}qO(t,s,e,i,r,n){if(n&&this.b5t){if(t instanceof j.Dlt&&t.Jz()){const o=t.igt(),a=Math.floor(this.hD()*o.length);return this.qO(o[a],s,e,i,r,n)}const h=this.b5t.klt(t,n);if(h){const l=this.Ez(h,s,!1,e,i,!1,r,void 0,r);return this.b5t.Olt(l,n),l}}return this.Ez(t,s,!1,e,i,!1,r,void 0,r)}Ez(t,s,e,i,r,n,h,o,a){let l=null,u=null;if(t instanceof j.Dlt){if((u=t).Jz()){const b=u.igt(),v=Math.floor(this.hD()*b.length);u=b[v]}l=u.Mz()}else l=t,u=this.vz(l[1]);const c=u.FO().aO();if(this.Bg&&c&&!u.MIt())return null;const f=s;c||(s=null);let d;d=e&&!n&&l&&!this.L5t.has(l[2])?l[2]:this.O5t++;const p=l?l[0]:null,m=j.un(j.Instance,{runtime:this,DB:u,XN:s,TCt:p,CCt:l?l[3]:null,uid:d,tags:l?l[6]:null});this.L5t.set(d,m);let g=null,y=(c&&(g=m.RD(),void 0!==i&&void 0!==r&&(g.Rb(i),g.Pb(r)),u.KIt(!0)),s&&(a||s.Pz(m,!0),s.cD().E$(u)),this.D5t++,!0);if(o){const x=o.OB();if(x.$B()&&u.$B()){const M=u._$(),T=x._$();M===T&&(y=!1)}}if(u.$B()&&!e&&!n&&y){const G=new Set;for(const _ of u._$().fX())if(_!==u){const I=this.$Lt(_,g,G);if(I){const C=this.Ez(I,f,!1,g?g.Cb():i,g?g.Fb():r,!0,!1,void 0,a);m.dX(C)}else{const B=this.Ez(_,f,!1,g?g.Cb():i,g?g.Fb():r,!0,!1,void 0,a);m.dX(B)}}for(const R of m.XB()){R.dX(m);for(const E of m.XB())R!==E&&R.dX(E)}}if(c&&!e&&h&&this.XLt(m,p,g,s,i,r,a),u.$B()&&!e&&!n&&h)for(const F of m.XB()){const P=F.RD();if(P){const N=F.FO(),A=F.OB().Mz()[0];N.aO()?this.XLt(F,A,P,s,P.Cb(),P.Fb(),a):this.XLt(F,A,P,s,void 0,void 0,a)}}if(!n&&h){void 0===i&&(i=p[0]),void 0===r&&(r=p[1]);const k=g.I4(),W=i-g.Cb()+k.Cb(),U=r-g.Fb()+k.Fb();k.KN(W,U)}u.JIt();const O=l?j.Xh(l[5]):null,L=l?l[4].map(t=>j.Xh(t)):null,S=c&&p&&p[13];if(S&&m.kCt(),m.vIt(O,L),S){const D=p[13];m.v6().RMt(D[2],D[0],D[1])}this.F5t.push(m),this.A5t=!0,this.NX()&&V.InstanceCreated(m);const w=this.HOt.instancecreate;return w.P6=m,this.__t.dispatchEvent(w),m}ZRt(t){const s=t[0],e=t[1],i=t[2],r=t[6];if(r)return r;const n=this.Tq.tY(s),h=n.ED(e);return h._z(i)}$Lt(t,s,e){const i=s?.tRt()??[];for(const r of i){const n=this.ZRt(r),h=!!r[4],o=this.vz(n[1]);if(!e.has(n)&&t===o&&h)return e.add(n),n}}XLt(a,t,s,l,u,c,f){const e=s.wEt(),i=s.tRt();if(a.RD().bEt(e),i){void 0===u&&(u=t[0]),void 0===c&&(c=t[1]);const d=new Set,p=t[0],m=t[1];for(const g of i){let t=g[0],s=g[1],e=g[2],i=g[3],r=!!g[4],n=g[5],h=g[6],o;if(h)o=h;else{const b=this.Tq.tY(t),v=b.ED(s);o=v._z(e)}const y=this.vz(o[1]),S=a.eRt(y),w=d.has(y);if(S&&!w&&r){const x=a.iRt(y),M=(x.RD().GCt(o[0]),u+o[0][0]-p),T=c+o[0][1]-m;x.RD().KN(M,T),x.RD().bEt(n),a.O4(x,{U4:!!(i>>0&1),V4:!!(i>>1&1),z4:!!(i>>2&1),q4:!!(i>>3&1),Y4:!!(i>>4&1),r6:!!(i>>5&1),Z4:!!(i>>6&1),t6:!!(i>>7&1),e6:!!(i>>8&1)}),d.add(y)}else{const G=u+o[0][0]-p,_=c+o[0][1]-m,I=this.Ez(o,l,!1,G,_,!1,!0,a,f);I.RD().bEt(n),a.O4(I,{U4:!!(i>>0&1),V4:!!(i>>1&1),z4:!!(i>>2&1),q4:!!(i>>3&1),Y4:!!(i>>4&1),r6:!!(i>>5&1),Z4:!!(i>>6&1),t6:!!(i>>7&1),e6:!!(i>>8&1)})}}}}VB(e){if(!this.B5t.has(e)){let t=e.OB(),s=this.P5t.get(t);if(s){if(s.has(e))return;s.add(e)}else(s=new Set).add(e),this.P5t.set(t,s);if(this.NX()&&V.InstanceDestroyed(e),e.OCt(),this.A5t=!0,e.$B())for(const i of e.XB())this.VB(i);for(const r of e.children())r.n6()&&this.VB(r);if(!this.Tq.ZO()&&!this.EOt){const n=this.pk();n.XO(!0),e.dRt(),n.XO(!1)}e.pRt(this.Tq.ZO())}}QO(){this.A5t&&(this.k5t=!0,this.YLt(),this.KLt(),this.k5t=!1,this.A5t=!1,this.OD())}YLt(){for(const t of this.F5t){const s=t.OB();s.Pz(t);for(const e of s.zdt())e.Pz(t),e.JIt()}j.Lh(this.F5t)}KLt(){this.__t.Df(!0);for(const[t,s]of this.P5t.entries())this.ZLt(t,s),s.clear();this.P5t.clear(),this.__t.Df(!1)}ZLt(t,s){for(const e of s){const i=this.HOt.instancedestroy,r=(i.P6=e,this.__t.dispatchEvent(i),this.L5t.delete(e.YB()),this.xOt.delete(e),e.RD());r&&(r.MEt(),r.Oz(),r.OCt()),this.B5t.add(e),this.D5t--}j.Jh(t.jO(),s),t.JIt(),this.N5t.add(t);for(const n of t.zdt())j.Jh(n.jO(),s),n.JIt(),this.N5t.add(n);if(t.FO().aO()){const h=new Set([...s].map(t=>t.RD().ED()));for(const o of h)o.Y9(s)}}$It(){return this.F5t}*evt(t){for(const s of this.$It())t.Jz()?s.OB().Q2t(t)&&(yield s):s.OB()===t&&(yield s)}bIt(){return this.O5t++}xIt(t,s){this.L5t.set(t,s)}C8(t){this.oOt!==(t=!!t)&&(this.oOt=!!t,this.oOt)&&this.aOt&&(this.P8(!1),this.aOt=!1)}E8(){return this.oOt}L$(){this.__t.dispatchEvent(j.un(j.Event,"renderercontextlost")),this.P8(!0);for(const s of this.T5t)!s.Jz()&&s.TIt()&&s.D$();const t=this.oD();t&&t.L$(),j.vGt.P7(),j.QV.P7()}async qkt(){await this.oD().C$(null,this.Y2()),this.__t.dispatchEvent(j.un(j.Event,"renderercontextrestored")),this.P8(!1),this.OD()}KOt(t){if(this.oOt){const s=t.hidden;this.P8(s),(this.aOt=s)||this.OD()}}sLt(t){this.FDt()&&this.q5t&&!j.ue.ve&&!t.data.parentHasFocus&&(this.P8(!0),this.$5t=!0)}eLt(){this.$5t&&(this.P8(!1),this.$5t=!1)}JLt(){const t=this.Y5t;"vsync"===this.H5t?-1===this.PAt&&(this.PAt=self.requestAnimationFrame(t.K5t)):"unlimited-tick"===this.H5t?(-1===this.Z5t&&(this.Z5t=j.uo(t.Q5t)),-1===this.PAt&&(this.PAt=self.requestAnimationFrame(t.tOt))):-1===this.Z5t&&(this.Z5t=j.uo(t.K5t))}zLt(){-1!==this.PAt&&(self.cancelAnimationFrame(this.PAt),this.PAt=-1),-1!==this.Z5t&&(j.co(this.Z5t),this.Z5t=-1)}kk(){return 0<this.lOt}P8(t){if(!this.xkt()){const s=this.kk(),e=(this.lOt+=t?1:-1,this.lOt<0&&(this.lOt=0),this.kk());if(!s&&e)console.log("[Construct] Suspending"),this.zLt(),this.__t.dispatchEvent(j.un(j.Event,"suspend")),this.vN(j.aX.hX.nX.QLt,null,null);else if(s&&!e){console.log("[Construct] Resuming");const i=performance.now();this.dOt=i,this.TOt=i,this.MOt=0,this.GOt=0,this._Ot=0,this.IOt=0,this.ROt=0,this.COt=0,this.__t.dispatchEvent(j.un(j.Event,"resume")),this.vN(j.aX.hX.nX.tBt,null,null),this.y1t()||this.AK(i)}}}m8(t){this.JOt.cc(t)}w8(t){this.qOt.cc(t)}y8(t){this.$Ot.cc(t)}g8(t){this.JOt.v0(t)}b8(t){this.qOt.v0(t)}S8(t){this.$Ot.v0(t)}sBt(){const t=globalThis.c8;this.JOt.ud(!0);for(const s of this.JOt)s instanceof t?s.EN():s.AK();this.JOt.ud(!1)}eBt(){const t=globalThis.c8;this.qOt.ud(!0);for(const s of this.qOt)s instanceof t?s.x8():s.sGt();this.qOt.ud(!1)}iBt(){const t=globalThis.c8;this.$Ot.ud(!0);for(const s of this.$Ot)s instanceof t?s.PN():s.YMt();this.$Ot.ud(!1)}*rBt(){const s=globalThis.c8;this.JOt.ud(!0);for(const e of this.JOt){let t;t=e instanceof s?e.EN():e.AK(),j.Uo(t)&&(yield*t)}this.JOt.ud(!1)}*nBt(){const s=globalThis.c8;this.qOt.ud(!0);for(const e of this.qOt){let t;t=e instanceof s?e.x8():e.sGt(),j.Uo(t)&&(yield*t)}this.qOt.ud(!1)}*hBt(){const s=globalThis.c8;this.$Ot.ud(!0);for(const e of this.$Ot){let t;t=e instanceof s?e.PN():e.YMt(),j.Uo(t)&&(yield*t)}this.$Ot.ud(!1)}async AK(a,t,s){this.nOt=!0;const l="background-wake"===s,u="background-wake"!==s&&"skip-render"!==s,c=this.uD(),f=this.N5();if(this.iOt&&(!this.kk()||t||l)){let t=performance.now(),s=(this.rOt=!0,this.oBt(a||0),this._Ot++,this.aBt(),this.lBt()),e=(this.Ybt()&&await s,this.__t.Kf(this.HOt.pretick)),i=(e instanceof Promise&&await e,this.uBt()),r=(this.Ybt()&&await i,this.cBt()&&await this.fBt(),c.mD()&&await this.dBt(),this.pBt()),n=(this.Ybt()&&await r,c.oD()),h=n.v$(),o=!1;if(-1!==h&&(n.x$(),f.b$()!==h)){const d=this.N5().j$(h);this.YA()&&(o=!0,await d)}this.ff("canvas","update-html-layer-dom-state",{layersDomState:n.Qz().filter(t=>t.YL()).map(t=>t.iJ())}),u&&this.PP(),o&&this.ff("canvas","cleanup-html-layers"),this.xkt()&&(await this._Lt(),this.Nk()>=this.MLt())?this.CLt():(this.kk()||l||this.JLt(),this.sOt++,this.eOt++,this.rOt=!1,this.COt+=performance.now()-t)}}async lBt(){const t=this.Wft,s=this.NX();this.QO(),t.XO(!0),this.n1t(this.oD()),s&&V.StartMeasuringTime(),this.Ybt()?await t.B1t():t.A1t(),s&&V.AddEventsTime(),this.h1t(),t.XO(!1),this.QO(),t.XO(!0)}async uBt(){const t=this.NX(),s=this.Ybt(),e=this.__t,i=this.HOt,r=this.zOt;t&&V.StartMeasuringTime(),s?await this.mBt(this.rBt()):this.sBt(),s?await this.mBt(this.nBt()):this.eBt(),t&&V.AddBehaviorTickTime(),t&&V.StartMeasuringTime(),s?await this.gBt(i.tick):e.dispatchEvent(i.tick),t&&V.AddPluginTickTime(),this.Wft.XO(!1),this.BX(r.tick)}async pBt(){const t=this.Wft,s=this.__t,e=this.HOt,i=this.NX(),r=this.Ybt();i&&V.StartMeasuringTime(),r?await t.o1t(this.Tq):t.r1t(this.Tq),i&&V.AddEventsTime(),this.S5t.JFt(),this.aBt(),this.hOt=!1,t.XO(!0),i&&V.StartMeasuringTime(),r?await this.mBt(this.hBt()):this.iBt(),i&&V.AddBehaviorTickTime(),i&&V.StartMeasuringTime(),r?await this.gBt(e.tick2):s.dispatchEvent(e.tick2),i&&V.AddPluginTickTime(),t.XO(!1),r&&await t.S1t()}aBt(){if(0!==this.B5t.size){const t=this.__t;t.Df(!0);for(const s of this.N5t)s.I1t().gft(this.B5t);this.N5t.clear(),this.Wft.W1t(this.B5t);for(const e of this.B5t)e.cn();this.B5t.clear(),t.Df(!1)}}async dBt(){let t=this.uD(),s=0;for(;t.mD()&&s++<10;)await this.yBt(t.hY())}oBt(t){let s=0;if(this.xkt())s=1/this.TLt(),this.pOt=s,this.mOt=s;else if(0!==this.dOt){const e=Math.max(t-this.dOt,0);.5<(s=e/1e3)&&(s=0),this.pOt=s,this.mOt=j.yn(s,this.SOt,this.yOt)}this.dOt=t,this.gOt=this.mOt*this.xCt,this.wOt.cc(this.gOt),this.bOt.cc(s*this.xCt),this.vOt.cc(this.mOt);for(const[i,r]of this.xOt)r.cc(this.mOt*i.jk());this.j5t&&this.j5t.nDt(),1e3<=t-this.TOt&&(this.TOt+=1e3,1e3<=t-this.TOt&&(this.TOt=t),this.GOt=this.MOt,this.MOt=0,this.IOt=this._Ot,this._Ot=0,this.ROt=Math.min(this.COt/1e3,1),this.COt=0,this.j5t&&this.j5t.rDt(),this.S5t.jFt(),this.NX())&&V.Update1sPerfStats()}PCt(t,s){if(s){if(!this.xOt.has(t)){const e=j.un(j.M0);e.C0(this.wOt),this.xOt.set(t,e)}}else this.xOt.delete(t)}ACt(t){const s=this.xOt.get(t);return s?s.re():this.Nk()}async yBt(t){const s=this.__t,e=this.uD(),i=e.oD();await i.yX(),i.O$(t,this.Y2()),i===t&&this.Wft.bX(),this.S5t.JFt(),this.aBt(),s.dispatchEvent(this.HOt.beforelayoutchange),j.Lf.t0(!0),await t.C$(i,this.Y2()),j.Lf.t0(!1),await t.B$(!1),s.dispatchEvent(this.HOt.layoutchange),this.OD(),this.hOt=!0,this.QO(),this.ILt()}OD(){this.J5t=!0}$kt(){return this.j5t?this.j5t.$kt():null}Xkt(){return this.j5t?this.j5t.Xkt():null}Y2(){return this.j5t?this.j5t.Y2():null}PP(){const e=this.j5t;if(e&&!e.Jkt()){const i=this.Y2(),t=i.VE(),r=t&&i.S2(),n=t&&i.CS();if(r&&i.RE(),this.J5t||this.xkt()){const h=this.Tq.oD(),o=(this.MOt++,i.vE(),this.NX());o&&V.StartMeasuringTime(),this.J5t=!1;let t=null,s=(r&&(t=e.aDt().fR(),i.jE(t)),null);n&&(s=i.StartFrameTiming(2*(1+h.p$())),i.StartMeasuringRenderPassTime(0,1)),this.A9()&&"low"===e.LJ()?i.P3(e.IJ(),e.CJ()):i.A3(),this.SBt(this.Y2(),h),t&&i.HE(t),n&&(i.StopMeasuringRenderPassTime(),this.j5t.lDt(s)),i.a2(),o&&(V.AddDrawCallsTime(),V.UpdateInspectHighlight()),e&&e.cDt()}else i.c2()}}EX(t){return"low"===this.N5().LJ()||t.S2()&&(this.OJ()||this.A9())}SBt(s,e){s.OS(),s.Z3(),s.V3(1,1,1,1),s.AE(null),s.q3(null),s.ME(this.A9()),this.EX(s)&&e.CX(s);const i=e.b$();for(let t=1;t<i;++t)e.kX(s,t),s.CS()&&s.Restart();this.EX(s)||e.CX(s),e.AX(s)}vN(t,s,e){if(!this.iOt)return!1;let i=!this.rOt&&!this.Wft.x1t(),r=0;i&&(r=performance.now());const n=this.NX(),h=(n&&this.J8(!1),this.Wft.c1t(this.Tq,t,s,e));if(i){const o=performance.now()-r;this.COt+=o,n&&V.AddTriggersTime(o)}return n&&this.J8(!0),h}BMt(t,s,e){if(!this.Ybt())return this.vN(t,s,e);if(this.y1t())throw new Error("called DebugTrigger() while stopped on breakpoint");if(this.rOt||this.Wft.x1t())return this.Wft.p1t(this.Tq,t,s,e);throw new Error("called DebugTrigger() outside of event code - use TriggerAsync() instead")}async MN(t,s,e){if(!this.Ybt())return this.vN(t,s,e);if(!this.iOt)return!1;if(this.y1t())return this.Wft.m1t(t,s,e);if(!this.oD())return this.Wft.f1t(t,s,e);let i=performance.now(),r=this.Wft.p1t(this.Tq,t,s,e),n=r.next();for(;!n.done;)await this.l1t(n.value),n=r.next();return this.kk()||this.Wft.x1t()||(await this.Wft.S1t(),this.nOt&&!this.rOt&&this.JLt()),this.COt+=performance.now()-i,n.value}NMt(t,s,e){const i=this.NX(),r=(i&&this.J8(!1),this.Wft.w1t(this.Tq,t,s,e));return i&&this.J8(!0),r}WMt(t,s,e){return this.Wft.b1t(this.Tq,t,s,e)}UMt(t){return this.uOt.cc(t)}n1t(t){this.E5t.push(t)}h1t(){if(!this.E5t.length)throw new Error("layout stack empty");this.E5t.pop()}ID(){return this.E5t.length?this.E5t.at(-1):this.oD()}Ok(t){return t&&-1!==t.jk()?this.mOt*t.jk():this.gOt}FK(){return this.gOt}PK(){return this.mOt}Bk(){return this.pOt}jk(){return this.xCt}Vk(t){(isNaN(t)||t<0)&&(t=0),this.xCt=t}eD(t){this.SOt=Math.max(t,0)}sD(){return this.SOt}nD(t){this.yOt=Math.max(t,0)}rD(){return this.yOt}Hk(){return this.GOt}Jk(){return this.IOt}$k(){return this.ROt}wBt(){return this.fOt}Nk(){return this.wOt.re()}bBt(){return this.bOt.re()}Uk(){return this.vOt.re()}Rtt(){return this.sOt}vBt(){return this.eOt}xBt(){return this.D5t}JA(){return this.s5t}$A(){return this.e5t}MBt(){return this.i5t}TBt(){return this.r5t}TD(t){if(this.EOt)throw new Error("cannot call while loading state - wait until afterload event");return this.L5t.get(t)||null}uX(){this.L5t.clear();for(const t of this.T5t)if(!t.Jz())for(const s of t.jO())this.L5t.set(s.YB(),s)}FDt(){return"preview"===this.jDt}NX(){return this.$Dt}D5(){return this.jDt}O5(){return"nwjs"===this.D5()||this.VDt}ADt(){return"cordova"===this.jDt}GBt(){return"Android"===j.ue.fe&&("cordova"===this.jDt||"playable-ad-single-file"===this.jDt||"playable-ad-zip"===this.jDt||"instant-games"===this.jDt)}ELt(){return this.lV}_Bt(){return this.HDt}L5(){return this.zDt}IBt(){return this.JDt}jA(){return this.S5t}wGt(){return this.y5t.wGt()}bGt(){return this.y5t.bGt()}A9(){return this.V5t}CBt(){return this.Y2().yS(this.T9())}pS(t){return this.Y2().pS(t||this.T9())}RBt(){return this.hOt}EBt(t){this.z5t!==(t=!!t)&&(this.z5t=t,this.uD().lY(),this.OD())}rk(){return this.z5t}FBt(t){if(!this.M5t.has(t)){const e=()=>this.PBt(t);this.M5t.set(t,e),t.jf().addEventListener("animationframeimagechange",e)}const s=this.Ag.Ig(t);return s.jg()||s.Hg().then(()=>this.OD()),s}PBt(t){this.Ag.Fg(t)}v5t(t){const s=[];for(const e of t.OIt())for(const i of e.Q6()){const r=i.nW();s.push({source:i,width:r.lm(),height:r.Mm(),tag:i.TW()})}return{Wg:s}}async x5t(t){const s=j.un(j.dd),e=[],r=new Map;for(const h of t.OIt())for(const o of h.Q6()){const a=o.nW().UGt();r.has(a)||(r.set(a,null),e.push(s.cc(async()=>{const t=await a.O7();r.set(a,t)})))}await Promise.all(e);const i=[];for(const l of t.OIt())for(const u of l.Q6())i.push(s.cc(async()=>{const t=u.nW(),s=r.get(t.UGt()),e=await t.jGt(s),i=await createImageBitmap(e);return{Jg:i}}));const n=await Promise.all(i);for(const c of r.values())c instanceof ImageBitmap&&c.close&&c.close();return{Wg:n}}ABt(t){this.FOt=t,this.POt=!1}kBt(){this.FOt="",this.POt=!0}DBt(t){this.AOt=t}Vvt(t){this.ON=t}OBt(){return this.kOt}cBt(){return!!(this.FOt||this.POt||this.AOt||null!==this.ON)}async fBt(){if(this.FOt&&(this.QO(),await this.LBt(this.FOt),this.BBt()),this.AOt&&(await this.NBt(this.AOt),this.BBt(),this.NX())&&V.StepIfPausedInDebugger(),this.POt){const t=await this.WBt();this.kOt=t,await this.MN(j.aX.hX.nX.UBt,null),this.kOt="",this.BBt()}if(null!==this.ON){this.QO();try{await this.jBt(this.ON),this.kOt=this.ON,await this.MN(j.aX.hX.nX.VBt,null),this.kOt=""}catch(t){console.error("[Construct] Failed to load state from JSON string: ",t),await this.MN(j.aX.hX.nX.HBt,null)}this.BBt()}}BBt(){this.FOt="",this.POt=!1,this.AOt="",this.ON=null}Q5(){return this.DOt||(this.DOt=localforage.Be({name:"c3-localstorage-"+this.MBt(),description:this.JA()})),this.DOt}zBt(){return this.OOt||(this.OOt=localforage.Be({name:"c3-savegames-"+this.MBt(),description:this.JA()})),this.OOt}async LBt(t){const s=await this.WBt();try{await this.zBt().setItem(t,s),console.log("[Construct] Saved state to storage ("+s.length+" chars)"),this.kOt=s,await this.MN(j.aX.hX.nX.UBt,null),this.kOt=""}catch(t){console.error("[Construct] Failed to save state to storage: ",t),await this.MN(j.aX.hX.nX.JBt,null)}}async NBt(t){try{const s=await this.zBt().getItem(t);if(!s)throw new Error("empty slot");console.log("[Construct] Loaded state from storage ("+s.length+" chars)"),await this.jBt(s),this.kOt=s,await this.MN(j.aX.hX.nX.VBt,null),this.kOt=""}catch(t){console.error("[Construct] Failed to load state from storage: ",t),await this.MN(j.aX.hX.nX.HBt,null)}}async WBt(){const t={c3save:!0,version:1,rt:{time:this.Nk(),timeRaw:this.bBt(),walltime:this.Uk(),timescale:this.jk(),tickcount:this.Rtt(),next_uid:this.O5t,running_layout:this.oD().t9(),start_time_offset:Date.now()-this.fOt},types:{},layouts:{},events:this.Wft.Sq(),timelines:this.xQ.Sq(),user_script_data:null};for(const e of this.T5t)e.Jz()||e.rCt()||(t.types[e.t9().toString()]=e.Sq());for(const i of this.Tq.dD())t.layouts[i.t9().toString()]=i.Sq();const s=this.qBt("save");return s.saveData=null,await this.eX(s),t.user_script_data=s.saveData,JSON.stringify(t)}K$(){return this.EOt}async jBt(t){const s=this.uD(),e=JSON.parse(t);if(e.c2save)throw new Error("C2 saves are incompatible with C3 runtime");if(!e.c3save)throw new Error("not valid C3 save data");if(1<e.version)throw new Error("C3 save data from future version");this.Hvt(),this.__t.dispatchEvent(j.un(j.Event,"beforeload"));for(const a of this.ULt()){const l=a.OB();l.rCt()||a.DY()}let i=e.rt,r=(this.wOt.Set(i.time),i.hasOwnProperty("timeRaw")&&this.bOt.Set(i.timeRaw),this.vOt.Set(i.walltime),this.xCt=i.timescale,this.sOt=i.tickcount,this.fOt=Date.now()-i.start_time_offset,i.running_layout),n=!(this.EOt=!0);if(r!==this.oD().t9()){const u=s.tY(r);if(!u)return;await this.yBt(u),n=!0}for(const[c,f]of Object.entries(e.layouts)){const d=parseInt(c,10),p=s.tY(d);p&&p.wq(f)}const h=new Set;for(const[m,g]of Object.entries(e.types)){const y=parseInt(m,10),S=this.k8(y);!S||S.Jz()||S.rCt()||S.wq(g,h)}for(const w of this.Tq.dD())for(const b of w.SL())b.bq();if(this.QO(),this.uX(),this.EOt=!1,n){for(const v of this.ULt())v.Z$();for(const[x,M]of Object.entries(e.types)){const T=parseInt(x,10),G=this.k8(T);!G||G.Jz()||G.rCt()||G.oCt(M)}}this.O5t=i.next_uid,this.Wft.wq(e.events);for(const _ of this.T5t)if(!_.Jz()&&_.$B())for(const I of _.jO()){const C=I.cX();for(const R of _._$().fX())if(R!==_){const E=R.jO();if(C<0||C>=E.length)throw new Error("missing sibling instance");I.dX(E[C])}}this.xQ.wq(e.timelines),s.aY(),s.lY();for(const F of h)F.fRt();this.zvt(),this.__t.dispatchEvent(j.un(j.Event,"afterload")),this.BX(this.qBt("afterload"));for(const[P,A]of Object.entries(e.types)){const k=parseInt(P,10),D=this.k8(k);D&&D.hCt()}const o=this.qBt("load");o.saveData=e.user_script_data,await this.eX(o),this.OD()}$Bt(t,s){return t.RD().pEt()-s.RD().pEt()}tFt(t,s){t.RD()&&!this.hLt.has(t)&&(this.hLt.set(t,s),this.oLt.push(t))}Hvt(){this.hLt=new WeakMap,j.Lh(this.oLt)}zvt(t="full",s=null){this.oLt.sort(this.$Bt);for(const e of this.oLt)e.LY(this.hLt.get(e),t,s);for(const i of this.oLt)i.yRt(this.hLt.get(i),t,s);this.Hvt()}async PLt(t){const s=await Promise.all(t.map(async t=>{const s=this.ADt()&&this.b7.jV();if(s||"playable-ad-single-file"===this.D5()){const e=await this.b7.To(t);return URL.createObjectURL(e)}return new URL(t,location.href).toString()}));this.XOt.XBt(s)}YBt(t,s){this.XOt.KBt(t,s)}FLt(t,s){this.XOt.ZBt(t,s)}ALt(t,s,e,i){return this.XOt.ALt(t,s,e,null,null,i)}QBt(t,s,e,i){return this.XOt.QBt(t,s,e,i)}tNt(){return this.XOt.sNt()}xD(t,s){this.ff("runtime","invoke-download",{url:t,filename:s})}async bDt(t,s,e,i,r,n){if(i=i||s,r=r||e,this.YA()){const h=await this.BD("runtime","raster-svg-image",{blob:t,imageWidth:s,imageHeight:e,surfaceWidth:i,surfaceHeight:r,imageBitmapOpts:n});return h.imageBitmap}{const o=await self.C3_RasterSvgImageBlob(t,s,e,i,r);return n?self.createImageBitmap(o,n):o}}async eNt(t){return this.YA()?this.BD("runtime","get-svg-image-size",{blob:t}):self.C3_GetSvgImageSize(t)}iNt(){this.WOt||(this.WOt=!0,this.ff("runtime","enable-device-orientation"))}rNt(){this.UOt||(this.UOt=!0,this.ff("runtime","enable-device-motion"))}hD(){return this.cOt()}nNt(t){this.cOt=t}QOt(){const t=this.Y2();return{fps:this.Hk(),tps:this.Jk(),cpu:this.$k(),gpu:this.Yk(),layout:this.oD()?this.oD().Zc():"",renderer:t.S2()?t.ZE():t.GetAdapterInfoString()}}y1t(){return!!this.NX()&&V.y1t()}l1t(t){return this.Ybt()?V.l1t(t):Promise.resolve()}zgt(){return!!this.Ybt()&&V.BreakNext()}hNt(t){this.XDt=!!t,this.oNt()}aNt(){return this.XDt}Ybt(){return this.YDt}J8(t){t?this.KDt--:this.KDt++,this.oNt()}oNt(){this.YDt=this.NX()&&this.XDt&&0===this.KDt}lmt(){return this.NX()&&V.lmt()}PJ(){return this.NX()&&this.Y2().VE()&&V.PJ()}async mBt(t){if(t)for(const s of t)await this.l1t(s)}gBt(t){return this.mBt(this.__t.Qf(t))}cdt(t){return this.Wft.cdt(t.name,t.params)}WD(t){if(this.YA())throw new Error("not supported in worker mode");return self.c3_runtimeInterface._GetHTMLWrapElement(t)}rO(){return this.iLt}qBt(t){const s=j.un(j.Event,t,!1);return s.runtime=this.iLt,s}SLt(){this.iLt=new self.OA(this),this.zOt={tick:this.qBt("tick")}}vLt(){const t={};for(const s of this.T5t)t[s.Bdt()]={value:s.GO(),enumerable:!0,writable:!1};this.iLt.ck(t)}xLt(){const t={};for(const s of this.pk().Jdt())t[s.Bdt()]=s.Ndt();this.iLt.fk(t)}yD(){return this.nLt}PO(t,s){this.rLt.set(t,s)}vL(t){return this.rLt.get(t)}I5(t){if(!(t instanceof self.RO))throw new TypeError("expected IObjectClass");const s=this.vL(t);if(s&&s instanceof j.Dlt)return s;throw new Error("invalid IObjectClass")}NO(t){if(!(t instanceof self.kB))throw new TypeError("expected IInstance");const s=this.vL(t);if(s&&s instanceof j.Instance)return s;throw new Error("invalid IInstance")}CD(t){if(!(t instanceof self.g6))throw new TypeError("expected IWorldInstance");const s=this.vL(t);if(s&&s instanceof j.Instance)return s;throw new Error("invalid IInstance")}},self.C3_CreateRuntime=j.kDt.wM,self.C3_InitRuntime=(t,s)=>t.GCt(s)}{const Da=self.Bs;Da.YOt=class extends Da.an{constructor(t,s){super(),this.lf=t,this.lNt=new Map,this.uNt=0,this.cNt=s.inputPort,s.outputPort.onmessage=t=>this.fNt(t),this.dNt=s.maxNumWorkers,this.pNt=1,this.mNt=!1,this.gNt=!1}async GCt(){}sNt(){return this.dNt}XBt(t){this.cNt.postMessage({type:"_import_scripts",scripts:t})}KBt(t,s){this.cNt.postMessage({type:"_send_blob",blob:t,id:s})}ZBt(t,s){this.cNt.postMessage({type:"_send_buffer",buffer:t,id:s},[t])}ALt(t,s,e,i,r,n){if(e=e||[],"number"==typeof n&&(n=Math.floor(n))<=0)throw new Error("invalid maxWorkerNum");const h=this.uNt++,o={type:t,isBroadcast:!1,maxWorkerNum:n,jobId:h,params:s,transferables:e},a=new Promise((t,s)=>{this.lNt.set(h,{resolve:t,progress:i,reject:s,yNt:!1,maxWorkerNum:n})});return r&&r.w0(()=>this.SNt(h)),this.cNt.postMessage(o,e),this.wNt(),a}QBt(t,s,e,i){if(e=e||[],"number"==typeof i&&(i=Math.floor(i))<=0)throw new Error("invalid maxWorkerNum");const r=this.uNt++,n={type:t,isBroadcast:!0,maxWorkerNum:i,jobId:r,params:s,transferables:e};this.cNt.postMessage(n,e)}SNt(t){const s=this.lNt.get(t);s&&(s.yNt=!0,s.resolve=null,s.progress=null,s.reject=null,this.cNt.postMessage({type:"_cancel",jobId:t}))}fNt(t){const s=t.data,e=s.type,i=s.jobId;switch(e){case"result":this.bNt(i,s.result);break;case"progress":this.vNt(i,s.progress);break;case"error":this.xNt(i,s.error);break;case"ready":this.MNt();break;default:throw new Error(`unknown message from worker '${e}'`)}}bNt(t,s){const e=this.lNt.get(t);if(!e)throw new Error("invalid job ID");e.yNt||e.resolve(s),this.lNt.delete(t)}vNt(t,s){const e=this.lNt.get(t);if(!e)throw new Error("invalid job ID");!e.yNt&&e.progress&&e.progress(s)}xNt(t,s){const e=this.lNt.get(t);if(!e)throw new Error("invalid job ID");e.yNt||e.reject(s),this.lNt.delete(t)}MNt(){this.mNt&&(this.mNt=!1,this.pNt++,this.pNt<this.dNt?this.wNt():this.cNt.postMessage({type:"_no_more_workers"}))}TNt(){let t=0,s=[...this.lNt.values()].sort((t,s)=>{const e=t.maxWorkerNum||1/0,i=s.maxWorkerNum||1/0;return e-i});for(const e of s){const i=e.maxWorkerNum||1/0;t<i&&t++}return t}async wNt(){if(!(this.pNt>=this.dNt||this.mNt||this.gNt||this.TNt()<=this.pNt))try{this.mNt=!0;const t=await this.lf.BD("runtime","create-job-worker");t.outputPort.onmessage=t=>this.fNt(t)}catch(t){this.gNt=!0,this.mNt=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${this.pNt} so far)`,t)}}}}self.C3_Shaders={},self.C3_Shaders.vignette={bkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump float vignetteStart;\nuniform mediump float vignetteEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp float d = distance(tex, vec2(0.5, 0.5));\nfront.rgb *= smoothstep(vignetteEnd, vignetteStart, d);\nfront.rgb *= a;\ngl_FragColor = front;\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nvignetteStart : f32,\nvignetteEnd : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\nconst center : vec2<f32> = vec2<f32>(0.5);\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar rgb : vec3<f32> = front.rgb;\nvar tex : vec2<f32> = c3_srcToNorm(input.fragUV);\nvar d : f32 = distance(tex, center);\nrgb = rgb * smoothstep(shaderParams.vignetteEnd, shaderParams.vignetteStart, d);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb * front.a, front.a);\nreturn output;\n}",H2:!1,J2:!1,R2:0,F2:0,A2:!1,O2:!1,B2:!0,W2:!1,j2:!1,parameters:[["vignetteStart",0,"percent"],["vignetteEnd",0,"percent"]]},self.C3_Shaders.overlay={bkt:"precision mediump float;\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nfront.r = back.r < 0.5 ? 2.0 * back.r * front.r : 2.0 * (front.r + back.r * front.a - back.r * front.r) - front.a;\nfront.g = back.g < 0.5 ? 2.0 * back.g * front.g : 2.0 * (front.g + back.g * front.a - back.g * front.g) - front.a;\nfront.b = back.b < 0.5 ? 2.0 * back.b * front.b : 2.0 * (front.b + back.b * front.a - back.b * front.b) - front.a;\nfront *= back.a;\ngl_FragColor = front;\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack));\nvar rgb : vec3<f32> = select(\n2.0 * (front.rgb + back.rgb * front.a - back.rgb * front.rgb) - front.a,\n2.0 * back.rgb * front.rgb,\nback.rgb < vec3<f32>(0.5)\n);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb, front.a) * back.a;\nreturn output;\n}",H2:!0,J2:!1,R2:0,F2:0,A2:!1,O2:!1,B2:!1,W2:!1,j2:!1,parameters:[]},self.C3_Shaders.multiply={bkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nfront *= back;\ngl_FragColor = front;\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack));\nvar output : FragmentOutput;\noutput.color = front * back;\t\t// multiply front and back\nreturn output;\n}",H2:!0,J2:!1,R2:0,F2:0,A2:!1,O2:!1,B2:!1,W2:!1,j2:!1,parameters:[]},self.C3_Shaders.blurhorizontal={bkt:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelWidth = pixelSize.x;\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, sum, intensity);\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar pixelWidth : f32 = c3_getPixelSize(textureFront).x;\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar sum : vec4<f32> =\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 7.5, 0.0)) * 0.06 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 5.5, 0.0)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 3.5, 0.0)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 1.5, 0.0)) * 0.16 +\nfront * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 1.5, 0.0)) * 0.16 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 3.5, 0.0)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 5.5, 0.0)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 7.5, 0.0)) * 0.06;\nvar output : FragmentOutput;\noutput.color = mix(front, sum, shaderParams.intensity);\nreturn output;\n}",H2:!1,J2:!1,R2:8,F2:0,A2:!1,O2:!1,B2:!1,W2:!1,j2:!1,parameters:[["intensity",0,"percent"]]},self.C3_Shaders.screen={bkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nfront.rgb = 1.0 - ((1.0 - front.rgb) * (1.0 - back.rgb * front.a));\ngl_FragColor = front;\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack));\nvar output : FragmentOutput;\noutput.color = vec4<f32>(\nvec3<f32>(1.0) - ((vec3<f32>(1.0) - front.rgb) * (vec3<f32>(1.0) - back.rgb * front.a)),\nfront.a\n);\nreturn output;\n}",H2:!0,J2:!1,R2:0,F2:0,A2:!1,O2:!1,B2:!1,W2:!1,j2:!1,parameters:[]},self.C3_Shaders.dodge={bkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nfront.rgb = (back.rgb * front.a) / (1.0 - front.rgb);\ngl_FragColor = front * back.a;\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack));\nvar output : FragmentOutput;\noutput.color = vec4<f32>(\n(back.rgb * front.a) / (vec3<f32>(1.0) - front.rgb),\nfront.a\n) * back.a;\nreturn output;\n}",H2:!0,J2:!1,R2:0,F2:0,A2:!1,O2:!1,B2:!1,W2:!1,j2:!1,parameters:[]},self.C3_Shaders.softlight={bkt:"precision mediump float;\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nfront.rgb /= front.a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nback.rgb /= back.a;\nfront.r = ((front.r < 0.5) ? (2.0 * back.r * front.r + back.r * back.r * (1.0 - 2.0 * front.r)) : (sqrt(back.r) * (2.0 * front.r - 1.0) + 2.0 * back.r * (1.0 - front.r)));\nfront.g = ((front.g < 0.5) ? (2.0 * back.g * front.g + back.g * back.g * (1.0 - 2.0 * front.g)) : (sqrt(back.g) * (2.0 * front.g - 1.0) + 2.0 * back.g * (1.0 - front.g)));\nfront.b = ((front.b < 0.5) ? (2.0 * back.b * front.b + back.b * back.b * (1.0 - 2.0 * front.b)) : (sqrt(back.b) * (2.0 * front.b - 1.0) + 2.0 * back.b * (1.0 - front.b)));\nfront.rgb *= front.a;\ngl_FragColor = front * back.a;\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar back : vec4<f32> = c3_unpremultiply(textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack)));\nvar rgb : vec3<f32> = select(\nsqrt(back.rgb) * (2.0 * front.rgb - 1.0) + 2.0 * back.rgb * (1.0 - front.rgb),\n2.0 * back.rgb * front.rgb + back.rgb * back.rgb * (1.0 - 2.0 * front.rgb),\nfront.rgb < vec3<f32>(0.5)\n);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb * front.a * back.a, front.a * back.a);\nreturn output;\n}",H2:!0,J2:!1,R2:0,F2:0,A2:!1,O2:!1,B2:!1,W2:!1,j2:!1,parameters:[]},self.C3_Shaders.darken={bkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nfront.rgb /= front.a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nback.rgb /= back.a;\nfront.rgb = min(front.rgb, back.rgb) * front.a;\ngl_FragColor = front * back.a;\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar back : vec4<f32> = c3_unpremultiply(textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack)));\nvar output : FragmentOutput;\noutput.color = vec4<f32>(\nmin(front.rgb, back.rgb) * front.a,\nfront.a\n) * back.a;\nreturn output;\n}",H2:!0,J2:!1,R2:0,F2:0,A2:!1,O2:!1,B2:!1,W2:!1,j2:!1,parameters:[]},self.C3_Shaders.hsladjust={bkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3((huerotate > 0.5 ? huerotate - 1.0 : huerotate), 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nhuerotate : f32,\nsatadjust : f32,\nlumadjust : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar huerotate : f32 = shaderParams.huerotate;\nif (huerotate > 0.5)\n{\nhuerotate = huerotate - 1.0;\n}\nvar rgb : vec3<f32> = c3_RGBtoHSL(front.rgb) + vec3<f32>(huerotate, 0.0, (shaderParams.lumadjust - 1.0) * front.a);\nrgb.y = rgb.y * shaderParams.satadjust;\nrgb = c3_HSLtoRGB(rgb);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb, front.a);\nreturn output;\n}",H2:!1,J2:!1,R2:0,F2:0,A2:!1,O2:!1,B2:!0,W2:!1,j2:!1,parameters:[["huerotate",0,"percent"],["satadjust",0,"percent"],["lumadjust",0,"percent"]]},self.C3_Shaders.radialblur={bkt:"precision mediump float;\nvarying vec2 vTex;\nuniform sampler2D samplerFront;\nuniform vec2 srcStart;\nuniform vec2 srcEnd;\nuniform float devicePixelRatio;\nuniform float layerScale;\nuniform float intensity;\nuniform float radius;\nvoid main(void)\n{\nvec2 dir = ((srcStart + srcEnd) / 2.0 - vTex) / (length(srcEnd - srcStart) / 2.0);\nfloat dist = sqrt(dir.x*dir.x + dir.y*dir.y);\ndir = dir/dist;\nvec4 front = texture2D(samplerFront, vTex);\nvec4 sum = front;\nfloat scaledRadius = radius * devicePixelRatio * layerScale;\nsum += texture2D(samplerFront, vTex + dir * -0.08 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.08 * scaledRadius);\nsum /= 11.0;\nfloat t = dist * 2.2;\nt = clamp(t, 0.0, 1.0);\ngl_FragColor = mix(front, mix(front, sum, t), intensity);\n}",wkt:"",ykt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nradius : f32,\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar dir : vec2<f32> = ((c3Params.srcStart + c3Params.srcEnd) / 2.0 - input.fragUV) / (length(c3Params.srcEnd - c3Params.srcStart) / 2.0);\nvar dist : f32 = length(dir);\ndir = dir / dist;\nvar scaledRadius = shaderParams.radius * c3Params.devicePixelRatio * c3Params.layerScale;\nvar sum : vec4<f32> =\nfront +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.08 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.05 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.03 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.02 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.01 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.01 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.02 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.03 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.05 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.08 * scaledRadius);\nsum = sum / 11.0;\nvar t : f32 = clamp(dist * 2.2, 0.0, 1.0);\nvar output : FragmentOutput;\noutput.color = mix(front, mix(front, sum, t), shaderParams.intensity);\nreturn output;\n}",H2:!1,J2:!1,R2:50,F2:50,A2:!1,O2:!1,B2:!1,W2:!1,j2:!1,parameters:[["radius",0,"percent"],["intensity",0,"percent"]]};{let w=function(t,s){const e=t[1],i=s[1];if("number"==typeof e&&"number"==typeof i)return e-i;{const r=""+e,n=""+i;return r<n?-1:n<r?1:0}},b=(w,self.Bs),e=null,i="",r="",n=[],h="",o="",a="",v=b.un(b.O0t);b.aX.hX=class extends b.Vxt{constructor(t){super(t),this.F0t=this.lf.pk().H8(),this.yft=this.lf.pk().Ik(),this.GNt=0,this._Nt=0,this.INt=new Map}cn(){super.cn()}OD(){this.lf.OD()}vN(t){this.lf.vN(t,null,null)}CNt(t,s){return e&&t===i&&s===r||(e=new RegExp(t,s),i=t,r=s),e.lastIndex=0,e}RNt(t,s,e){if(t!==h||s!==o||e!==a){const i=this.CNt(s,e);n=t.match(i),h=t,o=s,a=e}return n}async ENt(t,s){if(s.length){this.GNt+=s.length;const e=[];for(const i of s)e.push(t.E$(i));await b.ho(e,()=>{this._Nt++}),this._Nt++,this._Nt===this.GNt&&(this._Nt=0,this.GNt=0,this.lf.vN(b.aX.hX.nX.FNt,null,null))}}PNt(t,s){for(const e of s)0===e.zO()&&t.k$(e)}ANt(){return v}kNt(s){const e=this.lf.pk(),t=e.Ik(),i=t.j8(),r=i.bk(),n=r.U8(),h=i.y0t(),o=t.V8(r),a=e.H8(),l=a.V8();if(l.k0t(s),h)for(let t=0;t<s&&!l.tj();++t)e.X8(n),l.Z8(t),r.Y8(i,o),e.K8(n);else for(let t=0;t<s&&!l.tj();++t)l.Z8(t),r.Y8(i,o);return t.sj(),a.sj(),!1}*DNt(s){const e=this.lf.pk(),t=e.Ik(),i=t.j8(),r=i.bk(),n=r.U8(),h=i.y0t(),o=t.V8(r),a=e.H8(),l=a.V8();if(l.k0t(s),h)for(let t=0;t<s&&!l.tj();++t)e.X8(n),l.Z8(t),yield*r.eyt(i,o),e.K8(n);else for(let t=0;t<s&&!l.tj();++t)l.Z8(t),yield*r.eyt(i,o);return t.sj(),a.sj(),!1}ONt(){const s=this.lf.pk(),t=s.Ik(),e=t.j8(),i=e.bk(),r=i.U8(),n=e.y0t(),h=t.V8(i),o=s.H8(),a=o.V8();if(n)for(let t=0;!a.tj();++t)s.X8(r),a.Z8(t),i.Y8(e,h)||a.IW(),s.K8(r);else for(let t=0;!a.tj();++t)a.Z8(t),i.Y8(e,h)||a.IW();return t.sj(),o.sj(),!1}*LNt(){const s=this.lf.pk(),t=s.Ik(),e=t.j8(),i=e.bk(),r=i.U8(),n=e.y0t(),h=t.V8(i),o=s.H8(),a=o.V8();if(n)for(let t=0;!a.tj();++t){s.X8(r),a.Z8(t);const l=yield*i.eyt(e,h);l||a.IW(),s.K8(r)}else for(let t=0;!a.tj();++t){a.Z8(t);const u=yield*i.eyt(e,h);u||a.IW()}return t.sj(),o.sj(),!1}BNt(t,s,e){const i=this.lf.pk(),r=i.Ik(),n=r.j8(),h=n.bk(),o=h.U8(),a=n.y0t(),l=r.V8(h),u=i.H8(),c=u.V8();if(c.z8(t),c.k0t(e),e<s)if(a)for(let t=s;t>=e&&!c.tj();--t)i.X8(o),c.Z8(t),h.Y8(n,l),i.K8(o);else for(let t=s;t>=e&&!c.tj();--t)c.Z8(t),h.Y8(n,l);else if(a)for(let t=s;t<=e&&!c.tj();++t)i.X8(o),c.Z8(t),h.Y8(n,l),i.K8(o);else for(let t=s;t<=e&&!c.tj();++t)c.Z8(t),h.Y8(n,l);return r.sj(),u.sj(),!1}*NNt(t,s,e){const i=this.lf.pk(),r=i.Ik(),n=r.j8(),h=n.bk(),o=h.U8(),a=n.y0t(),l=r.V8(h),u=i.H8(),c=u.V8();if(c.z8(t),c.k0t(e),e<s)if(a)for(let t=s;t>=e&&!c.tj();--t)i.X8(o),c.Z8(t),yield*h.eyt(n,l),i.K8(o);else for(let t=s;t>=e&&!c.tj();--t)c.Z8(t),yield*h.eyt(n,l);else if(a)for(let t=s;t<=e&&!c.tj();++t)i.X8(o),c.Z8(t),yield*h.eyt(n,l),i.K8(o);else for(let t=s;t<=e&&!c.tj();++t)c.Z8(t),yield*h.eyt(n,l);return r.sj(),u.sj(),!1}WNt(e){const t=e.VO(),s=t.jO();if(0!==s.length){const i=this.lf.pk(),r=i.Ik(),n=r.j8(),h=n.bk(),o=h.U8(),a=n.y0t(),l=r.V8(h),u=i.H8(),c=u.V8(),f=e.$B(),d=v.V8();if(b.Uh(d,s),c.k0t(d.length),a)for(let t=0,s=d.length;t<s&&!c.tj();++t){i.X8(o);const p=d[t];e.VO().Fft(p),f&&p.mmt(),c.Z8(t),h.Y8(n,l),i.K8(o)}else{t.Cft(!1);const m=t.Rft();b.Lh(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.tj();++t){const g=d[t];m[0]=g,f&&g.mmt(),c.Z8(t),h.Y8(n,l)}}r.sj(),u.sj(),b.Lh(d),v.sj()}return!1}*UNt(e){const t=e.VO(),s=t.jO();if(0!==s.length){const i=this.lf.pk(),r=i.Ik(),n=r.j8(),h=n.bk(),o=h.U8(),a=n.y0t(),l=r.V8(h),u=i.H8(),c=u.V8(),f=e.$B(),d=v.V8();if(b.Uh(d,s),c.k0t(d.length),a)for(let t=0,s=d.length;t<s&&!c.tj();++t){i.X8(o);const p=d[t];e.VO().Fft(p),f&&p.mmt(),c.Z8(t),yield*h.eyt(n,l),i.K8(o)}else{t.Cft(!1);const m=t.Rft();b.Lh(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.tj();++t){const g=d[t];m[0]=g,f&&g.mmt(),c.Z8(t),yield*h.eyt(n,l)}}r.sj(),u.sj(),b.Lh(d),v.sj()}return!1}jNt(e,t){const s=e.VO(),i=s.jO();if(0!==i.length){const r=this.lf.pk(),n=r.Ik(),h=r.Rdt(),o=n.j8(),a=o.bk(),l=a.U8(),u=o.y0t(),c=n.V8(a),f=r.H8(),d=f.V8(),p=e.$B(),m=v.V8();b.Lh(m),d.k0t(i.length);for(let t=0,s=i.length;t<s;++t)m.push([i[t],h.y2t(1,t)]);if(m.sort(w),1===t&&m.reverse(),u)for(let t=0,s=m.length;t<s&&!d.tj();++t){r.X8(l);const g=m[t][0];e.VO().Fft(g),p&&g.mmt(),d.Z8(t),a.Y8(o,c),r.K8(l)}else{s.Cft(!1);const y=s.Rft();b.Lh(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.tj();++t){const S=m[t][0];y[0]=S,p&&S.mmt(),d.Z8(t),a.Y8(o,c)}}n.sj(),f.sj(),b.Lh(m),v.sj()}return!1}*VNt(e,t){const s=e.VO(),i=s.jO();if(0!==i.length){const r=this.lf.pk(),n=r.Ik(),h=r.Rdt(),o=n.j8(),a=o.bk(),l=a.U8(),u=o.y0t(),c=n.V8(a),f=r.H8(),d=f.V8(),p=e.$B(),m=v.V8();b.Lh(m),d.k0t(i.length);for(let t=0,s=i.length;t<s;++t)m.push([i[t],h.y2t(1,t)]);if(m.sort(w),1===t&&m.reverse(),u)for(let t=0,s=m.length;t<s&&!d.tj();++t){r.X8(l);const g=m[t][0];e.VO().Fft(g),p&&g.mmt(),d.Z8(t),yield*a.eyt(o,c),r.K8(l)}else{s.Cft(!1);const y=s.Rft();b.Lh(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.tj();++t){const S=m[t][0];y[0]=S,p&&S.mmt(),d.Z8(t),yield*a.eyt(o,c)}}n.sj(),f.sj(),b.Lh(m),v.sj()}return!1}HNt(t,s){let e=this.INt.get(t);if(!e){if(!s)return null;e={zNt:null,JNt:new Map},this.INt.set(t,e)}return e}qNt(t,s,e,i,r){s.Sk().Syt(e,s.Mk()),i&&t.K8(r)}*$Nt(t,s,e,i,r){yield*s.Sk().wyt(e,s.Mk()),i&&t.K8(r)}}}{const Oa=self.Bs;Oa.aX.hX.rIt=class extends Oa.an{constructor(t){super(),this.lft=t,this.lf=t.YD(),this.CMt=t.FO()}fMt(){}cn(){this.lft=null,this.lf=null,this.CMt=null}}}{const La=self.Bs;La.aX.hX.Instance=class extends La.an{constructor(t,s){super(),this._e=t,this.lft=this._e.OB(),this.kMt=this.lft.$2t(),this.lf=this._e.YD()}cn(){this._e=null,this.lft=null,this.kMt=null,this.lf=null}}}{const G=self.Bs,Ba=[];G.aX.hX.nX={XNt(){return!0},rX(){return!0},SX(){return!0},QLt(){return!0},tBt(){return!0},kk(){return this.lf.kk()},Qmt(){const t=this.lf.Cdt();return!t.f0t()&&!t.u0t()},YNt(){let t=this.lf.Rdt(),s=t.r2t(),e=s.get("TriggerOnce_lastTick");void 0===e&&(e=-1,s.set("TriggerOnce_lastTick",-1));const i=this.lf.Rtt();return s.set("TriggerOnce_lastTick",i),this.lf.RBt()||e!==i-1},KNt(t){const s=this.lf.Rdt(),e=s.r2t(),i=e.get("Every_lastTime")||0,r=this.lf.Nk(),n=(e.has("Every_seconds")||e.set("Every_seconds",t),e.get("Every_seconds"));return i+n<=r?(e.set("Every_lastTime",i+n),r>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",r),e.set("Every_seconds",t),!0):(r<i-.1&&e.set("Every_lastTime",r),!1)},mpt(t){const s=this.lf.pk().Ydt(t);return s&&s.mpt()},FDt(){return this.lf.FDt()},ve(){return G.ue.ve},DLt(){return!0},ZNt(){return!0},QNt(){return!0},UBt(){return!0},JBt(){return!0},VBt(){return!0},HBt(){return!0},t4t(t){return!!this.lf.TD(t)},s4t(t){switch(t){case 0:return"browser"===G.ue.Se;case 1:return"iOS"===G.ue.fe;case 2:return"Android"===G.ue.fe;case 8:return"cordova"===G.ue.Se;case 9:return"scirra-arcade"===this.lf.D5();case 10:return"nwjs"===G.ue.Se;case 13:return"windows-uwp"===this.lf.D5();default:return!1}},e4t(t,s,e){const i=this.CNt(s,e);return i.test(t)},i4t(t,s,e){return G.compare(t,s,e)},r4t(t,s,e){return s<=t&&t<=e},n4t(t,s,e){return G.compare(t.Tit(),s,e)},h4t(t){return!!t.Tit()},o4t(t,s){const e=this.lf.Nk();if(0!==t)return G.compare(e,t,s);{const i=this.lf.Rdt(),r=i.r2t();return!r.get("CompareTime_executed")&&s<=e&&(r.set("CompareTime_executed",!0),!0)}},a4t(t){return isNaN(t)},fxt(t,s,e){return G.Tn(G.wn(t),G.wn(e))<=G.wn(s)},dxt(t,s){return G._n(G.wn(t),G.wn(s))},Tbt(t,s,e){let i=G.wn(t),r=G.wn(s),n=G.wn(e),h=!G._n(n,r);return h?!(!G._n(i,r)&&G._n(i,n)):G._n(i,r)&&!G._n(i,n)},l4t(t,s){return"number"==typeof t?0===s:1===s},u4t(t){return!!t},q1t(t){return t.toLowerCase()===this.lf.pk().K1t()},c4t(t,e,i,r){if(!t)return!1;let s=this.ANt(),n=s.V8(),h=t.VO(),o=(G.Uh(n,h.jO()),h.vft()&&G.Lh(h.Eft()),this.lf.Rdt()),a=0;for(let t=0,s=n.length;t<s;++t){const u=n[t];n[a]=u,e=o.y2t(1,t),r=o.y2t(3,t),G.compare(e,i,r)?++a:h.Ift(u)}G.Oh(n,a),h.Pft(n);const l=!!n.length;return G.Lh(n),s.sj(),t.cyt(),l},f4t(t,s){if(!t)return!1;let e=this.ANt(),i=e.V8(),r=t.VO(),n=(G.Uh(i,r.jO()),r.vft()&&G.Lh(r.Eft()),this.lf.Rdt()),h=0;for(let t=0,s=i.length;t<s;++t){const a=i[t];i[h]=a,n.y2t(1,t)?++h:r.Ift(a)}G.Oh(i,h),r.Pft(i);const o=!!i.length;return G.Lh(i),e.sj(),t.cyt(),o},d4t(t,e,i){if(!t)return!1;const s=t.VO(),r=s.jO();if(0===r.length)return!1;let n=this.lf.Rdt(),h=null,o=0;for(let t=0,s=r.length;t<s;++t){const a=r[t];i=n.y2t(2,t),(null===h||0===e&&i<o||1===e&&i>o)&&(o=i,h=a)}return s.Lft(h),t.cyt(),!0},p4t(t,s){if(!t)return!1;const e=t.VO(),i=e.jO();if((s=Math.floor(s))>=i.length)return!1;const r=i[s];return e.Lft(r),t.cyt(),!0},m4t(t){if(!t)return!1;const s=t.VO(),e=s.jO(),i=Math.floor(this.lf.hD()*e.length);if(i>=e.length)return!1;const r=e[i];return s.Lft(r),t.cyt(),!0},g4t(t){if(!t)return!1;if(!t.zO())return!1;const s=t.VO();return s.Cft(!0),t.cyt(),!0},y4t(t,e,i){if(!t)return!1;const r=t.VO(),s=r.jO(),n=this.lf.bk(),h=n.Bft(),o=this.lf.Rdt().Qwt();r.vft()?(G.Uh(Ba,s),r.bft(),r.Cft(!1)):h?(G.Uh(Ba,r.Eft()),G.Lh(r.Eft())):(G.Uh(Ba,r.Rft()),G.Lh(r.Rft()));for(let t=0,s=Ba.length;t<s;++t){const a=Ba[t];G.xor(a.RD().T4(e,i),o)?r._ft(a):r.Ift(a)}return t.cyt(),G.xor(!!r.Rft().length,o)},S4t(s){if(!s)return!1;let e=s.Jz(),i=null,r=this.lf.$It();for(let t=r.length-1;0<=t;--t){const n=r[t];if(e){if(n.OB().Q2t(s)){i=n;break}}else if(n.OB()===s){i=n;break}}if(!i){const h=s.jO();h.length&&(i=h.at(-1))}if(!i)return!1;const t=s.VO();return t.Lft(i),s.cyt(),!0},w4t(t){return this.lf.Ybt()?this.DNt(t):this.kNt(t)},b4t(){return this.lf.Ybt()?this.LNt():this.ONt()},v4t(t,s,e){return this.lf.Ybt()?this.NNt(t,s,e):this.BNt(t,s,e)},fd(t){return this.lf.Ybt()?this.UNt(t):this.WNt(t)},x4t(t,s,e){return this.lf.Ybt()?this.VNt(t,e):this.jNt(t,e)},M4t(t){return!!t&&t.JL()},T4t(t){return!!t&&t.QL()},G4t(t){return!!t&&t.YL()},_4t(t){return!!t&&!t.zO()},I4t(t,s,e){return!!t&&G.compare(100*t.j3(),s,e)},C4t(t){const s=this.lf.oD();return!!s&&s.m$(t)},FNt(){return!0},R4t(){return 0<this.GNt},E4t(t,s){const e=this.lf.sRt();return!!e&&!!s&&!!e.klt(t,s)}}}{let m=function(t,s){const e=t[0],i=s[0],r=e-i;if(0!=r)return r;const n=t[1],h=s[1];return n-h},g=function(t,s){return t[1]-s[1]};m,g;const Na=self.Bs,Wa=[],Ua=[],ja=Na.un(Na.Rect),Va=Na.un(Na.Vo),Ha=[];Na.aX.hX.Zrt={F4t(t,s){t.hrt(s)},P4t(t,s){t.ci()&&"number"!=typeof s&&(s=parseFloat(s)),t.hrt(t.Tit()+s)},A4t(t,s){t.ci()&&t.hrt(t.Tit()-s)},k4t(t,s){t.hrt(!!s)},D4t(t){t.hrt(!t.Tit())},O4t(t){t.hrt(t.Idt())},L4t(t){this.lf.pk().$dt(t)},B4t(t,s,e,i,r,n){if(t&&s){const h=this.lf.qO(t,s,e,i,r,n);if(h){r&&s.$O(h);const o=this.lf.pk(),a=(o.XO(!0),h.YO(),o.XO(!1),new Map);h.JCt(a,t,r);for(const[l,u]of a)l.VO().Aft(u)}}},N4t(t,s,e,i,r,n){if(t&&s){const h=this.lf.WLt(t);h&&Na.aX.hX.Zrt.B4t.call(this,h,s,e,i,r,n)}},Vz(r,n,h,o,a,t,l,u,c,f,d){if(r){let s=this.lf.ID(),e=s;if(t){const p=this.lf.uD().QX(t);if(!p)return;e=p}let i=null;if(!("number"!=typeof l||0<=l)||(i=e.ED(l))){let t=null;if(!("number"!=typeof u||0<=u)||(t=s.ED(u))){ja.set(n,h,o,a);const m=e.Vz(r,ja,i,t,c,f,d);r.VO().Pft(m),r.cyt()}}}},W4t(){const t=this.F0t;t.I0t()&&t.G0t().IW()},gpt(t,s){const e=this.lf.pk().Ydt(t);e&&(0===s?e.gpt(!1):1===s?e.gpt(!0):e.gpt(!e.mpt()))},U4t(t){this.lf.Vk(t)},j4t(t,s){if(s<0&&(s=0),t){const e=t.VO(),i=e.jO();for(const r of i)r.Vk(s)}},V4t(t){if(t){const s=t.VO(),e=s.jO();for(const i of e)i.sN()}},Fh(t){if(!(t<0))return this.lf.pk().E1t().Oxt(t),!0},Pk(t){return this.lf.pk().E1t().Lxt(t),!0},H4t(){const t=this.lf.pk();return t.E1t().Bxt(t.J1t()),!0},Ek(t){this.lf.pk().Ek(t)},async uDt(t,s,e,i,r,n){const h=this.lf.N5();h&&(this.OD(),await h.uDt(0===t?"image/png":"image/jpeg",s/100,e,i,r,n),await this.lf.MN(Na.aX.hX.nX.ZNt,null))},z4t(t,s){if(!(t<=0||s<=0)){this.lf.Dkt(t,s),this.lf.ID().lq();const e=this.lf.N5();e&&("off"!==e.Ckt()&&this.lf.jLt(t,s),e.lC(e.NU(),e.WU(),!0),this.lf.OD())}},J4t(t){const s=this.lf.N5();s&&"off"!==s.Ckt()&&(s.jkt(0!==t?"high":"low"),s.lC(s.NU(),s.WU(),!0))},Uet(t){this.lf.ABt(t)},q4t(){this.lf.kBt()},$4t(t){this.lf.DBt(t)},X4t(t){this.lf.Vvt(t)},Y4t(t){},K4t(){for(const t of this.lf.uD().dD())t.IX()},Z4t(t){this.lf.EBt(0!==t)},Q4t(t,s){this.lf.nD(1/t),this.lf.eD(1/s)},t6t(t,s){this.lf.eD(t),this.lf.nD(s)},s6t(t){this.lf.Qk(["vsync","unlimited-tick","unlimited-frame"][t])},e6t(t,e){if(t){const s=t.VO(),i=s.jO(),r=Wa,n=Ua,h=this.lf.ID(),o=t.Jz(),a=t.kSt();for(let t=0,s=i.length;t<s;++t){const l=i[t],u=l.RD();if(u){let t;t=o?l.znt(e+l.OB().ASt(a)):l.znt(e),r.push([u.ED().DA(),u.FD()]),n.push([l,t])}}if(r.length){r.sort(m),n.sort(g);let e=!1;for(let t=0,s=r.length;t<s;++t){const c=n[t][0],f=h.PD(r[t][0]),d=r[t][1],p=f.AD();p[d]!==c&&((p[d]=c).RD().kD(f,!0),f.DD(c),e=!0)}e&&this.lf.OD(),Na.Lh(Wa),Na.Lh(Ua)}}},M5(t,s){t=Math.floor(t),s=Math.floor(s),t<=0||s<=0||!Number.isFinite(t)||!Number.isFinite(s)||this.lf.jA().M5(t,s)},i6t(t){if(!this.lf.Vg()){const s=this.lf.uD();s.mD()||s.gD(t)}},r6t(t){if(!this.lf.Vg()){const s=this.lf.uD();if(!s.mD()){const e=s.QX(t);e&&s.gD(e)}}},n6t(t){if(!this.lf.Vg()){const s=this.lf.uD();if(!s.mD()){const e=s.dD(),i=e.indexOf(s.oD());if((!t||0!==i)&&(t||i!==e.length-1)){const r=e[i+(t?-1:1)];s.gD(r)}}}},h6t(){if(!this.lf.Vg()){const t=this.lf.uD();t.mD()||(t.gD(t.oD()),this.lf.pk().t1t())}},o6t(t,s){t&&t.HL(s)},a6t(t,s){t&&t.$L(s)},l6t(t,s){t&&t.KL(s)},u6t(t,s){t&&t.H3(s/100)},c6t(t,s){t&&t.tB(s)},f6t(t,s){t&&t.eB(s)},d6t(t,s){t&&t.oL(Na.wn(+s))},p6t(t,s,e){t&&(t.SB(!0),t.lL(s),t.cL(e))},m6t(t){t&&t.SB(!1)},g6t(t,s,e){t&&t.G9(s/100,e/100)},y6t(t,s){t&&t.kb(+s)},S6t(t,s){if(t){Va.Ta(s),Va.yn();const e=t.yB();e.fa(Va)||(e.ia(Va),this.OD())}},w6t(t,s){t&&t.cB(s)},b6t(t,s){t&&t.yb(s)},v6t(t,s,e){if(t){const i=t.sL(),r=i.Prt(e);if(r){const n=1===s;r.hmt()!==n&&(r.SFt(n),t.N6(),this.lf.OD())}}},x6t(t,s,e,i){if(t){const r=t.sL(),n=r.Prt(s);if(n){e=Math.floor(e);const h=n.ST().bT(e);if(h){"color"===h?(Va.Ta(i),i=Va):"percent"===h&&(i/=100);const o=r.U6(n.DA(),e,i);o&&n.hmt()&&this.lf.OD()}}}},M6t(t,s){t&&t.pB(s)},T6t(t){this.lf.ID().nL(+t)},G6t(t){this.lf.ID().oL(Na.wn(+t))},_6t(t,s){const e=this.lf.ID(),i=e.sL(),r=i.Prt(s);if(r){const n=1===t;r.hmt()!==n&&(r.SFt(n),e.N6(),this.lf.OD())}},I6t(t,s,e){const i=this.lf.ID(),r=i.sL(),n=r.Prt(t);if(n){s=Math.floor(s);const h=n.ST().bT(s);if(h){"color"===h?(Va.Ta(e),e=Va):"percent"===h&&(e/=100);const o=r.U6(n.DA(),s,e);o&&n.hmt()&&this.lf.OD()}}},C6t(t,s){const e=this.lf.ID();e.EL(t/100,s/100)},R6t(t){const s=this.lf.ID();0===t?s.AL():s.kL()},E6t(t){const s=this.lf.ID();s.lL(t)},F6t(t){const s=this.lf.ID();s.cL(t)},P6t(t,s){const e=this.lf.ID();e.lL(t),e.cL(s)},A6t(t){if(t){const s=t.Wbt();if(s){const e=s.RD();if(e){const i=this.lf.ID();i.lL(e.Cb()),i.cL(e.Fb())}}}},xL(t,s,e){const i=this.lf.ID();try{i.xL(t,s,e)}catch(t){console.warn("[Construct] Cannot add layer: ",t)}},TL(t,s,e){if(t){const i=this.lf.ID();try{i.TL(t,s,e)}catch(t){console.warn("[Construct] Cannot move layer: ",t)}}},_L(t){if(t){const s=this.lf.ID();s._L(t)}},CL(){this.lf.ID().CL()},async k6t(t){const s=this.lf.oD();if(s&&t&&!this.lf.Vg()){const e=t.Jz()?t.igt():[t];await this.ENt(s,e)}},async D6t(t){await Na.aX.hX.Zrt.k6t.call(this,this.lf.WLt(t))},O6t(t){const s=this.lf.oD();if(s&&t){const e=t.Jz()?t.igt():[t];this.PNt(s,e)}},L6t(t){Na.aX.hX.Zrt.O6t.call(this,this.lf.WLt(t))},B6t(){const t=this.lf.oD();if(t){const s=t.I$();this.PNt(t,s)}},async N6t(t){const s=this.lf.oD();t&&s&&!this.lf.Vg()&&await this.ENt(s,t.T$())},async W6t(t){const s=this.lf.oD(),e=this.lf.uD().QX(t);e&&s&&!this.lf.Vg()&&await this.ENt(s,e.T$())},Rk(t){const s=this.yft._k();if(s)switch(s.Ck()){case 1:"number"==typeof t&&s.Rk(t);break;case 2:"string"==typeof t&&s.Rk(t);break;case 3:s.Rk(t)}},U6t(t,s,e){const i=this.HNt(t.toLowerCase(),!0),r=i.JNt,n=s.toLowerCase(),h=(r.has(n)&&console.warn(`[Construct] Function map '${t}' string '${s}' already in map; overwriting entry`),Na.first(r.values())||i.zNt);if(h){const o=0!==h.Tk(),a=0!==e.Tk();if(o!=a)return void console.error(`[Construct] Function map '${t}' string '${s}' function return type not compatible with other functions in the map; entry ignored`)}r.set(n,e)},j6t(t,s){const e=this.HNt(t.toLowerCase(),!0),i=(e.zNt&&console.warn(`[Construct] Function map '${t}' already has a default; overwriting entry`),Na.first(e.JNt.values())||e.zNt);if(i){const r=0!==i.Tk(),n=0!==s.Tk();if(r!=n)return void console.error(`[Construct] Function map '${t}' default: function return type not compatible with other functions in the map; entry ignored`)}e.zNt=s},V6t(t,s,e){const i=this.lf,r=i.Ybt()?Ha:null,n=(e=Math.floor(e),this.HNt(t.toLowerCase(),!1));if(!n)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; call ignored`),r;let h=n.JNt.get(s.toLowerCase());if(!h){if(!n.zNt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; call ignored (consider setting a default)`),r;h=n.zNt,e=0}if(!h.Ku())return r;if(0!==h.Tk())return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has a return type so cannot be called`),r;const o=i.pk(),a=o.bk(),l=a.wk(),u=0<l.length,c=(u&&(h.Mk()?o.X8(l):o.C1t(l)),[]),f=o.xpt(a);if(f){const p=f.Tpt();for(let t=e,s=p.length;t<s;++t)c.push(p[t].Tit())}const d=h.Tpt();for(let t=c.length,s=d.length;t<s;++t)c.push(d[t].Idt());return i.Ybt()?this.$Nt(o,h,c,u,l):this.qNt(o,h,c,u,l)}}}{const I=self.Bs;I.aX.hX.Qrt={H6t:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t))&&(t=0),Math.floor(t)},float:function(t){return"string"==typeof t&&(t=parseFloat(t),isNaN(t))?0:t},L(t){return t.toString()},Jt(t){return"string"==typeof t?t.length:0},random(t,s){return void 0===s?this.lf.hD()*t:this.lf.hD()*(s-t)+t},SSt(...t){const s=Math.floor(this.lf.hD()*t.length);return t[s]},z6t(t,...s){return"number"!=typeof t&&(t=0),s[t=I.yn(Math.floor(t),0,s.length-1)]},pi(){return Math.PI},J6t(){return 1/0},sqrt(t){return Math.sqrt(t)},abs(t){return Math.abs(t)},round(t){return Math.round(t)},q6t(t,s){s=Math.max(Math.floor(s),0);const e=Math.pow(10,s);return Math.round((t+Number.EPSILON)*e)/e},floor(t){return Math.floor(t)},ceil(t){return Math.ceil(t)},sign(t){return Math.sign(t)},sin(t){return Math.sin(I.wn(t))},cos(t){return Math.cos(I.wn(t))},tan(t){return Math.tan(I.wn(t))},asin(t){return I.bn(Math.asin(t))},acos(t){return I.bn(Math.acos(t))},atan(t){return I.bn(Math.atan(t))},exp(t){return Math.exp(t)},Zt(t){return Math.log(t)},log10(t){return Math.log10(t)},max(...e){let i=e[0];"number"!=typeof i&&(i=0);for(let s=1,t=e.length;s<t;++s){let t=e[s];"number"==typeof t&&i<t&&(i=t)}return i},min(...e){let i=e[0];"number"!=typeof i&&(i=0);for(let s=1,t=e.length;s<t;++s){let t=e[s];"number"==typeof t&&i>t&&(i=t)}return i},yn(t,s,e){return I.yn(t,s,e)},Et(t,s,e,i){return I.vn(t,s,e,i)},angle(t,s,e,i){return I.bn(I.Mn(t,s,e,i))},Ot(t,s,e){return I.Ot(t,s,e)},Fn(t,s,e){return I.Fn(t,s,e)},An(t,s,e,i){return I.An(t,s,e,i)},kn(t,s,e,i,r){return I.kn(t,s,e,i,r)},Dn(t,s,e){return I.Dn(t,s,e)},$6t(t,s){return I.bn(I.Tn(I.wn(t),I.wn(s)))},X6t(t,s,e){return I.bn(I.In(I.wn(t),I.wn(s),e))},Y6t(t,s,e){return I.bn(I.Gn(I.wn(t),I.wn(s),I.wn(e)))},K6t(t,s,e){return(t|=0)&~(1<<(s|=0))|(e=0!==e?1:0)<<s},Z6t(t,s){return(t|=0)^1<<(0|s)},Q6t(t,s){return(t|=0)&1<<(0|s)?1:0},tWt(){return"\n"},sWt(t){return"string"==typeof t?t.toUpperCase():""},eWt(t){return"string"==typeof t?t.toLowerCase():""},left(t,s){return"string"==typeof t?t.substr(0,s):""},mid(t,s,e){return"string"!=typeof t?"":e<0?t.substr(s):t.substr(s,e)},right(t,s){return"string"==typeof t?t.substr(Math.max(t.length-s,0)):""},trim(t){return"string"==typeof t?t.trim():""},iWt(t,s,e){if("string"!=typeof t||"string"!=typeof e)return"";let i=t.split(e);return(s=Math.floor(s))<0||s>=i.length?"":i[s]},rWt(t,s){return"string"==typeof t&&"string"==typeof s&&t.length?t.split(s).length:0},find(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(I.ai(s),"i")):-1},nWt(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(I.ai(s),"")):-1},replace(t,s,e){return"string"==typeof t&&"string"==typeof s&&"string"==typeof e?t.replace(new RegExp(I.ai(s),"gi"),e):"string"==typeof t?t:""},hWt(t,...e){let i=t;for(let t=0,s=e.length;t<s;++t)i=i.replaceAll(`{${t}}`,e[t].toString());return i},oWt(t,s,e){const i=this.CNt(s,e);return t?t.search(i):-1},aWt(t,s,e,i){const r=this.CNt(s,e);return t?t.replace(r,i):""},lWt(t,s,e){const i=this.RNt(t.toString(),s,e);return i?i.length:0},uWt(t,s,e,i){i=Math.floor(i);const r=this.RNt(t.toString(),s,e);return!r||i<0||i>=r.length?"":r[i]},cWt(t,s){let e=t<0?"-":"",i=s-(t=t<0?-t:t).toString().length;return(e+="0".repeat(Math.max(i,0)))+t.toString()},fWt(t){return encodeURIComponent(t)},dWt(t){return decodeURIComponent(t)},Dk(){return this.lf.FK()},timescale(){return this.lf.jk()},pWt(){return(Date.now()-this.lf.wBt())/1e3},mWt(){return Date.now()},time(){return this.lf.Nk()},tickcount(){return this.lf.Rtt()},gWt(){return this.lf.xBt()},fps(){return this.lf.Hk()},yWt(){return this.lf.$k()},SWt(){return this.lf.Yk()},wWt(){return this.lf.N5().q5()},bWt(){return this.lf.N5().Y5()},vWt(){return this.lf.ZA()},xWt(){return this.lf.sk()},MWt(){return this.lf.ZA()},TWt(){return this.lf.sk()},GWt(){return this.lf.ID().uL()},_Wt(){return this.lf.ID().fL()},IWt(){return this.lf.ID().Zc()},CWt(){return this.lf.ID().hL()},RWt(){return I.bn(this.lf.ID().aL())},EWt(){return this.lf.ID().lm()},FWt(){return this.lf.ID().Mm()},PWt(){return 100*this.lf.ID().S9()},AWt(){return 100*this.lf.ID().w9()},kWt(t){const s=this.lf.ID().ED(t);return s?s.y9().Ml():0},DWt(t){const s=this.lf.ID().ED(t);return s?s.y9().Tl():0},OWt(t){const s=this.lf.ID().ED(t);return s?s.y9().Gl():0},LWt(t){const s=this.lf.ID().ED(t);return s?s.y9()._l():0},BWt(t){const s=this.lf.ID().ED(t);return s?s.y9().width():0},NWt(t){const s=this.lf.ID().ED(t);return s?s.y9().height():0},WWt(t){const s=this.lf.ID().ED(t);if(s){const e=s.y9();return(e.Ml()+e.Gl())/2}return 0},UWt(t){const s=this.lf.ID().ED(t);if(s){const e=s.y9();return(e.Tl()+e._l())/2}return 0},jWt(t,s,e){const i=this.lf.ID().ED(t);return i?i.xB(s,e)[0]:0},VWt(t,s,e){const i=this.lf.ID().ED(t);return i?i.xB(s,e)[1]:0},HWt(t,s,e){const i=this.lf.ID().ED(t);return i?i._B(s,e)[0]:0},zWt(t,s,e){const i=this.lf.ID().ED(t);return i?i._B(s,e)[1]:0},JWt(t,s,e,i){const r=this.lf.ID(),n=r.ED(t),h=r.ED(s);if(!n||!h||n===h)return e;const[o,a]=n._B(e,i);return h.xB(o,a)[0]},qWt(t,s,e,i){const r=this.lf.ID(),n=r.ED(t),h=r.ED(s);if(!n||!h||n===h)return i;const[o,a]=n._B(e,i);return h.xB(o,a)[1]},$Wt(t){const s=this.lf.ID().ED(t);return s?s.sB():0},XWt(t){const s=this.lf.ID().ED(t);return s?I.bn(s.rB()):0},YWt(t){const s=this.lf.ID().ED(t);return s?100*s.j3():0},KWt(t){const s=this.lf.ID().ED(t);return s?s.iB():0},ZWt(t){const s=this.lf.ID().ED(t);return s?s.uL():0},QWt(t){const s=this.lf.ID().ED(t);return s?s.fL():0},tUt(t){const s=this.lf.ID().ED(t);return s?100*s.hB():0},sUt(t){const s=this.lf.ID().ED(t);return s?100*s.aB():0},eUt(t){const s=this.lf.ID().ED(t);return s?s.Ab():0},iUt(t){const s=this.lf.ID().ED(t);return s?s.DA():-1},rUt(){const t=this.lf.N5();return t?t.fDt():""},nUt(t){const s=this.F0t;if(!s.I0t())return 0;if(t){const e=s.R0t(t);return e?e.DA():0}return s.G0t().DA()},hUt(){return this.lf.OBt()},oUt(t,s,...e){const i=this.HNt(t.toLowerCase(),!1);if(!i)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; returning 0`),0;let r=i.JNt.get(s.toLowerCase());if(!r){if(!i.zNt)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; returning 0 (consider setting a default)`),0;r=i.zNt}const n=r.Tk(),h=r.gk();if(0===n)return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has no return type so cannot be called from an expression; returning 0`),0;if(!r.Ku())return h;const o=this.lf,a=o.pk(),l=a.bk(),u=l.wk(),c=0<u.length,f=(c&&(r.Mk()?a.X8(u):a.C1t(u)),r.Tpt());for(let t=e.length,s=f.length;t<s;++t)e.push(f[t].Idt());const d=r.Sk(),p=d.xk(d.wk(),r.Mk(),n,h,...e);return c&&a.K8(u),p},aUt(){return this.lf.NA().o7()},lUt(){return 0===this.GNt?1:this._Nt/this.GNt},renderer(){return this.lf.Xkt()?"webgpu":"webgl"},uUt(){return this.lf.Xkt()?this.lf.Xkt().GetAdapterInfoString():this.lf.$kt().ZE()},cUt(){let t=this.lf.Y2().v2();return Math.round(100*t/1048576)/100},fUt(t,s,e){return I.jn(t,s,e)},dUt(t,s,e){return I.Hn(t/100,s/100,e/100)},pUt(t,s,e,i){return I.Vn(t/100,s/100,e/100,i/100)},mUt(t,s,e){return I.Hn(t/255,s/255,e/255)},gUt(t,s,e,i){return I.Vn(t/255,s/255,e/255,i/255)},yUt(){return this.lf.JA()},SUt(){return this.lf.$A()},wUt(){return this.lf.bk().d$().Zc()},bUt(){return this.lf.bk().vgt()}}}{const za=self.Bs;za.aX.Drt=class extends za.Vxt{constructor(t){super(t)}cn(){super.cn()}}}{const Ja=self.Bs,qa=self.$s,$a=[],Xa=(Ja.aX.Drt.rIt=class extends Ja.IMt{constructor(t){super(t),this.K_t=t.OIt()}cn(){Ja.Lh(this.K_t),super.cn()}fMt(){for(const t of this.K_t)t.ZGt(this.lf)}R$(s){const e={Fv:this.lf.ek()};return Promise.all(this.K_t.map(t=>t.QGt(s,e)))}D$(){for(const t of this.K_t)t.t_t()}P$(){this.vUt()}vUt(){for(const t of this.lft.UO())t.v6().xUt()}u2t(t){Ja.aX.Drt.Mxt(this,t)}X2t(t){$a.push({FMt:null,MUt:!1,instances:[]})}TUt(t,s,e){const i=$a.at(-1);i.FMt=t,i.MUt=e,i.instances.push(s)}Y2t(t){const s=$a.pop(),e=s.FMt,i=s.MUt;if(e){const r=new Map;for(const n of s.instances)n.JCt(r,e,i);for(const[h,o]of r)h.VO().Aft(o)}}GUt(t){const s=this.OB().UIt(t),e=this.YD(),i=s.s_t(0);return i.nW().Aj(e.Y2(),{Fv:e.ek()}).then(()=>this.vUt()),s}_Ut(t){for(const s of this.lft.UO())s.v6().IUt(t);this.OB().jIt(t)}CUt(t,s){const e=this.lft.NIt(t);if(!e)throw new Error(`cannot find animation name '${t}'`);let i=e.n_t(s);i<0&&(i+=e.K6()+1);const r=Ja.XGt.KGt(this.YD()),n=(e.e_t(r,i),this.YD());r.nW().Aj(n.Y2(),{Fv:n.ek()}).then(()=>this.vUt());for(const h of this.lft.UO())h.v6().RUt();return r}EUt(t,s){const e=this.lft.NIt(t);if(!e)throw new Error(`cannot find animation name '${t}'`);if(1===e.K6())throw new Error(`cannot remove last frame from animation '${t}'`);let i=e.n_t(s);i<0&&(i+=e.K6()),e.i_t(i);for(const r of this.lft.UO())r.v6().RUt()}dMt(){return self.FUt}},new WeakMap);self.FUt=class extends self.RO{constructor(t){super(t),Xa.set(this,t.$2t())}PUt(t){qa.Mi(t);const s=Xa.get(this).OB().NIt(t);return s?s.h_t():null}AUt(){return Xa.get(this).OB().BIt().map(t=>t.h_t())}kUt(t){return qa.Mi(t),Xa.get(this).GUt(t).h_t()}DUt(t){qa.Mi(t),Xa.get(this)._Ut(t)}OUt(t,s){if(qa.Mi(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");return Xa.get(this).CUt(t,s).tW()}LUt(t,s){if(qa.Mi(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");Xa.get(this).EUt(t,s)}}}{const C=self.Bs,Ya=self.$s,Ka=C.un(C.Rect),Za=C.un(C.Ql),Qa=C.un(C.Qa),R=(C.aX.Drt.Instance=class extends C.hTt{constructor(t,s){super(t);let e=!0,i="",r=0,n=!0;s&&(e=!!s[0],i=s[1],r=s[2],n=s[3]),this.BUt=this.lft.NIt(i)||this.lft.OIt()[0],this.NUt=C.yn(r,0,this.BUt.K6()-1),this.WUt=this.BUt.s_t(this.NUt);const h=this.WUt.nW(),o=(this.UUt=h.Qx(),this.jUt=h.WC(),this.VUt=h.STt(),this.uTt(),t.HCt(2,!0),t.HCt(1,0<=this.BUt.V6()),this.HUt=Math.abs(this.BUt.V6()),this.zUt=this.BUt.q6(),this.JUt=C.un(C.M0),this.qUt=0,this.$Ut=0,this.XUt="",this.YUt=-1,this.KUt="",this.ZUt=0,this.RD());this.QUt=o.h4(),o.HL(e),o.M4(n),o.mht(this.WUt.aW()),o.yht(this.WUt.uW()),o.OEt(this.WUt.bW()),o.YN(),1===this.lft.LIt()&&1===this.lft.OIt()[0].K6()||0===this.HUt||this.KMt()}cn(){this.BUt=null,this.WUt=null,this.UUt=null,this.JUt=null,super.cn()}pTt(){return this.WUt.nW()}vet(){return!0}P7(){this.UUt=null}dTt(){this.xUt()}bv(t){const s=this.UUt;if(null!==s){t.q3(s);const e=this.RD();e.d6()?this.t8t(e,t):this.s8t(e,t)}}s8t(t,s){let e=this.QUt;this.lf.rk()&&(e=t.REt(e)),s.rE(e,this.VUt)}t8t(s,t){const e=s.qEt();if(s.XEt()){s._Et(Ka,Za,!1);let t=Za;this.lf.rk()&&(t=s.REt(t)),e.wv(s.p6(),t,this.VUt),s.$Et(!1)}e.bv(t)}e8t(){return this.JUt.re()}i8t(){return this._e.zCt(2)}r8t(t){this._e.HCt(2,t)}n8t(){return this._e.zCt(1)}h8t(t){this._e.HCt(1,t)}o8t(){return this._e.zCt(4)}a8t(t){this._e.HCt(4,t)}AK(){this.KUt&&this.l8t(),0<=this.YUt&&this.u8t();const t=this.HUt;if(this.i8t()&&0!==t){const s=this.lf.Ok(this._e),e=(this.JUt.cc(s),this.e8t()),i=this.WUt,r=i.hW()/t;if(!(e<this.qUt+r)){const n=this.BUt,h=this.zUt,o=n.K6(),a=n.z6(),l=n.H6(),u=n.Y6(),c=(this.n8t()?this.NUt++:this.NUt--,this.qUt+=r,this.NUt>=o&&(u?(this.h8t(!1),this.NUt=o-2):!l&&(this.$Ut++,this.$Ut>=a)?this.c8t(!1):this.NUt=h),this.NUt<0&&(u?(this.NUt=1,this.h8t(!0),l||(this.$Ut++,this.$Ut>=a&&this.c8t(!0))):!l&&(this.$Ut++,this.$Ut>=a)?this.c8t(!0):this.NUt=h),this.NUt=C.yn(this.NUt,0,o-1),n.s_t(this.NUt));e>this.qUt+c.hW()/t&&(this.qUt=e),this.f8t(i,c)}}else this.DMt()}c8t(t){this.NUt=t?0:this.BUt.K6()-1,this.r8t(!1),this.XUt=this.BUt.Zc(),this.a8t(!0),this.EMt("animationend",!1,{animationName:this.XUt}),this.vN(C.aX.Drt.nX.d8t),this.vN(C.aX.Drt.nX.p8t),this.a8t(!1),this.$Ut=0}f8t(e,i,t){if(e!==i){const s=this.RD(),r=e.nW(),n=i.nW(),h=r.lm(),o=r.Mm(),a=n.lm(),l=n.Mm(),u=(t&&t.onFrameChange?t.onFrameChange(s,h,o,a,l):(h!==a&&s.wm(s.lm()*(a/h)),o!==l&&s.um(s.Mm()*(l/o))),s.mht(i.aW()),s.yht(i.uW()),s.OEt(i.bW()),s.YN(),this.WUt=i,this.UUt=n.Qx(),this.jUt=n.WC(),this.VUt=n.STt(),this.XW().Rrt());for(let t=0,s=u.length;t<s;++t)u[t].rGt(e,i);this.EMt("framechange",!1,{animationName:this.BUt.Zc(),m8t:this.NUt}),this.vN(C.aX.Drt.nX.g8t),this.lf.OD()}}y8t(t){this.r8t(!0),this.qUt=this.e8t(),1===t&&0!==this.NUt&&(this.YUt=0,this.o8t()||this.u8t()),this.KMt()}S8t(t,s,e){this.KUt=t,this.ZUt=s,this.KMt(),!e&&this.o8t()||this.l8t()}w8t(){return this.BUt}b8t(){return this.KUt||this.BUt.Zc()}IUt(t){C.br(t,this.b8t())&&this.S8t(this.lft.VIt().Zc(),1,!0)}v8t(t){if("string"==typeof t)if(String(Number(t))===t)t=Number(t);else{const s=this.lft.NIt(this.b8t());if(!s)return;if(-1===(t=s.r_t(t)))return}isFinite(t)&&(this.YUt=t,this.o8t()||this.u8t())}RUt(){if(!this.KUt&&-1===this.YUt){const t=this.WUt,s=this.BUt.s_t(C.yn(this.NUt,0,this.BUt.K6()-1));t!==s&&this.f8t(t,s),1<this.BUt.K6()&&0<this.HUt&&this.KMt()}}x8t(){return this.NUt}M8t(){return this.WUt.TW()}T8t(t){this.HUt=Math.abs(t),this.h8t(0<=t),0<this.HUt&&this.KMt()}G8t(){return this.n8t()?this.HUt:-this.HUt}_8t(t){"string"==typeof t&&-1===(t=this.BUt.r_t(t))||(t=C.yn(Math.floor(t),0,this.BUt.K6()-1),this.zUt=t)}I8t(){return this.zUt}l8t(t){const s=this.WUt,e=this.lft.NIt(this.KUt);if(this.KUt="",e&&(e!==this.BUt||!this.i8t())){this.BUt=e,this.h8t(0<=e.V6()),this.HUt=Math.abs(e.V6()),this.zUt=e.q6(),this.NUt=C.yn(this.NUt,0,this.BUt.K6()-1),1===this.ZUt&&(this.NUt=0),this.r8t(!0),this.qUt=this.e8t();const i=this.BUt.s_t(this.NUt);this.f8t(s,i,t)}}u8t(t){const s=this.WUt,e=this.NUt;if(this.NUt=C.yn(Math.floor(this.YUt),0,this.BUt.K6()-1),this.YUt=-1,t||e!==this.NUt){const i=this.BUt.s_t(this.NUt);this.f8t(s,i),this.qUt=this.e8t()}}xUt(){const t=this.WUt.nW();this.UUt=t.Qx(),this.jUt=t.WC(),this.VUt=t.STt(),this.RD().$Et(!0)}Qx(){return this.UUt}WC(){return this.jUt}STt(){return this.VUt}dW(){return this.WUt.dW()}lbt(t){let s=this.WUt,e=this.RD(),i=null;if("string"==typeof t)i=s.SW(t);else{if("number"!=typeof t)throw new TypeError("expected string or number");i=s.yW(t-1)}let r=e.e4();if(!i)return[e.Cb(),e.Fb(),r];if(Qa.I(i.y_t()),e.d6()){const[n,h,o]=e.p6()._v(Qa.rl(),Qa.hl());Qa.set(n,h),r+=o}return Qa.offset(-s.aW(),-s.uW()),Qa.scale(e.lm(),e.Mm()),Qa.rotate(e.aL()),Qa.offset(e.Cb(),e.Fb()),[Qa.rl(),Qa.hl(),r]}C8t(){return this.RD().UEt().Nu()}R8t(t){t=Math.floor(t);const s=this.RD(),e=s.UEt(),i=e.Nu();if((t=t===i?0:t)<0||i<=t)return[0,0];const r=e.Bu();return[r[2*t+0]+s.Cb(),r[2*t+1]+s.Fb()]}sTt(){const s=C.aX.Drt.Zrt,t="plugins.sprite.debugger.animation-properties";return[{title:t+".title",properties:[{name:t+".current-animation",value:this.BUt.Zc(),E8t:t=>this.iTt(s.F8t,t,0)},{name:t+".current-frame",value:this.NUt,E8t:t=>this.iTt(s.P8t,t)},{name:t+".is-playing",value:this.i8t(),E8t:t=>t?this.iTt(s.A8t,0):this.iTt(s.k8t)},{name:t+".speed",value:this.HUt,E8t:t=>this.iTt(s.D8t,t)},{name:t+".repeats",value:this.$Ut,E8t:t=>this.$Ut=t}]}]}Ub(){const t={a:this.BUt.t9()},s=(0!==this.qUt&&(t.fs=this.qUt),this.e8t()),e=(0!==s&&(t.at=s),0!==this.NUt&&(t.f=this.NUt),0!==this.HUt&&(t.cas=this.HUt),1!==this.$Ut&&(t.ar=this.$Ut),0!==this.zUt&&(t.rt=this.zUt),this.i8t()||(t.ap=this.i8t()),this.n8t()||(t.af=this.n8t()),this.RD());return e.x4()&&(t.ce=e.x4()),t}jb(t){const s=this.OB().WIt(t.a),e=(s&&(this.BUt=s),this.qUt=t.hasOwnProperty("fs")?t.fs:0,this.JUt.Set(t.hasOwnProperty("at")?t.at:0),t.hasOwnProperty("f")?t.f:0),i=(this.NUt=C.yn(e,0,this.BUt.K6()-1),this.HUt=t.hasOwnProperty("cas")?t.cas:0,this.$Ut=t.hasOwnProperty("ar")?t.ar:1,t.hasOwnProperty("rt")?t.rt:0),r=(this.zUt=C.yn(i,0,this.BUt.K6()-1),this.r8t(!t.hasOwnProperty("ap")||!!t.ap),this.h8t(!t.hasOwnProperty("af")||!!t.af),this.BUt.s_t(this.NUt)),n=(this.WUt=r,this.xUt(),this.RD());n.mht(r.aW()),n.yht(r.uW()),n.OEt(r.bW()),n.M4(!!t.ce),this.i8t()&&this.KMt()}Ont(t){const s=this.RD();switch(t){case 3:return s.x4();case 2:return C.yn(this.NUt,0,this.BUt.K6()-1);case 1:return this.BUt.Zc()}}jnt(t,s,e){const i=this.RD();switch(t){case 3:i.M4(!!s);break;case 2:{this.r8t(!1);const r=this.BUt.K6()-1,n=s=C.yn(s,0,r),h=this.BUt.s_t(this.NUt),o=this.BUt.s_t(n);this.f8t(h,o,e),this.NUt=C.yn(n,0,r);break}case 1:{this.KUt=s,this.l8t(e);const a=this.BUt.K6();1<a&&0<this.BUt.V6()?this.KMt():this.DMt();break}}}dMt(){return self.O8t}},new WeakMap),tl=new Map([["current-frame",0],["beginning",1]]);self.O8t=class extends self.g6{constructor(){super(),R.set(this,self.kB.NB().v6())}fW(){return R.get(this).dW()}pW(t){return this.mW(t)[0]}gW(t){return this.mW(t)[1]}L8t(t){return this.mW(t)[2]}mW(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("expected string or number");return R.get(this).lbt(t)}wW(){return R.get(this).C8t()}vW(t){return Ya.wi(t),R.get(this).R8t(t)[0]}MW(t){return Ya.wi(t),R.get(this).R8t(t)[1]}xW(t){return Ya.wi(t),R.get(this).R8t(t)}B8t(){R.get(this).r8t(!1)}N8t(t="current-frame"){Ya.Mi(t);const s=tl.get(t);if(void 0===s)throw new Error("invalid mode");R.get(this).y8t(s)}W8t(t,s="beginning"){Ya.Mi(t),Ya.Mi(s);const e=tl.get(s);if(void 0===e)throw new Error("invalid mode");const i=R.get(this);if(!i.OB().NIt(t))throw new Error(`animation name "${t}" does not exist`);i.S8t(t,e)}PUt(t){Ya.Mi(t);const s=R.get(this).OB().NIt(t);return s?s.h_t():null}get animation(){return R.get(this).w8t().h_t()}get animationName(){return R.get(this).b8t()}set m8t(t){Ya.wi(t),R.get(this).v8t(t)}get m8t(){return R.get(this).x8t()}set U8t(t){Ya.Mi(t),R.get(this).v8t(t)}get U8t(){return R.get(this).M8t()}set j8t(t){Ya.wi(t),R.get(this).T8t(t)}get j8t(){return R.get(this).G8t()}set V8t(t){Ya.wi(t),R.get(this)._8t(t)}get V8t(){return R.get(this).I8t()}get imageWidth(){return R.get(this).pTt().lm()}get imageHeight(){return R.get(this).pTt().Mm()}H8t(){const t=R.get(this).pTt();return[t.lm(),t.Mm()]}async z8t(t){Ya.tr(t,Blob);const s=R.get(this),e=s.YD(),i=s.pTt(),r=C.un(C.vGt);if(r.DGt(e,t),await r.Aj(e.Y2(),{Fv:e.ek()}),s.dn())r.cn();else{i.OGt(r);const n=s.$2t();n.vUt(),n.OB().jf().dispatchEvent(new C.Event("animationframeimagechange")),e.OD()}}J8t(t,s){Ya.Mi(s),R.get(this).RD().TEt(!!t,s)}}}{const sl=self.Bs;sl.aX.Drt.nX={q8t(t){return sl.br(this.b8t(),t)},$8t(t,s){return sl.compare(this.NUt,t,s)},X8t(t,s){if("string"!=typeof s)return!1;const e=this.WUt.TW();return sl.compare(e.toLowerCase(),t,s.toLowerCase())},Y8t(t,s){return sl.compare(this.G8t(),t,s)},p8t(t){return sl.br(this.XUt,t)},d8t(){return!0},g8t(){return!0},K8t(){return this.RD().lm()<0},Z8t(){return this.RD().Mm()<0},Q8t(){return!0},tjt(){return!0},x4(){return this.RD().x4()}}}{const el=self.Bs;el.aX.Drt.Zrt={sjt(t,s,e,i,r){if(t&&s){const[n,h]=this.lbt(e),o=this.lf.qO(t,s,n,h,i,r);if(o){if(i&&s.$O(o),t.FO().fO()){const l=o.RD();l.oL(this.RD().aL()),l.YN()}const a=this.lf.pk();a.XO(!0),o.YO(),a.XO(!1),t!==this.lf.Fdt().OB()&&this.kMt.TUt(t,o,i)}}},k8t(){this.r8t(!1)},A8t(t){this.y8t(t)},F8t(t,s){this.S8t(t,s)},P8t(t){this.v8t(t)},D8t(t){this.T8t(t)},ejt(t){this._8t(t)},ijt(s,t){try{0===s?this.$2t().GUt(t):this.$2t()._Ut(t)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation: `,t)}},rjt(s,t,e){try{0===s?this.$2t().CUt(t,e):this.$2t().EUt(t,e)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation frame: `,t)}},njt(t){const s=this.RD(),e=s.lm(),i=Math.abs(e)*(0===t?-1:1);e!==i&&(s.wm(i),s.YN())},hjt(t){const s=this.RD(),e=s.Mm(),i=Math.abs(e)*(0===t?-1:1);e!==i&&(s.um(i),s.YN())},nL(t){const s=this.WUt,e=s.nW(),i=this.RD(),r=i.lm()<0?-1:1,n=i.Mm()<0?-1:1,h=e.lm()*t*r,o=e.Mm()*t*n;i.lm()===h&&i.Mm()===o||(i.lC(h,o),i.YN())},async ojt(t,s,e){const i=this.WUt,r=i.nW(),n=this.RD(),h=this.lf,o=this.kMt;if(r.t7()===t)0===s&&(n.lC(r.lm(),r.Mm()),n.YN()),this.vN(el.aX.Drt.nX.Q8t);else{const a=el.un(el.vGt);try{if(await a.kGt(h,t),!a._7())throw new Error("image failed to load");if(this.dn())return void a.cn();await a.Aj(h.Y2(),{Fv:h.ek()})}catch(t){return console.error("Load image from URL failed: ",t),void(this.dn()||this.vN(el.aX.Drt.nX.tjt))}this.dn()?a.cn():(r.OGt(a),o.vUt(),o.OB().jf().dispatchEvent(new el.Event("animationframeimagechange")),h.OD(),0===s&&(n.lC(r.lm(),r.Mm()),n.YN()),await this.MN(el.aX.Drt.nX.Q8t))}},ajt(t){this.RD().M4(t)},TEt(t,s){this.RD().TEt(0===t,s)},ljt(t){this.RD().yb(t),this.lf.OD()}}}{const il=self.Bs;il.aX.Drt.Qrt={ujt(){return this.x8t()},cjt(){return this.M8t()},fjt(){return this.BUt.K6()},djt(){return this.BUt.Zc()},pjt(){return this.G8t()},mjt(){return this.BUt.V6()},gjt(t){return this.lbt(t)[0]},yjt(t){return this.lbt(t)[1]},Sjt(t){return this.lbt(t)[2]},wjt(){return this.dW()},bjt(){return this.pTt().lm()},vjt(){return this.pTt().Mm()},xjt(t){return this.R8t(t)[0]},Mjt(t){return this.R8t(t)[1]},Tjt(){return this.C8t()}}}{const rl=self.Bs;rl.aX.Text=class extends rl.Vxt{constructor(t){super(t)}cn(){super.cn()}}}{const nl=self.Bs;nl.aX.Text.rIt=class extends nl.IMt{constructor(t){super(t)}cn(){super.cn()}fMt(){}R$(t){}D$(){}}}{const hl=self.Bs,ol=self.$s,al=[0,0,0],ll=["left","center","right"],ul=["top","center","bottom"],cl=["ltr","rtl"],fl=["word","cjk","character"],dl=new hl.Rect,pl=new hl.Ql,ml=new hl.Vo,gl=hl.un(hl.Qa),yl=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]),E=(hl.aX.Text.Instance=class extends hl.hTt{constructor(t,s){if(super(t),this.uf="",this.Gjt=!0,this._jt="Arial",this.Ijt=12,this.Cjt=0,this.J_=!1,this.q_=!1,this.pb=hl.un(hl.Vo),this.tI=0,this.sI=0,this.rI="word",this.nI=0,this.Rjt="auto",this.Ejt=1,this.Fjt=null,this.Pjt="",this.Ajt=!1,this.kjt=!1,this.Djt=null,this.Ojt=-1,this.Ljt=-1,this.Bjt=0,this.Njt=hl.un(hl.iy.G2,this.lf.Y2(),{timeout:5}),this.Njt.AI=()=>this.lf.OD(),this.Wjt=()=>this.Ujt(),this.jjt=!1,s){this.uf=s[0],this.Gjt=!!s[1],this._jt=s[2],this.Ijt=s[3],this.Cjt=s[4],this.J_=!!s[5],this.q_=!!s[6],this.tI=s[8],this.sI=s[9],this.rI=fl[s[10]],this.nI=s[11],this.Vjt(this.lf.k8(s[12]));const e=s[7];this.pb.Xo(e[0],e[1],e[2]),this.RD().HL(s[13]),this.kjt=!!s[15]}this.Hjt(),this.zjt()}cn(){this.Vjt(null),this.Jjt(),this.Djt&&(this.Djt.cn(),this.Djt=null),this.Njt.cn(),this.Njt=null,super.cn()}Hjt(){const t=this.Njt;t.df(this.uf),t.LI(this.Gjt),this.Njt.N_()&&this.Fjt?this.Njt.om(this.YD().FBt(this.Fjt)):this.Njt.om(null),t.BI("nearest"!==this.lf.ek()),t.NI(this._jt),t.VI(this.Cjt),t.zI(this.J_),t.qI(this.q_),t.Sb(this.pb),t.tC(ll[this.tI]),t.eC(ul[this.sI]),t.rC(this.rI),t.hC(cl[this.nI])}qjt(){let t=this.RD(),s=(this.Njt.WI(this.Ijt),this.Njt.jI(t.z3t()),t.ED()),e;"auto"===this.Rjt?e=s.pJ(t.e4()):"fixed"===this.Rjt&&(e=this.Ejt),t.d6()&&e!==this.Njt.uC()&&t.$Et(!0),this.Njt.lC(t.lm(),t.Mm(),e)}Vjt(t){t&&(t.Jz()||t.FO().constructor!==hl.aX.Drt)||t!==this.Fjt&&(this.Fjt&&this.Fjt.jf().removeEventListener("animationframeimagechange",this.Wjt),this.Fjt=t,this.Fjt&&this.Fjt.jf().addEventListener("animationframeimagechange",this.Wjt),this.Hjt(),this.Ajt=!1,this.lf.OD())}Ujt(){this.lf.PBt(this.Fjt),this.lf.OD(),this.jjt=!0}zjt(){if(this.kjt){let t=this.uf;this.Gjt&&(t=hl.kr.Qp(t)),this.Djt?this.Djt.df(t):this.Djt=hl.un(hl.hf,this.lf,t)}else this.Djt&&(this.Djt.cn(),this.Djt=null)}bv(t){const s=this.RD(),e=(this.qjt(),this.jjt&&(this.jjt=!1,this.Njt.N_())&&this.Fjt&&this.Njt.om(this.YD().FBt(this.Fjt)),this.Njt.Qx());if(e){const i=s.ED();if(0===s.aL()&&0===i.aL()&&0===s.e4()&&!s.d6()&&i.P9()){const r=s.h4(),[n,h]=i.EB(r.th(),r.eh()),[o,a]=i.EB(r.nh(),r.hh()),l=n-Math.round(n),u=h-Math.round(h),[c,f]=(dl.set(n,h,o,a),dl.offset(-l,-u),pl.bu(dl),t.aE(t.IE()));this.lf.N5().Uj(t,c,f),t.q3(e),t.Pw(pl,this.Njt.WC()),i.Vj(t)}else t.q3(e),s.d6()?this.t8t(s,t):this.s8t(s,t)}}s8t(t,s){let e=t.h4();this.lf.rk()&&(e=this.$jt(e)),s.Pw(e,this.Njt.WC())}t8t(s,t){const e=s.qEt();if(s.XEt()){s._Et(dl,pl,!1);let t=pl;this.lf.rk()&&(t=this.$jt(t)),e.wv(s.p6(),t,this.Njt.WC()),s.$Et(!1)}e.bv(t)}$jt(t){const s=t.th()-Math.round(t.th()),e=t.eh()-Math.round(t.eh());return 0==s&&0==e?t:(pl.I(t),pl.offset(-s,-e),pl)}mTt(){const t=this.Njt.Qx();return t?[t.lm(),t.Mm()]:[100,100]}gTt(){return this.Njt.WC()}wTt(){return!1}Ub(){const t={t:this.uf,c:this.pb.toJSON(),fn:this._jt,ps:this.Ijt};return this.Gjt&&(t.bbc=this.Gjt),0!==this.tI&&(t.ha=this.tI),0!==this.sI&&(t.va=this.sI),"word"!==this.rI&&(t.wr=this.rI),0!==this.Cjt&&(t.lho=this.Cjt),this.J_&&(t.b=this.J_),this.q_&&(t.i=this.q_),-1!==this.Ljt&&(t.tw={st:this.Ojt,en:this.Ljt,l:this.Bjt}),this.Fjt&&(t.ioc=this.Fjt.t9()),"fixed"===this.Rjt&&(t.fs=this.Ejt),t}jb(t){if(this.Jjt(),this.uf=t.t,this.pb.Va(t.c),this._jt=t.fn,this.Ijt=t.ps,this.Gjt=!!t.hasOwnProperty("bbc")&&t.bbc,this.tI=t.hasOwnProperty("ha")?t.ha:0,this.sI=t.hasOwnProperty("va")?t.va:0,t.hasOwnProperty("wr")){const s=t.wr;this.rI="boolean"==typeof s?s?"word":"character":s}else this.rI="word";if(this.Cjt=t.hasOwnProperty("lho")?t.lho:0,this.J_=!!t.hasOwnProperty("b")&&t.b,this.q_=!!t.hasOwnProperty("i")&&t.i,t.hasOwnProperty("tw")){const e=t.tw;this.Ojt=e.st,this.Ljt=e.en,this.Bjt=e.l}if(t.hasOwnProperty("ioc")){const i=this.YD().k8(t.ioc);i&&this.Vjt(i)}else this.Vjt(null);t.hasOwnProperty("fs")?(this.Rjt="fixed",this.Ejt=t.fs):this.Rjt="auto",this.Hjt(),this.zjt(),this.Ajt=!1,-1!==this.Ljt&&this.KMt()}Ont(t){switch(t){case 0:return this.aC();case 1:return this.Gjt;case 2:return this.Xjt();case 3:return this.Yjt();case 4:return this.Kjt();case 5:return this.Zjt();case 6:return this.Qjt();case 7:return al[0]=this.pb.ra(),al[1]=this.pb.na(),al[2]=this.pb.oa(),al;case 8:return this.tVt();case 9:return this.sVt();case 10:return this.eVt();case 15:return this.iVt()}}jnt(t,s){switch(t){case 0:this.rVt(s);break;case 1:this.Gjt!==!!s&&(this.Gjt=!!s,this.Hjt());break;case 2:this.nVt(s);break;case 3:this.hVt(s);break;case 4:this.oVt(s);break;case 5:this.aVt(s);break;case 6:this.lVt(s);break;case 7:const e=this.pb,i=s;e.ra()===i[0]&&e.na()===i[1]&&e.oa()===i[2]||(this.pb.Xo(i[0],i[1],i[2]),this.Hjt());break;case 8:this.uVt(s);break;case 9:this.cVt(s);break;case 10:this.fVt(s)}}eTt(t,s,e,i){0===s&&0===e&&0===i||7===t&&(this.pb.Yo(s,e,i),this.Hjt())}rVt(t){this.uf!==t&&(this.uf=t,this.Njt.df(t),this.zjt(),this.Ajt=!1,this.lf.OD())}aC(){return this.uf}dVt(t,s){this.qjt(),this.rVt(t),this.Ojt=this.lf.Uk(),this.Ljt=this.Ojt+s/this.XW().QB(),this.Bjt=this.Njt.pC(),this.Njt.XI(0),this.KMt()}Jjt(){this.Ojt=-1,this.Ljt=-1,this.Bjt=0,this.Njt.XI(-1),this.DMt()}pVt(){-1!==this.Ljt&&(this.Jjt(),this.vN(hl.aX.Text.nX.mVt),this.lf.OD())}nVt(t){this._jt!==t&&(this._jt=t,this.Njt.NI(t),this.lf.OD())}Xjt(){return this._jt}aVt(t){this.J_!==(t=!!t)&&(this.J_=t,this.Njt.zI(t),this.lf.OD())}Zjt(){return this.J_}lVt(t){this.q_!==(t=!!t)&&(this.q_=t,this.Njt.qI(t),this.lf.OD())}Qjt(){return this.q_}hVt(t){this.Ijt!==t&&(this.Ijt=t,this.lf.OD())}Yjt(){return this.Ijt}gVt(t){this.pb.fa(t)||(this.pb.ia(t),this.Njt.Sb(this.pb),this.lf.OD())}yVt(){return this.pb}oVt(t){this.Cjt!==t&&(this.Cjt=t,this.Hjt(),this.lf.OD())}Kjt(){return this.Cjt}uVt(t){this.tI!==t&&(this.tI=t,this.Hjt(),this.lf.OD())}tVt(){return this.tI}cVt(t){this.sI!==t&&(this.sI=t,this.Hjt(),this.lf.OD())}sVt(){return this.sI}SVt(t){this.fVt(fl[t])}fVt(t){this.rI!==t&&(this.rI=t,this.Hjt(),this.lf.OD())}eVt(){return this.rI}wVt(t){this.nI!==t&&(this.nI=t,this.Hjt(),this.lf.OD())}bVt(){return this.nI}vVt(t){this.kjt=!!t,this.zjt()}iVt(){return this.kjt}xVt(t){this.Rjt!==t&&(this.Rjt=t,this.lf.OD())}MVt(){return this.Rjt}TVt(t){this.Ejt!==t&&(this.Ejt=t,"fixed"===this.Rjt)&&this.lf.OD()}GVt(){return this.Ejt}_Vt(){return this.qjt(),this.Njt.cC()}IVt(){return this.qjt(),this.Njt.dC()}CVt(t,s){this.qjt();const e=this.RD(),i=(gl.set(t-e.Cb(),s-e.Fb()),gl.rotate(-e.aL()),gl.offset(e.lm()*e.aW(),e.Mm()*e.uW()),gl.Ct(e.lm(),e.Mm()),gl.scale(this.Njt.lm(),this.Njt.Mm()),this.Njt.gC(gl.rl(),gl.hl()));if(i){const r=i.ug("tag");if(r)return r.param}return""}RVt(t,s,e){const i=this.CVt(s,e);return i&&hl.br(t,i)}EVt(t,s){this.qjt(),s=Math.floor(s);const e=this.Njt.SC(t,s);if(!e)return null;const i=this.RD(),r=this.Njt.ZI(),n=e.ng(),h=e.og()-(e.Mm()-e.Gm())*r,o=e.lm()*r/this.Njt.lm()*i.lm(),a=e.Mm()*r/this.Njt.Mm()*i.Mm();return gl.set(n,h),gl.Ct(this.Njt.lm(),this.Njt.Mm()),gl.scale(i.lm(),i.Mm()),gl.offset(-i.lm()*i.aW(),-i.Mm()*i.uW()),gl.rotate(i.aL()),gl.offset(i.Cb(),i.Fb()),{x:gl.rl(),y:gl.hl(),width:o,height:a}}FVt(t){return this.qjt(),this.Njt.wC(t)}PVt(t){let s=yl.get(t);return null===s?"":`</${s||"span"||"span"}>`}AVt(t,s){let e=yl.get(t);if(null===e)return"";switch(e=e||"span",t){case"color":return`<${e} style="color: ${s}">`;case"font":return`<${e} style="font-family: '${s}'">`;case"opacity":return`<${e} style="opacity: ${s}%">`;case"size":return`<${e} style="font-size: ${s}pt">`;case"background":return`<${e} style="background-color: ${s}">`;case"hide":return`<${e} style="visibility: hidden">`;case"class":return`<${e} class="${s}">`;case"tag":return`<${e} data-tag="${s}">`;default:return`<${e}>`}}async kVt(){if(!this.Ajt){let t=new hl.kr(this.uf,{Dp:!0}).Jp(),s=new Map,r='<span class="c3-text"',e=[],n=(e.push(`font-family: '${this.Xjt()}';`),this.Zjt()&&e.push("font-weight: bold;"),this.Qjt()&&e.push("font-style: italic;"),"character"===this.eVt()&&e.push("word-break: break-all;"),r+=` style="${e.join(" ")}">`,this.Fjt?this.YD().FBt(this.Fjt):null);if(this.Fjt){const o=hl.un(hl.dd),a=[],l=new Map;for(const c of t)if(c.vm()){const f=c.yg(n);if(f){const d=f.Zg(),p=d.nW().UGt();l.has(p)||(l.set(p,null),a.push(o.cc(async()=>{const t=await p.O7();l.set(p,t)})))}}await Promise.all(a);const u=[];for(const m of t)if(m.vm()){const g=m.yg(n);if(g){const y=g.Zg(),S=y.nW().UGt();u.push(o.cc(async()=>{const t=await y.nW().VGt(l.get(S));s.set(g,t)}))}}await Promise.all(u);for(const w of l.values())w instanceof ImageBitmap&&w.close&&w.close()}const h=new Map;for(const b of t){let i=b.dg(),t=[...h.keys()];t.reverse();for(const v of t)i.has(v)&&i.get(v)===h.get(v)||(h.delete(v),r+=this.PVt(v));for(const[x,M]of i)h.has(x)||(h.set(x,M),r+=this.AVt(x,M));if(b.Sm()&&(r+=hl.Q1(hl.K1(b.Lm().join("")),"\n","<br>")),b.vm()&&n){const T=b.yg(n);if(T){const G=s.get(T);if(G){let t=[],s="0.2em",e=i.get("iconoffsety");if(e){let t=e.trim();s=t.endsWith("%")?parseFloat(t)/100+"em":t+"px"}t.push("top: "+s),"nearest"===this.lf.ek()&&t.push("image-rendering: pixelated"),r+=`<img class="c3-text-icon" data-icon="${b.gg()}" width="${T.lm()}" height="${T.Mm()}" style="${t.join(";")}" src="${G}">`}}}}const i=[...h.keys()];i.reverse();for(const _ of i)r+=this.PVt(_);r+="</span>",this.Pjt=r,this.Ajt=!0}return this.Pjt}AK(){const s=this.lf.Uk();if(s>=this.Ljt)this.Jjt(),this.vN(hl.aX.Text.nX.mVt),this.lf.OD();else{let t=hl.Pn(this.Ojt,this.Ljt,s,0,this.Bjt);(t=Math.floor(t))!==this.Njt.YI()&&(this.Njt.XI(t),this.lf.OD())}}sTt(){const t="plugins.text";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.aC(),E8t:t=>this.rVt(t)},{name:t+".properties.font.name",value:this.Xjt(),E8t:t=>this.nVt(t)},{name:t+".properties.size.name",value:this.Yjt(),E8t:t=>this.hVt(t)},{name:t+".properties.line-height.name",value:this.Kjt(),E8t:t=>this.oVt(t)},{name:t+".properties.bold.name",value:this.Zjt(),E8t:t=>this.aVt(t)},{name:t+".properties.italic.name",value:this.Qjt(),E8t:t=>this.lVt(t)}]}]}dMt(){return self.DVt}},new WeakMap),Sl=new Map([["left",0],["center",1],["right",2]]),wl=new Map([["top",0],["center",1],["bottom",2]]),bl=["ltr","rtl"];new Set(["auto","fixed"]);self.DVt=class extends self.g6{constructor(){super(),E.set(this,self.kB.NB().v6())}get text(){return E.get(this).aC()}set text(t){ol.Mi(t);const s=E.get(this);s.Jjt(),s.rVt(t)}OVt(t,s){ol.Mi(t),ol.wi(s);const e=E.get(this);e.Jjt(),e.dVt(t,s)}LVt(){E.get(this).pVt()}set Jj(t){ol.Mi(t),E.get(this).nVt(t)}get Jj(){return E.get(this).Xjt()}set $j(t){E.get(this).aVt(t)}get $j(){return E.get(this).Zjt()}set Xj(t){E.get(this).lVt(t)}get Xj(){return E.get(this).Qjt()}set qj(t){ol.wi(t),E.get(this).hVt(t)}get qj(){return E.get(this).Yjt()}set BVt(t){if(ol.Bi(t),t.length<3)throw new Error("expected 3 elements");ml.Xo(t[0],t[1],t[2]),E.get(this).gVt(ml)}get BVt(){const t=E.get(this).yVt();return[t.ra(),t.na(),t.oa()]}set lineHeight(t){ol.wi(t),E.get(this).oVt(t)}get lineHeight(){return E.get(this).Kjt()}set Zj(t){ol.Mi(t);const s=Sl.get(t);if(void 0===s)throw new Error("invalid mode");E.get(this).uVt(s)}get Zj(){return ll[E.get(this).tVt()]}set verticalAlign(t){ol.Mi(t);const s=wl.get(t);if(void 0===s)throw new Error("invalid mode");E.get(this).cVt(s)}get verticalAlign(){return ul[E.get(this).sVt()]}set Qj(t){if(!fl.includes(t))throw new Error("invalid mode");E.get(this).fVt(t)}get Qj(){return E.get(this).eVt()}set tV(t){ol.Mi(t);const s=bl.indexOf(t);if(-1===s)throw new Error("invalid text direction");E.get(this).wVt(s)}get tV(){return bl[E.get(this).bVt()]}set NVt(t){E.get(this).vVt(!!t)}get NVt(){return E.get(this).iVt()}WVt(t){ol.wi(t);const s=E.get(this);s.xVt("fixed"),s.TVt(t)}UVt(){E.get(this).xVt("auto")}get iV(){return E.get(this)._Vt()}get rV(){return E.get(this).IVt()}jVt(){const t=E.get(this);return[t._Vt(),t.IVt()]}VVt(t,s,e){return ol.Mi(t),ol.wi(s),ol.wi(e),E.get(this).RVt(t,s,e)}HVt(t,s){return ol.wi(t),ol.wi(s),E.get(this).CVt(t,s)}zVt(t,s=0){return ol.Mi(t),ol.wi(s),E.get(this).EVt(t,s)}JVt(t){return ol.Mi(t),E.get(this).FVt(t)}qVt(t){const s=E.get(this),e=s.YD().I5(t);s.Vjt(e)}$Vt(){return E.get(this).kVt()}}}{const vl=self.Bs;vl.aX.Text.nX={XVt(t,s){return s?this.uf===t:vl.br(this.uf,t)},YVt(){return-1!==this.Ljt},mVt(){return!0},KVt(t,s,e){return this.RVt(t,s,e)}}}{const xl=self.Bs,Ml=xl.un(xl.Vo);xl.aX.Text.Zrt={df(t){this.Jjt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.rVt(t.toString())},ZVt(t){this.Jjt(),(t=(t="number"==typeof t&&t<1e9?Math.round(1e10*t)/1e10:t).toString())&&this.rVt(this.uf+t)},QVt(t,s){this.Jjt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.dVt(t.toString(),s)},t7t(t,s){let e=!1,i=!1;switch(s){case 1:e=!0;break;case 2:i=!0;break;case 3:e=!0,i=!0}t===this._jt&&e===this.J_&&i===this.q_||(this.nVt(t),this.aVt(e),this.lVt(i))},WI(t){this.hVt(t)},s7t(t){Ml.Ta(t),Ml.yn(),this.gVt(Ml)},e7t(t,s){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},ljt(t){this.RD().yb(t),this.lf.OD()},i7t(){this.pVt()},VI(t){this.oVt(t)},r7t(t){this.uVt(t)},n7t(t){this.cVt(t)},h7t(t){this.SVt(t)},hC(t){this.wVt(t)},o7t(t){this.Vjt(t)},a7t(){return this.kVt()},l7t(t){this.vVt(t)},u7t(t,s){this.xVt(["auto","fixed"][t]),this.TVt(s)}}}{const Tl=self.Bs;Tl.aX.Text.Qrt={Text(){return this.uf},c7t(){return this.Gjt?Tl.kr.Qp(this.uf):this.uf},f7t(){return this._jt},d7t(){return this.Ijt},p7t(){return this._Vt()},m7t(){return this.IVt()},g7t(){return this.Cjt},y7t(t,s){return this.CVt(t,s)},S7t(t){return this.FVt(t)},w7t(t,s){const e=this.EVt(t,s);return e?e.x:0},b7t(t,s){const e=this.EVt(t,s);return e?e.y:0},v7t(t,s){const e=this.EVt(t,s);return e?e.width:0},x7t(t,s){const e=this.EVt(t,s);return e?e.height:0},M7t(){return this.Pjt}}}{const Gl=self.Bs;Gl.aX.T7t=class extends Gl.Vxt{constructor(t){super(t)}cn(){super.cn()}}}{const _l=self.Bs;_l.aX.T7t.rIt=class extends _l.IMt{constructor(t){super(t)}cn(){super.cn()}fMt(){this.nW().XD(this.lf)}R$(t){return this.nW().Aj(t,{Fv:this.lf.ek()})}D$(){this.nW().EI()}}}{let s=function(t){return El.get(t).G7t()};s;const Il=self.Bs,Cl=self.$s,Rl=Il.un(Il.Rect),El=(Il.aX.T7t.Instance=class extends Il.hTt{constructor(t,s){super(t),this._7t=!0;const e=Il.un(self.I7t);(this.R7t=e).C7t=()=>this.E7t(),this.F7t=null,this.P7t=(t,s,e,i,r,n)=>this.A7t(t,s,e,i,r,n),this.k7t=t=>this.D7t(t);let i=this.O7t=!0;s&&(e.L7t(s[0]),e.B7t(Il.wn(s[1])),e.N7t(s[2]?"one-shot":"continuous-spray"),this.W7t(this.lf.k8(s[3])),i=s[4],e.U7t(s[5]),e.j7t(s[6]),e.V7t(s[7]/100),e.H7t(s[8]),e.z7t(s[9]),e.J7t(s[10]),e.q7t(s[11]),e.$7t(s[12]),e.X7t(s[13]),e.Y7t(s[14]),e.K7t(s[15]),e.Z7t(s[16]),e.Q7t(s[17]),e.tHt(s[18]),e.sHt(s[19]),e.eHt(s[20])),this.iHt(),this.F7t&&(this.O7t=!1),"one-shot"===e.rHt()?e.nHt():e.hHt(!0);const r=this.RD();r.HL(i),r.FEt(!0),this._e.jf().addEventListener("bboxchange",()=>{r.EEt(this.R7t.r4())}),this.YD().Y2().CS()&&r.vEt(),this.OY=t=>this.LY(t),this.YD().jf().addEventListener("afterload",this.OY),this.KMt()}cn(){this.YD().jf().removeEventListener("afterload",this.OY),this.OY=null,this.R7t.cn(),this.R7t=null,this.P7t=null,this.k7t=null,super.cn()}G7t(){return this.R7t}oHt(t){this.R7t.L7t(t),"one-shot"===this.R7t.rHt()&&this._7t&&this.R7t.aHt(t)}W7t(t){(t=t===this.OB()?null:t)===this.F7t||(this.F7t=t,this.R7t.lHt=t?t=>this.uHt(t):null,this.F7t)||(this.O7t=!0)}iHt(){const t=this.R7t,s=this.RD();t.cHt(s.j3()),t.Z4t(this.lf.rk()),t.fHt(s.Cb()),t.dHt(s.Fb()),t.pHt(s.aL()),t.mHt(Math.abs(s.z3t()))}E7t(){this.lf.VB(this._e)}bv(t){if(this.O7t){const s=this.lft.nW(),e=s.Qx();if(e){const i=this.RD(),r=i.ED(),n=Rl,h=(this.lf.N5().pDt()?n.set(-1/0,-1/0,1/0,1/0):r.k9()?r.uq(i.e4(),n):r.b9(i.e4(),n),t.q3(e),r.v9(i.e4()));this.R7t.gHt(r.AB()*h),this.R7t.bv(t,s.STt(),n,r.k9())}}}Ub(){const t=this.R7t;return{r:t.yHt(),sc:t.SHt(),st:t.rHt(),isp:t.wHt(),isz:t.bHt(),io:t.vHt(),gr:t.xHt(),xr:t.MHt(),yr:t.THt(),spr:t.GHt(),szr:t._Ht(),grnd:t.IHt(),acc:t.CHt(),g:t.RHt(),lar:t.EHt(),lsr:t.FHt(),lor:t.PHt(),dm:t.AHt(),to:t.kHt(),s:t.DHt(),pcc:t.OHt(),ft:this._7t,soc:this.F7t?this.F7t.t9():null,p:t.LHt().map(t=>t.toJSON())}}jb(t,s){const e=this.R7t;if(e.L7t(t.r),e.B7t(t.sc),e.N7t(t.st),e.U7t(t.isp),e.j7t(t.isz),e.V7t(t.io),e.H7t(t.gr),e.z7t(t.xr),e.J7t(t.yr),e.q7t(t.spr),e.$7t(t.szr),e.X7t(t.grnd),e.Y7t(t.acc),e.K7t(t.g),e.Z7t(t.lar),e.Q7t(t.lsr),e.tHt(t.lor),e.sHt(t.dm),e.eHt(t.to),e.hHt(t.s),e.BHt(t.pcc),this._7t=t.ft,t.hasOwnProperty("soc")){const n=this.YD().k8(t.soc);n&&this.W7t(n)}const i=t.p,r=(e.aHt(i.length,!1),e.LHt());for(let t=0,s=r.length;t<s;++t)r[t].Va(i[t]);"state"===s&&this.F7t&&(e.NHt(),e.WHt(this))}LY(){const t=this.R7t,e=(t.NHt(),t.WHt(this),t.LHt());for(let t=0,s=e.length;t<s;++t){const i=e[t],r=i.UHt();if(r){const n=r.RD();if(n){const h=n.XW();if(h){const o=i.jHt(),a=h.YB();if(("number"!=typeof o||"number"!=typeof a||o!==a)&&"number"==typeof o){const l=this.YD(),u=l.TD(o);u&&l.VB(u)}}}}}}AK(){const t=this.lf.Ok(this._e);this.iHt(),this._7t&&"one-shot"===this.R7t.rHt()&&this.R7t.VHt(),this.R7t.AK(t),this.R7t.DHt()&&this.lf.OD(),this.RD().YN(),this._7t=!1}HHt(t){for(this._7t&&"one-shot"===this.R7t.rHt()&&this.R7t.VHt();0<t;)this.R7t.AK(1/60),t-=1/60;this.R7t.DHt()&&this.lf.OD(),this.RD().YN(),this._7t=!1}uHt(t,s){let e,i=(e=(e=(e="number"==typeof s?this.lf.TD(s):e)&&e.OB()!==this.F7t?null:e)||this.lf.qO(this.F7t,this.RD().ED(),t.Cb(),t.Fb())).RD();return i.lC(t.nc(),t.nc()),i.oL(t.aL()),i.H3(t.j3()),i.c4(this.RD().u4()),i.YN(),i.b4(this.XW(),!0),e.tX(),t.zHt(this.P7t),t.JHt(this.k7t),e}A7t(t,s,e,i,r,n){if(!t.QU()){const h=t.RD();h.t4(s,e),h.lC(h.lm()+i,h.Mm()+i),h.oL(h.aL()+r),h.H3(h.j3()+n),h.YN()}}D7t(t){t.QU()||this.lf.VB(t)}Ont(t){const s=this.R7t;switch(t){case 0:return s.yHt();case 1:return Il.bn(s.SHt());case 2:return"one-shot"===s.rHt()?1:0;case 5:return s.wHt();case 6:return s.bHt();case 7:return 100*s.vHt();case 8:return s.xHt();case 9:return s.MHt();case 10:return s.THt();case 11:return s.GHt();case 12:return s._Ht();case 13:return s.IHt();case 14:return s.CHt();case 15:return s.RHt();case 16:return s.EHt();case 17:return s.FHt();case 18:return s.PHt();case 19:return s.AHt();case 20:return s.kHt()}}jnt(t,s){const e=this.R7t;switch(t){case 0:e.L7t(s);break;case 1:e.B7t(Il.wn(s));break;case 2:e.N7t(s?"one-shot":"continuous-spray");break;case 5:e.U7t(s);break;case 6:e.j7t(s);break;case 7:e.V7t(s/100);break;case 8:e.H7t(s);break;case 9:e.z7t(s);break;case 10:e.J7t(s);break;case 11:e.q7t(s);break;case 12:e.$7t(s);break;case 13:e.X7t(s);break;case 14:e.Y7t(s);break;case 15:e.K7t(s);break;case 16:e.Z7t(s);break;case 17:e.Q7t(s);break;case 18:e.tHt(s);break;case 19:e.sHt(s);break;case 20:e.eHt(s)}}sTt(){const t="plugins.particles",s=t+".properties",e=t+".debugger",i=this.R7t;return[{title:t+".name",properties:[{name:e+".particle-count",value:i.qHt()},{name:s+".type.name",value:[s+".type.items."+i.rHt()]},{name:e+".is-spraying",value:i.DHt(),E8t:t=>i.hHt(t)},{name:s+".rate.name",value:i.yHt(),E8t:t=>i.L7t(t)},{name:s+".spray-cone.name",value:Il.bn(i.SHt()),E8t:t=>i.B7t(Il.wn(t))},{name:s+".speed.name",value:i.wHt(),E8t:t=>i.U7t(t)},{name:s+".size.name",value:i.bHt(),E8t:t=>i.j7t(t)},{name:s+".opacity.name",value:i.vHt(),E8t:t=>i.V7t(t)},{name:s+".grow-rate.name",value:i.xHt(),E8t:t=>i.H7t(t)},{name:s+".x-randomiser.name",value:i.MHt(),E8t:t=>i.z7t(t)},{name:s+".y-randomiser.name",value:i.THt(),E8t:t=>i.J7t(t)},{name:s+".initial-speed-randomiser.name",value:i.GHt(),E8t:t=>i.q7t(t)},{name:s+".size-randomiser.name",value:i._Ht(),E8t:t=>i.$7t(t)},{name:s+".grow-rate-randomiser.name",value:i.IHt(),E8t:t=>i.X7t(t)},{name:s+".acceleration.name",value:i.CHt(),E8t:t=>i.Y7t(t)},{name:s+".gravity.name",value:i.RHt(),E8t:t=>i.K7t(t)},{name:s+".angle-randomiser.name",value:i.EHt(),E8t:t=>i.Z7t(t)},{name:s+".life-speed-randomiser.name",value:i.FHt(),E8t:t=>i.Q7t(t)},{name:s+".opacity-randomiser.name",value:i.PHt(),E8t:t=>i.tHt(t)},{name:s+".timeout.name",value:i.kHt(),E8t:t=>i.eHt(t)}]}]}dMt(){return self.$Ht}},new WeakMap);self.$Ht=class extends self.g6{constructor(){super(),El.set(this,self.kB.NB().v6())}set XHt(t){s(this).hHt(!!t)}get XHt(){return s(this).DHt()}set rate(t){Cl.wi(t),El.get(this).oHt(t)}get rate(){return s(this).yHt()}set YHt(t){Cl.wi(t),s(this).B7t(t)}get YHt(){return s(this).SHt()}set KHt(t){Cl.wi(t),s(this).U7t(t)}get KHt(){return s(this).wHt()}set ZHt(t){Cl.wi(t),s(this).j7t(t)}get ZHt(){return s(this).bHt()}set QHt(t){Cl.wi(t),s(this).V7t(t)}get QHt(){return s(this).vHt()}set tzt(t){Cl.wi(t),s(this).z7t(t)}get tzt(){return s(this).MHt()}set szt(t){Cl.wi(t),s(this).J7t(t)}get szt(){return s(this).THt()}set ezt(t){Cl.wi(t),s(this).q7t(t)}get ezt(){return s(this).GHt()}set izt(t){Cl.wi(t),s(this).$7t(t)}get izt(){return s(this)._Ht()}set rzt(t){Cl.wi(t),s(this).H7t(t)}get rzt(){return s(this).xHt()}set nzt(t){Cl.wi(t),s(this).X7t(t)}get nzt(){return s(this).IHt()}set acceleration(t){Cl.wi(t),s(this).Y7t(t)}get acceleration(){return s(this).CHt()}set hzt(t){Cl.wi(t),s(this).K7t(t)}get hzt(){return s(this).RHt()}set ozt(t){Cl.wi(t),s(this).Z7t(t)}get ozt(){return s(this).EHt()}set azt(t){Cl.wi(t),s(this).Q7t(t)}get azt(){return s(this).FHt()}set lzt(t){Cl.wi(t),s(this).tHt(t)}get lzt(){return s(this).PHt()}set timeout(t){Cl.wi(t),s(this).eHt(t)}get timeout(){return s(this).kHt()}uzt(t){Cl.wi(t),El.get(this).HHt(t)}czt(t){const s=El.get(this);t?s.W7t(s.YD().I5(t)):s.W7t(null)}}}{const Fl=self.Bs;Fl.aX.T7t.nX={DHt(){return this.R7t.DHt()}}}{const Pl=self.Bs;Pl.aX.T7t.Zrt={hHt(t){this.R7t.hHt(0!==t)},L7t(t){this.oHt(t)},fzt(t){this.W7t(t)},dzt(){this.W7t(null)},B7t(t){this.R7t.B7t(Pl.wn(t))},U7t(t){this.R7t.U7t(t)},j7t(t){this.R7t.j7t(t)},V7t(t){this.R7t.V7t(t/100)},H7t(t){this.R7t.H7t(t)},pzt(t){this.R7t.z7t(t)},mzt(t){this.R7t.J7t(t)},gzt(t){this.R7t.q7t(t)},yzt(t){this.R7t.$7t(t)},Szt(t){this.R7t.X7t(t)},wzt(t){this.R7t.Y7t(t)},K7t(t){this.R7t.K7t(t)},bzt(t){this.R7t.Z7t(t)},vzt(t){this.R7t.Q7t(t)},xzt(t){this.R7t.tHt(t)},eHt(t){this.R7t.eHt(t)},Mzt(t){this.HHt(t)},ljt(t){this.RD().yb(t),this.lf.OD()}}}{const Al=self.Bs;Al.aX.T7t.Qrt={Tzt(){return this.R7t.qHt()},Gzt(){return this.R7t.yHt()},_zt(){return Al.bn(this.R7t.SHt())},Izt(){return this.R7t.wHt()},Czt(){return this.R7t.bHt()},Rzt(){return 100*this.R7t.vHt()},Ezt(){return this.R7t.xHt()},Fzt(){return this.R7t.MHt()},Pzt(){return this.R7t.THt()},Azt(){return this.R7t._Ht()},kzt(){return this.R7t.GHt()},Dzt(){return this.R7t.IHt()},Ozt(){return this.R7t.CHt()},Lzt(){return this.R7t.RHt()},Bzt(){return this.R7t.EHt()},Nzt(){return this.R7t.FHt()},Wzt(){return this.R7t.PHt()},Uzt(){return this.R7t.kHt()}}}{const kl=self.Bs,Dl=[],Ol=new Set(["continuous-spray","one-shot"]),Ll=["fade-to-invisible","timeout-expired","particle-stopped"],Bl=kl.un(kl.Rect);self.I7t=class{constructor(){this.jzt=0,this.Vzt=0,this.Hzt="continuous-spray",this.zzt=!1,this.Jzt=0,this.qzt=!1,this.$zt=0,this.Xzt=0,this.Yzt=0,this.Kzt=0,this.Zzt=0,this.Qzt=1,this.t9t=0,this.s9t=0,this.e9t=0,this.i9t=0,this.r9t=0,this.n9t=0,this.h9t=0,this.o9t=0,this.a9t=0,this.l9t=0,this.u9t=0,this.c9t=0,this.f9t=0,this.h0=0,this.d9t=0,this.p9t=1,this.C7t=null,this.lHt=null,this.m9t=[],this.m3t=new kl.Rect,this.pb=new kl.Vo}cn(){this.u0(),kl.Lh(this.m9t),this.m9t=null,this.C7t=null,this.lHt=null,this.m3t=null,this.pb=null}u0(){const e=this.m9t;for(let t=0,s=e.length;t<s;++t)e[t].Dvt();kl.Yr(Dl,e),kl.Lh(e),1e3<Dl.length&&kl.Oh(Dl,1e3),this.zzt=!1}nHt(){for(let t=0,s=this.jzt;t<s;++t)this.g9t();this.m9t.length&&(this.zzt=!0)}g9t(t=!0){let s=null;return Dl.length?(s=Dl.pop()).y9t(this):s=kl.un(self.S9t,this),this.m9t.push(s),t?s.GCt(this.lHt):s.GCt(),s}VHt(){const e=this.m9t,i=this.lHt;for(let t=0,s=e.length;t<s;++t)e[t].GCt(i)}NHt(){const e=this.m9t,i=this.lHt;for(let t=0,s=e.length;t<s;++t)e[t].w9t(i)}WHt(e){const i=this.m9t;for(let t=0,s=i.length;t<s;++t){const r=i[t],n=r.UHt();if(n){const h=n.RD();h.Rb(r.Cb()),h.Pb(r.Fb()),h.lC(r.nc(),r.nc()),h.H3(r.j3()),h.oL(r.aL()),h.c4(e.RD().u4()),h.YN()}}}aHt(t,s=!0){const e=this.m9t;if(t<e.length){const i=e.length-t;for(let t=0;t<i;++t){const r=e.pop();r.Dvt(),Dl.push(r)}1e3<Dl.length&&kl.Oh(Dl,1e3)}else if(t>e.length){const n=t-e.length;for(let t=0;t<n;++t)this.g9t(s)}}LHt(){return this.m9t}qHt(){return this.m9t.length}AK(t){this.b9t(t),this.v9t(t),this.x9t()}b9t(t){if("continuous-spray"===this.Hzt&&this.zzt){this.d9t+=t*this.jzt;const s=Math.floor(this.d9t);this.d9t-=s;for(let t=0;t<s;++t)this.g9t()}}BHt(t){this.d9t=t}OHt(){return this.d9t}v9t(e){let i=this.m3t,r=(i.set(this.$zt,this.Xzt,this.$zt,this.Xzt),this.m9t),n=0;for(let t=0,s=r.length;t<s;++t){const h=r[t];(r[n]=h).AK(e),h.hmt()?(++n,i.Kl(h.r4())):(h.Dvt(),Dl.push(h))}kl.Oh(r,n),1e3<Dl.length&&kl.Oh(Dl,1e3)}x9t(){"one-shot"===this.Hzt&&0===this.m9t.length&&this.zzt&&(this.C7t&&this.C7t(),this.zzt=!1)}bv(e,i,r,n){Bl.set(i.th(),i.eh(),i.nh(),i.hh()),e.lE(Bl),this.pb.I(e.J3());const h=this.m9t;for(let t=0,s=h.length;t<s;++t){const o=h[t];r.ql(o.r4())&&o.bv(e,i,n)}e.uE()}J3(){return this.pb}L7t(t){this.jzt=+t}yHt(){return this.jzt}B7t(t){this.Vzt=+t}SHt(){return this.Vzt}N7t(t){if(!Ol.has(t))throw new Error("invalid spray type");this.Hzt=t}rHt(){return this.Hzt}hHt(t){this.zzt=!!t}DHt(){return this.zzt}cHt(t){this.Jzt=+t}M9t(){return this.Jzt}Z4t(t){this.qzt=!!t}T9t(){return this.qzt}fHt(t){this.$zt=+t}G9t(){return this.$zt}dHt(t){this.Xzt=+t}_9t(){return this.Xzt}pHt(t){this.Yzt=+t}I9t(){return this.Yzt}U7t(t){this.Kzt=+t}wHt(){return this.Kzt}j7t(t){this.Zzt=+t}bHt(){return this.Zzt}mHt(t){this.Qzt=+t}C9t(){return this.Qzt}V7t(t){this.t9t=+t}vHt(){return this.t9t}H7t(t){this.s9t=+t}xHt(){return this.s9t}z7t(t){this.e9t=+t}MHt(){return this.e9t}J7t(t){this.i9t=+t}THt(){return this.i9t}q7t(t){this.r9t=+t}GHt(){return this.r9t}$7t(t){this.n9t=+t}_Ht(){return this.n9t}X7t(t){this.h9t=+t}IHt(){return this.h9t}Y7t(t){this.o9t=+t}CHt(){return this.o9t}K7t(t){this.a9t=+t}RHt(){return this.a9t}Z7t(t){this.l9t=+t}EHt(){return this.l9t}Q7t(t){this.u9t=+t}FHt(){return this.u9t}tHt(t){this.c9t=+t}PHt(){return this.c9t}R9t(t){let s=Ll.indexOf(t);if(-1===s)throw new Error("invalid destroy mode");this.f9t=s}sHt(t){this.R9t(Ll[t])}E9t(){return Ll[this.f9t]}AHt(){return this.f9t}eHt(t){this.h0=+t}kHt(){return this.h0}gHt(t){this.p9t=+t}F9t(){return this.p9t}r4(){return this.m3t}}}{let p=function(t){return Math.random()*t-t/2},m=(p,self.Bs),l=new m.Ql,u=new m.Vo,t=self.devicePixelRatio||1,c=!1;self.S9t=class{constructor(t){this.P9t=t,this.a0=!1,this.tl=0,this.sl=0,this.zGt=0,this.DH=0,this.A9t=1,this.k9t=0,this.D9t=0,this.x7=0,this.O9t=0,this.L9t=0,this.B9t=0,this.Du=new m.Rect,this.N9t=null,this.W9t=NaN,this.U9t=null,this.j9t=null}y9t(t){this.P9t=t}GCt(t){const s=this.P9t;this.a0=!0,this.tl=s.G9t()+p(s.MHt()),this.sl=s._9t()+p(s.THt()),this.zGt=s.wHt()+p(s.GHt()),this.DH=s.I9t()+p(s.SHt()),this.A9t=s.vHt(),this.k9t=this.A9t,this.x7=(s.bHt()+p(s._Ht()))*s.C9t(),this.O9t=this.x7/2,this.D9t=s.xHt()+p(s.IHt()),this.L9t=0,this.B9t=0,this.V9t(),t?this.N9t||(this.N9t=t(this)):(this.N9t=null,this.U9t=null,this.j9t=null)}w9t(t){t?this.N9t&&!this.N9t.QU()||(this.N9t=t(this,this.W9t)):(this.N9t=null,this.U9t=null,this.j9t=null)}zHt(t){this.U9t=t}JHt(t){this.j9t=t}Dvt(){const t=this.j9t;t&&t(this.N9t),this.N9t=null,this.U9t=null,this.j9t=null}toJSON(){let t;return this.N9t&&this.N9t.RD()&&(t=this.N9t.RD().XW().YB()),[this.tl,this.sl,this.zGt,this.DH,this.A9t,this.D9t,this.x7,this.L9t,this.B9t,t]}Va(t){this.tl=t[0],this.sl=t[1],this.zGt=t[2],this.DH=t[3],this.A9t=t[4],this.k9t=this.A9t,this.D9t=t[5],this.x7=t[6],this.L9t=t[7],this.B9t=t[8],this.W9t=t[9],this.O9t=this.x7/2,this.V9t()}AK(t){let s=this.P9t,e=this.zGt*t,i=this.DH,r=Math.cos(i)*e,n=Math.sin(i)*e+this.L9t*t,h=(this.tl+=r,this.sl+=n,this.D9t*t),o=(this.x7+=h,this.O9t=this.x7/2,this.zGt+=s.CHt()*t,this.L9t+=s.RHt()*t,this.B9t+=t,this.V9t(),s.EHt()),a=s.FHt(),l=s.PHt(),u=0;0!==o&&(u=p(o*t),this.DH+=u),0!==a&&(this.zGt+=p(a*t)),0!==l&&(this.A9t=m.yn(this.A9t+p(l*t),0,1));const c=1<=this.x7&&(2===s.AHt()?0<this.zGt:this.B9t<s.kHt()),f=this.U9t;if(f&&c){let t=s.M9t()*this.A9t;0===s.AHt()&&(t*=1-this.B9t/s.kHt());const d=t-this.k9t;this.k9t=t,f(this.N9t,r,n,h,u,d)}this.a0=c}hmt(){return this.a0}r4(){return this.Du}V9t(){const t=this.tl,s=this.sl,e=this.O9t;this.Du.set(t-e,s-e,t+e,s+e)}bv(r,n,h){if(!this.N9t){let e=this.P9t,i=e.M9t()*this.A9t;if(0===e.AHt()&&(i*=1-this.B9t/e.kHt()),!(i<=0)){const o=this.x7,a=o*e.F9t()*t;if(!(a<1)){let t=this.tl,s=this.sl;e.T9t()&&(t=t+.5|0,s=s+.5|0),r.CS()?r.cE(t,s,o,i):h||a>r.$E()||a<r.qE()?(u.I(e.J3()),u.ba(i),r.Sb(u),c=!0,l.bu(this.Du),r.rE(l,n)):(c&&(r.Sb(e.J3()),c=!1),r.cE(t,s,a,i))}}}}UHt(){return this.N9t}jHt(){return this.W9t}Cb(){return this.tl}Fb(){return this.sl}nc(){return this.x7}aL(){return this.DH}j3(){return this.A9t}}}{const Nl=self.Bs,Wl=[];Nl.aX.Audio=class extends Nl.Vxt{constructor(t){super(t)}H9t(t){Wl.push(t)}static async z9t(){await Promise.all(Wl),Nl.Lh(Wl)}cn(){super.cn()}}}{let s=function(){return e.CO().v6()},t=function(){if(self.C3Audio_DOMInterface)return self.C3Audio_DOMInterface;throw new Error("audio scripting API cannot be used here - make sure the project is using DOM mode, not worker mode")};s,t;const Ul=self.Bs,jl=self.$s;Ul.aX.Audio.rIt=class extends Ul.IMt{constructor(t){super(t)}cn(){super.cn()}fMt(){}dMt(){return self.J9t}};let e=null;self.J9t=class extends self.RO{constructor(t){super(t),e=t}get q9t(){return t().GetAudioContextExtern()}get $9t(){return t().GetDestinationNodeExtern()}get isSilent(){return s().X9t()}set isSilent(t){s().Y9t(t)}get masterVolume(){return s().K9t()}set masterVolume(t){jl.wi(t),s().Z9t(t)}Q9t(){s().tJt()}}}{const Vl=self.Bs,Hl=["interactive","balanced","playback"];Vl.aX.Audio.Instance=class extends Vl.PMt{constructor(t,s){super(t,"audio"),this.sJt=0,this.eJt=[],this.iJt=!0,this.rJt=0,this.nJt=0,this.hJt=!1,this.oJt=1,this.aJt=1,this.lJt=[this.lf.M9()/2,this.lf.T9()/2,600],this.uJt=[0,0,-1],this.cJt=[0,1,0],this.fJt=600,this.dJt=1e4,this.pJt=1,this.mJt=null,this.gJt=-1,this.yJt=1,this.SJt=!1,this.wJt=0,this.bJt="suspended",this.vJt=0,this.xJt=new Map,this.MJt=0,this.TJt=0,this.GJt=new Map,this._Jt=new Map;let e="interactive";s&&(this.rJt=s[0],this.nJt=s[1],this.hJt=s[2],e=Hl[s[3]],this.iJt=s[4],this.oJt=s[5],this.aJt=s[6],this.lJt[2]=s[7],this.fJt=s[8],this.dJt=s[9],this.pJt=s[10]),this.IJt=[],this.CJt=[],this.RJt=[],this.VMt([["state",t=>this.EJt(t)],["audiocontext-state",t=>this.FJt(t)],["fxstate",t=>this.PJt(t)],["trigger",t=>this.AJt(t)],["buffer-metadata",t=>this.kJt(t)]]);const i=this.YD().jf(),r=(this.b0=new Vl.y0(Vl.c0.g0(i,"instancedestroy",t=>this.DJt(t.P6)),Vl.c0.g0(i,"afterload",()=>this.LY()),Vl.c0.g0(i,"suspend",()=>this.OJt()),Vl.c0.g0(i,"resume",()=>this.LJt())),"Safari"===Vl.ue.pe),n=this.lf._Bt(),h=this.lf.NA().jV(),o="playable-ad-single-file"===this.lf.D5(),a=r||n||h||o;this.lf.jD(this.zMt("create-audio-context",{preloadList:this.lf.NA().y7().map(t=>({originalUrl:t.originalUrl,url:t.url,type:t.type,fileSize:t.fileSize})),timeScaleMode:this.rJt,latencyHint:e,panningModel:this.oJt,distanceModel:this.aJt,refDistance:this.fJt,maxDistance:this.dJt,rolloffFactor:this.pJt,listenerPos:this.lJt,usePlayMusicAsSoundWorkaround:a}).then(t=>{this.wJt=t.sampleRate,this.bJt=t.audioContextState,this.vJt=t.outputLatency})),this.KMt()}cn(){this.mJt=null,super.cn()}BJt(t){return this.iJt?t.split(" ").filter(t=>!!t):t?[t]:[]}NJt(s,t){for(const e of t){let t=!1;for(const i of s)if(Vl.br(i,e)){t=!0;break}if(!t)return!1}return!0}WJt(t,s){return this.NJt(t,this.BJt(s))}H9t(t){this.FO().H9t(t)}DJt(t){this.mJt===t&&(this.mJt=null)}UJt(t){return Math.pow(10,t/20)}jJt(t){const s=this.UJt(t);return isFinite(s)?Math.max(Math.min(s,1),0):0}VJt(t){return Math.log(t)/Math.log(10)*20}HJt(t){return this.VJt(Math.max(Math.min(t,1),0))}OJt(){this.hJt||this.HMt("set-suspended",{isSuspended:!0})}LJt(){this.hJt||this.HMt("set-suspended",{isSuspended:!1})}EJt(t){const s=t.tickCount,e=(this.vJt=t.outputLatency,this.IJt.filter(t=>t.hasOwnProperty("placeholder")&&(t.placeholder>s||-1===t.placeholder)));this.IJt=t.audioInstances,this.RJt=t.analysers,0<e.length&&Vl.Yr(this.IJt,e)}kJt(t){this.GJt.set(t.originalUrl,{duration:t.duration})}FJt(t){this.bJt=t.audioContextState}ant(){return this.lf.xkt()?"running":this.bJt}PJt(t){this.CJt=t.fxstate}zJt(t){const s=this.BJt(t);for(const e of this.IJt)if(this.NJt(e.tags,s))return e;return null}JJt(t){const s=this.BJt(t);return this.IJt.some(t=>this.NJt(t.tags,s)&&t.isPlaying)}qJt(t,s,e,i,r){if(this.JJt(s))return null;const n=this.GJt.get(t),h={tags:this.BJt(s),duration:n?n.duration:0,volume:r,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:t,bufferUrl:"",bufferType:"",isMusic:e,isLooping:i,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};return this.IJt.push(h),h}$Jt(t){const s=this.BJt(t);for(const e of this.IJt)this.NJt(e.tags,s)&&(e.isPlaying=!1)}async AJt(t){const s=t.type,e=(this.eJt=t.tags,t.aiid);if("ended"===s){for(const i of this.IJt)if(i.aiid===e){i.isPlaying=!1;break}await this.MN(Vl.aX.Audio.nX.XJt)}else"fade-ended"===s&&await this.MN(Vl.aX.Audio.nX.YJt)}KJt(t){return this.WJt(this.eJt,t)}AK(){const t={timeScale:this.lf.jk(),gameTime:this.lf.bBt(),instPans:this.ZJt(),tickCount:this.lf.vBt()};if(this.mJt){const s=this.mJt.RD();this.lJt[0]=s.Cb(),this.lJt[1]=s.Fb(),t.listenerPos=this.lJt,t.listenerOrientation=[...this.uJt,...this.cJt]}this.HMt("tick",t)}QJt(t,s,e,i,r){if(0!==e){const n=Math.sin(e),h=Math.cos(e),o=(t-=i)*n,a=(s-=r)*n,l=t*h,u=s*h;t=l-a,s=u+o,t+=i,s+=r}return[t,s]}ZJt(){return this.IJt.filter(t=>-1!==t.uid).map(t=>this.lf.TD(t.uid)).filter(t=>t).map(t=>{const s=t.RD(),e=s.ED().aL(),[i,r]=this.QJt(s.Cb(),s.Fb(),-e,this.lJt[0],this.lJt[1]);return{uid:t.YB(),x:i,y:r,z:s.e4(),angle:s.aL()-e}})}tqt(t,s){for(const e of this.RJt)if(e.index===s&&Vl.br(e.tag,t))return e;return null}sqt(t){for(const s of this.BJt(t)){const e=s.toLowerCase();this.xJt.set(e,(this.xJt.get(e)||0)+1)}}X9t(){return this.SJt}Y9t(t){this.SJt!==(t=!!t)&&(this.SJt=t,this.HMt("set-silent",{isSilent:t}))}K9t(){return this.yJt}Z9t(t){this.yJt!==t&&(this.yJt=t,this.HMt("set-master-volume",{vol:t}))}tJt(){this.HMt("stop-all");for(const t of this.IJt)t.isPlaying=!1}eqt(t){return!t.hasOwnProperty("placeholder")&&3!==this.nJt&&!(t.isMusic&&1===this.nJt||!t.isMusic&&2===this.nJt)}Ub(){return{isSilent:this.SJt,masterVolume:this.yJt,listenerZ:this.lJt[2],listenerForwardVec:this.uJt,listenerUpVec:this.cJt,listenerUid:this.mJt?this.mJt.YB():-1,remoteUrls:[...this._Jt.entries()],playing:this.IJt.filter(t=>this.eqt(t)),effects:this.CJt,analysers:this.RJt}}jb(t){if(this.SJt=t.isSilent,this.yJt=t.masterVolume,this.lJt[2]=t.listenerZ,this.mJt=null,this.gJt=t.listenerUid,t.hasOwnProperty("listenerForwardVec")?this.uJt=t.listenerForwardVec:this.uJt=[0,0,-1],t.hasOwnProperty("listenerUpVec")?this.cJt=t.listenerUpVec:this.cJt=[0,1,0],this._Jt.clear(),t.remoteUrls)for(const[s,e]of t.remoteUrls)this._Jt.set(s,e);this.IJt=t.playing;for(const i of this.IJt)i.hasOwnProperty("tag")&&!i.hasOwnProperty("tags")&&(i.tags=[i.tag].filter(t=>!!t));this.CJt=t.effects,this.RJt=t.analysers}LY(){if(-1!==this.gJt&&(this.mJt=this.lf.TD(this.gJt),this.gJt=-1,this.mJt)){const t=this.mJt.RD();this.lJt[0]=t.Cb(),this.lJt[1]=t.Fb()}for(const s of this.IJt){const e=this.lf.NA().g7(s.bufferOriginalUrl);e?(s.bufferUrl=e.url,s.bufferType=e.type):s.bufferUrl=null}for(const i of Object.values(this.CJt))for(const r of i)if(r.hasOwnProperty("bufferOriginalUrl")){const n=this.lf.NA().g7(r.bufferOriginalUrl);n&&(r.bufferUrl=n.url,r.bufferType=n.type)}this.HMt("load-state",{saveLoadMode:this.nJt,timeScale:this.lf.jk(),gameTime:this.lf.bBt(),listenerPos:this.lJt,listenerOrientation:[...this.uJt,...this.cJt],isSilent:this.SJt,masterVolume:this.yJt,playing:this.IJt.filter(t=>null!==t.bufferUrl),effects:this.CJt})}sTt(){const t=[];for(const[e,i]of Object.entries(this.CJt))t.push({name:"$"+e,value:i.map(t=>t.type).join(", ")});const s="plugins.audio.debugger";return[{title:s+".tag-effects",properties:t},{title:s+".currently-playing",properties:[{name:s+".currently-playing-count",value:this.IJt.length},...this.IJt.map((t,s)=>({name:"$#"+s,value:`${t.bufferOriginalUrl} ("${t.tags}") ${Math.round(10*t.playbackTime)/10} / `+Math.round(10*t.duration)/10}))]}]}}}{const zl=self.Bs;zl.aX.Audio.nX={XJt(t){return this.KJt(t)},YJt(t){return this.KJt(t)},iqt(){return this.TJt===this.MJt},rqt(){return!0},nqt(){return this.X9t()},hqt(){for(const t of this.IJt)if(t.isPlaying)return!0;return!1},oqt(t){return this.JJt(t)}}}{const F=self.Bs,Jl=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"];F.aX.Audio.Zrt={Play(t,s,e,i,r){const n=F.aX.Audio.Zrt.aqt.call(this,t,s,e,i,r);return this.H9t(n),n},lnt(t,s,e,i){F.aX.Audio.Zrt.aqt.call(this,t,0,s,0,e,i)},async aqt(t,s,e,i,r,n){if(!this.SJt){const h=t[1],o=this.lf.NA().g7(t[0]);if(o){const a=this.sJt,l=(this.sJt=0,this.qJt(t[0],r,h,0!==s,this.jJt(e)));try{await this.zMt("play",{originalUrl:t[0],url:o.url,type:o.type,isMusic:h,tags:this.BJt(r),isLooping:0!==s,vol:this.jJt(e),stereoPan:F.yn(i/100,-1,1),pos:n||0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{l&&(l.placeholder=this.lf.vBt())}}}},async lqt(t,s,e,i,r,n,h,o,a,l,u){if(!this.SJt){const c=t[1],f=this.lf.NA().g7(t[0]);if(f){const d=this.sJt,p=(this.sJt=0,this.qJt(t[0],u,c,0!==s,this.jJt(e)));try{await this.zMt("play",{originalUrl:t[0],url:f.url,type:f.type,isMusic:c,tags:this.BJt(u),isLooping:0!==s,vol:this.jJt(e),pos:0,off:d,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:i,y:r,z:n,angle:F.wn(h),innerAngle:F.wn(o),outerAngle:F.wn(a),outerGain:this.jJt(l)}})}finally{p&&(p.placeholder=this.lf.vBt())}}}},async uqt(t,s,e,i,r,n,h,o){if(!this.SJt&&i){const a=i.Wbt();if(a&&a.RD()){const l=a.RD(),u=l.ED().aL(),[c,f]=this.QJt(l.Cb(),l.Fb(),-u,this.lJt[0],this.lJt[1]),d=t[1],p=this.lf.NA().g7(t[0]);if(p){const m=this.sJt,g=(this.sJt=0,this.qJt(t[0],o,d,0!==s,this.jJt(e)));try{await this.zMt("play",{originalUrl:t[0],url:p.url,type:p.type,isMusic:d,tags:this.BJt(o),isLooping:0!==s,vol:this.jJt(e),pos:0,off:m,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:c,y:f,z:l.e4(),angle:l.aL()-u,innerAngle:F.wn(r),outerAngle:F.wn(n),outerGain:this.jJt(h),uid:a.YB()}})}finally{g&&(g.placeholder=this.lf.vBt())}}}}},async cqt(t,s,e,i,r,n){if(!this.SJt){const h=1===t,o=this.lf.NA().g7(s)||this._Jt.get(s.toLowerCase());if(o){const a=this.sJt,l=(this.sJt=0,this.qJt(s,n,h,0!==e,this.jJt(i)));try{await this.zMt("play",{originalUrl:s,url:o.url,type:o.type,isMusic:h,tags:this.BJt(n),isLooping:0!==e,vol:this.jJt(i),stereoPan:F.yn(r/100,-1,1),pos:0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{l&&(l.placeholder=this.lf.vBt())}}}},async fqt(t,s,e,i,r,n,h,o,a,l,u,c){if(!this.SJt){const f=1===t,d=this.lf.NA().g7(s)||this._Jt.get(s.toLowerCase());if(d){const p=this.sJt,m=(this.sJt=0,this.qJt(s,c,f,0!==e,this.jJt(i)));try{await this.zMt("play",{originalUrl:s,url:d.url,type:d.type,isMusic:f,tags:this.BJt(c),isLooping:0!==e,vol:this.jJt(i),pos:0,off:p,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:r,y:n,z:h,angle:F.wn(o),innerAngle:F.wn(a),outerAngle:F.wn(l),outerGain:this.jJt(u)}})}finally{m&&(m.placeholder=this.lf.vBt())}}}},async dqt(t,s,e,i,r,n,h,o,a){if(!this.SJt&&!this.SJt&&r){const l=r.Wbt();if(l&&l.RD()){const u=l.RD(),c=u.ED().aL(),[f,d]=this.QJt(u.Cb(),u.Fb(),-c,this.lJt[0],this.lJt[1]),p=1===t,m=this.lf.NA().g7(s)||this._Jt.get(s.toLowerCase());if(m){const g=this.sJt,y=(this.sJt=0,this.qJt(s,a,p,0!==e,this.jJt(i)));try{await this.zMt("play",{originalUrl:s,url:m.url,type:m.type,isMusic:p,tags:this.BJt(a),isLooping:0!==e,vol:this.jJt(i),pos:0,off:g,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:d,z:u.e4(),angle:u.aL()-c,innerAngle:F.wn(n),outerAngle:F.wn(h),outerGain:this.jJt(o),uid:l.YB()}})}finally{y&&(y.placeholder=this.lf.vBt())}}}}},pqt(t,s){this.HMt("set-looping",{tags:this.BJt(t),isLooping:0===s})},mqt(t,s){this.HMt("set-muted",{tags:this.BJt(t),isMuted:0===s})},hnt(t,s){this.HMt("set-volume",{tags:this.BJt(t),vol:this.jJt(s)})},gqt(t,s,e,i){this.HMt("fade-volume",{tags:this.BJt(t),vol:this.jJt(s),duration:e,stopOnEnd:0===i})},yqt(t,s){this.HMt("set-stereo-pan",{tags:this.BJt(t),p:F.yn(s/100,-1,1)})},async Sqt(t){const s=t[1],e=this.lf.NA().g7(t[0]);e&&(this.MJt++,await this.zMt("preload",{originalUrl:t[0],url:e.url,type:e.type,isMusic:s}),this.TJt++)},async wqt(t,s){const e=1===t,i=this.lf.NA().g7(s)||this._Jt.get(s.toLowerCase());i&&(this.MJt++,await this.zMt("preload",{originalUrl:s,url:i.url,type:i.type,isMusic:e}),this.TJt++)},BW(t,s){this.HMt("set-playback-rate",{tags:this.BJt(t),rate:Math.max(s,0)})},IW(t){this.$Jt(t),this.HMt("stop",{tags:this.BJt(t)})},bqt(){this.tJt()},vqt(t,s){this.HMt("set-paused",{tags:this.BJt(t),paused:0===s})},xqt(t,s){this.HMt("seek",{tags:this.BJt(t),pos:s})},Mqt(t){2===t&&(t=this.X9t()?1:0),this.Y9t(0===t)},Tqt(t){const s=this.jJt(t);this.Z9t(s)},Gqt(t,s,e,i,r,n,h){const o=Jl[s];this.sqt(t),this.HMt("add-effect",{type:"filter",tags:this.BJt(t),params:[o,e,i,r,n,F.yn(h/100,0,1)]})},_qt(t,s,e,i){this.sqt(t),this.HMt("add-effect",{type:"delay",tags:this.BJt(t),params:[s,this.jJt(e),F.yn(i/100,0,1)]})},Iqt(t,s,e,i,r,n){this.sqt(t),this.HMt("add-effect",{type:"flanger",tags:this.BJt(t),params:[s/1e3,e/1e3,i,r/100,F.yn(n/100,0,1)]})},Cqt(t,s,e,i,r,n,h){this.sqt(t),this.HMt("add-effect",{type:"phaser",tags:this.BJt(t),params:[s,e,i,r,n,F.yn(h/100,0,1)]})},Rqt(t,s,e,i){const r=this.lf.NA().g7(s[0]);r&&(this.sqt(t),this.HMt("add-effect",{type:"convolution",tags:this.BJt(t),bufferOriginalUrl:s[0],bufferUrl:r.url,bufferType:r.type,params:[0===e,F.yn(i/100,0,1)]}))},Eqt(t,s){this.sqt(t),this.HMt("add-effect",{type:"gain",tags:this.BJt(t),params:[this.jJt(s)]})},Fqt(t,s){this.sqt(t),this.HMt("add-effect",{type:"stereopan",tags:this.BJt(t),params:[F.yn(s/100,-1,1)]})},Pqt(t){this.sqt(t),this.HMt("add-effect",{type:"gain",tags:this.BJt(t),params:[0]})},Aqt(t,s,e){this.sqt(t),this.HMt("add-effect",{type:"tremolo",tags:this.BJt(t),params:[s,F.yn(e/100,0,1)]})},kqt(t,s,e){this.sqt(t),this.HMt("add-effect",{type:"ringmod",tags:this.BJt(t),params:[s,F.yn(e/100,0,1)]})},Dqt(t,s,e,i,r,n){this.sqt(t),this.HMt("add-effect",{type:"distortion",tags:this.BJt(t),params:[this.UJt(s),this.UJt(e),i,this.UJt(r),F.yn(n/100,0,1)]})},Oqt(t,s,e,i,r,n){this.sqt(t),this.HMt("add-effect",{type:"compressor",tags:this.BJt(t),params:[s,e,i,r/1e3,n/1e3]})},Lqt(t,s,e){this.sqt(t),this.HMt("add-effect",{type:"analyser",tags:this.BJt(t),params:[s,e]})},Bqt(t){const s=this.BJt(t);for(const e of s)this.xJt.set(e.toLowerCase(),0);this.HMt("remove-effects",{tags:s}),this.CJt={}},U6(t,s,e,i,r,n){this.HMt("set-effect-param",{tags:this.BJt(t),index:Math.floor(s),param:e,value:i,ramp:r,time:n})},Nqt(t){if(t){const s=t.Wbt();s&&s.RD()&&(this.mJt=s)}},Wqt(t){this.lJt[2]=t},Uqt(t,s,e,i,r,n){this.uJt[0]=t,this.uJt[1]=s,this.uJt[2]=-e,this.cJt[0]=i,this.cJt[1]=r,this.cJt[2]=-n},jqt(t){this.sJt=Math.max(t,0)},Vqt(t){const s=t[1],e=this.lf.NA().g7(t[0]);e&&this.HMt("unload",{url:e.url,type:e.type,isMusic:s})},Hqt(t,s){const e=1===t,i=this.lf.NA().g7(s)||this._Jt.get(s.toLowerCase());i&&this.HMt("unload",{url:i.url,type:i.type,isMusic:e})},zqt(){this.HMt("unload-all")},Jqt(t,s,e){this._Jt.set(e.toLowerCase(),{url:t,type:s})}}}{const ql=self.Bs;ql.aX.Audio.Qrt={qqt(t){const s=this.zJt(t);return s?s.duration:0},ent(t){const s=this.zJt(t);return s?s.playbackTime:0},ont(t){const s=this.zJt(t);return s?s.playbackRate:0},int(t){const s=this.zJt(t);return s?this.HJt(s.volume):0},$qt(){return this.HJt(this.K9t())},Xqt(t){return this.xJt.get(t.toLowerCase())||0},Yqt(t,s){const e=this.tqt(t,Math.floor(s));return e?e.binCount:0},Kqt(t,s,e){const i=this.tqt(t,Math.floor(s));return!i||(e=Math.floor(e))<0||e>=i.binCount?0:i.freqBins[e]},Zqt(t,s){const e=this.tqt(t,Math.floor(s));return e?e.peak:0},Qqt(t,s){const e=this.tqt(t,Math.floor(s));return e?e.rms:0},t$t(){return this.wJt},s$t(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1e3},e$t(){return this.vJt},i$t(t,s){return 0==(t=ql.yn(+t,0,100)/100)?-1/0:t<.1?this.HJt(ql.Ot(0,this.jJt(s),10*t)):ql.Ot(s,0,(t-.1)/.9)}}}{const $l=self.Bs;$l.aX.Keyboard=class extends $l.Vxt{constructor(t){super(t)}cn(){super.cn()}}}{let e=function(){return s.CO().v6()};e;const Xl=self.Bs;Xl.aX.Keyboard.rIt=class extends Xl.IMt{constructor(t){super(t)}cn(){super.cn()}fMt(){}dMt(){return self.r$t}};let s=null;self.r$t=class extends self.RO{constructor(t){super(t),(s=t).YD().yD().keyboard=this}n$t(t){const s=e();if("string"==typeof t)return s.h$t(t);if("number"==typeof t)return s.o$t(t);throw new TypeError("expected string or number")}}}{const Yl=self.Bs;Yl.aX.Keyboard.Instance=class extends Yl.PMt{constructor(t,s){super(t),this.a$t=new Set,this.l$t=new Set,this.u$t=0,this.c$t="",this.f$t="";const e=this.YD().jf();this.b0=new Yl.y0(Yl.c0.g0(e,"keydown",t=>this.d$t(t.data)),Yl.c0.g0(e,"keyup",t=>this.p$t(t.data)),Yl.c0.g0(e,"window-blur",()=>this.m$t()),Yl.c0.g0(e,"keyboard-blur",()=>this.m$t()))}cn(){super.cn()}d$t(t){const s=t.which,e=t.code||s.toString(),i=t.key;this.a$t.has(e)||(this.a$t.add(e),this.l$t.add(s),this.c$t=e,this.u$t=s,this.f$t=i,this.vN(Yl.aX.Keyboard.nX.g$t),this.vN(Yl.aX.Keyboard.nX.y$t),this.vN(Yl.aX.Keyboard.nX.S$t),this.vN(Yl.aX.Keyboard.nX.w$t))}p$t(t){const s=t.which,e=t.code||s.toString(),i=t.key;this.a$t.delete(e),this.l$t.delete(s),this.c$t=e,this.u$t=s,this.f$t=i,this.vN(Yl.aX.Keyboard.nX.b$t),this.vN(Yl.aX.Keyboard.nX.v$t),this.vN(Yl.aX.Keyboard.nX.x$t),this.vN(Yl.aX.Keyboard.nX.M$t)}m$t(){for(const t of this.l$t)this.l$t.delete(t),this.u$t=t,this.vN(Yl.aX.Keyboard.nX.b$t),this.vN(Yl.aX.Keyboard.nX.v$t),this.vN(Yl.aX.Keyboard.nX.M$t);this.a$t.clear()}h$t(t){return this.a$t.has(t)}o$t(t){return this.l$t.has(t)}Ub(){return{tk:this.u$t,tkk:this.f$t}}jb(t){this.u$t=t.tk,t.hasOwnProperty("tkk")&&(this.f$t=t.tkk)}sTt(){const t="plugins.keyboard";return[{title:t+".name",properties:[{name:t+".debugger.last-key-code",value:this.u$t},{name:t+".debugger.last-key-string",value:Yl.aX.Keyboard.Qrt.T$t(this.u$t)},{name:t+".debugger.last-typed-key",value:this.f$t}]}]}}}{const Kl=self.Bs,Zl=["ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","MetaLeft","MetaRight"];Kl.aX.Keyboard.nX={h$t(t){return this.l$t.has(t)},y$t(t){return this.u$t===t},g$t(){return!0},b$t(){return!0},v$t(t){return this.u$t===t},o$t(t){return t=Math.floor(t),this.l$t.has(t)},w$t(t){return this.u$t===t},M$t(t){return this.u$t===t},S$t(t){const s=Zl[t];return this.c$t===s},x$t(t){const s=Zl[t];return this.c$t===s},G$t(t){const s=Zl[t];return this.a$t.has(s)}}}{const Ql=self.Bs;Ql.aX.Keyboard.Zrt={}}{let s=function(t){switch(t=Math.floor(t)){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"";case 38:return"";case 39:return"";case 40:return"";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(t)}};s;const tu=self.Bs;tu.aX.Keyboard.Qrt={_$t(){return this.u$t},T$t(t){return s(t)},I$t(){return this.f$t}}}{const su=self.Bs;su.aX.Touch=class extends su.Vxt{constructor(t){super(t)}cn(){super.cn()}}}{let e=function(){return s.CO().v6()};e;const eu=self.Bs,iu=self.$s;eu.aX.Touch.rIt=class extends eu.IMt{constructor(t){super(t)}cn(){super.cn()}fMt(){}dMt(){return self.C$t}};let s=null;self.C$t=class extends self.RO{constructor(t){super(t),(s=t).YD().yD().wD=this}requestPermission(t){iu.Mi(t);const s=e();if("orientation"===t)return s.R$t(0);if("motion"===t)return s.R$t(1);throw new Error("invalid type")}}}{const P=self.Bs;P.aX.Touch.Instance=class extends P.PMt{constructor(t,s){super(t,"touch"),this.E$t=new Map,this.F$t=!1,this.P$t=!1,this.A$t=0,this.k$t=0,this.D$t=0,this.O$t=0,this.L$t=0,this.B$t=0,this.N$t=0,this.W$t=0,this.U$t=0,this.j$t=0,this.V$t=0,this.H$t=0,this.z$t=0,this.J$t=0,this.q$t=0,this.$$t=0,this.X$t=0,this.Y$t=[],s&&(this.F$t=s[0]),this.jMt("permission-result",t=>this.K$t(t));const e=this.YD().jf();this.b0=new P.y0(P.c0.g0(e,"pointerdown",t=>this.Z$t(t.data)),P.c0.g0(e,"pointermove",t=>this.Q$t(t.data)),P.c0.g0(e,"pointerup",t=>this.tXt(t.data,!1)),P.c0.g0(e,"pointercancel",t=>this.tXt(t.data,!0)),P.c0.g0(e,"deviceorientation",t=>this.sXt(t.data)),P.c0.g0(e,"deviceorientationabsolute",t=>this.eXt(t.data)),P.c0.g0(e,"devicemotion",t=>this.iXt(t.data)),P.c0.g0(e,"tick2",t=>this.IY()))}cn(){this.E$t.clear(),super.cn()}Z$t(t){if("mouse"===t.pointerType){if(!this.F$t)return;this.P$t=!0}const s=t.pointerId;if(!this.E$t.has(s)){const e=t.pageX-this.lf.MB(),i=t.pageY-this.lf.TB(),r=performance.now(),n=this.E$t.size,h=(this.V$t=n,this.H$t=s,P.un(P.aX.Touch.rXt));h.GCt(r,e,i,s,n),this.E$t.set(s,h),this.vN(P.aX.Touch.nX.nXt),this.vN(P.aX.Touch.nX.hXt),this.J$t=e,this.q$t=i,this.X$t=0,this.vN(P.aX.Touch.nX.oXt)}}Q$t(t){if("mouse"!==t.pointerType||this.P$t){const s=this.E$t.get(t.pointerId);if(s){const e=performance.now();if(!(e-s.SF()<2)){const i=t.pageX-this.lf.MB(),r=t.pageY-this.lf.TB();s.iH(e,i,r,t.width,t.height,t.pressure)}}}}tXt(t,s){if("mouse"===t.pointerType){if(!this.P$t)return;this.P$t=!1}const e=performance.now(),i=t.pointerId,r=this.E$t.get(i);if(r){if(this.V$t=r.aXt(),this.H$t=r.QW(),!s){const n=t.pageX-this.lf.MB(),h=t.pageY-this.lf.TB();this.J$t=n,this.q$t=h,this.X$t=1,this.vN(P.aX.Touch.nX.oXt)}if(this.vN(P.aX.Touch.nX.lXt),this.vN(P.aX.Touch.nX.uXt),!s){const o=r.cXt(e);"single-tap"===o?(this.vN(P.aX.Touch.nX.fXt),this.J$t=r.Cb(),this.q$t=r.Fb(),this.vN(P.aX.Touch.nX.dXt)):"double-tap"===o&&(this.vN(P.aX.Touch.nX.pXt),this.J$t=r.Cb(),this.q$t=r.Fb(),this.vN(P.aX.Touch.nX.mXt))}r.cn(),this.E$t.delete(i)}}R$t(e){return this.JMt("request-permission",{type:e}),new Promise((t,s)=>{this.Y$t.push({type:e,resolve:t,reject:s})})}K$t(t){const s=t.result,e=t.type,i=(this.z$t=e,this.Y$t.filter(t=>t.type===e));for(const r of i)r.resolve(s?"granted":"denied");this.Y$t=this.Y$t.filter(t=>t.type!==e),s?(this.vN(P.aX.Touch.nX.gXt),0===e?this.lf.iNt():this.lf.rNt()):this.vN(P.aX.Touch.nX.yXt)}sXt(t){"number"==typeof t.webkitCompassHeading?this.A$t=t.webkitCompassHeading:t.absolute&&(this.A$t=t.alpha),this.k$t=t.alpha,this.D$t=t.beta,this.O$t=t.gamma}eXt(t){this.A$t=t.alpha}iXt(t){const s=t.acceleration,e=(s&&(this.L$t=s.x,this.B$t=s.y,this.N$t=s.z),t.accelerationIncludingGravity);e&&(this.W$t=e.x,this.U$t=e.y,this.j$t=e.z)}IY(){let t=performance.now(),s=0;for(const e of this.E$t.values())e.SF()<=t-50&&e.SXt(t),e.wXt(t)&&(this.V$t=e.aXt(),this.H$t=e.QW(),this.$$t=s,this.vN(P.aX.Touch.nX.bXt),this.J$t=e.Cb(),this.q$t=e.Fb(),this.vN(P.aX.Touch.nX.vXt),this.$$t=0),++s}xXt(t){t=Math.floor(t);for(const s of this.E$t.values()){if(0===t)return s;--t}return null}MXt(t,s){return 0<=t&&0<=s&&t<this.lf.VLt()&&s<this.lf.HLt()}sTt(){return[{title:"plugins.touch.debugger.touches",properties:[...this.E$t.values()].map(t=>({name:"$"+t.QW(),value:t.Cb()+", "+t.Fb()}))}]}}}{const ru=self.Bs;ru.aX.Touch.nX={hXt(){return!0},uXt(){return!0},TXt(){return 0<this.E$t.size},oXt(t,s){return!!t&&s===this.X$t&&!!this.MXt(this.J$t,this.q$t)&&this.lf.jA().KFt(t,[[this.J$t,this.q$t]],!1)},GXt(t){if(!t)return!1;const s=this.lf.Rdt(),e=s.Qwt(),i=[...this.E$t.values()].filter(t=>this.MXt(t.Cb(),t.Fb())).map(t=>[t.Cb(),t.Fb()]);return ru.xor(this.lf.jA().KFt(t,i,e),e)},_Xt(t,s,e){const i=this.xXt(t);return!!i&&ru.compare(i.V6(),s,e)},IXt(){return!0},CXt(){return!0},RXt(t,s,e){this.lf.iNt();let i;return i=0===t?this.k$t:1===t?this.D$t:this.O$t,ru.compare(i,s,e)},EXt(t,s,e){this.lf.rNt();let i;return i=0===t?this.W$t:1===t?this.U$t:2===t?this.j$t:3===t?this.L$t:4===t?this.B$t:this.N$t,ru.compare(i,s,e)},nXt(t){return(t=Math.floor(t))===this.V$t},lXt(t){return(t=Math.floor(t))===this.V$t},FXt(t){return t=Math.floor(t),this.E$t.size>=t+1},bXt(){return!0},fXt(){return!0},pXt(){return!0},vXt(t){return!!t&&!!this.MXt(this.J$t,this.q$t)&&this.lf.jA().KFt(t,[[this.J$t,this.q$t]],!1)},dXt(t){return!!t&&!!this.MXt(this.J$t,this.q$t)&&this.lf.jA().KFt(t,[[this.J$t,this.q$t]],!1)},mXt(t){return!!t&&!!this.MXt(this.J$t,this.q$t)&&this.lf.jA().KFt(t,[[this.J$t,this.q$t]],!1)},gXt(t){return this.z$t===t},yXt(t){return this.z$t===t}}}{const nu=self.Bs;nu.aX.Touch.Zrt={PXt(t){this.R$t(t)}}}{const hu=self.Bs;hu.aX.Touch.Qrt={AXt(){return this.E$t.size},sxt(t){const s=this.xXt(this.$$t);return s?s.kXt(this.lf.ID(),t,!0):0},ixt(t){const s=this.xXt(this.$$t);return s?s.kXt(this.lf.ID(),t,!1):0},DXt(t,s){const e=this.xXt(t);return e?e.kXt(this.lf.ID(),s,!0):0},OXt(t,s){const e=this.xXt(t);return e?e.kXt(this.lf.ID(),s,!1):0},LXt(t,s){const e=this.E$t.get(t);return e?e.kXt(this.lf.ID(),s,!0):0},BXt(t,s){const e=this.E$t.get(t);return e?e.kXt(this.lf.ID(),s,!1):0},NXt(){const t=this.xXt(0);return t?t.Cb():0},WXt(){const t=this.xXt(0);return t?t.Fb():0},UXt(t){const s=this.xXt(t);return s?s.Cb():0},jXt(t){const s=this.xXt(t);return s?s.Fb():0},VXt(t){const s=this.E$t.get(t);return s?s.Cb():0},HXt(t){const s=this.E$t.get(t);return s?s.Fb():0},zXt(t){const s=this.xXt(t);return s?s.V6():0},JXt(t){const s=this.E$t.get(t);return s?s.V6():0},qXt(t){const s=this.xXt(t);return s?hu.bn(s.aL()):0},$Xt(t){const s=this.E$t.get(t);return s?hu.bn(s.aL()):0},XXt(){return this.lf.iNt(),this.A$t},YXt(){return this.lf.iNt(),this.k$t},KXt(){return this.lf.iNt(),this.D$t},ZXt(){return this.lf.iNt(),this.O$t},QXt(){return this.lf.rNt(),this.W$t},tYt(){return this.lf.rNt(),this.U$t},sYt(){return this.lf.rNt(),this.j$t},eYt(){return this.lf.rNt(),this.L$t},iYt(){return this.lf.rNt(),this.B$t},rYt(){return this.lf.rNt(),this.N$t},nYt(){return this.V$t},hYt(){return this.H$t},oYt(t){const s=this.E$t.get(t);return s?s.lm():0},aYt(t){const s=this.E$t.get(t);return s?s.Mm():0},lYt(t){const s=this.E$t.get(t);return s?s.uYt():0}}}{let h=self.Bs,s=-1e3,e=-1e3,i=-1e4;h.aX.Touch.rXt=class extends h.an{constructor(){super(),this.cYt=0,this.xG=0,this.fOt=0,this.pP=0,this.fYt=0,this.dYt=0,this.pYt=0,this.tl=0,this.sl=0,this.mYt=0,this.gYt=0,this.Xm=0,this.Ym=0,this.yYt=0,this.SYt=!1,this.wYt=!1}cn(){}GCt(t,s,e,i,r){this.cYt=i,this.xG=r,this.pP=t,this.fYt=t,this.fOt=t,this.dYt=s,this.pYt=e,this.tl=s,this.sl=e,this.mYt=s,this.gYt=e}iH(t,s,e,i,r,n){this.fYt=this.pP,this.pP=t,this.mYt=this.tl,this.gYt=this.sl,this.tl=s,this.sl=e,this.Xm=i,this.Ym=r,this.yYt=n,!this.wYt&&15<=h.vn(this.dYt,this.pYt,this.tl,this.sl)&&(this.wYt=!0)}QW(){return this.cYt}aXt(){return this.xG}SF(){return this.pP}SXt(t){this.fYt=t}Cb(){return this.tl}Fb(){return this.sl}V6(){const t=h.vn(this.tl,this.sl,this.mYt,this.gYt),s=(this.pP-this.fYt)/1e3;return 0<s?t/s:0}aL(){return h.Mn(this.mYt,this.gYt,this.tl,this.sl)}lm(){return this.Xm}Mm(){return this.Ym}uYt(){return this.yYt}wXt(t){return!this.SYt&&500<=t-this.fOt&&!this.wYt&&h.vn(this.dYt,this.pYt,this.tl,this.sl)<15&&(this.SYt=!0)}cXt(t){return!this.SYt&&t-this.fOt<=333&&!this.wYt&&h.vn(this.dYt,this.pYt,this.tl,this.sl)<15?t-i<=666&&h.vn(s,e,this.tl,this.sl)<25?(s=-1e3,e=-1e3,i=-1e4,"double-tap"):(s=this.tl,e=this.sl,i=t,"single-tap"):""}kXt(t,s,e){if(void 0===s){const i=t.PD(0);return i.fq(this.tl,this.sl)[e?0:1]}{const r=t.ED(s);return r?r.xB(this.tl,this.sl)[e?0:1]:0}}}}{const ou=self.Bs;ou.zat.bYt=class extends ou.VTt{constructor(t){super(t)}cn(){super.cn()}}}{const au=self.Bs;au.zat.bYt.rIt=class extends au.$Tt{constructor(t){super(t)}cn(){super.cn()}fMt(){}}}{const lu=self.Bs,uu=self.$s,cu=self._6,A=(lu.zat.bYt.Instance=class extends lu.YTt{constructor(t,s){super(t),this.vYt=200,this.xYt=600,this.MYt=600,this.TYt=0,this.GYt=!0,this._Yt=!1,this.Ryt=!0,this.zGt=0,this.IYt=this.RD().aL(),this.CYt=[],s&&(this.vYt=s[0],this.xYt=s[1],this.MYt=s[2],this.TYt=lu.wn(s[3]),this.GYt=s[4],this._Yt=s[5],this.Ryt=s[6]),this.RYt=null,this.EYt=NaN,this.FYt=NaN,this.PYt=[0,0],this.AYt={bZ:this.PYt}}cn(){this.RYt&&(this.RYt.cn(),this.RYt=null),this.EYt=NaN,this.FYt=NaN,this.PYt=null,this.AYt=null,super.cn()}Ub(){return{ms:this.vYt,acc:this.xYt,dec:this.MYt,rs:this.TYt,sa:this.GYt,sos:this._Yt,s:this.zGt,ma:this.IYt,wp:this.CYt.map(t=>({x:t.x,y:t.y})),e:this.Ryt}}jb(t){this.vYt=t.ms,this.xYt=t.acc,this.MYt=t.dec,this.TYt=t.rs,this.GYt=t.sa,this._Yt=t.sos,this.zGt=t.s,this.IYt=t.ma,this.CYt=t.wp.map(t=>({x:t.x,y:t.y})),this.xvt(t.e),this.Ryt&&0<this.CYt.length&&this.KMt()}kYt(t,s,e,i){e&&lu.Lh(this.CYt),this.CYt.push({x:t,y:s,opts:i}),this.Ryt&&this.KMt()}DYt(){return this.CYt.length}OYt(t){return(t=Math.floor(t))<0||t>=this.CYt.length?0:this.CYt[t].x}LYt(t){return(t=Math.floor(t))<0||t>=this.CYt.length?0:this.CYt[t].y}BYt(){return 0<this.CYt.length}NYt(){lu.Lh(this.CYt),this.zGt=0,this.DMt()}WYt(){return 0<this.CYt.length?this.CYt[0].x:0}UYt(){return 0<this.CYt.length?this.CYt[0].y:0}jYt(){if(0<this.CYt.length){const t=this.CYt[0];if(t.opts)return t.opts.VYt}return!1}HYt(){if(0<this.CYt.length){const t=this.CYt[0];if(t.opts)return t.opts.VYt&&t.opts.zYt}return!1}JYt(){if(0<this.CYt.length){const t=this.CYt[0];if(t.opts)return t.opts.qYt}return NaN}$Yt(){if(0<this.CYt.length){const t=this.CYt[0];if(t.opts)return t.opts.XYt}return NaN}YYt(t){this.BYt()&&(this.zGt=Math.min(t,this.vYt))}KYt(){return this.zGt}ZYt(t){this.vYt=Math.max(t,0),this.YYt(this.zGt)}QYt(){return this.vYt}tKt(){return this.Ryt&&this.BYt()&&this.jYt()?!!this.HYt():0!==this.TYt}AK(){if(this.Ryt&&this.BYt()){let t=this.lf.Ok(this._e),n=this._e.RD(),s=n.Cb(),e=n.Fb(),i=n.aL(),r=this.zGt,h=this.vYt,o=this.xYt,a=this.MYt,l=this.WYt(),u=this.UYt(),c=lu.Mn(s,e,l,u),f=!1;if(0<a&&1===this.CYt.length){const m=.5*r*r/a*1.0001;if(f=lu.xn(s,e,l,u)<=m*m){const g=lu.vn(s,e,l,u);r=Math.sqrt(2*a*g),h=r,this.zGt=r}}if(this.tKt()){const y=lu.Tn(this.IYt,c);if(y>Number.EPSILON){const S=y/this.TYt,w=lu.vn(n.Cb(),n.Fb(),l,u),b=w/(2*Math.sin(y)),v=b*y;h=Math.min(h,lu.yn(v/S,0,this.vYt))}}let d=f?-a:o,p=Math.min(r*t+.5*d*t*t,h*t);if(f){if(0<a&&(this.zGt=Math.max(this.zGt-a*t,0),0===this.zGt))return void this.sKt(n,l,u)}else this.zGt=0===o?h:Math.min(this.zGt+o*t,h);if(lu.xn(n.Cb(),n.Fb(),l,u)<=p*p)this.sKt(n,l,u);else{if(this.tKt()?this.IYt=lu.Gn(this.IYt,c,this.TYt*t):this.IYt=c,n.t4(Math.cos(this.IYt)*p,Math.sin(this.IYt)*p),this.GYt){const x=this.jYt(),M=this.HYt();if(x&&!M){let t=this.$Yt(),s=this.JYt(),e=n.Cb(),i=n.Fb();self.isNaN(this.FYt)&&(this.FYt=0),self.isNaN(t)&&(t=0);let r;r=this.FYt===t?(this.PYt[0]=this.EYt,this.PYt[1]=s,this.RYt.wZ(e,i,this.AYt)):this.RYt.ny(e,i),n.oL(this.RYt.MZ(r[0],r[1]))}else n.oL(this.IYt),this.EYt=NaN,this.FYt=NaN}n.YN(),this.eKt(s,e,i)}}}sKt(t,s,e){t.KN(s,e),t.YN();const i=this.CYt[0];i.opts&&i.opts.VYt?(this.EYt=i.opts.qYt,this.FYt=i.opts.XYt):(this.EYt=NaN,this.FYt=NaN),this.CYt.shift(),0===this.CYt.length&&(this.RYt&&(this.RYt.cn(),this.RYt=null,this.EYt=NaN,this.FYt=NaN),this.zGt=0,this.DMt()),this.EMt("arrived"),this.vN(lu.zat.bYt.nX.iKt)}eKt(t,s,e){const i=this.lf.jA();if(this._Yt&&i.v5(this._e)){this.NYt();const r=this._e.RD(),n=r.Cb(),h=r.Fb(),o=lu.Mn(n,h,t,s),a=lu.vn(n,h,t,s);i.nPt(this._e,Math.cos(o),Math.sin(o),Math.max(a,1))||(r.KN(t,s),r.oL(e),r.YN()),this.EMt("hitsolid"),this.vN(lu.zat.bYt.nX.rKt)}}nKt(){return this.GYt}hKt(t){this.GYt=!!t}oKt(t){if(this.IYt=t,this.Ryt&&this.GYt&&!this.BYt()){const s=this.RD();s.oL(this.IYt),s.YN()}}aKt(){return this.IYt}lKt(t){this.xYt=Math.max(t,0)}uKt(){return this.xYt}cKt(t){this.MYt=Math.max(t,0)}fKt(){return this.MYt}dKt(t){this.TYt=Math.max(t,0)}pKt(){return this.TYt}mKt(t){this._Yt=!!t}gKt(){return this._Yt}xvt(t){this.Ryt!==(t=!!t)&&(this.Ryt=t,this.Ryt&&this.BYt()?this.KMt():this.DMt())}Tvt(){return this.Ryt}Ont(t){switch(t){case 0:return this.QYt();case 1:return this.uKt();case 2:return this.fKt();case 3:return lu.bn(this.pKt());case 4:return this.nKt();case 5:return this.gKt();case 6:return this.Tvt()}}jnt(t,s){switch(t){case 0:this.ZYt(s);break;case 1:this.lKt(s);break;case 2:this.cKt(s);break;case 3:this.dKt(lu.wn(s));break;case 4:this.hKt(s);break;case 5:this.mKt(s);break;case 6:this.xvt(s)}}sTt(){const t="behaviors.moveto";return[{title:"$"+this.F6().Zc(),properties:[{name:t+".debugger.speed",value:this.KYt(),E8t:t=>this.YYt(t)},{name:t+".debugger.angle-of-motion",value:lu.bn(this.aKt()),E8t:t=>this.IYt=lu.wn(t)},{name:t+".debugger.target-x",value:this.WYt()},{name:t+".debugger.target-y",value:this.UYt()},{name:t+".debugger.waypoint-count",value:this.DYt()},{name:t+".properties.max-speed.name",value:this.QYt(),E8t:t=>this.ZYt(t)},{name:t+".properties.acceleration.name",value:this.uKt(),E8t:t=>this.lKt(t)},{name:t+".properties.deceleration.name",value:this.fKt(),E8t:t=>this.cKt(t)},{name:t+".properties.rotate-speed.name",value:lu.bn(this.pKt()),E8t:t=>this.dKt(lu.wn(t))},{name:t+".properties.enabled.name",value:this.Tvt(),E8t:t=>this.xvt(t)}]}]}dMt(){return self.yKt}},new WeakMap);self.yKt=class extends cu{constructor(){super(),A.set(this,cu.NB().v6())}SKt(t,s,e=!0){uu.wi(t),uu.wi(s),A.get(this).kYt(t,s,!!e)}wKt(){return A.get(this).WYt()}bKt(){return A.get(this).UYt()}vKt(){const t=A.get(this);return[t.WYt(),t.UYt()]}xKt(){return A.get(this).DYt()}MKt(t){return uu.wi(t),A.get(this).OYt(t)}TKt(t){return uu.wi(t),A.get(this).LYt(t)}GKt(t){uu.wi(t);const s=A.get(this);return[s.OYt(t),s.LYt(t)]}stop(){A.get(this).NYt()}get _Kt(){return A.get(this).BYt()}get speed(){return A.get(this).KYt()}set speed(t){uu.wi(t),A.get(this).YYt(t)}get IKt(){return A.get(this).QYt()}set IKt(t){uu.wi(t),A.get(this).ZYt(t)}get acceleration(){return A.get(this).uKt()}set acceleration(t){uu.wi(t),A.get(this).lKt(t)}get CKt(){return A.get(this).fKt()}set CKt(t){uu.wi(t),A.get(this).cKt(t)}get RKt(){return A.get(this).aKt()}set RKt(t){uu.wi(t),A.get(this).oKt(t)}get EKt(){return A.get(this).pKt()}set EKt(t){uu.wi(t),A.get(this).dKt(t)}get FKt(){return A.get(this).gKt()}set FKt(t){A.get(this).mKt(t)}get isEnabled(){return A.get(this).Tvt()}set isEnabled(t){A.get(this).xvt(t)}}}{const fu=self.Bs;fu.zat.bYt.nX={PKt(){return this.BYt()},AKt(t,s){return fu.compare(this.KYt(),t,s)},Ku(){return this.Tvt()},iKt(){return!0},rKt(){return!0}}}{const du=self.Bs;du.zat.bYt.Zrt={kKt(t,s,e){this.kYt(t,s,0===e)},DKt(t,s,e){if(t){const i=t.WO(this._e);if(i&&i.RD()){const[r,n]=i.lbt(s);this.kYt(r,n,0===e)}}},OKt(e){const t=this._e.Jat(du.zat.Pathfinding);if(t){const i=t._GetPath();if(0!==i.length)for(let t=0,s=i.length;t<s;++t){const r=i[t];this.kYt(r.x,r.y,0===t&&0===e)}}},LKt(t,s,e){const i=du.un(du.sZ,t,s);if(i.mZ()){i.yZ(this._e.RD());let s=!0;for(const r of i.gZ())switch(r.vT()){case"line":{const n=r.Cb(),h=r.Fb();this.kYt(n,h,s&&0===e),s=!1;break}case"cubic-bezier":for(let t=0;t<=r.lQ();t++){const o=t*r.uQ(),a=r.Map(o),l=a[0],u=a[1];this.kYt(l,u,s&&0===e,{VYt:!0,zYt:s,qYt:r.dQ(o),XYt:r.DA()}),s=!1}}this.RYt=i}else i.cn()},BKt(t,s,e){const i=this.lf.ott().uK(t);i&&du.zat.bYt.Zrt.LKt.call(this,i,s,e)},IW(){this.NYt()},NKt(t){this.oKt(du.wn(t))},WKt(t){this.YYt(t)},UKt(t){this.ZYt(t)},Y7t(t){this.lKt(t)},jKt(t){this.cKt(t)},VKt(t){this.dKt(du.wn(t))},HKt(t){this.mKt(t)},xxt(t){this.xvt(t)}}}{const pu=self.Bs;pu.zat.bYt.Qrt={zKt(){return this.KYt()},JKt(){return this.QYt()},qKt(){return this.uKt()},$Kt(){return this.fKt()},XKt(){return pu.bn(this.aKt())},YKt(){return pu.bn(this.pKt())},KKt(){return this.WYt()},ZKt(){return this.UYt()},QKt(){return this.DYt()},tZt(t){return this.OYt(t)},sZt(t){return this.LYt(t)}}}{const mu=self.Bs;mu.zat.eZt=class extends mu.VTt{constructor(t){super(t)}cn(){super.cn()}}}{const gu=self.Bs;gu.zat.eZt.rIt=class extends gu.$Tt{constructor(t){super(t)}cn(){super.cn()}fMt(){}}}{const yu=self.Bs;yu.zat.eZt.Instance=class extends yu.YTt{constructor(t,s){super(t),this.iZt=null,this.rZt=-1,this.nZt="",this.hZt=new Set,this.oZt=0,this.aZt=0,this.lZt=0,this.uZt=0,this.cZt=0,this.fZt=0,this.dZt=0,this.pZt=0,this.mZt=0,this.gZt=0,this.yZt=!1,s&&(this.yZt=s[0]);const e=this.lf.jf();this.b0=new yu.y0(yu.c0.g0(e,"instancedestroy",t=>this.DJt(t.P6)),yu.c0.g0(e,"afterload",t=>this.LY()))}cn(){this.iZt=null,super.cn()}SZt(t){t?(this.iZt=t,this.QMt()):(this.iZt=null,this.OMt())}wZt(t,s,e){if(t){const i=t.Wbt(this._e);if(i){this.nZt=s,this.SZt(i);const r=this._e.RD(),n=i.RD();if("properties"===this.nZt){const h=this.hZt;h.clear();for(const o of e)h.add(o);this.uZt=r.Cb()-n.Cb(),this.cZt=r.Fb()-n.Fb(),this.pZt=r.aL()-n.aL(),this.gZt=r.aL(),this.mZt=r.Ab()-n.Ab(),h.has("x")&&h.has("y")&&(this.aZt=yu.Mn(n.Cb(),n.Fb(),r.Cb(),r.Fb())-n.aL(),this.oZt=yu.vn(n.Cb(),n.Fb(),r.Cb(),r.Fb())),h.has("width-abs")?this.fZt=r.lm()-n.lm():h.has("width-scale")&&(this.fZt=r.lm()/n.lm()),h.has("height-abs")?this.dZt=r.Mm()-n.Mm():h.has("height-scale")&&(this.dZt=r.Mm()/n.Mm())}else this.oZt=yu.vn(n.Cb(),n.Fb(),r.Cb(),r.Fb())}}}Ub(){const t=this.hZt,s=this.nZt,e={uid:this.iZt&&!this.iZt.QU()?this.iZt.YB():-1,m:s,d:this.yZt};return"rope"===s||"bar"===s?e.pd=this.oZt:"properties"===s&&(e.ps=[...this.hZt],t.has("imagepoint")?e.ip=this.lZt:t.has("x")&&t.has("y")?(e.pa=this.aZt,e.pd=this.oZt):(t.has("x")&&(e.dx=this.uZt),t.has("y")&&(e.dy=this.cZt)),t.has("angle")&&(e.da=this.pZt,e.lka=this.gZt),(t.has("width-abs")||t.has("width-scale"))&&(e.dw=this.fZt),(t.has("height-abs")||t.has("height-scale"))&&(e.dh=this.dZt),t.has("z"))&&(e.dz=this.mZt),e}jb(t){const s=t.m,e=this.hZt;if(e.clear(),this.rZt=t.uid,"number"==typeof s)this.bZt(t);else if(this.nZt=s,t.hasOwnProperty("d")&&(this.yZt=!!t.d),"rope"===s||"bar"===s)this.oZt=t.pd;else if("properties"===s){for(const i of t.ps)e.add(i);e.has("imagepoint")?this.lZt=t.ip:e.has("x")&&e.has("y")?(this.aZt=t.pa,this.oZt=t.pd):(e.has("x")&&(this.uZt=t.dx),e.has("y")&&(this.cZt=t.dy)),e.has("angle")&&(this.pZt=t.da,this.gZt=t.lka||0),(e.has("width-abs")||e.has("width-scale"))&&(this.fZt=t.dw),(e.has("height-abs")||e.has("height-scale"))&&(this.dZt=t.dh),e.has("z")&&(this.mZt=t.dz)}}bZt(t){const s=this.hZt,e=t.msa,i=t.tsa,r=t.pa,n=t.pd,h=t.m;switch(h){case 0:this.nZt="properties",s.add("x").add("y").add("angle"),this.aZt=r,this.oZt=n,this.pZt=e-i,this.gZt=t.lka;break;case 1:this.nZt="properties",s.add("x").add("y"),this.aZt=r,this.oZt=n;break;case 2:this.nZt="properties",s.add("angle"),this.pZt=e-i,this.gZt=t.lka;break;case 3:this.nZt="rope",this.oZt=t.pd;break;case 4:this.nZt="bar",this.oZt=t.pd}}LY(){-1===this.rZt?this.SZt(null):(this.SZt(this.lf.TD(this.rZt)),this.rZt=-1)}DJt(t){this.iZt===t&&(this.SZt(null),this.yZt)&&this.lf.VB(this._e)}YMt(){const n=this.iZt;if(n&&!n.QU()){let e=n.RD(),t=this._e,i=t.RD(),s=this.nZt,r=!1;if("rope"===s||"bar"===s){const h=yu.vn(i.Cb(),i.Fb(),e.Cb(),e.Fb());if(h>this.oZt||"bar"===s&&h<this.oZt){const o=yu.Mn(e.Cb(),e.Fb(),i.Cb(),i.Fb());i.KN(e.Cb()+Math.cos(o)*this.oZt,e.Fb()+Math.sin(o)*this.oZt),r=!0}}else{let t=this.hZt,s=0;if(t.has("imagepoint")){const[a,l]=n.lbt(this.lZt);i.obt(a,l)||(i.KN(a,l),r=!0)}else if(t.has("x")&&t.has("y")){const u=e.Cb()+Math.cos(e.aL()+this.aZt)*this.oZt,c=e.Fb()+Math.sin(e.aL()+this.aZt)*this.oZt;i.obt(u,c)||(i.KN(u,c),r=!0)}else s=e.Cb()+this.uZt,t.has("x")&&s!==i.Cb()&&(i.Rb(s),r=!0),s=e.Fb()+this.cZt,t.has("y")&&s!==i.Fb()&&(i.Pb(s),r=!0);t.has("angle")&&(this.gZt!==i.aL()&&(this.pZt=yu.Sn(this.pZt+(i.aL()-this.gZt))),(s=yu.Sn(e.aL()+this.pZt))!==i.aL()&&(i.oL(s),r=!0),this.gZt=i.aL()),t.has("width-abs")&&(s=e.lm()+this.fZt)!==i.lm()&&(i.wm(s),r=!0),t.has("width-scale")&&(s=e.lm()*this.fZt)!==i.lm()&&(i.wm(s),r=!0),t.has("height-abs")&&(s=e.Mm()+this.dZt)!==i.Mm()&&(i.um(s),r=!0),t.has("height-scale")&&(s=e.Mm()*this.dZt)!==i.Mm()&&(i.um(s),r=!0),t.has("z")&&(s=e.Ab()+this.mZt)!==i.Ab()&&(i.kb(s),this.lf.OD())}r&&i.YN()}}sTt(){const t="behaviors.pin.debugger";return[{title:"$"+this.F6().Zc(),properties:[{name:t+".is-pinned",value:!!this.iZt},{name:t+".pinned-uid",value:this.iZt?this.iZt.YB():0}]}]}}}{const Su=self.Bs;Su.zat.eZt.nX={vZt(){return!!this.iZt},xZt(){return this.yZt}}}{const wu=self.Bs;wu.zat.eZt.Zrt={MZt(t,s){this.wZt(t,0===s?"rope":"bar")},TZt(t,s,e,i,r,n,h){const o=[];s&&o.push("x"),e&&o.push("y"),i&&o.push("angle"),h&&o.push("z"),1===r?o.push("width-abs"):2===r&&o.push("width-scale"),1===n?o.push("height-abs"):2===n&&o.push("height-scale"),0!==o.length&&this.wZt(t,"properties",o)},GZt(t,s,e,i,r,n){const h=["imagepoint"];e&&h.push("angle"),n&&h.push("z"),1===i?h.push("width-abs"):2===i&&h.push("width-scale"),1===r?h.push("height-abs"):2===r&&h.push("height-scale"),this.lZt=s,this.wZt(t,"properties",h)},_Zt(t){"rope"!==this.nZt&&"bar"!==this.nZt||(this.oZt=Math.max(t,0))},IZt(t){this.yZt=t},CZt(){this.SZt(null),this.nZt="",this.hZt.clear(),this.lZt=""},eZt(t,s){switch(s){case 0:this.wZt(t,"properties",["x","y","angle"]);break;case 1:this.wZt(t,"properties",["x","y"]);break;case 2:this.wZt(t,"properties",["angle"]);break;case 3:this.wZt(t,"rope");break;case 4:this.wZt(t,"bar")}}}}{const bu=self.Bs;bu.zat.eZt.Qrt={RZt(){return this.iZt?this.iZt.YB():-1}}}{const vu=self.Bs;vu.zat.EZt=class extends vu.VTt{constructor(t){super(t)}cn(){super.cn()}}}{const xu=self.Bs;xu.zat.EZt.rIt=class extends xu.$Tt{constructor(t){super(t)}cn(){super.cn()}fMt(){}}}{const Mu=self.Bs,Tu=self.$s,Gu=self._6,_u=2*Math.PI,Iu=Math.PI/2,Cu=3*Math.PI/2,Ru=[0,1,8,3,4,2,5,6,9,7],Eu=(Mu.zat.EZt.Instance=class extends Mu.YTt{constructor(t,s){super(t),this.FZt=0,this.PZt=0,this.AZt=0,this.kZt=0,this.DZt=0,this.Ryt=!0,this.OZt=0,this.LZt=0,this.BZt=0,this.NZt=0,this.WZt=0,this.UZt=0,this.tSt=0,this.jZt=0,this.VZt=0,this.HZt=0,this.zZt=0,s&&(this.PZt=Ru[s[0]],this.AZt=s[1],this.NZt=this.lf.hD()*s[3],this.OZt=s[2],this.kZt=s[2],this.kZt+=this.NZt,this.LZt=s[4],0!==this.kZt&&(this.WZt=this.lf.hD()*s[5],this.FZt=s[4]/this.kZt*_u,this.FZt+=this.WZt/this.kZt*_u),this.UZt=this.lf.hD()*s[7],this.BZt=s[6],this.DZt=s[6],this.DZt+=this.UZt,this.Ryt=!!s[8]),5===this.PZt&&(this.DZt=Mu.wn(this.DZt)),this.GCt(),this.Ryt&&this.KMt()}cn(){super.cn()}Ub(){return{i:this.FZt,e:this.Ryt,mv:this.PZt,w:this.AZt,p:this.kZt,mag:this.DZt,iv:this.tSt,iv2:this.jZt,r:this.zZt,lkv:this.VZt,lkv2:this.HZt}}jb(t){this.FZt=t.i,this.xvt(t.e),this.PZt=t.mv,this.AZt=t.w,this.kZt=t.p,this.DZt=t.mag,this.tSt=t.iv,this.jZt=t.iv2,this.zZt=t.r,this.VZt=t.lkv,this.HZt=t.lkv2}GCt(){const t=this._e.RD();switch(this.PZt){case 0:this.tSt=t.Cb();break;case 1:this.tSt=t.Fb();break;case 2:this.tSt=t.lm(),this.zZt=t.Mm()/t.lm();break;case 3:this.tSt=t.lm();break;case 4:this.tSt=t.Mm();break;case 5:this.tSt=t.aL();break;case 6:this.tSt=t.j3();break;case 7:this.tSt=0;break;case 8:this.tSt=t.Cb(),this.jZt=t.Fb();break;case 9:this.tSt=t.Ab()}this.VZt=this.tSt,this.HZt=this.jZt}JZt(t){switch(t%=_u,this.AZt){case 0:return Math.sin(t);case 1:return t<=Iu?t/Iu:t<=Cu?1-2*(t-Iu)/Math.PI:(t-Cu)/Iu-1;case 2:return 2*t/_u-1;case 3:return-2*t/_u+1;case 4:return t<Math.PI?-1:1}return 0}AK(){const t=this.lf.Ok(this._e);this.Ryt&&0!==t&&(0===this.kZt?this.FZt=0:this.FZt=(this.FZt+t/this.kZt*_u)%_u,this.qZt())}qZt(){const t=this._e.RD();switch(this.PZt){case 0:t.Cb()!==this.VZt&&(this.tSt+=t.Cb()-this.VZt),t.Rb(this.tSt+this.JZt(this.FZt)*this.DZt),this.VZt=t.Cb();break;case 1:t.Fb()!==this.VZt&&(this.tSt+=t.Fb()-this.VZt),t.Pb(this.tSt+this.JZt(this.FZt)*this.DZt),this.VZt=t.Fb();break;case 2:t.wm(this.tSt+this.JZt(this.FZt)*this.DZt),t.um(t.lm()*this.zZt);break;case 3:t.wm(this.tSt+this.JZt(this.FZt)*this.DZt);break;case 4:t.um(this.tSt+this.JZt(this.FZt)*this.DZt);break;case 5:t.aL()!==this.VZt&&(this.tSt=Mu.Sn(this.tSt+(t.aL()-this.VZt))),t.oL(this.tSt+this.JZt(this.FZt)*this.DZt),this.VZt=t.aL();break;case 6:t.H3(this.tSt+this.JZt(this.FZt)*this.DZt/100);break;case 8:t.Cb()!==this.VZt&&(this.tSt+=t.Cb()-this.VZt),t.Fb()!==this.HZt&&(this.jZt+=t.Fb()-this.HZt),t.Rb(this.tSt+Math.cos(t.aL())*this.JZt(this.FZt)*this.DZt),t.Pb(this.jZt+Math.sin(t.aL())*this.JZt(this.FZt)*this.DZt),this.VZt=t.Cb(),this.HZt=t.Fb();break;case 9:t.kb(this.tSt+this.JZt(this.FZt)*this.DZt)}t.YN()}$Zt(t,s){}XZt(t){this.kZt=t}YZt(){return this.kZt}KZt(t){this.DZt=t}ZZt(t){5===this.PZt&&(t=Mu.wn(t)),this.KZt(t)}QZt(){return this.DZt}tQt(){let t=this.QZt();return 5===this.PZt?Mu.bn(t):t}sQt(t){5===this.PZt&&5!==t&&(this.DZt=Mu.bn(this.DZt)),this.PZt=t,this.GCt()}eQt(){return this.PZt}iQt(t){this.AZt=t}rQt(){return this.AZt}nQt(t){this.FZt=Mu.yn(t,0,2*Math.PI),this.qZt()}hQt(){return this.FZt}xvt(t){this.Ryt=!!t,this.Ryt?this.KMt():this.DMt()}Tvt(){return this.Ryt}Ont(t){switch(t){case 0:return this.PZt;case 1:return this.AZt;case 2:return this.OZt;case 6:return this.BZt;case 8:return this.Ryt}}jnt(t,s){switch(t){case 0:this.PZt=Ru[s],this.GCt();break;case 1:this.AZt=s;break;case 2:this.OZt=s,this.kZt=this.OZt+this.NZt,this.Ryt||(0!==this.kZt?(this.FZt=this.LZt/this.kZt*_u,this.FZt+=this.WZt/this.kZt*_u):this.FZt=0);break;case 6:this.BZt=s,this.DZt=this.BZt+this.UZt,5===this.PZt&&(this.DZt=Mu.wn(this.DZt));break;case 8:this.Ryt=!!s}}sTt(){const t="behaviors.sin";return[{title:"$"+this.F6().Zc(),properties:[{name:t+".properties.enabled.name",value:this.Tvt(),E8t:t=>this.xvt(t)},{name:t+".properties.period.name",value:this.YZt(),E8t:t=>this.XZt(t)},{name:t+".properties.magnitude.name",value:this.tQt(),E8t:t=>this.ZZt(t)},{name:t+".debugger.value",value:this.JZt(this.hQt())*this.tQt()}]}]}dMt(){return self.oQt}},new WeakMap),Fu=["horizontal","vertical","size","width","height","angle","opacity","value-only","forwards-backwards","z-elevation"],Pu=["sine","triangle","sawtooth","reverse-sawtooth","square"];self.oQt=class extends Gu{constructor(){super(),Eu.set(this,Gu.NB().v6())}set aQt(t){Tu.wi(t),Eu.get(this).XZt(t)}get aQt(){return Eu.get(this).YZt()}set lQt(t){Tu.wi(t),Eu.get(this).KZt(t)}get lQt(){return Eu.get(this).QZt()}set uQt(t){Eu.get(this).nQt(t)}get uQt(){return Eu.get(this).hQt()}set cQt(t){Tu.Mi(t);const s=Fu.indexOf(t);if(-1===s)throw new Error("invalid movement");Eu.get(this).sQt(s)}get cQt(){return Fu[Eu.get(this).eQt()]}set fQt(t){Tu.Mi(t);const s=Pu.indexOf(t);if(-1===s)throw new Error("invalid wave");Eu.get(this).iQt(s)}get fQt(){return Pu[Eu.get(this).rQt()]}get value(){const t=Eu.get(this);return t.JZt(t.hQt())*t.QZt()}dQt(){Eu.get(this).GCt()}set isEnabled(t){Eu.get(this).xvt(!!t)}get isEnabled(){return Eu.get(this).Tvt()}}}{const Au=self.Bs;Au.zat.EZt.nX={Ku(){return this.Tvt()},pQt(t){return this.eQt()===t},mQt(t,s){return Au.compare(this.YZt(),t,s)},gQt(t,s){return Au.compare(this.tQt(),t,s)},yQt(t){return this.rQt()===t}}}{const ku=self.Bs;ku.zat.EZt.Zrt={xxt(t){this.xvt(0!==t)},SQt(t){this.XZt(t)},wQt(t){this.ZZt(t)},bQt(t){this.sQt(t)},vQt(t){this.AZt=t},xQt(t){const s=2*Math.PI;this.nQt(t*s%s)},MQt(){this.GCt()}}}{const Du=self.Bs;Du.zat.EZt.Qrt={TQt(){return this.hQt()/(2*Math.PI)},GQt(){return this.YZt()},_Qt(){return this.tQt()},IQt(){return this.JZt(this.hQt())*this.tQt()}}}{const Ou=self.Bs;Ou.zat.CQt=class extends Ou.VTt{constructor(t){super(t)}cn(){super.cn()}}}{const Lu=self.Bs;Lu.zat.CQt.rIt=class extends Lu.$Tt{constructor(t){super(t)}cn(){super.cn()}fMt(){}}}{const Bu=self.Bs,Nu=self.$s,Wu=self._6,Uu=(Bu.zat.CQt.Instance=class extends Bu.YTt{constructor(t,s){super(t);const e=this.RD(),i=(this.zGt=0,this.xYt=0,this.zo=0,this.RQt=!1,this.GYt=!1,this.EQt=!1,this.Ryt=!0,this.uZt=0,this.cZt=0,this.mYt=e.Cb(),this.gYt=e.Fb(),this.gZt=e.aL(),this.FQt=0,this.PQt=Math.min(Math.abs(e.lm()),Math.abs(e.Mm())/2),this.AQt=!1,s&&(this.zGt=s[0],this.xYt=s[1],this.zo=s[2],this.RQt=!!s[3],this.GYt=!!s[4],this.EQt=!!s[5],this.Ryt=!!s[6]),e.aL());this.uZt=Math.cos(i)*this.zGt,this.cZt=Math.sin(i)*this.zGt,this.Ryt&&(this.KMt(),this.RQt)&&this.eGt()}cn(){super.cn()}Ub(){const t={dx:this.uZt,dy:this.cZt,lx:this.mYt,ly:this.gYt,lka:this.gZt,t:this.FQt};return 0!==this.xYt&&(t.acc=this.xYt),0!==this.zo&&(t.g=this.zo),this.EQt&&(t.st=this.EQt),this.Ryt||(t.e=this.Ryt),this.RQt&&(t.bos=this.RQt),this.GYt&&(t.sa=this.GYt),t}jb(t){this.uZt=t.dx,this.cZt=t.dy,this.mYt=t.lx,this.gYt=t.ly,this.gZt=t.lka,this.FQt=t.t,this.xYt=t.hasOwnProperty("acc")?t.acc:0,this.zo=t.hasOwnProperty("g")?t.g:0,this.EQt=!!t.hasOwnProperty("st")&&t.st,this.RQt=!!t.hasOwnProperty("bos")&&t.bos,this.GYt=!!t.hasOwnProperty("sa")&&t.sa,this.xvt(!t.hasOwnProperty("e")||t.e)}AK(){if(this.Ryt){const r=this.lf.Ok(this._e),n=this._e.RD();if(n.aL()!==this.gZt){const t=n.aL();if(this.GYt){const s=Bu.vn(0,0,this.uZt,this.cZt);this.uZt=Math.cos(t)*s,this.cZt=Math.sin(t)*s}this.gZt=t}let e=0,i=0;if(0!==this.xYt){let t=Bu.vn(0,0,this.uZt,this.cZt),s;s=0===this.uZt&&0===this.cZt?n.aL():Bu.Mn(0,0,this.uZt,this.cZt),t+=this.xYt*r,e=Math.cos(s)*this.xYt,i=Math.sin(s)*this.xYt,t<0&&(t=0,e=0,i=0),this.uZt=Math.cos(s)*t,this.cZt=Math.sin(s)*t}if(0!==this.zo&&(this.cZt+=this.zo*r,i+=this.zo),this.mYt=n.Cb(),this.gYt=n.Fb(),0!==this.uZt||0!==this.cZt){const h=this.uZt*r+.5*e*r*r,o=this.cZt*r+.5*i*r*r,a=Bu.vn(0,0,h,o);if(this.kQt(h,o,a),this.FQt+=a,this.GYt&&(0!=h||0!=o)){const l=Bu.Mn(0,0,h,o);n.oL(l),this.gZt=n.aL()}n.YN()}}}kQt(t,s,e){const i=this.RD();if(!this.EQt||e<=this.PQt)i.t4(t,s),i.YN(),this.EQt&&this.vN(Bu.zat.CQt.nX.DQt);else{this.AQt=!1;const r=i.Cb(),n=i.Fb(),h=r+t,o=n+s,a=Bu.Mn(0,0,t,s),l=Math.cos(a)*this.PQt,u=Math.sin(a)*this.PQt,c=Math.floor(e/this.PQt);for(let t=1;t<=c;++t)if(i.KN(r+l*t,n+u*t),i.YN(),this.vN(Bu.zat.CQt.nX.DQt),this._e.QU()||this.AQt)return;i.KN(h,o),i.YN(),this.vN(Bu.zat.CQt.nX.DQt)}}sGt(){if(this.Ryt&&this.RQt&&(0!==this.uZt||0!==this.cZt)){const t=this.lf.Ok(this._e),s=this._e.RD(),e=this.lf.jA(),i=e.v5(this._e);if(i){e.zFt(this._e,i);const r=Bu.vn(0,0,this.uZt,this.cZt),n=e.lPt(this._e,this.mYt,this.gYt);this.uZt=Math.cos(n)*r,this.cZt=Math.sin(n)*r,s.t4(this.uZt*t,this.cZt*t),s.YN(),this.GYt&&(s.oL(n),this.gZt=s.aL(),s.YN()),e.nPt(this._e,this.uZt/r,this.cZt/r,Math.max(2.5*r*t,30))||e.aPt(this._e,100)}}}Ont(t){switch(t){case 0:return this.KYt();case 1:return this.uKt();case 2:return this.OQt();case 4:return this.GYt;case 5:return this.EQt;case 6:return this.Tvt()}}jnt(t,s){switch(t){case 0:this.YYt(s);break;case 1:this.xYt=s;break;case 2:this.zo=s;break;case 4:this.GYt=!!s;break;case 5:this.EQt=!!s;break;case 6:this.xvt(!!s)}}YYt(t){const s=Bu.Mn(0,0,this.uZt,this.cZt);this.uZt=Math.cos(s)*t,this.cZt=Math.sin(s)*t}KYt(){return Bu.Wn(Bu.vn(0,0,this.uZt,this.cZt),6)}lKt(t){this.xYt=t}uKt(){return this.xYt}LQt(t){this.zo=t}OQt(){return this.zo}oKt(t){const s=Bu.vn(0,0,this.uZt,this.cZt);this.uZt=Math.cos(t)*s,this.cZt=Math.sin(t)*s}aKt(){return Bu.Mn(0,0,this.uZt,this.cZt)}BQt(t){this.RQt!==(t=!!t)&&(this.RQt=t,this.Ryt)&&(this.RQt?this.eGt():this.ZTt())}NQt(){return this.RQt}WQt(t){this.FQt=t}UQt(){return this.FQt}xvt(t){this.Ryt=!!t,this.Ryt?(this.KMt(),this.RQt&&this.eGt()):(this.DMt(),this.ZTt())}Tvt(){return this.Ryt}sTt(){const t="behaviors.bullet";return[{title:"$"+this.F6().Zc(),properties:[{name:t+".debugger.vector-x",value:this.uZt,E8t:t=>this.uZt=t},{name:t+".debugger.vector-y",value:this.cZt,E8t:t=>this.cZt=t},{name:t+".properties.speed.name",value:this.KYt(),E8t:t=>this.YYt(t)},{name:t+".debugger.angle-of-motion",value:Bu.bn(this.aKt())},{name:t+".properties.gravity.name",value:this.OQt(),E8t:t=>this.LQt(t)},{name:t+".properties.acceleration.name",value:this.uKt(),E8t:t=>this.lKt(t)},{name:t+".debugger.distance-travelled",value:this.UQt()},{name:t+".properties.enabled.name",value:this.Tvt(),E8t:t=>this.xvt(t)}]}]}dMt(){return self.jQt}},new WeakMap);self.jQt=class extends Wu{constructor(){super(),Uu.set(this,Wu.NB().v6())}get speed(){return Uu.get(this).KYt()}set speed(t){Nu.wi(t),Uu.get(this).YYt(t)}get acceleration(){return Uu.get(this).uKt()}set acceleration(t){Nu.wi(t),Uu.get(this).lKt(t)}get hzt(){return Uu.get(this).OQt()}set hzt(t){Nu.wi(t),Uu.get(this).LQt(t)}get RKt(){return Uu.get(this).aKt()}set RKt(t){Nu.wi(t),Uu.get(this).oKt(t)}get VQt(){return Uu.get(this).NQt()}set VQt(t){Uu.get(this).BQt(!!t)}get HQt(){return Uu.get(this).UQt()}set HQt(t){Nu.wi(t),Uu.get(this).WQt(t)}get isEnabled(){return Uu.get(this).Tvt()}set isEnabled(t){Uu.get(this).xvt(t)}}}{const ju=self.Bs;ju.zat.CQt.nX={AKt(t,s){const e=Math.hypot(this.uZt,this.cZt);return ju.compare(e,t,s)},zQt(t,s){return ju.compare(this.UQt(),t,s)},DQt(){return!0},Ku(){return this.Tvt()}}}{const Vu=self.Bs;Vu.zat.CQt.Zrt={WKt(t){this.YYt(t)},Y7t(t){this.lKt(t)},K7t(t){this.LQt(t)},JQt(t){this.oKt(Vu.wn(t))},CP(t){if(t){const s=t.Wbt(this._e);if(s){const e=this._e.RD(),i=this.lf.jA(),r=this.lf.Ok(this._e),n=Vu.vn(0,0,this.uZt,this.cZt),h=i.lPt(this._e,this.mYt,this.gYt,s);this.uZt=Math.cos(h)*n,this.cZt=Math.sin(h)*n,e.t4(this.uZt*r,this.cZt*r),e.YN(),this.GYt&&(e.oL(h),this.gZt=e.aL(),e.YN()),0!==n&&(this.RQt?i.nPt(this._e,this.uZt/n,this.cZt/n,Math.max(2.5*n*r,30))||i.aPt(this._e,100):i.rPt(this._e,this.uZt/n,this.cZt/n,Math.max(2.5*n*r,30),s))}}},qQt(t){this.BQt(t)},$Qt(t){this.WQt(t)},xxt(t){this.xvt(t)},XQt(){this.AQt=!0}}}{const Hu=self.Bs;Hu.zat.CQt.Qrt={zKt(){return this.KYt()},qKt(){return this.uKt()},YQt(){return Hu.bn(this.aKt())},KQt(){return this.UQt()},Lzt(){return this.OQt()}}}{const zu=self.Bs;zu.zat.wrap=class extends zu.VTt{constructor(t){super(t)}cn(){super.cn()}}}{const Ju=self.Bs;Ju.zat.wrap.rIt=class extends Ju.$Tt{constructor(t){super(t)}cn(){super.cn()}fMt(){}}}{const qu=self.Bs,$u=new qu.Rect;qu.zat.wrap.Instance=class extends qu.YTt{constructor(t,s){super(t),this.nZt=0,s&&(this.nZt=s[0]),this.KMt()}cn(){super.cn()}Ub(){return{m:this.nZt}}jb(t){this.nZt=t.m}AK(){const t=this._e.RD(),s=t.ED(),e=s.cD(),i=t.r4();0===this.nZt?$u.set(0,0,e.lm(),e.Mm()):$u.I(s.bB()),i.Gl()<$u.Ml()?(t.Rb($u.Gl()-1+(t.Cb()-i.Ml())),t.YN()):i.Ml()>$u.Gl()?(t.Rb($u.Ml()+1-(i.Gl()-t.Cb())),t.YN()):i._l()<$u.Tl()?(t.Pb($u._l()-1+(t.Fb()-i.Tl())),t.YN()):i.Tl()>$u._l()&&(t.Pb($u.Tl()+1-(i._l()-t.Fb())),t.YN())}Ont(t){if(0===t)return this.nZt}jnt(t,s){0===t&&(this.nZt=s)}}}{const Xu=self.Bs;Xu.zat.wrap.nX={}}{const Yu=self.Bs;Yu.zat.wrap.Zrt={}}{const Ku=self.Bs;Ku.zat.wrap.Qrt={}}{const Zu=self.Bs;Zu.zat.ZQt=class extends Zu.VTt{constructor(t){super(t)}cn(){super.cn()}}}{const Qu=self.Bs;Qu.zat.ZQt.rIt=class extends Qu.$Tt{constructor(t){super(t)}cn(){super.cn()}fMt(){}}}{const tc=self.Bs,sc=self.$s,ec=self._6,ic=(tc.zat.ZQt.Instance=class extends tc.YTt{constructor(t,s){super(t),this.zGt=0,this.o9t=0,this.Ryt=!0,s&&(this.zGt=tc.wn(s[0]),this.o9t=tc.wn(s[1]),this.Ryt=s[2]),this.Ryt&&this.KMt()}cn(){super.cn()}YYt(t){this.zGt=t}KYt(){return this.zGt}lKt(t){this.o9t=t}uKt(){return this.o9t}Ub(){return{s:this.zGt,a:this.o9t,e:this.Ryt}}jb(t){this.zGt=t.s,this.o9t=t.a,this.xvt(t.e)}AK(){if(this.Ryt){const t=this.lf.Ok(this._e);if(0!==t&&(0!==this.o9t&&(this.zGt+=this.o9t*t),0!==this.zGt)){const s=this._e.RD();s.oL(s.aL()+this.zGt*t),s.YN()}}}Ont(t){switch(t){case 0:return tc.bn(this.KYt());case 1:return tc.bn(this.uKt());case 2:return this.Tvt()}}jnt(t,s){switch(t){case 0:this.YYt(tc.wn(s));break;case 1:this.lKt(tc.wn(s));break;case 2:this.xvt(s)}}xvt(t){this.Ryt=!!t,this.Ryt?this.KMt():this.DMt()}Tvt(){return this.Ryt}sTt(){const t="behaviors.rotate";return[{title:"$"+this.F6().Zc(),properties:[{name:t+".properties.speed.name",value:tc.bn(this.KYt()),E8t:t=>this.YYt(tc.wn(t))},{name:t+".properties.acceleration.name",value:tc.bn(this.uKt()),E8t:t=>this.lKt(tc.wn(t))},{name:t+".properties.enabled.name",value:this.Tvt(),E8t:t=>this.xvt(t)}]}]}dMt(){return self.QQt}},new WeakMap);self.QQt=class extends ec{constructor(){super(),ic.set(this,ec.NB().v6())}set speed(t){sc.wi(t),ic.get(this).YYt(t)}get speed(){return ic.get(this).KYt()}set acceleration(t){sc.wi(t),ic.get(this).lKt(t)}get acceleration(){return ic.get(this).uKt()}get isEnabled(){return ic.get(this).Tvt()}set isEnabled(t){ic.get(this).xvt(t)}}}{const rc=self.Bs;rc.zat.ZQt.nX={Ku(){return this.Tvt()}}}{const nc=self.Bs;nc.zat.ZQt.Zrt={WKt(t){this.YYt(nc.wn(t))},Y7t(t){this.lKt(nc.wn(t))},xxt(t){this.xvt(t)}}}{const hc=self.Bs;hc.zat.ZQt.Qrt={zKt(){return hc.bn(this.KYt())},qKt(){return hc.bn(this.uKt())}}}{const oc=self.Bs;oc.zat.tts=class extends oc.VTt{constructor(t){super(t)}cn(){super.cn()}}}{const ac=self.Bs;ac.zat.tts.rIt=class extends ac.$Tt{constructor(t){super(t)}cn(){super.cn()}fMt(){}}}{const lc=self.Bs,uc=self.$s,cc=self._6,fc=(lc.zat.tts.Instance=class extends lc.YTt{constructor(t,s){super(t),this.sts=0,this.ets=0,this.its=0,this.yZt=!0,this.rts=!0,this.nts=!1,this.hts=0,this.ots=lc.un(lc.M0),this.ats=this._e.RD().j3()||1,s&&(this.sts=s[0],this.ets=s[1],this.its=s[2],this.yZt=!!s[3],this.rts=!!s[4],this.hts=this.rts?0:3),this.rts&&(0===this.sts?(this.hts=1,0===this.ets&&(this.hts=2)):(this._e.RD().H3(0),this.lf.OD())),this.KMt()}cn(){super.cn()}Ub(){return{fit:this.sts,wt:this.ets,fot:this.its,d:this.yZt,s:this.hts,st:this.ots.re(),mo:this.ats}}jb(t){this.sts=t.fit,this.ets=t.wt,this.its=t.fot,this.yZt=t.d,this.hts=t.s,this.ots.Set(t.st),this.ats=t.mo,3===this.hts?this.DMt():this.KMt()}AK(){const t=this.lf.Ok(this._e),s=(this.ots.cc(t),this._e.RD());0===this.hts&&(s.H3(this.ots.re()/this.sts*this.ats),this.lf.OD(),s.j3()>=this.ats)&&(s.H3(this.ats),this.hts=1,this.ots.l0(),this.EMt("fadeinend"),this.vN(lc.zat.tts.nX.lts)),1===this.hts&&this.ots.re()>=this.ets&&(this.hts=2,this.ots.l0(),this.EMt("waitend"),this.vN(lc.zat.tts.nX.uts)),2===this.hts&&(0!==this.its?(s.H3(this.ats-this.ots.re()/this.its*this.ats),this.lf.OD(),s.j3()<=0&&(this.hts=3,this.ots.l0(),this.EMt("fadeoutend"),this.vN(lc.zat.tts.nX.cts),this.yZt)&&this.lf.VB(this._e)):(this.hts=3,this.ots.l0())),3===this.hts&&this.DMt()}fts(){this.rts||this.nts||(this.ats=this._e.RD().j3()||1,this.nts=!0),3===this.hts&&this.vE()}dts(){this.vE()}vE(){this.hts=0,this.ots.l0(),0===this.sts?(this.hts=1,0===this.ets&&(this.hts=2)):(this._e.RD().H3(0),this.lf.OD()),this.KMt()}pts(t){this.sts=Math.max(t,0)}gts(){return this.sts}yts(t){this.ets=Math.max(t,0)}Sts(){return this.ets}wts(t){this.its=Math.max(t,0)}bts(){return this.its}Ont(t){switch(t){case 0:return this.gts();case 1:return this.Sts();case 2:return this.bts();case 3:return this.yZt}}jnt(t,s){switch(t){case 0:this.pts(s);break;case 1:this.yts(s);break;case 2:this.wts(s);break;case 3:this.yZt=!!s}}sTt(){const t="behaviors.fade";return[{title:"$"+this.F6().Zc(),properties:[{name:t+".properties.fade-in-time.name",value:this.gts(),E8t:t=>this.pts(t)},{name:t+".properties.wait-time.name",value:this.Sts(),E8t:t=>this.yts(t)},{name:t+".properties.fade-out-time.name",value:this.bts(),E8t:t=>this.wts(t)},{name:t+".debugger.stage",value:[t+".debugger."+["fade-in","wait","fade-out","done"][this.hts]]}]}]}dMt(){return self.vts}},new WeakMap);self.vts=class extends cc{constructor(){super(),fc.set(this,cc.NB().v6())}xts(){fc.get(this).fts()}Mts(){fc.get(this).dts()}set Tts(t){uc.wi(t),fc.get(this).pts(t)}get Tts(){return fc.get(this).gts()}set Gts(t){uc.wi(t),fc.get(this).yts(t)}get Gts(){return fc.get(this).Sts()}set _ts(t){uc.wi(t),fc.get(this).wts(t)}get _ts(){return fc.get(this).bts()}}}{const dc=self.Bs;dc.zat.tts.nX={cts(){return!0},lts(){return!0},uts(){return!0}}}{const pc=self.Bs;pc.zat.tts.Zrt={Its(){this.fts()},Cts(){this.dts()},Rts(t){this.pts(t)},Ets(t){this.yts(t)},Fts(t){this.wts(t)}}}{const mc=self.Bs;mc.zat.tts.Qrt={Pts(){return this.gts()},Ats(){return this.Sts()},kts(){return this.bts()}}}{let e=function(t,s){return"number"==typeof t&&"number"==typeof s},h=function(t,s){return e(t,s)?t+s:t},o=function(t,s){return e(t,s)?t-s:t},a=function(t,s){return e(t,s)?t*s:t},l=function(t,s){return e(t,s)?t/s:t},r=function(e,i){if("string"!=typeof e&&"string"!=typeof i)return e&&i?1:0;{let t,s;return t="number"==typeof e?(Math.round(1e10*e)/1e10).toString():e,s="number"==typeof i?(Math.round(1e10*i)/1e10).toString():i,t+s}};e,h,o,a,l,r,0;const gc=self.Bs;self.HSt=[t=>{const s=t.twt(0).bSt();return()=>s()},()=>"layoutWaterfall",()=>0,t=>{const s=t.twt(0);return()=>s._St()},()=>3,t=>{const s=t.twt(0).bSt();return()=>s(1,2,3,4)},()=>1,()=>2,t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(e.ESt())},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>20+gc.vn(s._St(),e._St(),i._St(),r._St())},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2).bSt(),r=t.twt(3),n=t.twt(4).bSt();return()=>(s._St()/(2*e())+(2*i()-r._St())/(2*n()))/2},()=>7,t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>s(e(360))},t=>{const s=t.twt(0);return()=>2*-s._St()},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).bSt();return()=>s(e(i()))},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>s(e(i._St(),r._St()+n._St()))},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>s(e(i._St(),r._St()-n._St()))},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).bSt();return()=>s(e(2*i()))},t=>{const s=t.twt(0);return()=>0-Math.abs(s._St())},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2).bSt(),r=t.twt(3),n=t.twt(4).bSt(),h=t.twt(5).bSt(),o=t.twt(6),a=t.twt(7).bSt();return()=>(s._St()/(2*e())+(2*i()-r._St())/(2*n())+(2*h()-o._St())/(2*a()))/3},t=>{const s=t.twt(0).bSt();return()=>1.5*s()},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).bSt(),r=t.twt(3).bSt();return()=>s()+e(i(r()))},()=>"layoutScreenStart",()=>1.85,()=>1.75,t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).bSt();return()=>h(s(),a(e(),i(-.5,.5)))},()=>.85,()=>.75,t=>{const s=t.twt(0).bSt();return()=>2*s()},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>s()+.5*e()},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2);return()=>s(e(i._St()))},()=>5,()=>"bgLeaves02",t=>{const s=t.twt(0).bSt();return()=>3*s()},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).bSt();return()=>s()+e(i())},()=>"bgLeaves03",t=>{const s=t.twt(0).bSt();return()=>-s()},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2),r=t.twt(3);return()=>s(e(.25*i._St(),.75*r._St()))},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>2*s(e(256,512))},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>2*s(e(48,64))},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>(s()-e._St()+50)/2},t=>{const s=t.twt(0);return()=>2*s.BSt()},t=>{const s=t.twt(0);return()=>2*s._St()},t=>{const s=t.twt(0);return()=>.65*s._St()},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).bSt(),r=t.twt(3).bSt();return()=>s(e(.5*i(),r()))},()=>.2,()=>"diveIdle",()=>"carolIdle",()=>800,t=>{const s=t.twt(0).bSt();return()=>s(0,0,1)},()=>"diveStart",t=>{const s=t.twt(0).bSt();return()=>s(0,1,1,1)},()=>"carolWatching",t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>(s._St(1)+e(.05)+i._St()+r._St()+n._St())/4},t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>300+.35*s(gc.vn(e._St(),i._St(),r._St(1),n._St(1)))},t=>{const s=t.twt(0);return()=>s._St(2)-20},()=>"diveEnd",t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>.2+1e-4*gc.vn(s._St(),e._St(),i._St(2),r._St(2))},()=>.5,t=>{const s=t.twt(0);return()=>.45*s._St()},()=>4,t=>{const s=t.twt(0),e=t.twt(1);return()=>1+5e-5*Math.abs(s._St()-e.ESt())},()=>"Animation 1",t=>{const s=t.twt(0).bSt();return()=>h(1.5,s(.5,1,1.5,2))},()=>.4,t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()-e._St()+24},t=>{const s=t.twt(0);return()=>s._St(4)},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()-1.5*e._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()-e._St()},()=>"swim",()=>"carolResting",()=>180,()=>"diveClimb",()=>"diveReset",()=>6,()=>"walk",t=>{const s=t.twt(0);return()=>s._St(6)},t=>{const s=t.twt(0);return()=>s._St(3)},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>s._St(2)+.4*Math.abs(e._St()-i.ESt())},t=>{const s=t.twt(0);return()=>s._St(2)},()=>50,t=>{const s=t.twt(0);return()=>s._St()-275},t=>{const s=t.twt(0);return()=>.5*s._St()},t=>{const s=t.twt(0);return()=>.85*s._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>1+1e-4*Math.abs(s._St()-e.ESt())},t=>{const s=t.twt(0),e=t.twt(1);return()=>1.1+1e-4*Math.abs(s._St()-e.ESt())},t=>{const s=t.twt(0);return()=>s._St(1)},t=>{const s=t.twt(0);return()=>.5*-s._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(3)+.75*e._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(1)-.85*e._St()},()=>-20,t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>s._St()+e._St()-i._St()},t=>{const s=t.twt(0).bSt();return()=>.75*s()},()=>"fg",()=>"layoutTrack01",()=>9,t=>{const s=t.twt(0).bSt();return()=>s(75,80,85,90,95,100,100,100)},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>s._St()*(e._St()/i._St())},t=>{const s=t.twt(0);return()=>2.5*s._St()},t=>{const s=t.twt(0);return()=>.05*-s._St()},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>.125*(s()-e._St())},()=>"closeups",t=>{const s=t.twt(0).bSt();return()=>s(70,75,80,85,90,95,100,100)},t=>{const s=t.twt(0);return()=>s._St()/2},()=>"objects",t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt(),r=t.twt(3),n=t.twt(4).bSt();return()=>gc.vn(s._St(),e._St(),3*i(),r._St())/(3*n())},t=>{const s=t.twt(0);return()=>s.ESt()},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>2*s()+4*e._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()+.0175*e._St()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>(s._St(1)+e._St())/2-.0175*i._St()},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>8*s()+Math.abs(e._St())},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>s()+e._St()},t=>{const s=t.twt(0).bSt();return()=>10*-s()},t=>{const s=t.twt(0);return()=>s._St()+180},()=>200,t=>{const s=t.twt(0),e=t.twt(1);return()=>.125*s._St()+.05*e._St()},()=>175,t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>(s._St()+e._St())/2-.05*i._St()},t=>{const s=t.twt(0);return()=>100-.02*s._St()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>.0125*s._St()-Math.sqrt(.05*(e._St()+i._St()))},t=>{const s=t.twt(0).bSt();return()=>2*-s()},()=>"",t=>{const s=t.twt(0).VSt();return()=>s.Tit()},t=>{const s=t.twt(0);return()=>.925*s._St()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>.35*s.BSt()+.125*gc.vn(e._St(),i._St(),r._St(),n._St())},t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2);return()=>2*s()+e._St()+i._St()},()=>1800,()=>100,()=>"bg",()=>"cats",t=>{const s=t.twt(0);return()=>2*(0-s._St())},()=>1.225,t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>a(0-s._St(),e(1.5,1.75,2,2.25))},()=>140,()=>.8,()=>30,t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>s()-e._St()},()=>.1,t=>{const s=t.twt(0).bSt();return()=>s(0,1,2,3)},t=>{const s=t.twt(0).bSt();return()=>s()+400},t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2).bSt();return()=>s()-.25*Math.abs(e._St()-i())},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2),r=t.twt(3),n=t.twt(4).bSt();return()=>s._St()/e()*i._St()*1-.09*(r._St()-n())},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2),r=t.twt(3),n=t.twt(4).bSt();return()=>s._St()/e()*i._St()*1+(r._St()-n())},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2),r=t.twt(3),n=t.twt(4).bSt();return()=>s._St()/e()*i._St()+7*Math.abs(r._St()-n())},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2);return()=>s._St()/e()*i._St()},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2);return()=>s._St()/e()*i._St()*.9},t=>{const s=t.twt(0),e=t.twt(1);return()=>(s._St(2)+e._St(2))/2},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2);return()=>s._St()/e()*i._St()*.825},t=>{const s=t.twt(0),e=t.twt(1);return()=>(s._St(3)+e._St(1))/2},t=>{const s=t.twt(0);return()=>s._St(5)},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>Math.abs(s._St()-e())},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>.1*Math.abs(s._St()-e())},()=>8,t=>{const s=t.twt(0);return()=>s._St()+1},t=>{const s=t.twt(0);return()=>100-4*s._St()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>1.25*s._St()-.5*Math.abs(e._St()-i())},()=>128,()=>40,t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>a(0-s._St(),e(2,2.25,2.5,2.75,3))},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>2*s()+e._St()},t=>{const s=t.twt(0);return()=>1.25*-s._St()},t=>{const s=t.twt(0).bSt();return()=>s(1,2,3)},t=>{const s=t.twt(0).bSt();return()=>s(0,2,3)},t=>{const s=t.twt(0).bSt();return()=>s(1,2,0)},()=>10,t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>o(0,h(h(s(),a(a(e(-.6,.6),i._St()),r.ESt())),8*n._St()))},t=>{const s=t.twt(0).bSt();return()=>3*s()},t=>{const s=t.twt(0);return()=>s._St(7)},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>s._St()/e._St()*i._St()*1.2+r._St()/n._St()*200},t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2).bSt(),r=t.twt(3),n=t.twt(4);return()=>s(Math.sqrt(e._St()))+i(r._St()/3)+Math.pow(n._St(),1.5)},()=>"couple",t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).bSt(),r=t.twt(3).bSt();return()=>s()+e(i(r()))-200},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).bSt();return()=>s()+e(i(-10,10))},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).bSt(),r=t.twt(3).bSt();return()=>.5*s()+e(i(1.5*r()))},t=>{const s=t.twt(0);return()=>.3*s._St()},t=>{const s=t.twt(0).bSt();return()=>s(2,3,4)},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2).bSt(),r=t.twt(3).bSt();return()=>s._St(2)+e(i(r()))-200},t=>{const s=t.twt(0);return()=>.15*s._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>.5*(s._St()-e._St())},t=>{const s=t.twt(0),e=t.twt(1);return()=>.15*(s._St()-e._St())},()=>45,t=>{const s=t.twt(0);return()=>1.001*s._St()},t=>{const s=t.twt(0);return()=>.995*s._St()},t=>{const s=t.twt(0);return()=>.975*s._St()},t=>{const s=t.twt(0);return()=>3*s._St()},()=>"windowLook01",()=>620,()=>"windowRest01",()=>650,()=>"stare",()=>680,()=>730,t=>{const s=t.twt(0).bSt();return()=>h(50,s(-5,-3,-1,0,1,3,5))},t=>{const s=t.twt(0).bSt();return()=>h(80,s(-8,-1,0,5,10,15))},t=>{const s=t.twt(0).bSt();return()=>s(0,1)},()=>"crowdFG",t=>{const s=t.twt(0);return()=>-s._St()},()=>.875,()=>1.04,()=>"FGWalkway",()=>.25,t=>{const s=t.twt(0),e=t.twt(1);return()=>.001*(s._St()+e._St())},t=>{const s=t.twt(0),e=t.twt(1);return()=>5e-4*(s._St()+e._St())},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>.125*Math.abs(s._St()-2*e())},t=>{const s=t.twt(0);return()=>1.25*s._St()},()=>32,t=>{const s=t.twt(0);return()=>s._St()+16},t=>{const s=t.twt(0);return()=>.01*s._St()},t=>{const s=t.twt(0);return()=>.1*Math.sqrt(s._St())},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()*(.815+1e-4*e._St(2))},t=>{const s=t.twt(0);return()=>1990*(.825+1e-4*s._St(2))},t=>{const s=t.twt(0),e=t.twt(1);return()=>2*Math.sqrt(s._St()-e._St(2))},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()*(.8+125e-6*e._St(2))},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>(s._St(2)+2*e())/2},t=>{const s=t.twt(0),e=t.twt(1);return()=>100/Math.abs(s._St()-e._St())},()=>15,()=>"bgLeaves01",()=>"UI",t=>{const s=t.twt(0).bSt();return()=>2.25*s()},t=>{const s=t.twt(0).bSt();return()=>2.45*s()},t=>{const s=t.twt(0).bSt();return()=>2*s()+10},()=>20,t=>{const s=t.twt(0).bSt();return()=>2*s()+5},t=>{const s=t.twt(0);return()=>Math.abs(s._St())},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>s()*(2.25+.02*e.BSt())},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>s()*(2.45-.005*e.BSt())},()=>60,()=>"ui",t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>2*s()-e._St()},()=>75,()=>"bd",()=>"BG01",t=>{const s=t.twt(0).bSt();return()=>.85*s()},()=>"Cabbie & Trunk",t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>gc.vn(s._St(),e._St(),i._St(1),r._St(1))+100},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>2*s()+e._St()+1},t=>{const s=t.twt(0);return()=>.97*s._St()},t=>{const s=t.twt(0);return()=>1.125*s._St()},t=>{const s=t.twt(0);return()=>1.1*s._St()},()=>80,t=>{const s=t.twt(0).bSt();return()=>2.125*s()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(1)-e._St()},()=>1.1,()=>"invis",()=>-200,t=>{const s=t.twt(0);return()=>s._St(1)+32},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>(s._St(e.ESt())+i._St())/3},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>(s._St()+gc.vn(e._St(),i._St(),r._St(),n._St()))/2},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>(s._St(e.ESt())+2*i._St())/3},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3),n=t.twt(4),h=t.twt(5);return()=>gc.vn(s._St(),e._St(),i._St(r.ESt()),n._St(h.ESt()))},t=>{const s=t.twt(0);return()=>16+.5*s._St()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>100+gc.vn(s._St(),e._St(),i._St(),r._St())},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>s._St(e(1,2,3,4))},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>gc.vn(s._St(),e._St(),i._St(),r._St())},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(e.ESt())/3},t=>{const s=t.twt(0),e=t.twt(1);return()=>(s._St()+2*e._St())/3},t=>{const s=t.twt(0);return()=>.9*s._St()},t=>{const s=t.twt(0);return()=>1.0125*s._St()},t=>{const s=t.twt(0);return()=>.95*s._St()},t=>{const s=t.twt(0);return()=>1.0001*s._St()},t=>{const s=t.twt(0);return()=>1.025*s._St()},t=>{const s=t.twt(0).bSt();return()=>s(65,75,85,100)},t=>{const s=t.twt(0),e=t.twt(1);return()=>.3+5e-4*(120-s._St())+1e-4*e._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()/e._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>.275*s._St()+.1*e._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()+e._St()},t=>{const s=t.twt(0);return()=>1.1-s._St()/1e4},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>gc.vn(s._St(),e._St(),i._St(3),r._St(3))+200},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>s._St()/e._St()*i._St()},t=>{const s=t.twt(0);return()=>s._St()+32},t=>{const s=t.twt(0),e=t.twt(1);return()=>Math.abs(s._St()-e._St(1))/2},t=>{const s=t.twt(0).bSt();return()=>s()-98},()=>98,()=>-720498969868287,()=>"Arial",()=>1.5,()=>"\nby Chris Goodwin",()=>"Credits",t=>{const s=t.twt(0).bSt();return()=>s("Credits")},()=>"OUR TWO CATS LOVE EACH OTHER",t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2).VSt();return()=>2*s()/(e("Credits")/i.Tit())*.5},()=>1.01,()=>"CAST\n(in order of appearance)",()=>1.02,()=>"CAROL . . . . . . . . Carol",()=>1.03,()=>"FREDDIE . . . . . . . . Freddie No",()=>"PASSENGER . . . . . . . . Dubi",()=>1.05,()=>"DEBOARDING PASSENGER . . . . . . . . Mao Lemieux",()=>1.06,()=>"READING TRAVELLER . . . . . . . . Jane",()=>1.07,()=>"MOBILE WATCHER . . . . . . . . Somnius",()=>1.08,()=>"PERAMBULATING TRAVELLER . . . . . . . . Abe",()=>1.09,()=>"TAXI DRIVER . . . . . . . . Stanley",t=>{const s=t.twt(0);return()=>1+.01*s._St()},()=>64,t=>{const s=t.twt(0);return()=>s.ESt()+.01},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>(s._St()-.25*e())/2},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>(1.5*s()-e._St())/2},t=>{const s=t.twt(0).VSt();return()=>s.Tit()-1},t=>{const s=t.twt(0).bSt();return()=>2*s()/4},t=>{const s=t.twt(0),e=t.twt(1);return()=>(s._St()+e._St())/2},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>gc.vn(s._St(),e._St(),i._St(1),r._St(1))/2},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>.95*(s._St(1)+gc.vn(e._St(),i._St(),r._St(),n._St()))},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>.4+.001*(s()-e._St())},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>150-Math.abs((s._St()+e._St(1))/2-i._St(1))},()=>85,t=>{const s=t.twt(0).bSt();return()=>1.85*s()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(1)-.55*e._St()},t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2).bSt();return()=>(s()-e._St())/i()*1.5},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>2*gc.vn(s._St(),e._St(),i._St(),r._St())},t=>{const s=t.twt(0);return()=>s.BSt()},t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2).bSt();return()=>.65*Math.abs((s()-e._St())/i())},t=>{const s=t.twt(0).bSt();return()=>3.25*s()},t=>{const s=t.twt(0).bSt();return()=>.65*s()},t=>{const s=t.twt(0);return()=>s._St(1)-200},t=>{const s=t.twt(0);return()=>1.2*s._St()},t=>{const s=t.twt(0);return()=>.999*s._St()},()=>13,t=>{const s=t.twt(0).bSt();return()=>s(0,1,2)},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>h(s(),e(-3,-2,-1,0,0,1,2,3))},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>h(s(),e(-7,-5,-3,3,5,7))},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>s(e(-10,10))},t=>{const s=t.twt(0).bSt();return()=>s(55,60,65,75)},()=>4236,()=>670,()=>4269,()=>2168,t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>.5*Math.abs(s._St()-(e._St(11)-i._St()))},()=>1.4,()=>1.25,()=>1.35,()=>.95,()=>.825,t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>(s._St()+e._St(1))/2+i.BSt()},()=>"AdjustHSL",t=>{const s=t.twt(0).bSt();return()=>.25*-s()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()+e._St()/2},()=>11,t=>{const s=t.twt(0).bSt();return()=>2.5*s()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>(s._St(1)/2+e._St()+i())/2},t=>{const s=t.twt(0);return()=>s._St(13)},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>2*s()+e._St()+10},t=>{const s=t.twt(0).bSt();return()=>.25*s()+400},t=>{const s=t.twt(0).bSt();return()=>2*s()-200},t=>{const s=t.twt(0).bSt();return()=>+s()+300},t=>{const s=t.twt(0).bSt();return()=>1.5*s()+300},t=>{const s=t.twt(0).bSt();return()=>1.85*s()+300},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt(),i=t.twt(2);return()=>s(e(1,i._St()))},()=>"crowdBG",t=>{const s=t.twt(0),e=t.twt(1);return()=>100+.25*Math.abs(s._St()-e._St())},t=>{const s=t.twt(0).bSt();return()=>.3*s()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>s._St(1)+5e-5*Math.pow(e._St()-.25*i(),2)},()=>14,t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(12)-e._St()},t=>{const s=t.twt(0);return()=>s._St(11)},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()+e._St()+16},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2);return()=>Math.abs(s._St()-(2*e()+i._St()))/2},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(1)+e.BSt()},t=>{const s=t.twt(0);return()=>s._St()-800},t=>{const s=t.twt(0),e=t.twt(1);return()=>60+(s.BSt()+e.BSt())/2},t=>{const s=t.twt(0);return()=>s._St()-100},t=>{const s=t.twt(0);return()=>.65*s._St(1)},()=>35,()=>70,t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2);return()=>(s()+e._St()+i._St())/3},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3),n=t.twt(4),h=t.twt(5);return()=>(3*s._St(13)+(e._St()+i._St())/2/Math.sqrt(Math.abs(r._St()-(n._St()+h._St())/2)))/2.75},t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>(s()+e._St()+i._St())/3+r.BSt()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(12)+.25*e._St()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>Math.abs(s._St(12)+.25*e._St()-i._St())},()=>300,t=>{const s=t.twt(0),e=t.twt(1);return()=>6.5*Math.sqrt(s._St()-e._St())},t=>{const s=t.twt(0),e=t.twt(1).bSt(),i=t.twt(2);return()=>3*Math.sqrt(s._St()-.25*e())+.1*i._St()},t=>{const s=t.twt(0);return()=>s._St(1)/2},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt(),r=t.twt(3).bSt();return()=>gc.vn(s._St(),e._St(),i(),r())},()=>.3,t=>{const s=t.twt(0);return()=>1e3+s._St()},()=>"rearClaw",t=>{const s=t.twt(0);return()=>s.PSt()},t=>{const s=t.twt(0);return()=>+s.ESt()},t=>{const s=t.twt(0);return()=>.8*s.ESt()},t=>{const s=t.twt(0);return()=>.85*s.ESt()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>(s._St()+e._St())/2+20*i.BSt()},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>(s()+e._St(1))/3},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>2*s()-200-e._St()/2},t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2);return()=>.75*(s()-2*(e._St(1)-i._St()))},t=>{const s=t.twt(0);return()=>s._St(1)-800},()=>6e3,t=>{const s=t.twt(0);return()=>1.125*s._St(2)},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>(s._St(1)+e._St()+2*i())/3},t=>{const s=t.twt(0);return()=>s._St()+1200},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>s._St()+(e._St()+i._St())/2},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>gc.vn(s._St(),e._St(),i._St(1),r._St(1))},t=>{const s=t.twt(0);return()=>45-s._St()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3),n=t.twt(4);return()=>(s.BSt()+e._St()+i._St()+r._St()+n._St())/5-90},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>(s._St()+e._St()+i._St()+r._St())/4+100},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3);return()=>.75*s._St()-.1*e._St()+.1*Math.abs(i._St()-r._St())},()=>360,()=>17,()=>1.3,t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>h(s._St(),a(e._St(),i(-.5,-.4,-.3,-.2,.2,.3,.4,.5)))},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2),r=t.twt(3).bSt(),n=t.twt(4);return()=>l(h(h(s._St(),h(e._St(),a(i._St(),r(-.5,-.4,-.3,-.2,.2,.3,.4,.5)))),n._St(1)),3)},t=>{const s=t.twt(0);return()=>.4*s._St()},()=>12,()=>-40,()=>110,()=>"storage",t=>{const s=t.twt(0);return()=>1.01*s._St()},t=>{const s=t.twt(0);return()=>.0125*s._St()},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>20-.05*Math.abs(s._St()-e())},t=>{const s=t.twt(0);return()=>1.02*s._St()},t=>{const s=t.twt(0);return()=>.825*s._St()},t=>{const s=t.twt(0);return()=>1.03*s._St()},t=>{const s=t.twt(0);return()=>.7*s._St()},t=>{const s=t.twt(0);return()=>.75*s._St()},t=>{const s=t.twt(0);return()=>.7+175e-6*s._St()},t=>{const s=t.twt(0);return()=>s._St(5)+50},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>s._St(5)+2*Math.abs(e._St()-i())-100},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>1+.001*Math.abs(s._St()-e())},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>1+15e-5*Math.abs(s._St()-e())},t=>{const s=t.twt(0),e=t.twt(1);return()=>(s._St()+e._St())/10},t=>{const s=t.twt(0),e=t.twt(1);return()=>1+.01*s._St()+.01*e._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>.25+.001*s._St()+1e-4*e._St()},t=>{const s=t.twt(0);return()=>100+s._St()/2},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>1+.0025*Math.abs(s._St()-e())},t=>{const s=t.twt(0);return()=>s._St(1)+100},t=>{const s=t.twt(0);return()=>1.425*s._St()},()=>"BG02",t=>{const s=t.twt(0);return()=>s._St(1)+400},t=>{const s=t.twt(0);return()=>0-1.5*s._St()},t=>{const s=t.twt(0).bSt();return()=>s()-100},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>s._St(4)+Math.pow(Math.abs(e._St()-i()),2.725)},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>s._St(4)+Math.pow(Math.abs(e._St()-i()),3)},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>30+Math.abs(s._St()-e())},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St(1)/2+2*e._St()},t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>.25*s._St()+10+Math.pow(Math.abs(e._St()-i()),1.5)},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>1.5*s()-e._St()},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>2*(s()+e._St())},t=>{const s=t.twt(0),e=t.twt(1);return()=>Math.sqrt(s._St()+e._St())/4},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>s()+.25*e._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>Math.abs(s._St()-e._St())},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>s(e(100))},t=>{const s=t.twt(0);return()=>s._St(1)-50},()=>"Vignette",t=>{const s=t.twt(0);return()=>1-1e-4*s._St()},t=>{const s=t.twt(0);return()=>1-2e-4*s._St()},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>(2*s._St()+2*e())/3+100},()=>350,t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>s._St()+1.3*Math.abs(e._St(4)-i._St())},t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>s()+3*e.BSt()},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()+200+e.BSt()},()=>1.0475,()=>120,()=>2.25,()=>150,()=>"layoutTack01",()=>"Track01",t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2).bSt();return()=>s.PSt()/e._St()*i("Track01")},()=>"layoutTerminalStreet",()=>-281483566646271,t=>{const s=t.twt(0).VSt();return()=>r("stateSequence: ",s.Tit())},t=>{const s=t.twt(0).VSt(),e=t.twt(1).VSt();return()=>r(r("\nstatePlaneLanding: ",s.Tit())+"\nstateCloseups: ",e.Tit())},t=>{const s=t.twt(0).VSt(),e=t.twt(1).VSt();return()=>r(r("\nstatePlaneInterior: ",s.Tit())+"\nstateCloseups: ",e.Tit())},t=>{const s=t.twt(0).VSt(),e=t.twt(1).VSt();return()=>r(r("\nstateTerminalScene: ",s.Tit())+"\nstateCloseups: ",e.Tit())},t=>{const s=t.twt(0).VSt(),e=t.twt(1).VSt();return()=>r(r("\nstateTerminalMobile: ",s.Tit())+"\nstateCloseups: ",e.Tit())},t=>{const s=t.twt(0).VSt(),e=t.twt(1),i=t.twt(2).VSt();return()=>r(r(r("\nstateTerminalRestroom: ",s.Tit())+"\nrestroomScenario: ",e.ESt())+"\nstateCloseups: ",i.Tit())},t=>{const s=t.twt(0).VSt(),e=t.twt(1).VSt();return()=>r(r("\nstateTerminalStreet: ",s.Tit())+"\nstateCloseups: ",e.Tit())},t=>{const s=t.twt(0).VSt(),e=t.twt(1).VSt();return()=>r(r("\nstateDriveAway: ",s.Tit())+"\nstateCloseups: ",e.Tit())},t=>{const s=t.twt(0).VSt(),e=t.twt(1).VSt();return()=>r(r("\nstateTaxiBackseat: ",s.Tit())+"\nstateCloseups: ",e.Tit())},t=>{const s=t.twt(0).VSt(),e=t.twt(1).VSt();return()=>r(r("\nstateAlley: ",s.Tit())+"\nstateCloseups: ",e.Tit())},()=>785,()=>245,()=>"fade",()=>500,()=>1300,()=>1500,()=>1770,()=>1920,()=>2200,()=>2520,()=>2620,()=>2820,()=>2920,t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()+e.ESt()},()=>25,()=>99,t=>{const s=t.twt(0);return()=>1.15*-s._St()},t=>{const s=t.twt(0);return()=>1.125*-s._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>200+.5*Math.abs(s._St()-e._St())},t=>{const s=t.twt(0);return()=>.2*s._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>.35*s._St()+.125*e._St()},t=>{const s=t.twt(0),e=t.twt(1);return()=>.25*s._St()+.125*e._St()},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>0+.01*(s._St()-e())},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>(s._St(4)+e())/2+320},t=>{const s=t.twt(0);return()=>-s._St()-56},t=>{const s=t.twt(0),e=t.twt(1);return()=>100-10*Math.sqrt(Math.abs(s._St()-e._St()))},t=>{const s=t.twt(0);return()=>1.05*s.BSt()},t=>{const s=t.twt(0);return()=>25+.05*s._St()},t=>{const s=t.twt(0),e=t.twt(1).bSt();return()=>.3*Math.abs(s._St()-1.25*e())-300},t=>{const s=t.twt(0),e=t.twt(1);return()=>200-10*Math.sqrt(Math.abs(s._St()-e._St()))},()=>69,t=>{const s=t.twt(0);return()=>200-s._St()},()=>18,t=>{const s=t.twt(0),e=t.twt(1),i=t.twt(2);return()=>100-100*Math.abs((s._St()-e._St())/i._St())},t=>{const s=t.twt(0);return()=>2*s.ESt()},()=>"layoutDriveAway",()=>"layoutTerminalRestroom",()=>"Drone01",()=>"ambianceStartScreen",t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>s(e())},()=>"Track00",t=>{const s=t.twt(0);return()=>s._St(1)+64},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()-e._St()/2},t=>{const s=t.twt(0).bSt(),e=t.twt(1),i=t.twt(2).bSt(),r=t.twt(3).VSt();return()=>s("Track01")*e._St()/i(r.Tit())},t=>{const s=t.twt(0),e=t.twt(1);return()=>s._St()+e.PSt()},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>s(e(3,11))},t=>{const s=t.twt(0).bSt(),e=t.twt(1).bSt();return()=>s(e(1,10))},()=>"bgTexture",t=>{const s=t.twt(0).bSt(),e=t.twt(1);return()=>.03*Math.abs(3*s()-e._St())}]}var t=self.Bs;self.wLt=function(){return[t.aX.Drt,t.zat.bYt,t.zat.eZt,t.zat.EZt,t.zat.CQt,t.zat.wrap,t.zat.ZQt,t.zat.tts,t.aX.Text,t.aX.T7t,t.aX.Audio,t.aX.Keyboard,t.aX.Touch,t.aX.hX.nX.i4t,t.aX.hX.Qrt.IWt,t.aX.hX.nX.n4t,t.zat.CQt.Zrt.WKt,t.aX.Drt.Qrt.rxt,t.aX.hX.nX.KNt,t.aX.Drt.nX.Xbt,t.aX.Drt.Zrt.Bvt,t.aX.hX.Qrt.SSt,t.aX.hX.nX.XNt,t.aX.Drt.Zrt.Rbt,t.aX.Drt.Qrt.gjt,t.aX.Drt.Qrt.yjt,t.zat.CQt.Zrt.JQt,t.aX.Drt.Qrt.pxt,t.aX.Drt.Qrt.sxt,t.aX.Drt.Qrt.ixt,t.zat.bYt.Zrt.DKt,t.aX.Drt.Zrt.oL,t.aX.Drt.Zrt.nL,t.aX.hX.Qrt._Wt,t.aX.hX.Qrt.GWt,t.aX.hX.Qrt.random,t.aX.hX.Qrt.H6t,t.aX.Drt.nX.sbt,t.aX.Drt.Zrt.njt,t.aX.hX.nX.rX,t.aX.Drt.Zrt.hbt,t.aX.Drt.Zrt.HL,t.aX.Drt.Qrt.nxt,t.aX.Drt.nX.ibt,t.aX.Drt.nX.Qbt,t.aX.Drt.nX.ebt,t.aX.Drt.Zrt.Nbt,t.aX.Drt.Zrt.k8t,t.aX.Drt.Zrt.P8t,t.aX.Drt.Zrt.lC,t.aX.Drt.nX.$8t,t.aX.Drt.Qrt.ujt,t.aX.Drt.Qrt.fjt,t.aX.Drt.Zrt.Bbt,t.aX.Drt.Zrt.Obt,t.aX.Drt.nX.Ovt,t.zat.CQt.Qrt.zKt,t.aX.Drt.nX.Gvt,t.aX.Drt.Zrt.abt,t.zat.CQt.Zrt.xxt,t.aX.Drt.Zrt.F8t,t.zat.CQt.Zrt.K7t,t.aX.Keyboard.nX.y$t,t.aX.hX.nX.YNt,t.aX.Drt.nX.p8t,t.aX.hX.Zrt.Fh,t.aX.Drt.Zrt.A8t,t.aX.Drt.Zrt.wm,t.aX.Drt.nX.JL,t.aX.Drt.Zrt.Pb,t.zat.bYt.Zrt.kKt,t.aX.Drt.nX.q8t,t.zat.bYt.nX.iKt,t.aX.Drt.Qrt.bjt,t.aX.Drt.Qrt.vjt,t.zat.eZt.Zrt.GZt,t.aX.Drt.Zrt.um,t.aX.Drt.Zrt.H3,t.aX.hX.nX.fd,t.aX.Drt.nX.d8t,t.aX.Drt.Zrt.ejt,t.aX.Drt.Qrt.Opacity,t.aX.Drt.Zrt.Dvt,t.zat.bYt.Zrt.jKt,t.aX.Drt.Qrt.Xvt,t.aX.hX.Zrt.B4t,t.zat.bYt.Zrt.UKt,t.zat.bYt.Qrt.zKt,t.zat.bYt.Zrt.Y7t,t.zat.EZt.Zrt.bQt,t.zat.EZt.Zrt.xxt,t.aX.hX.nX.w4t,t.aX.Drt.Zrt.Rb,t.zat.eZt.Zrt.TZt,t.aX.hX.Zrt.F4t,t.aX.hX.Zrt.k4t,t.aX.Drt.Qrt.Txt,t.zat.ZQt.Zrt.WKt,t.aX.hX.Zrt.A4t,t.zat.eZt.nX.vZt,t.zat.tts.Zrt.Rts,t.zat.tts.Zrt.Fts,t.zat.tts.Zrt.Cts,t.aX.Drt.Qrt.djt,t.aX.Drt.Zrt.Lbt,t.aX.Drt.nX.pbt,t.zat.EZt.Zrt.xQt,t.zat.EZt.Zrt.wQt,t.zat.EZt.Zrt.SQt,t.zat.EZt.Zrt.MQt,t.zat.bYt.Zrt.xxt,t.zat.bYt.Zrt.WKt,t.zat.EZt.Qrt.IQt,t.aX.Touch.nX.GXt,t.aX.Touch.nX.oXt,t.aX.Audio.Zrt.bqt,t.aX.hX.Zrt.i6t,t.aX.hX.nX.mpt,t.aX.Drt.Zrt.Cbt,t.aX.Text.Zrt.oL,t.aX.Text.Qrt.Xvt,t.aX.Text.nX.Ovt,t.aX.Text.Zrt.Bvt,t.zat.tts.Zrt.Ets,t.aX.Text.nX.Gvt,t.aX.Text.Zrt.lC,t.aX.Text.Qrt.d7t,t.aX.Text.Zrt.n7t,t.aX.Text.Zrt.r7t,t.aX.Text.Zrt.WI,t.aX.Text.Zrt.s7t,t.aX.Text.Zrt.t7t,t.aX.Text.nX.YVt,t.aX.Text.nX.mVt,t.aX.Text.Zrt.ZVt,t.zat.tts.nX.cts,t.aX.Audio.nX.oqt,t.aX.Audio.Qrt.ent,t.aX.Text.Zrt.HL,t.aX.Text.Zrt.QVt,t.aX.Audio.Qrt.qqt,t.aX.Text.Zrt.df,t.aX.Text.nX.ibt,t.aX.Text.Qrt.sxt,t.aX.Text.nX.ebt,t.aX.Text.Zrt.H3,t.aX.Text.Qrt.ixt,t.aX.Text.Zrt.Dvt,t.aX.Drt.Zrt.Ibt,t.zat.bYt.Zrt.NKt,t.zat.EZt.Zrt.vQt,t.zat.bYt.Qrt.JKt,t.aX.Drt.nX.Ebt,t.aX.Drt.Zrt.sjt,t.aX.Drt.Qrt.jbt,t.aX.Drt.Zrt.qbt,t.aX.Drt.Zrt.$bt,t.aX.T7t.nX.Gvt,t.aX.T7t.Zrt.hHt,t.zat.bYt.nX.PKt,t.aX.T7t.Zrt.hbt,t.aX.T7t.Zrt.j7t,t.aX.T7t.Qrt.sxt,t.aX.T7t.Zrt.pzt,t.aX.T7t.Zrt.eHt,t.aX.T7t.Zrt.Bvt,t.aX.T7t.nX.Ovt,t.aX.T7t.Zrt.L7t,t.aX.T7t.Zrt.H7t,t.aX.T7t.Zrt.yzt,t.aX.T7t.Zrt.B7t,t.aX.T7t.Zrt.U7t,t.aX.T7t.Zrt.wzt,t.aX.T7t.Zrt.K7t,t.aX.T7t.nX.Abt,t.aX.T7t.Zrt.Dvt,t.aX.Touch.nX.TXt,t.aX.Touch.Qrt.sxt,t.aX.Touch.Qrt.ixt,t.zat.bYt.Zrt.IW,t.aX.Drt.Zrt.hjt,t.aX.hX.Zrt.v6t,t.aX.hX.Zrt.x6t,t.zat.EZt.nX.Ku,t.aX.Drt.nX.nbt,t.aX.Audio.Zrt.xqt,t.aX.hX.Zrt.h6t,t.aX.Text.Zrt.abt,t.aX.Text.Zrt.Nbt,t.aX.Text.Zrt.hbt,t.aX.hX.Zrt.o6t,t.aX.hX.nX.h4t,t.aX.Audio.Zrt.Play,t.aX.Audio.Qrt.s$t,t.aX.Audio.nX.XJt,t.aX.T7t.Zrt.HL,t.aX.T7t.Zrt.Nbt,t.aX.T7t.Zrt.abt,t.aX.T7t.Zrt.Rbt]},self.OLt=[{Dts:0},{bYt:0},{Ots:0},{Lts:0},{Bts:0},{eZt:0},{Nts:0},{Wts:0},{Uts:0},{jts:0},{Vts:0},{Hts:0},{zts:0},{Jts:0},{qts:0},{$ts:0},{Xts:0},{Yts:0},{target:0},{CQt:0},{Kts:0},{Zts:0},{Qts:0},{tss:0},{sss:0},{ess:0},{iss:0},{rss:0},{nss:0},{hss:0},{oss:0},{ass:0},{lss:0},{uss:0},{css:0},{fss:0},{dss:0},{pss:0},{mss:0},{gss:0},{yss:0},{Sss:0},{wss:0},{bss:0},{vss:0},{xss:0},{Mss:0},{Tss:0},{Gss:0},{_ss:0},{Iss:0},{Css:0},{Rss:0},{Ess:0},{Fss:0},{Pss:0},{Ass:0},{kss:0},{Dss:0},{Oss:0},{Lss:0},{Bss:0},{Nss:0},{Wss:0},{Uss:0},{jss:0},{Vss:0},{Hss:0},{zss:0},{Jss:0},{qss:0},{$ss:0},{Xss:0},{Yss:0},{Kss:0},{Zss:0},{Qss:0},{tes:0},{ZQt:0},{ses:0},{ees:0},{ies:0},{tts:0},{res:0},{nes:0},{hes:0},{oes:0},{aes:0},{les:0},{ues:0},{ces:0},{fes:0},{des:0},{pes:0},{mes:0},{ges:0},{yes:0},{Ses:0},{wes:0},{bes:0},{ves:0},{xes:0},{Mes:0},{Tes:0},{Ges:0},{_es:0},{Ies:0},{Ces:0},{Res:0},{Ees:0},{Fes:0},{Pes:0},{Aes:0},{kes:0},{Des:0},{Oes:0},{Les:0},{Bes:0},{Nes:0},{Wes:0},{Ues:0},{jes:0},{Ves:0},{Hes:0},{zes:0},{Jes:0},{qes:0},{$es:0},{Xes:0},{Yes:0},{Kes:0},{Zes:0},{Qes:0},{tis:0},{sis:0},{eis:0},{iis:0},{ris:0},{nis:0},{his:0},{ois:0},{ais:0},{lis:0},{uis:0},{cis:0},{fis:0},{dis:0},{pis:0},{mis:0},{gis:0},{yis:0},{Sis:0},{wis:0},{bis:0},{vis:0},{xis:0},{Mis:0},{Tis:0},{Gis:0},{_is:0},{Iis:0},{Cis:0},{Ris:0},{Eis:0},{Fis:0},{Pis:0},{Ais:0},{kis:0},{Dis:0},{Ois:0},{Lis:0},{Bis:0},{Nis:0},{Wis:0},{Uis:0},{jis:0},{Vis:0},{His:0},{zis:0},{Jis:0},{qis:0},{$is:0},{Xis:0},{Yis:0},{Kis:0},{Zis:0},{Qis:0},{trs:0},{srs:0},{ers:0},{irs:0},{rrs:0},{nrs:0},{hrs:0},{ors:0},{ars:0},{lrs:0},{urs:0},{crs:0},{frs:0},{drs:0},{prs:0},{mrs:0},{grs:0},{yrs:0},{Srs:0},{wrs:0},{brs:0},{vrs:0},{xrs:0},{Mrs:0},{Trs:0},{Grs:0},{_rs:0},{Irs:0},{Crs:0},{Rrs:0},{Ers:0},{Frs:0},{Prs:0},{Ars:0},{krs:0},{Drs:0},{Ors:0},{Lrs:0},{Brs:0},{Nrs:0},{Wrs:0},{Urs:0},{jrs:0},{Vrs:0},{Hrs:0},{zrs:0},{Jrs:0},{qrs:0},{$rs:0},{Xrs:0},{Yrs:0},{Krs:0},{Zrs:0},{Qrs:0},{tns:0},{sns:0},{ens:0},{ins:0},{rns:0},{nns:0},{hns:0},{ons:0},{ans:0},{lns:0},{uns:0},{cns:0},{fns:0},{dns:0},{pns:0},{mns:0},{gns:0},{yns:0},{Sns:0},{wns:0},{bns:0},{vns:0},{xns:0},{Mns:0},{Tns:0},{Gns:0},{_ns:0},{Ins:0},{Cns:0},{Rns:0},{Ens:0},{Fns:0},{Pns:0},{Ans:0},{kns:0},{Dns:0},{Ons:0},{Lns:0},{Bns:0},{Nns:0},{Wns:0},{Uns:0},{jns:0},{Vns:0},{Hns:0},{zns:0},{Jns:0},{qns:0},{$ns:0},{Xns:0},{Yns:0},{Kns:0},{Audio:0},{Zns:0},{Keyboard:0},{Qns:0},{Touch:0},{ths:0},{shs:0},{ehs:0},{ihs:0},{rhs:0},{nhs:0},{hhs:0},{ohs:0},{ahs:0},{lhs:0},{uhs:0},{chs:0},{fhs:0},{dhs:0},{phs:0},{mhs:0},{ghs:0},{yhs:0},{Shs:0},{whs:0},{bhs:0},{vhs:0},{xhs:0},{Mhs:0},{Ths:0},{Ghs:0},{_hs:0},{Ihs:0},{Chs:0},{Rhs:0},{Ehs:0},{Fhs:0},{Phs:0},{Ahs:0},{khs:0},{Dhs:0},{Ohs:0},{Lhs:0},{Bhs:0},{Nhs:0}],self.Whs={Ots:class extends self.O8t{},Lts:class extends self.O8t{},Bts:class extends self.O8t{},Nts:class extends self.O8t{},Wts:class extends self.O8t{},Uts:class extends self.O8t{},jts:class extends self.O8t{},Vts:class extends self.O8t{},zts:class extends self.O8t{},Yts:class extends self.O8t{},Kts:class extends self.O8t{},Zts:class extends self.O8t{},tss:class extends self.O8t{},sss:class extends self.O8t{},ess:class extends self.O8t{},iss:class extends self.O8t{},rss:class extends self.O8t{},nss:class extends self.O8t{},hss:class extends self.O8t{},ass:class extends self.O8t{},lss:class extends self.O8t{},uss:class extends self.O8t{},css:class extends self.O8t{},fss:class extends self.O8t{},dss:class extends self.O8t{},pss:class extends self.O8t{},mss:class extends self.O8t{},gss:class extends self.O8t{},yss:class extends self.O8t{},Sss:class extends self.O8t{},wss:class extends self.O8t{},bss:class extends self.O8t{},vss:class extends self.O8t{},xss:class extends self.O8t{},Mss:class extends self.O8t{},Tss:class extends self.O8t{},Gss:class extends self.O8t{},_ss:class extends self.O8t{},Iss:class extends self.O8t{},Css:class extends self.O8t{},Rss:class extends self.O8t{},Ess:class extends self.O8t{},Fss:class extends self.O8t{},Ass:class extends self.O8t{},kss:class extends self.O8t{},Oss:class extends self.O8t{},Lss:class extends self.O8t{},Bss:class extends self.O8t{},Nss:class extends self.O8t{},Wss:class extends self.O8t{},Uss:class extends self.O8t{},jss:class extends self.O8t{},Vss:class extends self.O8t{},Hss:class extends self.O8t{},zss:class extends self.O8t{},Jss:class extends self.O8t{},qss:class extends self.O8t{},$ss:class extends self.O8t{},Xss:class extends self.O8t{},Yss:class extends self.O8t{},Kss:class extends self.O8t{},Zss:class extends self.O8t{},Qss:class extends self.O8t{},ses:class extends self.O8t{},ees:class extends self.O8t{},ies:class extends self.O8t{},res:class extends self.O8t{},nes:class extends self.O8t{},hes:class extends self.O8t{},les:class extends self.O8t{},ues:class extends self.O8t{},ces:class extends self.O8t{},fes:class extends self.O8t{},des:class extends self.O8t{},mes:class extends self.O8t{},ges:class extends self.O8t{},Ses:class extends self.O8t{},wes:class extends self.O8t{},bes:class extends self.O8t{},ves:class extends self.O8t{},xes:class extends self.O8t{},Mes:class extends self.O8t{},Tes:class extends self.O8t{},Ges:class extends self.O8t{},_es:class extends self.O8t{},Ies:class extends self.O8t{},Ces:class extends self.O8t{},Res:class extends self.O8t{},Ees:class extends self.O8t{},Fes:class extends self.O8t{},Pes:class extends self.O8t{},Aes:class extends self.O8t{},kes:class extends self.O8t{},Des:class extends self.O8t{},Oes:class extends self.O8t{},Les:class extends self.O8t{},Bes:class extends self.O8t{},Nes:class extends self.O8t{},Wes:class extends self.O8t{},Ues:class extends self.O8t{},jes:class extends self.O8t{},Ves:class extends self.O8t{},Hes:class extends self.O8t{},zes:class extends self.O8t{},Jes:class extends self.O8t{},qes:class extends self.O8t{},$es:class extends self.O8t{},Xes:class extends self.O8t{},Yes:class extends self.O8t{},Kes:class extends self.O8t{},Zes:class extends self.O8t{},Qes:class extends self.O8t{},tis:class extends self.O8t{},sis:class extends self.O8t{},eis:class extends self.O8t{},iis:class extends self.O8t{},ris:class extends self.O8t{},nis:class extends self.O8t{},his:class extends self.O8t{},ois:class extends self.O8t{},ais:class extends self.O8t{},lis:class extends self.O8t{},uis:class extends self.O8t{},cis:class extends self.O8t{},fis:class extends self.O8t{},dis:class extends self.O8t{},pis:class extends self.O8t{},mis:class extends self.O8t{},gis:class extends self.O8t{},yis:class extends self.O8t{},Sis:class extends self.O8t{},wis:class extends self.O8t{},bis:class extends self.O8t{},vis:class extends self.O8t{},Mis:class extends self.O8t{},Tis:class extends self.O8t{},Gis:class extends self.O8t{},_is:class extends self.O8t{},Iis:class extends self.O8t{},Cis:class extends self.O8t{},Ris:class extends self.O8t{},Eis:class extends self.O8t{},Ais:class extends self.O8t{},kis:class extends self.O8t{},Dis:class extends self.O8t{},Ois:class extends self.O8t{},Lis:class extends self.O8t{},Bis:class extends self.O8t{},Nis:class extends self.O8t{},Wis:class extends self.O8t{},Uis:class extends self.O8t{},jis:class extends self.O8t{},Vis:class extends self.O8t{},His:class extends self.O8t{},$is:class extends self.O8t{},Xis:class extends self.O8t{},Zis:class extends self.O8t{},Qis:class extends self.O8t{},trs:class extends self.O8t{},srs:class extends self.O8t{},ers:class extends self.O8t{},nrs:class extends self.DVt{},hrs:class extends self.O8t{},ors:class extends self.O8t{},ars:class extends self.O8t{},lrs:class extends self.O8t{},urs:class extends self.O8t{},crs:class extends self.O8t{},frs:class extends self.O8t{},drs:class extends self.O8t{},prs:class extends self.O8t{},mrs:class extends self.O8t{},grs:class extends self.O8t{},yrs:class extends self.O8t{},Srs:class extends self.O8t{},wrs:class extends self.O8t{},brs:class extends self.$Ht{},xrs:class extends self.$Ht{},Mrs:class extends self.O8t{},Trs:class extends self.O8t{},Grs:class extends self.O8t{},Irs:class extends self.O8t{},Crs:class extends self.O8t{},Rrs:class extends self.O8t{},Ers:class extends self.O8t{},Frs:class extends self.O8t{},Prs:class extends self.O8t{},Ars:class extends self.O8t{},krs:class extends self.O8t{},Drs:class extends self.O8t{},Lrs:class extends self.O8t{},Brs:class extends self.O8t{},Nrs:class extends self.O8t{},Wrs:class extends self.O8t{},Urs:class extends self.O8t{},jrs:class extends self.O8t{},Vrs:class extends self.O8t{},Hrs:class extends self.O8t{},zrs:class extends self.O8t{},Jrs:class extends self.O8t{},qrs:class extends self.O8t{},$rs:class extends self.O8t{},Xrs:class extends self.O8t{},Yrs:class extends self.O8t{},Krs:class extends self.O8t{},Zrs:class extends self.O8t{},Qrs:class extends self.O8t{},tns:class extends self.O8t{},sns:class extends self.O8t{},ens:class extends self.O8t{},ins:class extends self.O8t{},rns:class extends self.O8t{},nns:class extends self.O8t{},hns:class extends self.O8t{},ons:class extends self.O8t{},ans:class extends self.O8t{},lns:class extends self.O8t{},uns:class extends self.O8t{},cns:class extends self.O8t{},fns:class extends self.O8t{},dns:class extends self.O8t{},pns:class extends self.O8t{},mns:class extends self.O8t{},yns:class extends self.O8t{},Sns:class extends self.O8t{},bns:class extends self.O8t{},xns:class extends self.O8t{},Mns:class extends self.O8t{},Tns:class extends self.O8t{},Gns:class extends self.O8t{},_ns:class extends self.O8t{},Ins:class extends self.O8t{},Cns:class extends self.O8t{},Rns:class extends self.O8t{},Ens:class extends self.O8t{},Fns:class extends self.O8t{},Pns:class extends self.O8t{},Ans:class extends self.O8t{},kns:class extends self.O8t{},Dns:class extends self.O8t{},Ons:class extends self.O8t{},Lns:class extends self.O8t{},Bns:class extends self.O8t{},Nns:class extends self.O8t{},Wns:class extends self.O8t{},Uns:class extends self.O8t{},jns:class extends self.O8t{},Vns:class extends self.O8t{},Hns:class extends self.O8t{},zns:class extends self.O8t{},Jns:class extends self.O8t{},qns:class extends self.O8t{},$ns:class extends self.O8t{},Xns:class extends self.O8t{},Yns:class extends self.O8t{},Kns:class extends self.O8t{},Audio:class extends self.kB{},Zns:class extends self.DVt{},Keyboard:class extends self.kB{},Qns:class extends self.O8t{},Touch:class extends self.kB{},ths:class extends self.DVt{},shs:class extends self.O8t{},ehs:class extends self.O8t{},ihs:class extends self.O8t{},rhs:class extends self.O8t{},nhs:class extends self.O8t{},hhs:class extends self.O8t{},ohs:class extends self.O8t{},ahs:class extends self.O8t{},lhs:class extends self.O8t{},uhs:class extends self.O8t{},chs:class extends self.O8t{},fhs:class extends self.O8t{},dhs:class extends self.O8t{},phs:class extends self.O8t{},mhs:class extends self.O8t{},ghs:class extends self.O8t{}};