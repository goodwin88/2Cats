// Generated by Construct, the game and animation creation tool
// Visit: https://www.construct.net

{let O=function(t){xr=t},B=function(t){return t*Or},L=function(t,s){return Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},N=function(){var t=new xr(4);return xr!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},W=function(t){var s=new xr(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},U=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},j=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},V=function(t,s,e,i){var r=new xr(4);return r[0]=t,r[1]=s,r[2]=e,r[3]=i,r},H=function(t,s,e,i,r){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t},z=function(t,s){var e;return t===s?(e=s[1],t[1]=s[2],t[2]=e):(t[0]=s[0],t[1]=s[2],t[2]=s[1],t[3]=s[3]),t},J=function(t,s){var e=s[0],i=s[1],r=s[2],n=e*(s=s[3])-r*i;return n?(t[0]=s*(n=1/n),t[1]=-i*n,t[2]=-r*n,t[3]=e*n,t):null},q=function(t,s){var e=s[0];return t[0]=s[3],t[1]=-s[1],t[2]=-s[2],t[3]=e,t},X=function(t){return t[0]*t[3]-t[2]*t[1]},t=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=e[0],o=e[1],a=e[2],e=e[3];return t[0]=i*h+n*o,t[1]=r*h+s*o,t[2]=i*a+n*e,t[3]=r*a+s*e,t},$=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=Math.sin(e),e=Math.cos(e);return t[0]=i*e+n*h,t[1]=r*e+s*h,t[2]=i*-h+n*e,t[3]=r*-h+s*e,t},Y=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=e[0],e=e[1];return t[0]=i*h,t[1]=r*h,t[2]=n*e,t[3]=s*e,t},K=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=e,t[2]=-e,t[3]=s,t},Z=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t},Q=function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},tt=function(t){return Math.hypot(t[0],t[1],t[2],t[3])},st=function(t,s,e,i){return t[2]=i[2]/i[0],e[0]=i[0],e[1]=i[1],e[3]=i[3]-t[2]*e[1],[t,s,e]},et=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t},s=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t},it=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},rt=function(t,s){var e=t[0],i=t[1],r=t[2],t=t[3],n=s[0],h=s[1],o=s[2],s=s[3];return Math.abs(e-n)<=vr*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(i-h)<=vr*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-o)<=vr*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},nt=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t},ht=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t},ot=function(){var t=new xr(6);return xr!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},at=function(t){var s=new xr(6);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s},lt=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t},ut=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},ct=function(t,s,e,i,r,n){var h=new xr(6);return h[0]=t,h[1]=s,h[2]=e,h[3]=i,h[4]=r,h[5]=n,h},ft=function(t,s,e,i,r,n,h){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t[4]=n,t[5]=h,t},dt=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],s=s[5],o=e*n-i*r;return o?(t[0]=n*(o=1/o),t[1]=-i*o,t[2]=-r*o,t[3]=e*o,t[4]=(r*s-n*h)*o,t[5]=(i*h-e*s)*o,t):null},pt=function(t){return t[0]*t[3]-t[1]*t[2]},e=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],s=s[5],a=e[0],l=e[1],u=e[2],c=e[3],f=e[4],e=e[5];return t[0]=i*a+n*l,t[1]=r*a+h*l,t[2]=i*u+n*c,t[3]=r*u+h*c,t[4]=i*f+n*e+o,t[5]=r*f+h*e+s,t},mt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],s=s[5],a=Math.sin(e),e=Math.cos(e);return t[0]=i*e+n*a,t[1]=r*e+h*a,t[2]=i*-a+n*e,t[3]=r*-a+h*e,t[4]=o,t[5]=s,t},gt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],s=s[5],a=e[0],e=e[1];return t[0]=i*a,t[1]=r*a,t[2]=n*e,t[3]=h*e,t[4]=o,t[5]=s,t},yt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],s=s[5],a=e[0],e=e[1];return t[0]=i,t[1]=r,t[2]=n,t[3]=h,t[4]=i*a+n*e+o,t[5]=r*a+h*e+s,t},St=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=e,t[2]=-e,t[3]=s,t[4]=0,t[5]=0,t},wt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=s[1],t[4]=0,t[5]=0,t},bt=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=s[0],t[5]=s[1],t},vt=function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},xt=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},Mt=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t[4]=s[4]+e[4],t[5]=s[5]+e[5],t},i=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t[4]=s[4]-e[4],t[5]=s[5]-e[5],t},Tt=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*e,t[5]=s[5]*e,t},Gt=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t[4]=s[4]+e[4]*i,t[5]=s[5]+e[5]*i,t},_t=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]},It=function(t,s){var e=t[0],i=t[1],r=t[2],n=t[3],h=t[4],t=t[5],o=s[0],a=s[1],l=s[2],u=s[3],c=s[4],s=s[5];return Math.abs(e-o)<=vr*Math.max(1,Math.abs(e),Math.abs(o))&&Math.abs(i-a)<=vr*Math.max(1,Math.abs(i),Math.abs(a))&&Math.abs(r-l)<=vr*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(n-u)<=vr*Math.max(1,Math.abs(n),Math.abs(u))&&Math.abs(h-c)<=vr*Math.max(1,Math.abs(h),Math.abs(c))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},r=function(){var t=new xr(9);return xr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},Ct=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[4],t[4]=s[5],t[5]=s[6],t[6]=s[8],t[7]=s[9],t[8]=s[10],t},Rt=function(t){var s=new xr(9);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s},Et=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Pt=function(t,s,e,i,r,n,h,o,a){var l=new xr(9);return l[0]=t,l[1]=s,l[2]=e,l[3]=i,l[4]=r,l[5]=n,l[6]=h,l[7]=o,l[8]=a,l},Ft=function(t,s,e,i,r,n,h,o,a,l){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t[4]=n,t[5]=h,t[6]=o,t[7]=a,t[8]=l,t},At=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},kt=function(t,s){var e,i,r;return t===s?(e=s[1],i=s[2],r=s[5],t[1]=s[3],t[2]=s[6],t[3]=e,t[5]=s[7],t[6]=i,t[7]=r):(t[0]=s[0],t[1]=s[3],t[2]=s[6],t[3]=s[1],t[4]=s[4],t[5]=s[7],t[6]=s[2],t[7]=s[5],t[8]=s[8]),t},Dt=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=(s=s[8])*h-o*l,c=-s*n+o*a,f=l*n-h*a,d=e*u+i*c+r*f;return d?(t[0]=u*(d=1/d),t[1]=(-s*i+r*l)*d,t[2]=(o*i-r*h)*d,t[3]=c*d,t[4]=(s*e-r*a)*d,t[5]=(-o*e+r*n)*d,t[6]=f*d,t[7]=(-l*e+i*a)*d,t[8]=(h*e-i*n)*d,t):null},Ot=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],s=s[8];return t[0]=h*s-o*l,t[1]=r*l-i*s,t[2]=i*o-r*h,t[3]=o*a-n*s,t[4]=e*s-r*a,t[5]=r*n-e*o,t[6]=n*l-h*a,t[7]=i*a-e*l,t[8]=e*h-i*n,t},Bt=function(t){var s=t[0],e=t[3],i=t[4],r=t[5],n=t[6],h=t[7],o=t[8];return s*(o*i-r*h)+t[1]*(-o*e+r*n)+t[2]*(h*e-i*n)},n=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],s=s[8],c=e[0],f=e[1],d=e[2],p=e[3],m=e[4],g=e[5],y=e[6],S=e[7],e=e[8];return t[0]=c*i+f*h+d*l,t[1]=c*r+f*o+d*u,t[2]=c*n+f*a+d*s,t[3]=p*i+m*h+g*l,t[4]=p*r+m*o+g*u,t[5]=p*n+m*a+g*s,t[6]=y*i+S*h+e*l,t[7]=y*r+S*o+e*u,t[8]=y*n+S*a+e*s,t},Lt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],s=s[8],c=e[0],e=e[1];return t[0]=i,t[1]=r,t[2]=n,t[3]=h,t[4]=o,t[5]=a,t[6]=c*i+e*h+l,t[7]=c*r+e*o+u,t[8]=c*n+e*a+s,t},Nt=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],s=s[8],c=Math.sin(e),e=Math.cos(e);return t[0]=e*i+c*h,t[1]=e*r+c*o,t[2]=e*n+c*a,t[3]=e*h-c*i,t[4]=e*o-c*r,t[5]=e*a-c*n,t[6]=l,t[7]=u,t[8]=s,t},Wt=function(t,s,e){var i=e[0],e=e[1];return t[0]=i*s[0],t[1]=i*s[1],t[2]=i*s[2],t[3]=e*s[3],t[4]=e*s[4],t[5]=e*s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t},Ut=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=s[0],t[7]=s[1],t[8]=1,t},jt=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=e,t[2]=0,t[3]=-e,t[4]=s,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Vt=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=s[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},Ht=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=0,t[3]=s[2],t[4]=s[3],t[5]=0,t[6]=s[4],t[7]=s[5],t[8]=1,t},zt=function(t,s){var e=s[0],i=s[2],r=i+i,e=e*(l=e+e),n=(h=s[1])*l,h=h*(u=h+h),o=i*l,a=i*u,l=(s=s[3])*l,u=s*u,s=s*r;return t[0]=1-h-(i=i*r),t[3]=n-s,t[6]=o+u,t[1]=n+s,t[4]=1-e-i,t[7]=a-l,t[2]=o-u,t[5]=a+l,t[8]=1-e-h,t},Jt=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=e*o-i*h,S=e*a-r*h,w=e*l-n*h,b=i*a-r*o,v=i*l-n*o,x=r*l-n*a,M=u*m-c*p,T=u*g-f*p,G=c*g-f*m;return(d=y*(f=f*(s=s[15])-d*g)-S*(c=c*s-d*m)+w*G+b*(u=u*s-d*p)-v*T+x*M)?(t[0]=(o*f-a*c+l*G)*(d=1/d),t[1]=(a*u-h*f-l*T)*d,t[2]=(h*c-o*u+l*M)*d,t[3]=(r*c-i*f-n*G)*d,t[4]=(e*f-r*u+n*T)*d,t[5]=(i*u-e*c-n*M)*d,t[6]=(m*x-g*v+s*b)*d,t[7]=(g*w-p*x-s*S)*d,t[8]=(p*v-m*w+s*y)*d,t):null},qt=function(t,s,e){return t[0]=2/s,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/e,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},Xt=function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},$t=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},Yt=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t[4]=s[4]+e[4],t[5]=s[5]+e[5],t[6]=s[6]+e[6],t[7]=s[7]+e[7],t[8]=s[8]+e[8],t},h=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t[4]=s[4]-e[4],t[5]=s[5]-e[5],t[6]=s[6]-e[6],t[7]=s[7]-e[7],t[8]=s[8]-e[8],t},Kt=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*e,t[5]=s[5]*e,t[6]=s[6]*e,t[7]=s[7]*e,t[8]=s[8]*e,t},Zt=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t[4]=s[4]+e[4]*i,t[5]=s[5]+e[5]*i,t[6]=s[6]+e[6]*i,t[7]=s[7]+e[7]*i,t[8]=s[8]+e[8]*i,t},Qt=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]},ts=function(t,s){var e=t[0],i=t[1],r=t[2],n=t[3],h=t[4],o=t[5],a=t[6],l=t[7],t=t[8],u=s[0],c=s[1],f=s[2],d=s[3],p=s[4],m=s[5],g=s[6],y=s[7],s=s[8];return Math.abs(e-u)<=vr*Math.max(1,Math.abs(e),Math.abs(u))&&Math.abs(i-c)<=vr*Math.max(1,Math.abs(i),Math.abs(c))&&Math.abs(r-f)<=vr*Math.max(1,Math.abs(r),Math.abs(f))&&Math.abs(n-d)<=vr*Math.max(1,Math.abs(n),Math.abs(d))&&Math.abs(h-p)<=vr*Math.max(1,Math.abs(h),Math.abs(p))&&Math.abs(o-m)<=vr*Math.max(1,Math.abs(o),Math.abs(m))&&Math.abs(a-g)<=vr*Math.max(1,Math.abs(a),Math.abs(g))&&Math.abs(l-y)<=vr*Math.max(1,Math.abs(l),Math.abs(y))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},ss=function(){var t=new xr(16);return xr!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},es=function(t){var s=new xr(16);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s},is=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},rs=function(t,s,e,i,r,n,h,o,a,l,u,c,f,d,p,m){var g=new xr(16);return g[0]=t,g[1]=s,g[2]=e,g[3]=i,g[4]=r,g[5]=n,g[6]=h,g[7]=o,g[8]=a,g[9]=l,g[10]=u,g[11]=c,g[12]=f,g[13]=d,g[14]=p,g[15]=m,g},ns=function(t,s,e,i,r,n,h,o,a,l,u,c,f,d,p,m,g){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t[4]=n,t[5]=h,t[6]=o,t[7]=a,t[8]=l,t[9]=u,t[10]=c,t[11]=f,t[12]=d,t[13]=p,t[14]=m,t[15]=g,t},p=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},hs=function(t,s){var e,i,r,n,h,o;return t===s?(e=s[1],i=s[2],r=s[3],n=s[6],h=s[7],o=s[11],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=e,t[6]=s[9],t[7]=s[13],t[8]=i,t[9]=n,t[11]=s[14],t[12]=r,t[13]=h,t[14]=o):(t[0]=s[0],t[1]=s[4],t[2]=s[8],t[3]=s[12],t[4]=s[1],t[5]=s[5],t[6]=s[9],t[7]=s[13],t[8]=s[2],t[9]=s[6],t[10]=s[10],t[11]=s[14],t[12]=s[3],t[13]=s[7],t[14]=s[11],t[15]=s[15]),t},os=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=e*o-i*h,S=e*a-r*h,w=e*l-n*h,b=i*a-r*o,v=i*l-n*o,x=r*l-n*a,M=u*m-c*p,T=u*g-f*p,G=u*(s=s[15])-d*p,_=c*g-f*m,I=c*s-d*m,C=f*s-d*g,R=y*C-S*I+w*_+b*G-v*T+x*M;return R?(t[0]=(o*C-a*I+l*_)*(R=1/R),t[1]=(r*I-i*C-n*_)*R,t[2]=(m*x-g*v+s*b)*R,t[3]=(f*v-c*x-d*b)*R,t[4]=(a*G-h*C-l*T)*R,t[5]=(e*C-r*G+n*T)*R,t[6]=(g*w-p*x-s*S)*R,t[7]=(u*x-f*w+d*S)*R,t[8]=(h*I-o*G+l*M)*R,t[9]=(i*G-e*I-n*M)*R,t[10]=(p*v-m*w+s*y)*R,t[11]=(c*w-u*v-d*y)*R,t[12]=(o*T-h*_-a*M)*R,t[13]=(e*_-i*T+r*M)*R,t[14]=(m*S-p*b-g*y)*R,t[15]=(u*b-c*S+f*y)*R,t):null},as=function(t,s){var e=s[0],i=s[1],r=s[2],n=s[3],h=s[4],o=s[5],a=s[6],l=s[7],u=s[8],c=s[9],f=s[10],d=s[11],p=s[12],m=s[13],g=s[14],y=e*o-i*h,S=e*a-r*h,w=e*l-n*h,b=i*a-r*o,v=i*l-n*o,x=r*l-n*a,M=u*m-c*p,T=u*g-f*p,G=u*(s=s[15])-d*p,_=c*g-f*m,I=c*s-d*m,C=f*s-d*g;return t[0]=o*C-a*I+l*_,t[1]=r*I-i*C-n*_,t[2]=m*x-g*v+s*b,t[3]=f*v-c*x-d*b,t[4]=a*G-h*C-l*T,t[5]=e*C-r*G+n*T,t[6]=g*w-p*x-s*S,t[7]=u*x-f*w+d*S,t[8]=h*I-o*G+l*M,t[9]=i*G-e*I-n*M,t[10]=p*v-m*w+s*y,t[11]=c*w-u*v-d*y,t[12]=o*T-h*_-a*M,t[13]=e*_-i*T+r*M,t[14]=m*S-p*b-g*y,t[15]=u*b-c*S+f*y,t},ls=function(t){var s=t[0],e=t[1],i=t[2],r=t[4],n=t[5],h=t[6],o=t[8],a=t[9],l=t[10],u=t[12],c=t[13],f=t[14],d=s*n-e*r,p=s*h-i*r,m=e*h-i*n,g=o*c-a*u,y=o*f-l*u,S=a*f-l*c;return t[7]*(s*S-e*y+i*g)-t[3]*(r*S-n*y+h*g)+t[15]*(o*m-a*p+l*d)-t[11]*(u*m-c*p+f*d)},o=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=s[9],d=s[10],p=s[11],m=s[12],g=s[13],y=s[14],s=s[15],S=e[0],w=e[1],b=e[2],v=e[3];return t[0]=S*i+w*o+b*c+v*m,t[1]=S*r+w*a+b*f+v*g,t[2]=S*n+w*l+b*d+v*y,t[3]=S*h+w*u+b*p+v*s,t[4]=(S=e[4])*i+(w=e[5])*o+(b=e[6])*c+(v=e[7])*m,t[5]=S*r+w*a+b*f+v*g,t[6]=S*n+w*l+b*d+v*y,t[7]=S*h+w*u+b*p+v*s,t[8]=(S=e[8])*i+(w=e[9])*o+(b=e[10])*c+(v=e[11])*m,t[9]=S*r+w*a+b*f+v*g,t[10]=S*n+w*l+b*d+v*y,t[11]=S*h+w*u+b*p+v*s,t[12]=(S=e[12])*i+(w=e[13])*o+(b=e[14])*c+(v=e[15])*m,t[13]=S*r+w*a+b*f+v*g,t[14]=S*n+w*l+b*d+v*y,t[15]=S*h+w*u+b*p+v*s,t},us=function(t,s,e){var i,r,n,h,o,a,l,u,c,f,d,p,m=e[0],g=e[1],e=e[2];return s===t?(t[12]=s[0]*m+s[4]*g+s[8]*e+s[12],t[13]=s[1]*m+s[5]*g+s[9]*e+s[13],t[14]=s[2]*m+s[6]*g+s[10]*e+s[14],t[15]=s[3]*m+s[7]*g+s[11]*e+s[15]):(i=s[0],r=s[1],n=s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=s[8],f=s[9],d=s[10],p=s[11],t[0]=i,t[1]=r,t[2]=n,t[3]=h,t[4]=o,t[5]=a,t[6]=l,t[7]=u,t[8]=c,t[9]=f,t[10]=d,t[11]=p,t[12]=i*m+o*g+c*e+s[12],t[13]=r*m+a*g+f*e+s[13],t[14]=n*m+l*g+d*e+s[14],t[15]=h*m+u*g+p*e+s[15]),t},cs=function(t,s,e){var i=e[0],r=e[1],e=e[2];return t[0]=s[0]*i,t[1]=s[1]*i,t[2]=s[2]*i,t[3]=s[3]*i,t[4]=s[4]*r,t[5]=s[5]*r,t[6]=s[6]*r,t[7]=s[7]*r,t[8]=s[8]*e,t[9]=s[9]*e,t[10]=s[10]*e,t[11]=s[11]*e,t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t},fs=function(t,s,e,i){var r,n,h,o,a,l,u,c,f,d,p,m,g,y,S,w,b,v,x,M,T=i[0],G=i[1],i=i[2],_=Math.hypot(T,G,i);return _<vr?null:(T*=_=1/_,G*=_,i*=_,_=Math.sin(e),e=Math.cos(e),n=s[0],h=s[1],o=s[2],a=s[3],u=s[5],c=s[6],f=s[7],p=s[9],m=s[10],g=s[11],S=T*G*(r=1-e)-i*_,w=G*G*r+e,b=i*G*r+T*_,v=T*i*r+G*_,x=G*i*r-T*_,M=i*i*r+e,t[0]=n*(e=T*T*r+e)+(l=s[4])*(y=G*T*r+i*_)+(d=s[8])*(i=i*T*r-G*_),t[1]=h*e+u*y+p*i,t[2]=o*e+c*y+m*i,t[3]=a*e+f*y+g*i,t[4]=n*S+l*w+d*b,t[5]=h*S+u*w+p*b,t[6]=o*S+c*w+m*b,t[7]=a*S+f*w+g*b,t[8]=n*v+l*x+d*M,t[9]=h*v+u*x+p*M,t[10]=o*v+c*x+m*M,t[11]=a*v+f*x+g*M,s!==t&&(t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t)},ds=function(t,s,e){var i=Math.sin(e),e=Math.cos(e),r=s[4],n=s[5],h=s[6],o=s[7],a=s[8],l=s[9],u=s[10],c=s[11];return s!==t&&(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[4]=r*e+a*i,t[5]=n*e+l*i,t[6]=h*e+u*i,t[7]=o*e+c*i,t[8]=a*e-r*i,t[9]=l*e-n*i,t[10]=u*e-h*i,t[11]=c*e-o*i,t},ps=function(t,s,e){var i=Math.sin(e),e=Math.cos(e),r=s[0],n=s[1],h=s[2],o=s[3],a=s[8],l=s[9],u=s[10],c=s[11];return s!==t&&(t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=r*e-a*i,t[1]=n*e-l*i,t[2]=h*e-u*i,t[3]=o*e-c*i,t[8]=r*i+a*e,t[9]=n*i+l*e,t[10]=h*i+u*e,t[11]=o*i+c*e,t},ms=function(t,s,e){var i=Math.sin(e),e=Math.cos(e),r=s[0],n=s[1],h=s[2],o=s[3],a=s[4],l=s[5],u=s[6],c=s[7];return s!==t&&(t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15]),t[0]=r*e+a*i,t[1]=n*e+l*i,t[2]=h*e+u*i,t[3]=o*e+c*i,t[4]=a*e-r*i,t[5]=l*e-n*i,t[6]=u*e-h*i,t[7]=c*e-o*i,t},gs=function(t,s){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=s[0],t[13]=s[1],t[14]=s[2],t[15]=1,t},ys=function(t,s){return t[0]=s[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=s[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Ss=function(t,s,e){var i,r=e[0],n=e[1],e=e[2],h=Math.hypot(r,n,e);return h<vr?null:(r*=h=1/h,n*=h,e*=h,h=Math.sin(s),s=Math.cos(s),t[0]=r*r*(i=1-s)+s,t[1]=n*r*i+e*h,t[2]=e*r*i-n*h,t[3]=0,t[4]=r*n*i-e*h,t[5]=n*n*i+s,t[6]=e*n*i+r*h,t[7]=0,t[8]=r*e*i+n*h,t[9]=n*e*i-r*h,t[10]=e*e*i+s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},ws=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=e,t[7]=0,t[8]=0,t[9]=-e,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},bs=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=0,t[2]=-e,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=e,t[9]=0,t[10]=s,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},vs=function(t,s){var e=Math.sin(s),s=Math.cos(s);return t[0]=s,t[1]=e,t[2]=0,t[3]=0,t[4]=-e,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},f=function(t,s,e){var i=s[0],r=s[2],n=r+r,h=i*(u=i+i),o=i*(c=(l=s[1])+l),i=i*n,a=l*c,l=l*n,u=(s=s[3])*u,c=s*c,s=s*n;return t[0]=1-(a+(r=r*n)),t[1]=o+s,t[2]=i-c,t[3]=0,t[4]=o-s,t[5]=1-(h+r),t[6]=l+u,t[7]=0,t[8]=i+c,t[9]=l-u,t[10]=1-(h+a),t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},xs=function(t,s){var e=new xr(3),i=-s[0],r=-s[1],n=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=s[7],c=i*i+r*r+n*n+h*h;return 0<c?(e[0]=2*(o*h+u*i+a*n-l*r)/c,e[1]=2*(a*h+u*r+l*i-o*n)/c,e[2]=2*(l*h+u*n+o*r-a*i)/c):(e[0]=2*(o*h+u*i+a*n-l*r),e[1]=2*(a*h+u*r+l*i-o*n),e[2]=2*(l*h+u*n+o*r-a*i)),f(t,s,e),t},a=function(t,s){return t[0]=s[12],t[1]=s[13],t[2]=s[14],t},d=function(t,s){var e=s[0],i=s[4],r=s[5],n=s[6],h=s[8],o=s[9],a=s[10];return t[0]=Math.hypot(e,s[1],s[2]),t[1]=Math.hypot(i,r,n),t[2]=Math.hypot(h,o,a),t},l=function(t,s){var e=new xr(3),i=(d(e,s),1/e[0]),r=s[0]*i,n=s[1]*(u=1/e[1]),h=s[2]*(e=1/e[2]),o=s[4]*i,a=s[5]*u,l=s[6]*e,i=s[8]*i,u=s[9]*u,c=0;return 0<(e=r+a+(s=s[10]*e))?(c=2*Math.sqrt(1+e),t[3]=.25*c,t[0]=(l-u)/c,t[1]=(i-h)/c,t[2]=(n-o)/c):a<r&&s<r?(c=2*Math.sqrt(1+r-a-s),t[3]=(l-u)/c,t[0]=.25*c,t[1]=(n+o)/c,t[2]=(i+h)/c):s<a?(c=2*Math.sqrt(1+a-r-s),t[3]=(i-h)/c,t[0]=(n+o)/c,t[1]=.25*c,t[2]=(l+u)/c):(c=2*Math.sqrt(1+s-r-a),t[3]=(n-o)/c,t[0]=(i+h)/c,t[1]=(l+u)/c,t[2]=.25*c),t},Ms=function(t,s,e,i){s[0]=i[12],s[1]=i[13],s[2]=i[14];var s=i[0],r=i[1],n=i[2],h=i[4],o=i[5],a=i[6],l=i[8],u=i[9],i=i[10],c=(e[0]=Math.hypot(s,r,n),e[1]=Math.hypot(h,o,a),e[2]=Math.hypot(l,u,i),1/e[0]),f=1/e[1],s=s*c,r=r*f,n=n*(e=1/e[2]),h=h*c,a=a*e,l=l*c,c=u*f,u=i*e,i=0;return 0<(f=s+(o=o*f)+u)?(i=2*Math.sqrt(1+f),t[3]=.25*i,t[0]=(a-c)/i,t[1]=(l-n)/i,t[2]=(r-h)/i):o<s&&u<s?(i=2*Math.sqrt(1+s-o-u),t[3]=(a-c)/i,t[0]=.25*i,t[1]=(r+h)/i,t[2]=(l+n)/i):u<o?(i=2*Math.sqrt(1+o-s-u),t[3]=(l-n)/i,t[0]=(r+h)/i,t[1]=.25*i,t[2]=(a+c)/i):(i=2*Math.sqrt(1+u-s-o),t[3]=(r-h)/i,t[0]=(l+n)/i,t[1]=(a+c)/i,t[2]=.25*i),t},Ts=function(t,s,e,i){var r=(h=s[0])*(u=h+h),n=h*(c=(a=s[1])+a),h=h*(f=(l=s[2])+l),o=a*c,a=a*f,l=l*f,u=(s=s[3])*u,c=s*c,s=s*f,f=i[0],d=i[1],i=i[2];return t[0]=(1-(o+l))*f,t[1]=(n+s)*f,t[2]=(h-c)*f,t[3]=0,t[4]=(n-s)*d,t[5]=(1-(r+l))*d,t[6]=(a+u)*d,t[7]=0,t[8]=(h+c)*i,t[9]=(a-u)*i,t[10]=(1-(r+o))*i,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t},Gs=function(t,s,e,i,r){var n=(o=s[0])*(c=o+o),h=o*(f=(l=s[1])+l),o=o*(d=(u=s[2])+u),a=l*f,l=l*d,u=u*d,c=(s=s[3])*c,f=s*f,s=s*d,d=i[0],p=i[1],i=i[2],m=r[0],g=r[1],r=r[2],y=(1-(a+u))*d,S=(h+s)*d,d=(o-f)*d,h=(h-s)*p,s=(1-(n+u))*p,u=(l+c)*p,p=(o+f)*i,o=(l-c)*i,f=(1-(n+a))*i;return t[0]=y,t[1]=S,t[2]=d,t[3]=0,t[4]=h,t[5]=s,t[6]=u,t[7]=0,t[8]=p,t[9]=o,t[10]=f,t[11]=0,t[12]=e[0]+m-(y*m+h*g+p*r),t[13]=e[1]+g-(S*m+s*g+o*r),t[14]=e[2]+r-(d*m+u*g+f*r),t[15]=1,t},_s=function(t,s){var e=s[0],i=s[2],r=i+i,e=e*(l=e+e),n=(h=s[1])*l,h=h*(u=h+h),o=i*l,a=i*u,l=(s=s[3])*l,u=s*u,s=s*r;return t[0]=1-h-(i=i*r),t[1]=n+s,t[2]=o-u,t[3]=0,t[4]=n-s,t[5]=1-e-i,t[6]=a+l,t[7]=0,t[8]=o+u,t[9]=a-l,t[10]=1-e-h,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},Is=function(t,s,e,i,r,n,h){var o=1/(e-s),a=1/(r-i),l=1/(n-h);return t[0]=2*n*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*n*a,t[6]=0,t[7]=0,t[8]=(e+s)*o,t[9]=(r+i)*a,t[10]=(h+n)*l,t[11]=-1,t[12]=0,t[13]=0,t[14]=h*n*2*l,t[15]=0,t},u=function(t,s,e,i,r){return s=1/Math.tan(s/2),t[0]=s/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=(r+i)*(e=1/(i-r)),t[14]=2*r*i*e):(t[10]=-1,t[14]=-2*i),t},Cs=function(t,s,e,i,r){return s=1/Math.tan(s/2),t[0]=s/e,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=r&&r!==1/0?(t[10]=r*(e=1/(i-r)),t[14]=r*i*e):(t[10]=-1,t[14]=-i),t},Rs=function(t,s,e,i){var r=Math.tan(s.upDegrees*Math.PI/180),n=Math.tan(s.downDegrees*Math.PI/180),h=Math.tan(s.leftDegrees*Math.PI/180),o=2/(h+(s=Math.tan(s.rightDegrees*Math.PI/180))),a=2/(r+n);return t[0]=o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=-(h-s)*o*.5,t[9]=(r-n)*a*.5,t[10]=i/(e-i),t[11]=-1,t[12]=0,t[13]=0,t[14]=i*e/(e-i),t[15]=0,t},c=function(t,s,e,i,r,n,h){var o=1/(s-e),a=1/(i-r),l=1/(n-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(s+e)*o,t[13]=(r+i)*a,t[14]=(h+n)*l,t[15]=1,t},Es=function(t,s,e,i,r,n,h){var o=1/(s-e),a=1/(i-r),h=1/(n-h);return t[0]=-2*o,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=h,t[11]=0,t[12]=(s+e)*o,t[13]=(r+i)*a,t[14]=n*h,t[15]=1,t},Ps=function(t,s,e,i){var r,n,h,o,a=s[0],l=s[1],s=s[2],u=i[0],c=i[1],i=i[2],f=e[0],d=e[1],e=e[2];return Math.abs(a-f)<vr&&Math.abs(l-d)<vr&&Math.abs(s-e)<vr?p(t):(f=a-f,d=l-d,e=s-e,r=c*(e*=o=1/Math.hypot(f,d,e))-i*(d*=o),i=i*(f*=o)-u*e,u=u*d-c*f,(o=Math.hypot(r,i,u))?(r*=o=1/o,i*=o,u*=o):u=i=r=0,c=d*u-e*i,n=e*r-f*u,h=f*i-d*r,(o=Math.hypot(c,n,h))?(c*=o=1/o,n*=o,h*=o):h=n=c=0,t[0]=r,t[1]=c,t[2]=f,t[3]=0,t[4]=i,t[5]=n,t[6]=d,t[7]=0,t[8]=u,t[9]=h,t[10]=e,t[11]=0,t[12]=-(r*a+i*l+u*s),t[13]=-(c*a+n*l+h*s),t[14]=-(f*a+d*l+e*s),t[15]=1,t)},Fs=function(t,s,e,i){var r=s[0],n=s[1],s=s[2],h=i[0],o=i[1],i=i[2],a=r-e[0],l=n-e[1],u=a*a+l*l+(e=s-e[2])*e,c=(0<u&&(a*=u=1/Math.sqrt(u),l*=u,e*=u),o*e-i*l);return 0<(u=c*c+(i=i*a-h*e)*i+(h=h*l-o*a)*h)&&(c*=u=1/Math.sqrt(u),i*=u,h*=u),t[0]=c,t[1]=i,t[2]=h,t[3]=0,t[4]=l*h-e*i,t[5]=e*c-a*h,t[6]=a*i-l*c,t[7]=0,t[8]=a,t[9]=l,t[10]=e,t[11]=0,t[12]=r,t[13]=n,t[14]=s,t[15]=1,t},As=function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},ks=function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},Ds=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t[4]=s[4]+e[4],t[5]=s[5]+e[5],t[6]=s[6]+e[6],t[7]=s[7]+e[7],t[8]=s[8]+e[8],t[9]=s[9]+e[9],t[10]=s[10]+e[10],t[11]=s[11]+e[11],t[12]=s[12]+e[12],t[13]=s[13]+e[13],t[14]=s[14]+e[14],t[15]=s[15]+e[15],t},Os=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t[4]=s[4]-e[4],t[5]=s[5]-e[5],t[6]=s[6]-e[6],t[7]=s[7]-e[7],t[8]=s[8]-e[8],t[9]=s[9]-e[9],t[10]=s[10]-e[10],t[11]=s[11]-e[11],t[12]=s[12]-e[12],t[13]=s[13]-e[13],t[14]=s[14]-e[14],t[15]=s[15]-e[15],t},Bs=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*e,t[5]=s[5]*e,t[6]=s[6]*e,t[7]=s[7]*e,t[8]=s[8]*e,t[9]=s[9]*e,t[10]=s[10]*e,t[11]=s[11]*e,t[12]=s[12]*e,t[13]=s[13]*e,t[14]=s[14]*e,t[15]=s[15]*e,t},Ls=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t[4]=s[4]+e[4]*i,t[5]=s[5]+e[5]*i,t[6]=s[6]+e[6]*i,t[7]=s[7]+e[7]*i,t[8]=s[8]+e[8]*i,t[9]=s[9]+e[9]*i,t[10]=s[10]+e[10]*i,t[11]=s[11]+e[11]*i,t[12]=s[12]+e[12]*i,t[13]=s[13]+e[13]*i,t[14]=s[14]+e[14]*i,t[15]=s[15]+e[15]*i,t},Ns=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]&&t[8]===s[8]&&t[9]===s[9]&&t[10]===s[10]&&t[11]===s[11]&&t[12]===s[12]&&t[13]===s[13]&&t[14]===s[14]&&t[15]===s[15]},Ws=function(t,s){var e=t[0],i=t[1],r=t[2],n=t[3],h=t[4],o=t[5],a=t[6],l=t[7],u=t[8],c=t[9],f=t[10],d=t[11],p=t[12],m=t[13],g=t[14],t=t[15],y=s[0],S=s[1],w=s[2],b=s[3],v=s[4],x=s[5],M=s[6],T=s[7],G=s[8],_=s[9],I=s[10],C=s[11],R=s[12],E=s[13],P=s[14],s=s[15];return Math.abs(e-y)<=vr*Math.max(1,Math.abs(e),Math.abs(y))&&Math.abs(i-S)<=vr*Math.max(1,Math.abs(i),Math.abs(S))&&Math.abs(r-w)<=vr*Math.max(1,Math.abs(r),Math.abs(w))&&Math.abs(n-b)<=vr*Math.max(1,Math.abs(n),Math.abs(b))&&Math.abs(h-v)<=vr*Math.max(1,Math.abs(h),Math.abs(v))&&Math.abs(o-x)<=vr*Math.max(1,Math.abs(o),Math.abs(x))&&Math.abs(a-M)<=vr*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(l-T)<=vr*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(u-G)<=vr*Math.max(1,Math.abs(u),Math.abs(G))&&Math.abs(c-_)<=vr*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(f-I)<=vr*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(d-C)<=vr*Math.max(1,Math.abs(d),Math.abs(C))&&Math.abs(p-R)<=vr*Math.max(1,Math.abs(p),Math.abs(R))&&Math.abs(m-E)<=vr*Math.max(1,Math.abs(m),Math.abs(E))&&Math.abs(g-P)<=vr*Math.max(1,Math.abs(g),Math.abs(P))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},m=function(){var t=new xr(3);return xr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t},Us=function(t){var s=new xr(3);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s},js=function(t){var s=t[0];return Math.hypot(s,t[1],t[2])},g=function(t,s,e){var i=new xr(3);return i[0]=t,i[1]=s,i[2]=e,i},Vs=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t},Hs=function(t,s,e,i){return t[0]=s,t[1]=e,t[2]=i,t},zs=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t},Js=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t},qs=function(t,s,e){return t[0]=s[0]*e[0],t[1]=s[1]*e[1],t[2]=s[2]*e[2],t},Xs=function(t,s,e){return t[0]=s[0]/e[0],t[1]=s[1]/e[1],t[2]=s[2]/e[2],t},$s=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t},Ys=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t},Ks=function(t,s,e){return t[0]=Math.min(s[0],e[0]),t[1]=Math.min(s[1],e[1]),t[2]=Math.min(s[2],e[2]),t},Zs=function(t,s,e){return t[0]=Math.max(s[0],e[0]),t[1]=Math.max(s[1],e[1]),t[2]=Math.max(s[2],e[2]),t},Qs=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t},te=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t},se=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t},ee=function(t,s){var e=s[0]-t[0];return Math.hypot(e,s[1]-t[1],s[2]-t[2])},ie=function(t,s){var e=s[0]-t[0],i=s[1]-t[1];return e*e+i*i+(s=s[2]-t[2])*s},re=function(t){var s=t[0],e=t[1];return s*s+e*e+(t=t[2])*t},ne=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t},he=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t},y=function(t,s){var e=s[0],i=s[1],r=s[2];return 0<(e=e*e+i*i+r*r)&&(e=1/Math.sqrt(e)),t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t},S=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]},w=function(t,s,e){var i=s[0],r=s[1],s=s[2],n=e[0],h=e[1],e=e[2];return t[0]=r*e-s*h,t[1]=s*n-i*e,t[2]=i*h-r*n,t},oe=function(t,s,e,i){var r=s[0],n=s[1],s=s[2];return t[0]=r+i*(e[0]-r),t[1]=n+i*(e[1]-n),t[2]=s+i*(e[2]-s),t},ae=function(t,s,e,i){var r=Math.acos(Math.min(Math.max(S(s,e),-1),1)),n=Math.sin(r),h=Math.sin((1-i)*r)/n,i=Math.sin(i*r)/n;return t[0]=h*s[0]+i*e[0],t[1]=h*s[1]+i*e[1],t[2]=h*s[2]+i*e[2],t},le=function(t,s,e,i,r,n){var h=n*n,o=h*(2*n-3)+1,a=h*(n-2)+n,l=h*(n-1);return t[0]=s[0]*o+e[0]*a+i[0]*l+r[0]*(h=h*(3-2*n)),t[1]=s[1]*o+e[1]*a+i[1]*l+r[1]*h,t[2]=s[2]*o+e[2]*a+i[2]*l+r[2]*h,t},ue=function(t,s,e,i,r,n){var h=1-n,o=h*h,a=n*n,l=o*h;return t[0]=s[0]*l+e[0]*(o=3*n*o)+i[0]*(h=3*a*h)+r[0]*(a=a*n),t[1]=s[1]*l+e[1]*o+i[1]*h+r[1]*a,t[2]=s[2]*l+e[2]*o+i[2]*h+r[2]*a,t},ce=function(t,s){s=s||1;var e=2*kr()*Math.PI,i=2*kr()-1,r=Math.sqrt(1-i*i)*s;return t[0]=Math.cos(e)*r,t[1]=Math.sin(e)*r,t[2]=i*s,t},fe=function(t,s,e){var i=s[0],r=s[1],s=s[2],n=e[3]*i+e[7]*r+e[11]*s+e[15];return t[0]=(e[0]*i+e[4]*r+e[8]*s+e[12])/(n=n||1),t[1]=(e[1]*i+e[5]*r+e[9]*s+e[13])/n,t[2]=(e[2]*i+e[6]*r+e[10]*s+e[14])/n,t},de=function(t,s,e){var i=s[0],r=s[1],s=s[2];return t[0]=i*e[0]+r*e[3]+s*e[6],t[1]=i*e[1]+r*e[4]+s*e[7],t[2]=i*e[2]+r*e[5]+s*e[8],t},pe=function(t,s,e){var i=e[0],r=e[1],n=s[0],h=s[1],o=r*(s=s[2])-(c=e[2])*h,a=c*n-i*s,l=i*h-r*n,u=r*l-c*a,c=c*o-i*l,i=i*a-r*o;return a*=r=2*e[3],l*=r,c*=2,i*=2,t[0]=n+(o*=r)+(u*=2),t[1]=h+a+c,t[2]=s+l+i,t},me=function(t,s,e,i){var r=[],n=[];return r[0]=s[0]-e[0],r[1]=s[1]-e[1],r[2]=s[2]-e[2],n[0]=r[0],n[1]=r[1]*Math.cos(i)-r[2]*Math.sin(i),n[2]=r[1]*Math.sin(i)+r[2]*Math.cos(i),t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},ge=function(t,s,e,i){var r=[],n=[];return r[0]=s[0]-e[0],r[1]=s[1]-e[1],r[2]=s[2]-e[2],n[0]=r[2]*Math.sin(i)+r[0]*Math.cos(i),n[1]=r[1],n[2]=r[2]*Math.cos(i)-r[0]*Math.sin(i),t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},ye=function(t,s,e,i){var r=[],n=[];return r[0]=s[0]-e[0],r[1]=s[1]-e[1],r[2]=s[2]-e[2],n[0]=r[0]*Math.cos(i)-r[1]*Math.sin(i),n[1]=r[0]*Math.sin(i)+r[1]*Math.cos(i),n[2]=r[2],t[0]=n[0]+e[0],t[1]=n[1]+e[1],t[2]=n[2]+e[2],t},Se=function(t,s){var e=t[0],i=t[1],r=t[2],n=s[0],h=s[1],o=s[2],i=(e=Math.sqrt((e*e+i*i+r*r)*(n*n+h*h+o*o)))&&S(t,s)/e;return Math.acos(Math.min(Math.max(i,-1),1))},we=function(t){return t[0]=0,t[1]=0,t[2]=0,t},be=function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},ve=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]},xe=function(t,s){var e=t[0],i=t[1],t=t[2],r=s[0],n=s[1],s=s[2];return Math.abs(e-r)<=vr*Math.max(1,Math.abs(e),Math.abs(r))&&Math.abs(i-n)<=vr*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},b=function(){var t=new xr(4);return xr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t},Me=function(t){var s=new xr(4);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s},Te=function(t,s,e,i){var r=new xr(4);return r[0]=t,r[1]=s,r[2]=e,r[3]=i,r},Ge=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t},_e=function(t,s,e,i,r){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t},Ie=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t},Ce=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t[2]=s[2]-e[2],t[3]=s[3]-e[3],t},Re=function(t,s,e){return t[0]=s[0]*e[0],t[1]=s[1]*e[1],t[2]=s[2]*e[2],t[3]=s[3]*e[3],t},Ee=function(t,s,e){return t[0]=s[0]/e[0],t[1]=s[1]/e[1],t[2]=s[2]/e[2],t[3]=s[3]/e[3],t},Pe=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t[2]=Math.ceil(s[2]),t[3]=Math.ceil(s[3]),t},Fe=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t[2]=Math.floor(s[2]),t[3]=Math.floor(s[3]),t},Ae=function(t,s,e){return t[0]=Math.min(s[0],e[0]),t[1]=Math.min(s[1],e[1]),t[2]=Math.min(s[2],e[2]),t[3]=Math.min(s[3],e[3]),t},ke=function(t,s,e){return t[0]=Math.max(s[0],e[0]),t[1]=Math.max(s[1],e[1]),t[2]=Math.max(s[2],e[2]),t[3]=Math.max(s[3],e[3]),t},De=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t[2]=Math.round(s[2]),t[3]=Math.round(s[3]),t},Oe=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t},Be=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t[2]=s[2]+e[2]*i,t[3]=s[3]+e[3]*i,t},Le=function(t,s){var e=s[0]-t[0];return Math.hypot(e,s[1]-t[1],s[2]-t[2],s[3]-t[3])},Ne=function(t,s){var e=s[0]-t[0],i=s[1]-t[1],r=s[2]-t[2];return e*e+i*i+r*r+(s=s[3]-t[3])*s},v=function(t){var s=t[0];return Math.hypot(s,t[1],t[2],t[3])},x=function(t){var s=t[0],e=t[1],i=t[2];return s*s+e*e+i*i+(t=t[3])*t},We=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=-s[3],t},Ue=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t[2]=1/s[2],t[3]=1/s[3],t},je=function(t,s){var e=s[0],i=s[1],r=s[2],n=e*e+i*i+r*r+(s=s[3])*s;return 0<n&&(n=1/Math.sqrt(n)),t[0]=e*n,t[1]=i*n,t[2]=r*n,t[3]=s*n,t},M=function(t,s){return t[0]*s[0]+t[1]*s[1]+t[2]*s[2]+t[3]*s[3]},Ve=function(t,s,e,i){var r=e[0]*i[1]-e[1]*i[0],n=e[0]*i[2]-e[2]*i[0],h=e[0]*i[3]-e[3]*i[0],o=e[1]*i[2]-e[2]*i[1],a=e[1]*i[3]-e[3]*i[1],e=e[2]*i[3]-e[3]*i[2],i=s[0],l=s[1],u=s[2],s=s[3];return t[0]=l*e-u*a+s*o,t[1]=-i*e+u*h-s*n,t[2]=i*a-l*h+s*r,t[3]=-i*o+l*n-u*r,t},He=function(t,s,e,i){var r=s[0],n=s[1],h=s[2],s=s[3];return t[0]=r+i*(e[0]-r),t[1]=n+i*(e[1]-n),t[2]=h+i*(e[2]-h),t[3]=s+i*(e[3]-s),t},ze=function(t,s){var e,i,r,n,h,o;for(s=s||1;1<=(h=(e=2*kr()-1)*e+(i=2*kr()-1)*i););for(;1<=(o=(r=2*kr()-1)*r+(n=2*kr()-1)*n););var a=Math.sqrt((1-h)/o);return t[0]=s*e,t[1]=s*i,t[2]=s*r*a,t[3]=s*n*a,t},Je=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3];return t[0]=e[0]*i+e[4]*r+e[8]*n+e[12]*s,t[1]=e[1]*i+e[5]*r+e[9]*n+e[13]*s,t[2]=e[2]*i+e[6]*r+e[10]*n+e[14]*s,t[3]=e[3]*i+e[7]*r+e[11]*n+e[15]*s,t},qe=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=e[0],o=e[1],a=e[2],l=(e=e[3])*i+o*n-a*r,u=e*r+a*i-h*n,c=e*n+h*r-o*i;return t[0]=l*e+(i=-h*i-o*r-a*n)*-h+u*-a-c*-o,t[1]=u*e+i*-o+c*-h-l*-a,t[2]=c*e+i*-a+l*-o-u*-h,t[3]=s[3],t},Xe=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},$e=function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},Ye=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]},Ke=function(t,s){var e=t[0],i=t[1],r=t[2],t=t[3],n=s[0],h=s[1],o=s[2],s=s[3];return Math.abs(e-n)<=vr*Math.max(1,Math.abs(e),Math.abs(n))&&Math.abs(i-h)<=vr*Math.max(1,Math.abs(i),Math.abs(h))&&Math.abs(r-o)<=vr*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},T=function(){var t=new xr(4);return xr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t},Ze=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},G=function(t,s,e){e*=.5;var i=Math.sin(e);return t[0]=i*s[0],t[1]=i*s[1],t[2]=i*s[2],t[3]=Math.cos(e),t},Qe=function(t,s){var e=2*Math.acos(s[3]),i=Math.sin(e/2);return vr<i?(t[0]=s[0]/i,t[1]=s[1]/i,t[2]=s[2]/i):(t[0]=1,t[1]=0,t[2]=0),e},ti=function(t,s){return t=zr(t,s),Math.acos(2*t*t-1)},si=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=e[0],o=e[1],a=e[2],e=e[3];return t[0]=i*e+s*h+r*a-n*o,t[1]=r*e+s*o+n*h-i*a,t[2]=n*e+s*a+i*o-r*h,t[3]=s*e-i*h-r*o-n*a,t},_=function(t,s,e){e*=.5;var i=s[0],r=s[1],n=s[2],s=s[3],h=Math.sin(e),e=Math.cos(e);return t[0]=i*e+s*h,t[1]=r*e+n*h,t[2]=n*e-r*h,t[3]=s*e-i*h,t},I=function(t,s,e){e*=.5;var i=s[0],r=s[1],n=s[2],s=s[3],h=Math.sin(e),e=Math.cos(e);return t[0]=i*e-n*h,t[1]=r*e+s*h,t[2]=n*e+i*h,t[3]=s*e-r*h,t},C=function(t,s,e){e*=.5;var i=s[0],r=s[1],n=s[2],s=s[3],h=Math.sin(e),e=Math.cos(e);return t[0]=i*e+r*h,t[1]=r*e-i*h,t[2]=n*e+s*h,t[3]=s*e-n*h,t},ei=function(t,s){var e=s[0],i=s[1],s=s[2];return t[0]=e,t[1]=i,t[2]=s,t[3]=Math.sqrt(Math.abs(1-e*e-i*i-s*s)),t},R=function(t,s){var e=s[0],i=s[1],r=s[2],s=s[3],n=Math.sqrt(e*e+i*i+r*r),s=Math.exp(s),h=0<n?s*Math.sin(n)/n:0;return t[0]=e*h,t[1]=i*h,t[2]=r*h,t[3]=s*Math.cos(n),t},E=function(t,s){var e=s[0],i=s[1],r=s[2],s=s[3],n=0<(n=Math.sqrt(e*e+i*i+r*r))?Math.atan2(n,s)/n:0;return t[0]=e*n,t[1]=i*n,t[2]=r*n,t[3]=.5*Math.log(e*e+i*i+r*r+s*s),t},ii=function(t,s,e){return E(t,s),Hr(t,t,e),R(t,t),t},P=function(t,s,e,i){var r,n,h=s[0],o=s[1],a=s[2],s=s[3],l=e[0],u=e[1],c=e[2],f=h*l+o*u+a*c+s*(e=e[3]);return f<0&&(f=-f,l=-l,u=-u,c=-c,e=-e),f=vr<1-f?(f=Math.acos(f),r=Math.sin(f),n=Math.sin((1-i)*f)/r,Math.sin(i*f)/r):(n=1-i,i),t[0]=n*h+f*l,t[1]=n*o+f*u,t[2]=n*a+f*c,t[3]=n*s+f*e,t},ri=function(t){var s=kr(),e=kr(),i=kr(),r=Math.sqrt(1-s),s=Math.sqrt(s);return t[0]=r*Math.sin(2*Math.PI*e),t[1]=r*Math.cos(2*Math.PI*e),t[2]=s*Math.sin(2*Math.PI*i),t[3]=s*Math.cos(2*Math.PI*i),t},ni=function(t,s){var e=s[0],i=s[1],r=s[2],n=e*e+i*i+r*r+(s=s[3])*s;return t[0]=-e*(n=n?1/n:0),t[1]=-i*n,t[2]=-r*n,t[3]=s*n,t},hi=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t},F=function(t,s){var e,i,r,n=s[0]+s[4]+s[8];return 0<n?(r=Math.sqrt(n+1),t[3]=.5*r,t[0]=(s[5]-s[7])*(r=.5/r),t[1]=(s[6]-s[2])*r,t[2]=(s[1]-s[3])*r):(e=(1+(n=s[3*(n=s[4]>s[0]?1:0)+n]<s[8]?2:n))%3,i=(2+n)%3,r=Math.sqrt(s[3*n+n]-s[3*e+e]-s[3*i+i]+1),t[n]=.5*r,t[3]=(s[3*e+i]-s[3*i+e])*(r=.5/r),t[e]=(s[3*e+n]+s[3*n+e])*r,t[i]=(s[3*i+n]+s[3*n+i])*r),t},oi=function(t,s,e,i){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:Dr,n=Math.PI/360,h=(i*=n,e*=n,Math.sin(s*=n)),o=Math.cos(s),a=Math.sin(e),l=Math.cos(e),u=Math.sin(i),c=Math.cos(i);switch(r){case"xyz":t[0]=h*l*c+o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c-h*a*u;break;case"xzy":t[0]=h*l*c-o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c+h*a*u;break;case"yxz":t[0]=h*l*c+o*a*u,t[1]=o*a*c-h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c+h*a*u;break;case"yzx":t[0]=h*l*c+o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c-h*a*u;break;case"zxy":t[0]=h*l*c-o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u+h*a*c,t[3]=o*l*c-h*a*u;break;case"zyx":t[0]=h*l*c-o*a*u,t[1]=o*a*c+h*l*u,t[2]=o*l*u-h*a*c,t[3]=o*l*c+h*a*u;break;default:throw new Error("Unknown angle order "+r)}return t},ai=function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},li=function(t,s){return Math.abs(M(t,s))>=1-vr},ui=function(){var t=new xr(8);return xr!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},ci=function(t){var s=new xr(8);return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s},fi=function(t,s,e,i,r,n,h,o){var a=new xr(8);return a[0]=t,a[1]=s,a[2]=e,a[3]=i,a[4]=r,a[5]=n,a[6]=h,a[7]=o,a},di=function(t,s,e,i,r,n,h){var o=new xr(8),r=(o[0]=t,o[1]=s,o[2]=e,o[3]=i,.5*r),n=.5*n,h=.5*h;return o[4]=r*i+n*e-h*s,o[5]=n*i+h*t-r*e,o[6]=h*i+r*s-n*t,o[7]=-r*t-n*s-h*e,o},A=function(t,s,e){var i=.5*e[0],r=.5*e[1],e=.5*e[2],n=s[0],h=s[1],o=s[2],s=s[3];return t[0]=n,t[1]=h,t[2]=o,t[3]=s,t[4]=i*s+r*o-e*h,t[5]=r*s+e*n-i*o,t[6]=e*s+i*h-r*n,t[7]=-i*n-r*h-e*o,t},pi=function(t,s){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*s[0],t[5]=.5*s[1],t[6]=.5*s[2],t[7]=0,t},mi=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},gi=function(t,s){var e=T(),i=(l(e,s),new xr(3));return a(i,s),A(t,e,i),t},k=function(t,s){return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t},yi=function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},Si=function(t,s,e,i,r,n,h,o,a){return t[0]=s,t[1]=e,t[2]=i,t[3]=r,t[4]=n,t[5]=h,t[6]=o,t[7]=a,t},wi=function(t,s){return t[0]=s[4],t[1]=s[5],t[2]=s[6],t[3]=s[7],t},bi=function(t,s){return t[4]=s[0],t[5]=s[1],t[6]=s[2],t[7]=s[3],t},vi=function(t,s){var e=s[4],i=s[5],r=s[6],n=s[7],h=-s[0],o=-s[1],a=-s[2],s=s[3];return t[0]=2*(e*s+n*h+i*a-r*o),t[1]=2*(i*s+n*o+r*h-e*a),t[2]=2*(r*s+n*a+e*o-i*h),t},xi=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=.5*e[0],a=.5*e[1],e=.5*e[2],l=s[4],u=s[5],c=s[6],s=s[7];return t[0]=i,t[1]=r,t[2]=n,t[3]=h,t[4]=h*o+r*e-n*a+l,t[5]=h*a+n*o-i*e+u,t[6]=h*e+i*a-r*o+c,t[7]=-i*o-r*a-n*e+s,t},Mi=function(t,s,e){var i=-s[0],r=-s[1],n=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=o*h+(d=s[7])*i+a*n-l*r,c=a*h+d*r+l*i-o*n,f=l*h+d*n+o*r-a*i,d=d*h-o*i-a*r-l*n;return _(t,s,e),i=t[0],t[4]=u*(h=t[3])+d*i+c*(n=t[2])-f*(r=t[1]),t[5]=c*h+d*r+f*i-u*n,t[6]=f*h+d*n+u*r-c*i,t[7]=d*h-u*i-c*r-f*n,t},Ti=function(t,s,e){var i=-s[0],r=-s[1],n=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=o*h+(d=s[7])*i+a*n-l*r,c=a*h+d*r+l*i-o*n,f=l*h+d*n+o*r-a*i,d=d*h-o*i-a*r-l*n;return I(t,s,e),i=t[0],t[4]=u*(h=t[3])+d*i+c*(n=t[2])-f*(r=t[1]),t[5]=c*h+d*r+f*i-u*n,t[6]=f*h+d*n+u*r-c*i,t[7]=d*h-u*i-c*r-f*n,t},Gi=function(t,s,e){var i=-s[0],r=-s[1],n=-s[2],h=s[3],o=s[4],a=s[5],l=s[6],u=o*h+(d=s[7])*i+a*n-l*r,c=a*h+d*r+l*i-o*n,f=l*h+d*n+o*r-a*i,d=d*h-o*i-a*r-l*n;return C(t,s,e),i=t[0],t[4]=u*(h=t[3])+d*i+c*(n=t[2])-f*(r=t[1]),t[5]=c*h+d*r+f*i-u*n,t[6]=f*h+d*n+u*r-c*i,t[7]=d*h-u*i-c*r-f*n,t},_i=function(t,s,e){var i=e[0],r=e[1],n=e[2],e=e[3],h=s[0],o=s[1],a=s[2],l=s[3];return t[0]=h*e+l*i+o*n-a*r,t[1]=o*e+l*r+a*i-h*n,t[2]=a*e+l*n+h*r-o*i,t[3]=l*e-h*i-o*r-a*n,t[4]=(h=s[4])*e+(l=s[7])*i+(o=s[5])*n-(a=s[6])*r,t[5]=o*e+l*r+a*i-h*n,t[6]=a*e+l*n+h*r-o*i,t[7]=l*e-h*i-o*r-a*n,t},Ii=function(t,s,e){var i=s[0],r=s[1],n=s[2],s=s[3],h=e[0],o=e[1],a=e[2],l=e[3];return t[0]=i*l+s*h+r*a-n*o,t[1]=r*l+s*o+n*h-i*a,t[2]=n*l+s*a+i*o-r*h,t[3]=s*l-i*h-r*o-n*a,t[4]=i*(l=e[7])+s*(h=e[4])+r*(a=e[6])-n*(o=e[5]),t[5]=r*l+s*o+n*h-i*a,t[6]=n*l+s*a+i*o-r*h,t[7]=s*l-i*h-r*o-n*a,t},Ci=function(t,s,e,i){var r,n,h,o,a,l;return Math.abs(i)<vr?k(t,s):(l=Math.hypot(e[0],e[1],e[2]),i*=.5,r=(h=Math.sin(i))*e[0]/l,n=h*e[1]/l,h=h*e[2]/l,e=Math.cos(i),l=s[0],t[0]=l*e+(i=s[3])*r+(o=s[1])*h-(a=s[2])*n,t[1]=o*e+i*n+a*r-l*h,t[2]=a*e+i*h+l*n-o*r,t[3]=i*e-l*r-o*n-a*h,t[4]=(i=s[4])*e+(l=s[7])*r+(o=s[5])*h-(a=s[6])*n,t[5]=o*e+l*n+a*r-i*h,t[6]=a*e+l*h+i*n-o*r,t[7]=l*e-i*r-o*n-a*h,t)},Ri=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t[2]=s[2]+e[2],t[3]=s[3]+e[3],t[4]=s[4]+e[4],t[5]=s[5]+e[5],t[6]=s[6]+e[6],t[7]=s[7]+e[7],t},Ei=function(t,s,e){var i=s[0],r=s[1],n=s[2],h=s[3],o=e[4],a=e[5],l=e[6],u=e[7],c=s[4],f=s[5],d=s[6],s=s[7],p=e[0],m=e[1],g=e[2],e=e[3];return t[0]=i*e+h*p+r*g-n*m,t[1]=r*e+h*m+n*p-i*g,t[2]=n*e+h*g+i*m-r*p,t[3]=h*e-i*p-r*m-n*g,t[4]=i*u+h*o+r*l-n*a+c*e+s*p+f*g-d*m,t[5]=r*u+h*a+n*o-i*l+f*e+s*m+d*p-c*g,t[6]=n*u+h*l+i*a-r*o+d*e+s*g+c*m-f*p,t[7]=h*u-i*o-r*a-n*l+s*e-c*p-f*m-d*g,t},Pi=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t[2]=s[2]*e,t[3]=s[3]*e,t[4]=s[4]*e,t[5]=s[5]*e,t[6]=s[6]*e,t[7]=s[7]*e,t},Fi=function(t,s,e,i){var r=1-i;return Yr(s,e)<0&&(i=-i),t[0]=s[0]*r+e[0]*i,t[1]=s[1]*r+e[1]*i,t[2]=s[2]*r+e[2]*i,t[3]=s[3]*r+e[3]*i,t[4]=s[4]*r+e[4]*i,t[5]=s[5]*r+e[5]*i,t[6]=s[6]*r+e[6]*i,t[7]=s[7]*r+e[7]*i,t},Ai=function(t,s){var e=Kr(s);return t[0]=-s[0]/e,t[1]=-s[1]/e,t[2]=-s[2]/e,t[3]=s[3]/e,t[4]=-s[4]/e,t[5]=-s[5]/e,t[6]=-s[6]/e,t[7]=s[7]/e,t},ki=function(t,s){return t[0]=-s[0],t[1]=-s[1],t[2]=-s[2],t[3]=s[3],t[4]=-s[4],t[5]=-s[5],t[6]=-s[6],t[7]=s[7],t},Di=function(t,s){var e,i,r,n,h,o,a,l,u=Kr(s);return 0<u&&(u=Math.sqrt(u),l=(e=s[0]/u)*(h=s[4])+(i=s[1]/u)*(o=s[5])+(r=s[2]/u)*(a=s[6])+(n=s[3]/u)*(s=s[7]),t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=(h-e*l)/u,t[5]=(o-i*l)/u,t[6]=(a-r*l)/u,t[7]=(s-n*l)/u),t},Oi=function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},Bi=function(t,s){return t[0]===s[0]&&t[1]===s[1]&&t[2]===s[2]&&t[3]===s[3]&&t[4]===s[4]&&t[5]===s[5]&&t[6]===s[6]&&t[7]===s[7]},Li=function(t,s){var e=t[0],i=t[1],r=t[2],n=t[3],h=t[4],o=t[5],a=t[6],t=t[7],l=s[0],u=s[1],c=s[2],f=s[3],d=s[4],p=s[5],m=s[6],s=s[7];return Math.abs(e-l)<=vr*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(i-u)<=vr*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(r-c)<=vr*Math.max(1,Math.abs(r),Math.abs(c))&&Math.abs(n-f)<=vr*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(h-d)<=vr*Math.max(1,Math.abs(h),Math.abs(d))&&Math.abs(o-p)<=vr*Math.max(1,Math.abs(o),Math.abs(p))&&Math.abs(a-m)<=vr*Math.max(1,Math.abs(a),Math.abs(m))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))},D=function(){var t=new xr(2);return xr!=Float32Array&&(t[0]=0,t[1]=0),t},Ni=function(t){var s=new xr(2);return s[0]=t[0],s[1]=t[1],s},Wi=function(t,s){var e=new xr(2);return e[0]=t,e[1]=s,e},Ui=function(t,s){return t[0]=s[0],t[1]=s[1],t},ji=function(t,s,e){return t[0]=s,t[1]=e,t},Vi=function(t,s,e){return t[0]=s[0]+e[0],t[1]=s[1]+e[1],t},Hi=function(t,s,e){return t[0]=s[0]-e[0],t[1]=s[1]-e[1],t},zi=function(t,s,e){return t[0]=s[0]*e[0],t[1]=s[1]*e[1],t},Ji=function(t,s,e){return t[0]=s[0]/e[0],t[1]=s[1]/e[1],t},qi=function(t,s){return t[0]=Math.ceil(s[0]),t[1]=Math.ceil(s[1]),t},Xi=function(t,s){return t[0]=Math.floor(s[0]),t[1]=Math.floor(s[1]),t},$i=function(t,s,e){return t[0]=Math.min(s[0],e[0]),t[1]=Math.min(s[1],e[1]),t},Yi=function(t,s,e){return t[0]=Math.max(s[0],e[0]),t[1]=Math.max(s[1],e[1]),t},Ki=function(t,s){return t[0]=Math.round(s[0]),t[1]=Math.round(s[1]),t},Zi=function(t,s,e){return t[0]=s[0]*e,t[1]=s[1]*e,t},Qi=function(t,s,e,i){return t[0]=s[0]+e[0]*i,t[1]=s[1]+e[1]*i,t},tr=function(t,s){var e=s[0]-t[0];return Math.hypot(e,s[1]-t[1])},sr=function(t,s){var e=s[0]-t[0];return e*e+(s=s[1]-t[1])*s},er=function(t){var s=t[0];return Math.hypot(s,t[1])},ir=function(t){var s=t[0];return s*s+(t=t[1])*t},rr=function(t,s){return t[0]=-s[0],t[1]=-s[1],t},nr=function(t,s){return t[0]=1/s[0],t[1]=1/s[1],t},hr=function(t,s){var e=s[0],i=s[1];return 0<(e=e*e+i*i)&&(e=1/Math.sqrt(e)),t[0]=s[0]*e,t[1]=s[1]*e,t},or=function(t,s){return t[0]*s[0]+t[1]*s[1]},ar=function(t,s,e){return s=s[0]*e[1]-s[1]*e[0],t[0]=t[1]=0,t[2]=s,t},lr=function(t,s,e,i){var r=s[0],s=s[1];return t[0]=r+i*(e[0]-r),t[1]=s+i*(e[1]-s),t},ur=function(t,s){s=s||1;var e=2*kr()*Math.PI;return t[0]=Math.cos(e)*s,t[1]=Math.sin(e)*s,t},cr=function(t,s,e){var i=s[0],s=s[1];return t[0]=e[0]*i+e[2]*s,t[1]=e[1]*i+e[3]*s,t},fr=function(t,s,e){var i=s[0],s=s[1];return t[0]=e[0]*i+e[2]*s+e[4],t[1]=e[1]*i+e[3]*s+e[5],t},dr=function(t,s,e){var i=s[0],s=s[1];return t[0]=e[0]*i+e[3]*s+e[6],t[1]=e[1]*i+e[4]*s+e[7],t},pr=function(t,s,e){var i=s[0],s=s[1];return t[0]=e[0]*i+e[4]*s+e[12],t[1]=e[1]*i+e[5]*s+e[13],t},mr=function(t,s,e,i){var r=s[0]-e[0],s=s[1]-e[1],n=Math.sin(i),i=Math.cos(i);return t[0]=r*i-s*n+e[0],t[1]=r*n+s*i+e[1],t},gr=function(t,s){var e=t[0],t=t[1],i=s[0],s=s[1],r=Math.sqrt((e*e+t*t)*(i*i+s*s));return Math.acos(Math.min(Math.max(r&&(e*i+t*s)/r,-1),1))},yr=function(t){return t[0]=0,t[1]=0,t},Sr=function(t){return"vec2("+t[0]+", "+t[1]+")"},wr=function(t,s){return t[0]===s[0]&&t[1]===s[1]},br=function(t,s){var e=t[0],t=t[1],i=s[0],s=s[1];return Math.abs(e-i)<=vr*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(t-s)<=vr*Math.max(1,Math.abs(t),Math.abs(s))};r,p,f,a,d,l,m,g,y,S,w,b,M,T,G,_,I,C,R,E,P,F,A,k,D,vr=1e-6,xr="undefined"!=typeof Float32Array?Float32Array:Array,kr=Math.random,Dr="zyx",Or=Math.PI/180,Math.hypot||(Math.hypot=function(){for(var t=0,s=arguments.length;s--;)t+=arguments[s]*arguments[s];return Math.sqrt(t)}),Br={__proto__:null,EPSILON:vr,get S(){return xr},M:kr,T:Dr,G:O,_:B,equals:L},Lr=Object.freeze({__proto__:null,create:N,clone:W,I:U,identity:j,C:V,set:H,R:z,P:J,F:q,A:X,multiply:t,rotate:$,scale:Y,D:K,O:Z,B:Q,L:tt,N:st,add:et,W:s,U:it,equals:rt,j:nt,V:ht,mul:t,sub:s}),Nr=Object.freeze({__proto__:null,create:ot,clone:at,I:lt,identity:ut,C:ct,set:ft,P:dt,A:pt,multiply:e,rotate:mt,scale:gt,translate:yt,D:St,O:wt,H:bt,B:vt,L:xt,add:Mt,W:i,j:Tt,V:Gt,U:_t,equals:It,mul:e,sub:i}),Wr=Object.freeze({__proto__:null,create:r,J:Ct,clone:Rt,I:Et,C:Pt,set:Ft,identity:At,R:kt,P:Dt,F:Ot,A:Bt,multiply:n,translate:Lt,rotate:Nt,scale:Wt,H:Ut,D:jt,O:Vt,X:Ht,$:zt,Y:Jt,K:qt,B:Xt,L:$t,add:Yt,W:h,j:Kt,V:Zt,U:Qt,equals:ts,mul:n,sub:h}),Mr=Object.freeze({__proto__:null,create:ss,clone:es,I:is,C:rs,set:ns,identity:p,R:hs,P:os,F:as,A:ls,multiply:o,translate:us,scale:cs,rotate:fs,Z:ds,tt:ps,et:ms,H:gs,O:ys,D:Ss,it:ws,nt:bs,ht:vs,ot:f,lt:xs,ut:a,ct:d,dt:l,gt:Ms,yt:Ts,St:Gs,$:_s,bt:Is,vt:u,perspective:u,xt:Cs,Mt:Rs,Tt:c,ortho:c,Gt:Es,_t:Ps,It:Fs,B:As,L:ks,add:Ds,W:Os,j:Bs,V:Ls,U:Ns,equals:Ws,mul:o,sub:Os}),$r=Js,Zr=qs,Vr=Xs,Qr=ee,tn=ie,Ur=js,sn=re,Ar=m(),Tr=Object.freeze({__proto__:null,create:m,clone:Us,length:js,C:g,I:Vs,set:Hs,add:zs,W:Js,multiply:qs,Ct:Xs,ceil:$s,floor:Ys,min:Ks,max:Zs,round:Qs,scale:te,Rt:se,Et:ee,Pt:ie,Ft:re,At:ne,inverse:he,normalize:y,kt:S,Dt:w,Ot:oe,Bt:ae,Lt:le,Nt:ue,random:ce,Wt:fe,Ut:de,jt:pe,Z:me,tt:ge,et:ye,angle:Se,Vt:we,B:be,U:ve,equals:xe,sub:$r,mul:Zr,div:Vr,Ht:Qr,zt:tn,Jt:Ur,qt:sn,forEach:function(t,s,e,i,r,n){var h,o;for(s=s||3,e=e||0,o=i?Math.min(i*s+e,t.length):t.length,h=e;h<o;h+=s)Ar[0]=t[h],Ar[1]=t[h+1],Ar[2]=t[h+2],r(Ar,Ar,n),t[h]=Ar[0],t[h+1]=Ar[1],t[h+2]=Ar[2];return t}}),$r=Ce,Zr=Re,Vr=Ee,Qr=Le,tn=Ne,sn=v,en=x,Fr=b(),jr=Object.freeze({__proto__:null,create:b,clone:Me,C:Te,I:Ge,set:_e,add:Ie,W:Ce,multiply:Re,Ct:Ee,ceil:Pe,floor:Fe,min:Ae,max:ke,round:De,scale:Oe,Rt:Be,Et:Le,Pt:Ne,length:v,Ft:x,At:We,inverse:Ue,normalize:je,kt:M,Dt:Ve,Ot:He,random:ze,Wt:Je,jt:qe,Vt:Xe,B:$e,U:Ye,equals:Ke,sub:$r,mul:Zr,div:Vr,Ht:Qr,zt:tn,Jt:sn,qt:en,forEach:function(t,s,e,i,r,n){var h,o;for(s=s||4,e=e||0,o=i?Math.min(i*s+e,t.length):t.length,h=e;h<o;h+=s)Fr[0]=t[h],Fr[1]=t[h+1],Fr[2]=t[h+2],Fr[3]=t[h+3],r(Fr,Fr,n),t[h]=Fr[0],t[h+1]=Fr[1],t[h+2]=Fr[2],t[h+3]=Fr[3];return t}}),$r=Me,Zr=Te,Vr=Ge,Qr=_e,tn=Ie,sn=si,Hr=Oe,zr=M,en=He,rn=Jr=v,nn=qr=x,Xr=je,hn=Ye,Rr=m(),Er=g(1,0,0),Pr=g(0,1,0),on=function(t,s,e){var i=S(s,e);return i<-.999999?(w(Rr,Er,s),Ur(Rr)<1e-6&&w(Rr,Pr,s),y(Rr,Rr),G(t,Rr,Math.PI),t):.999999<i?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(w(Rr,s,e),t[0]=Rr[0],t[1]=Rr[1],t[2]=Rr[2],t[3]=1+i,Xr(t,t))},Ir=T(),Cr=T(),an=function(t,s,e,i,r,n){return P(Ir,s,r,n),P(Cr,e,i,n),P(t,Ir,Cr,2*n*(1-n)),t},_r=r(),$r=Object.freeze({__proto__:null,create:T,identity:Ze,Xt:G,$t:Qe,Yt:ti,multiply:si,Z:_,tt:I,et:C,Kt:ei,exp:R,Zt:E,pow:ii,Bt:P,random:ri,P:ni,Qt:hi,ts:F,ss:oi,B:ai,clone:$r,C:Zr,I:Vr,set:Qr,add:tn,mul:sn,scale:Hr,kt:zr,Ot:en,length:Jr,Jt:rn,Ft:qr,qt:nn,normalize:Xr,U:hn,equals:li,es:on,ns:an,hs:function(t,s,e,i){return _r[0]=e[0],_r[3]=e[1],_r[6]=e[2],_r[1]=i[0],_r[4]=i[1],_r[7]=i[2],_r[2]=-s[0],_r[5]=-s[1],_r[8]=-s[2],Xr(t,F(t,_r))}}),Yr=zr,Zr=Kr=qr,Qr=Object.freeze({__proto__:null,create:ui,clone:ci,C:fi,os:di,ot:A,H:pi,D:mi,J:gi,I:k,identity:yi,set:Si,ls:Vr,us:wi,cs:Vr,ds:bi,ut:vi,translate:xi,Z:Mi,tt:Ti,et:Gi,gs:_i,ys:Ii,Ss:Ci,add:Ri,multiply:Ei,mul:Ei,scale:Pi,kt:Yr,Ot:Fi,P:Ai,Qt:ki,length:Jr,Jt:Jr,Ft:Kr,qt:Zr,normalize:Di,B:Oi,U:Bi,equals:Li}),tn=er,sn=Hi,en=zi,rn=Ji,nn=tr,hn=sr,on=ir,Gr=D(),an=Object.freeze({__proto__:null,create:D,clone:Ni,C:Wi,I:Ui,set:ji,add:Vi,W:Hi,multiply:zi,Ct:Ji,ceil:qi,floor:Xi,min:$i,max:Yi,round:Ki,scale:Zi,Rt:Qi,Et:tr,Pt:sr,length:er,Ft:ir,At:rr,inverse:nr,normalize:hr,kt:or,Dt:ar,Ot:lr,random:ur,ws:cr,bs:fr,Ut:dr,Wt:pr,rotate:mr,angle:gr,Vt:yr,B:Sr,U:wr,equals:br,Jt:tn,sub:sn,mul:en,div:rn,Ht:nn,zt:hn,qt:on,forEach:function(t,s,e,i,r,n){var h,o;for(s=s||2,e=e||0,o=i?Math.min(i*s+e,t.length):t.length,h=e;h<o;h+=s)Gr[0]=t[h],Gr[1]=t[h+1],r(Gr,Gr,n),t[h]=Gr[0],t[h+1]=Gr[1];return t}}),globalThis.vs=Br,globalThis.vs.xs=Lr,globalThis.vs.Ms=Nr,globalThis.vs.Ts=Wr,globalThis.vs.Gs=Mr,globalThis.vs._s=$r,globalThis.vs.Is=Qr,globalThis.vs.Cs=an,globalThis.vs.Rs=Tr,globalThis.vs.Es=jr}var Gr,_r,Ir,Cr,Rr,Er,Pr,Fr,Ar,vr,xr,kr,Dr,Or,Br,Lr,Nr,Wr,Mr,Ur,Tr,jr,Vr,Hr,zr,Jr,qr,Xr,$r,Yr,Kr,Zr,Qr,tn,sn,en,rn,nn,hn,on,an,k,D,O,B;{let a=function(t,s,e){var i=[0,0],r=t[1][1]-t[0][1],n=t[0][0]-t[1][0],t=r*t[0][0]+n*t[0][1],h=s[1][1]-s[0][1],o=s[0][0]-s[1][0],s=h*s[0][0]+o*s[0][1],a=r*o-h*n;return m(a,0,e=e||0)||(i[0]=(o*t-n*s)/a,i[1]=(r*s-h*t)/a),i},r=function(t,s,e,i){var r,n=s[0]-t[0],s=s[1]-t[1],h=i[0]-e[0];return h*s-(i=i[1]-e[1])*n!=0&&(r=(h*(t[1]-e[1])+i*(e[0]-t[0]))/(i*n-h*s),0<=(t=(n*(e[1]-t[1])+s*(t[0]-e[0]))/(h*s-i*n)))&&t<=1&&0<=r&&r<=1},o=function(t,s,e){return(s[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(s[1]-t[1])},M=function(t,s,e){return 0<o(t,s,e)},T=function(t,s,e){return 0<=o(t,s,e)},G=function(t,s,e){return o(t,s,e)<0},_=function(t,s,e){return o(t,s,e)<=0},n=function(t,s,e,i){var r,n,h;return i?(h=D,(n=k)[0]=s[0]-t[0],n[1]=s[1]-t[1],h[0]=e[0]-s[0],h[1]=e[1]-s[1],r=n[0]*h[0]+n[1]*h[1],n=Math.sqrt(n[0]*n[0]+n[1]*n[1]),h=Math.sqrt(h[0]*h[0]+h[1]*h[1]),Math.acos(r/(n*h))<i):0===o(t,s,e)},I=function(t,s){var e=s[0]-t[0];return e*e+(s=s[1]-t[1])*s},C=function(t,s){var e=t.length;return t[s<0?s%e+e:s%e]},h=function(t){t.length=0},R=function(t,s,e,i){for(var r=e;r<i;r++)t.push(s[r])},t=function(t){for(var s=0,e=t,i=1;i<t.length;++i)(e[i][1]<e[s][1]||e[i][1]===e[s][1]&&e[i][0]>e[s][0])&&(s=i);return!M(C(t,s-1),C(t,s),C(t,s+1))&&(l(t),!0)},l=function(t){for(var s=[],e=t.length,i=0;i!==e;i++)s.push(t.pop());for(i=0;i!==e;i++)t[i]=s[i]},E=function(t,s){return G(C(t,s-1),C(t,s),C(t,s+1))},u=function(t,s,e){var i,r=O,n=B;if(T(C(t,s+1),C(t,s),C(t,e))&&_(C(t,s-1),C(t,s),C(t,e)))return!1;for(var h=I(C(t,s),C(t,e)),o=0;o!==t.length;++o)if((o+1)%t.length!==s&&o!==s&&T(C(t,s),C(t,e),C(t,o+1))&&_(C(t,s),C(t,e),C(t,o))&&(r[0]=C(t,s),r[1]=C(t,e),n[0]=C(t,o),n[1]=C(t,o+1),i=a(r,n),I(C(t,s),i)<h))return!1;return!0},P=function(t,s,e){for(var i=0;i!==t.length;++i)if(i!==s&&i!==e&&(i+1)%t.length!==s&&(i+1)%t.length!==e&&r(C(t,s),C(t,e),C(t,i),C(t,i+1)))return!1;return!0},c=function(t,s,e,i){var r=i||[];if(h(r),s<e)for(var n=s;n<=e;n++)r.push(t[n]);else{for(n=0;n<=e;n++)r.push(t[n]);for(n=s;n<t.length;n++)r.push(t[n])}return r},f=function(t){for(var s=[],e=[],i=[],r=Number.MAX_VALUE,n=0;n<t.length;++n)if(E(t,n))for(var h=0;h<t.length;++h)if(u(t,n,h)){for(var e=f(c(t,n,h,i)),o=f(c(t,h,n,i)),a=0;a<o.length;a++)e.push(o[a]);e.length<r&&(r=(s=e).length,s.push([C(t,n),C(t,h)]))}return s},s=function(t){var s=f(t);return 0<s.length?d(t,s):[t]},d=function(t,s){if(0===s.length)return[t];if(s instanceof Array&&s.length&&s[0]instanceof Array&&2===s[0].length&&s[0][0]instanceof Array){for(var e=[t],i=0;i<s.length;i++)for(var r=s[i],n=0;n<e.length;n++){var h=d(e[n],r);if(h){e.splice(n,1),e.push(h[0],h[1]);break}}return e}return i=t.indexOf((r=s)[0]),n=t.indexOf(r[1]),-1!==i&&-1!==n&&[c(t,i,n),c(t,n,i)]},e=function(t){for(var s=t,e=0;e<s.length-1;e++)for(var i=0;i<e-1;i++)if(r(s[e],s[e+1],s[i],s[i+1]))return!1;for(e=1;e<s.length-2;e++)if(r(s[0],s[s.length-1],s[e],s[e+1]))return!1;return!0},F=function(t,s,e,i,r){var n=s[1]-t[1],s=t[0]-s[0],t=n*t[0]+s*t[1],h=i[1]-e[1],i=e[0]-i[0],e=h*e[0]+i*e[1],o=n*i-h*s;return m(o,0,r=r||0)?[0,0]:[(i*t-s*e)/o,(n*e-h*t)/o]},A=function(t,s,e,i,r,n,h){n=n||100,h=h||0,r=r||25,s=void 0!==s?s:[],e=e||[],i=i||[];var o=[0,0],a=[0,0],l=[0,0],u=0,c=0,f=0,d=0,p=0,m=0,g=0,y=[],S=[],w=t,b=t;if(!(b.length<3))if(n<++h)console.warn("quickDecomp: max level ("+n+") reached.");else{for(var v=0;v<t.length;++v)if(E(w,v)){e.push(w[v]);for(var u=c=Number.MAX_VALUE,x=0;x<t.length;++x)M(C(w,v-1),C(w,v),C(w,x))&&_(C(w,v-1),C(w,v),C(w,x-1))&&(l=F(C(w,v-1),C(w,v),C(w,x),C(w,x-1)),G(C(w,v+1),C(w,v),l))&&(f=I(w[v],l))<c&&(c=f,a=l,m=x),M(C(w,v+1),C(w,v),C(w,x+1))&&_(C(w,v+1),C(w,v),C(w,x))&&(l=F(C(w,v+1),C(w,v),C(w,x),C(w,x+1)),M(C(w,v-1),C(w,v),l))&&(f=I(w[v],l))<u&&(u=f,o=l,p=x);if(m===(p+1)%t.length)l[0]=(a[0]+o[0])/2,l[1]=(a[1]+o[1])/2,i.push(l),v<p?(R(y,w,v,p+1),y.push(l),S.push(l),0!==m&&R(S,w,m,w.length),R(S,w,0,v+1)):(0!==v&&R(y,w,v,w.length),R(y,w,0,p+1),y.push(l),S.push(l),R(S,w,m,v+1));else{if(p<m&&(p+=t.length),d=Number.MAX_VALUE,p<m)return s;for(x=m;x<=p;++x)T(C(w,v-1),C(w,v),C(w,x))&&_(C(w,v+1),C(w,v),C(w,x))&&(f=I(C(w,v),C(w,x)))<d&&P(w,v,x)&&(d=f,g=x%t.length);v<g?(R(y,w,v,g+1),0!==g&&R(S,w,g,b.length),R(S,w,0,v+1)):(0!==v&&R(y,w,v,b.length),R(y,w,0,g+1),R(S,w,g,v+1))}return y.length<S.length?(A(y,s,e,i,r,n,h),A(S,s,e,i,r,n,h)):(A(S,s,e,i,r,n,h),A(y,s,e,i,r,n,h)),s}s.push(t)}return s},i=function(t,s){for(var e=0,i=t.length-1;3<t.length&&0<=i;--i)n(C(t,i-1),C(t,i),C(t,i+1),s)&&(t.splice(i%t.length,1),e++);return e},p=function(t,s){for(var e=t.length-1;1<=e;--e)for(var i=t[e],r=e-1;0<=r;--r)g(i,t[r],s)&&t.splice(e,1)},m=function(t,s,e){return e=e||0,Math.abs(t-s)<=e},g=function(t,s,e){return m(t[0],s[0],e)&&m(t[1],s[1],e)};a,r,o,M,T,G,_,n,I,C,h,R,l,E,u,P,c,f,d,F,A,m,g,k=[],D=[],O=[],B=[],self.Ps={Fs:s,As:A,ks:e,Ds:i,Os:p,Bs:t}}{let t=!1,s=!1,e="dev",i=Symbol("Construct internal API token"),r=14,n=self.Ls=class{constructor(){throw TypeError("static class can't be instantiated")}static Ns(){if(r<=0)throw new Error("cannot obtain internal API token");return--r,i}static Ws(){t=!0}static Us(){return t}static js(){s=!0}static Vs(){return s}static Hs(t){e=t}static zs(){return e}static Js(){return"final"===e}};n.isDebug=!1,n.qs=!1,n.hardwareConcurrency=navigator.hardwareConcurrency||2,self.Xs={}}{const s=self.Ls;s.$s=class{constructor(t){this.Ys=t,this.Ks=new Map,this.Zs()}Zs(){let t=this.Ys,s=(t=t.startsWith("?")||t.startsWith("#")?t.substr(1):t).split("&");for(const e of s)this.Qs(e)}Qs(t){if(t)if(t.includes("=")){const s=t.indexOf("="),e=decodeURIComponent(t.substring(0,s)),i=decodeURIComponent(t.substring(s+1));this.Ks.set(e,i)}else this.Ks.set(t,null)}te(){for(const t of this.Ks)console.log("[QueryParser] Parameter '"+t[0]+"' = "+(null===t[1]?"null":"'"+t[1]+"'"))}ie(t){return this.Ks.has(t)}re(t){const s=this.Ks.get(t);return void 0===s?null:s}ne(){history.replaceState("",document.title,location.pathname+location.search)}he(t){this.Ys=t,this.Ks.clear(),this.Zs()}},s.oe=new s.$s(location.search),s.ae=new s.$s(location.hash),s.oe.ie("perf")&&(s.le=!0),"dev"!==s.oe.re("mode")&&s.Hs("final")}{let i=function(t){const s=parseFloat(t),e=U.get(s);return e||(13<=s?"11":"NT "+t)};i;const a=self.Ls,W="(unknown)",U=(a.ue={fe:W,de:W,pe:W,me:W,ge:NaN,ye:W,Se:"browser",we:!0,ve:!1,xe:!1,Me:!1,Te:async()=>{}},new Map([[5,"2000"],[5.1,"XP"],[5.2,"XP"],[6,"Vista"],[6.1,"7"],[6.2,"8"],[6.3,"8.1"],[10,"10"]])),j=navigator.userAgent,V=navigator.userAgentData;if(V&&0<V.brands.length){let s=function(t){let s="",e="",i="",r="";for(const n of t){const h=H.get(n.brand),o=(!s&&h&&(s=h,e=n.version),z.get(n.brand));!i&&o&&(i=o,r=n.version)}s||"Chromium"!==i||(a.ue.pe="Chromium",a.ue.me=r),a.ue.pe=s||W,a.ue.me=e||W,a.ue.ye=i||W};s,a.ue.fe=V.platform,a.ue.ve=V.mobile,a.ue.we=!a.ue.ve;const H=new Map([["Google Chrome","Chrome"],["Microsoft Edge","Edge"],["Opera","Opera"],["Opera GX","Opera GX"],["Mozilla Firefox","Firefox"],["Apple Safari","Safari"],["NW.js","NW.js"]]),z=new Map([["Chromium","Chromium"],["Gecko","Gecko"],["WebKit","WebKit"]]);s(V.brands);let e=!1;a.ue.Te=async()=>{if(!e)try{const t=await navigator.userAgentData.getHighEntropyValues(["platformVersion","fullVersionList"]);s(t.fullVersionList),"Windows"===a.ue.fe?a.ue.de=i(t.platformVersion):a.ue.de=t.platformVersion,e=!0}catch(t){console.warn("Failed to get detailed user agent information: ",t)}}}else{let t=function(t,s){const e=Array.isArray(t)?t:[t];for(const i of e){const r=i.exec(j);if(r){s(r);break}}};t(/windows\s+nt\s+([\d\.]+)/i,t=>{a.ue.fe="Windows";const s=t[1];a.ue.de=i(s)}),t(/mac\s+os\s+x\s+([\d\._]+)/i,t=>{a.ue.fe="macOS",a.ue.de=t[1].replace(/_/g,".")}),t(/CrOS/,()=>{a.ue.fe="Chrome OS"}),t(/linux|openbsd|freebsd|netbsd/i,()=>{a.ue.fe="Linux"}),t(/android/i,()=>{a.ue.fe="Android"}),t(/android\s+([\d\.]+)/i,t=>{a.ue.fe="Android",a.ue.de=t[1]}),a.ue.fe===W&&(t(/(iphone|ipod|ipad)/i,t=>{a.ue.fe="iOS"}),t([/iphone\s+os\s+([\d\._]+)/i,/ipad[^)]*os\s+([\d\._]+)/i],t=>{a.ue.fe="iOS",a.ue.de=t[1].replace(/_/g,".")}));const J=/chrome\//i.test(j),q=/chromium\//i.test(j),X=/edg\//i.test(j),$=/OPR\//.test(j),Y=/nwjs/i.test(j),K=/safari\//i.test(j),Z=/webkit/i.test(j),Q=(X||$||t(/chrome\/([\d\.]+)/i,t=>{a.ue.pe="Chrome",a.ue.me=t[1],a.ue.ye="Chromium"}),t(/edg\/([\d\.]+)/i,t=>{a.ue.pe="Edge",a.ue.me=t[1],a.ue.ye="Chromium"}),t(/OPR\/([\d\.]+)/,t=>{a.ue.pe="Opera",a.ue.me=t[1],a.ue.ye="Chromium"}),t(/chromium\/([\d\.]+)/i,t=>{a.ue.pe="Chromium",a.ue.me=t[1],a.ue.ye="Chromium"}),t(/nwjs\/[0-9.]+/i,t=>{a.ue.pe="NW.js",a.ue.me=t[1],a.ue.ye="Chromium",a.ue.Se="nwjs"}),t(/firefox\/([\d\.]+)/i,t=>{a.ue.pe="Firefox",a.ue.me=t[1],a.ue.ye="Gecko"}),!K||J||q||X||$||Y||(a.ue.pe="Safari",a.ue.ye="WebKit",t(/version\/([\d\.]+)/i,t=>{a.ue.me=t[1]}),t(/crios\/([\d\.]+)/i,t=>{a.ue.pe="Chrome for iOS",a.ue.me=t[1]}),t(/fxios\/([\d\.]+)/i,t=>{a.ue.pe="Firefox for iOS",a.ue.me=t[1]}),t(/edgios\/([\d\.]+)/i,t=>{a.ue.pe="Edge for iOS",a.ue.me=t[1]})),a.ue.ye===W&&Z&&(a.ue.ye="WebKit"),"Android"===a.ue.fe&&"Safari"===a.ue.pe&&(a.ue.pe="Stock"),new Set(["Windows","macOS","Linux","Chrome OS"])),tt=Q.has(a.ue.fe)||"nwjs"===a.ue.Se;a.ue.we=tt,a.ue.ve=!tt}"Chrome"===a.ue.pe&&"browser"===a.ue.Se&&/wv\)/.test(j)&&(a.ue.Se="webview"),"nwjs"!==a.ue.Se&&"undefined"!=typeof window&&(window.matchMedia&&window.matchMedia("(display-mode: standalone)").matches||navigator.standalone)&&(a.ue.Se="webapp"),a.ue.ge=parseFloat(a.ue.me);const e="macOS"===a.ue.fe&&navigator.maxTouchPoints&&2<navigator.maxTouchPoints;e&&(a.ue.fe="iOS",a.ue.de=a.ue.me,a.ue.we=!1,a.ue.ve=!0,a.ue.Me=!0),a.ue.xe="macOS"===a.ue.fe||"iOS"===a.ue.fe}{let h=function(e){return new Promise((t,s)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>s(e.error)})},o=function(e){return new Promise((t,s)=>{e.oncomplete=()=>t(),e.onerror=()=>s(e.error),e.onabort=()=>s(e.error)})},t=function(t,s){return L(t,s)},s=function(t,s){return L(t,s,!0)},a=function(s){i(s);let t=it.get(s);return t instanceof Promise||(t=(async e=>{i(e);const t=indexedDB.open(e,st);return t.addEventListener("upgradeneeded",t=>{try{const s=t.target.result;s.createObjectStore(et)}catch(t){console.error("Failed to create objectstore for database "+e,t)}}),h(t)})(s),it.set(s,t),t.catch(t=>it.delete(s))),t},i=function(t){if("string"!=typeof t)throw new TypeError("expected string")},n=function(t,r){const s=t.objectStore(et).openCursor();return new Promise(e=>{const i=[];s.onsuccess=t=>{const s=t.target.result;if(s){switch(r){case"entries":i.push([s.key,s.value]);break;case"keys":i.push(s.key);break;case"values":i.push(s.value)}s.continue()}else e(i)}})};h,o,t,s,a,i,n;const st=2,et="keyvaluepairs",it=new Map,rt="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAll,nt="undefined"!=typeof IDBObjectStore&&"function"==typeof IDBObjectStore.prototype.getAllKeys;async function L(s,e,i=!1,r=!0){const t=await a(s);try{const n=t.transaction([et],i?"readwrite":"readonly");return e(n)}catch(t){if(r&&"InvalidStateError"===t.name)return it.delete(s),L(s,e,i,!1);throw t}}class ht{constructor(t){i(t),this.name=t}async ready(){await a(this.name)}set(r,n){return i(r),s(this.name,async t=>{const s=t.objectStore(et).put(n,r),e=h(s),i=o(t);await Promise.all([i,e])})}get(n){return i(n),t(this.name,async t=>{const s=t.objectStore(et).get(n),e=h(s),i=o(t),[,r]=await Promise.all([i,e]);return r})}delete(r){return i(r),s(this.name,async t=>{const s=t.objectStore(et).delete(r),e=h(s),i=o(t);await Promise.all([i,e])})}clear(){return s(this.name,async t=>{const s=t.objectStore(et).clear(),e=h(s),i=o(t);await Promise.all([i,e])})}keys(){return t(this.name,async t=>{let s;if(nt){const r=t.objectStore(et).getAllKeys();s=h(r)}else s=n(t,"keys");const e=o(t),[,i]=await Promise.all([e,s]);return i})}values(){return t(this.name,async t=>{let s;if(rt){const r=t.objectStore(et).getAll();s=h(r)}else s=n(t,"values");const e=o(t),[,i]=await Promise.all([e,s]);return i})}entries(){return t(this.name,async t=>{const s=n(t,"entries"),e=o(t),[,i]=await Promise.all([e,s]);return i})}}self.Ge=ht}{let e=function(t){throw new Error(`"${t}" is not implemented`)},i=function(t){if("function"==typeof t)throw new Error("localforage callback API is not implemented; please use the promise API instead")},r=function(i){return"object"==typeof i?new Promise(s=>{const{port1:t,port2:e}=new MessageChannel;e.onmessage=t=>s(t.data),t.postMessage(i)}):Promise.resolve(i)};e,i,r;const ot=self.Ge,at=[/no available storage method found/i,/an attempt was made to break through the security policy of the user agent/i,/the user denied permission to access the database/i,/a mutation operation was attempted on a database that did not allow mutations/i,/idbfactory\.open\(\) called in an invalid security context/i];new WeakMap;class lt{constructor(t){this._e=t,this.Ie=!this._e,this.Ie||"undefined"!=typeof indexedDB||(this.Ie=!0,console.warn("Unable to use local storage because IndexedDB API is not available")),this.Ce=new Map}Re(t){if(!this.Ie)for(const s of at)if(t&&s.test(t.message)){console.error("Unable to use local storage, reverting to in-memory store: ",t,t.message),this.Ie=!0;break}}async Ee(t){const s=this.Ce.get(t),e=await r(s);return void 0===e?null:e}async Pe(t,s){s=await r(s),this.Ce.set(t,s)}Fe(t){this.Ce.delete(t)}Ae(){this.Ce.clear()}ke(){return Array.from(this.Ce.keys())}De(){return this.Ie}Oe(){return this.Ce}Be(t){this.Ce=t}async getItem(s,t){if(i(t),this.Ie)return this.Ee(s);let e;try{e=await this._e.get(s)}catch(t){return this.Re(t),this.Ie?this.Ee(s):(console.error(`Error reading '${s}' from storage, returning null: `,t),null)}return void 0===e?null:e}async setItem(s,e,t){if(i(t),void 0===e&&(e=null),this.Ie)await this.Pe(s,e);else try{await this._e.set(s,e)}catch(t){if(this.Re(t),!this.Ie)throw t;await this.Pe(s,e)}}async removeItem(s,t){if(i(t),this.Ie)this.Fe(s);else try{await this._e.delete(s)}catch(t){this.Re(t),this.Ie?this.Fe(s):console.error(`Error removing '${s}' from storage: `,t)}}async clear(t){if(i(t),this.Ie)this.Ae();else try{await this._e.clear()}catch(t){this.Re(t),this.Ie?this.Ae():console.error("Error clearing storage: ",t)}}async keys(t){if(i(t),this.Ie)return this.ke();let s=[];try{s=await this._e.keys()}catch(t){if(this.Re(t),this.Ie)return this.ke();console.error("Error getting storage keys: ",t)}return s}ready(t){return i(t),this.Ie?Promise.resolve(!0):this._e.ready()}Le(t){if(t.forceInMemoryFallback)return new lt(null);{const s=t.name;if("string"!=typeof s)throw new TypeError("invalid store name");const e=new ot(s);return new lt(e)}}length(t){e("localforage.length()")}key(t,s){e("localforage.key()")}iterate(t,s){e("localforage.iterate()")}Ne(t){e("localforage.setDriver()")}config(t){e("localforage.config()")}We(t){e("localforage.defineDriver()")}Ue(){e("localforage.driver()")}supports(t){e("localforage.supports()")}dropInstance(){e("localforage.dropInstance()")}}self.localforage=new lt(new ot("localforage"))}{const i=self.Ls;if(i.je={},i.je.Ve=(()=>{try{if("undefined"==typeof document)return!1;const t=document.createElement("div");if(void 0===t.animate)return!1;const s=t.animate([{opacity:"0"},{opacity:"1"}],1e3);return void 0!==s.reverse}catch(t){return!1}})(),i.je.He="undefined"!=typeof HTMLDialogElement,i.je.Je=!!self.requestIdleCallback,i.je.ImageBitmap=!!self.createImageBitmap,i.je.ImageBitmapOptions=!1,i.je.qe=!1,i.je.ImageBitmap){try{self.createImageBitmap(new ImageData(32,32),{premultiplyAlpha:"none"}).then(()=>{i.je.ImageBitmapOptions=!0}).catch(()=>{i.je.ImageBitmapOptions=!1})}catch(t){i.je.ImageBitmapOptions=!1}try{self.createImageBitmap(new ImageData(32,32),{resizeWidth:10,resizeHeight:10}).then(t=>{i.je.qe=10===t.width&&10===t.height}).catch(()=>{i.je.qe=!1})}catch(t){i.je.qe=!1}}if(i.je.Xe=!(!navigator.clipboard||!navigator.clipboard.readText),i.je.$e=!(!navigator.permissions||!navigator.permissions.query),i.je.Ye=!1,i.je.$e){const ut={name:"clipboard-read"};navigator.permissions.query(ut).then(()=>{i.je.Ye=!0}).catch(()=>{i.je.Ye=!1})}i.je.Ke=!!(navigator.permissions&&navigator.clipboard&&self.ClipboardItem),i.je.Ze="undefined"!=typeof Proxy,i.je.Qe=(()=>{if("undefined"==typeof document)return!1;const t=document.createElement("a");return void 0!==t.download})(),i.je.ti="function"==typeof fetch,i.je.si=!!(self.isSecureContext&&"Opera"!==i.ue.pe&&navigator.storage&&navigator.storage.persist),i.je.ei=!!(self.isSecureContext&&navigator.storage&&navigator.storage.estimate),i.je.ii=(()=>{if("undefined"==typeof document)return!1;if("iOS"===i.ue.fe)return!1;const t=document.documentElement;return!!(t.requestFullscreen||t.msRequestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullscreen)})(),i.je.ImageDecoder=void 0!==self.ImageDecoder,i.je.ri=!!self.VideoEncoder,i.je.ni=!!self.showOpenFilePicker,i.je.hi=!!self.queryLocalFonts,i.je.UserActivation=!!navigator.userActivation,i.je.oi=!1,(async()=>{let s;"undefined"==typeof document?s=new OffscreenCanvas(32,32):((s=document.createElement("canvas")).width=32,s.height=32);const t=s.getContext("2d");t.fillStyle="blue",t.fillRect(0,0,32,32);let e=null;try{s.convertToBlob?e=await s.convertToBlob({type:"image/webp",quality:1}):s.toBlob&&(e=await new Promise(t=>s.toBlob(t,"image/webp",1))),i.je.oi=e&&"image/webp"===e.type}catch(t){i.je.oi=!1}})()}{let i=function(t,e){return t.reduce((t,s)=>(0<e&&Array.isArray(s)?Array.prototype.push.apply(t,i(s,e-1)):t.push(s),t),[])};i;const ct=self.Ls;if(!String.prototype.trimStart){const ft=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*/;String.prototype.trimStart=function(){return this.replace(ft,"")}}if(!String.prototype.trimEnd){const dt=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]*$/;String.prototype.trimEnd=function(){return this.replace(dt,"")}}String.prototype.replaceAll||(String.prototype.replaceAll=function(t,s){return this.replace(new RegExp(ct.ai(t),"g"),s)}),Array.prototype.values||(Array.prototype.values=function*(){for(const t of this)yield t}),Array.prototype.flat||(Array.prototype.flat=function(t=1){return i(this,t)}),Array.prototype.at||(Array.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),String.prototype.at||(String.prototype.at=function(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}),RegExp.escape||(RegExp.escape=function(t){return String(t).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}),Set.prototype.isSubsetOf||(Set.prototype.isSubsetOf=function(t){if(!(t instanceof Set))throw new TypeError("argument must be a Set");for(const s of this)if(!t.has(s))return!1;return!0}),navigator.storage&&!navigator.storage.estimate&&navigator.webkitTemporaryStorage&&navigator.webkitTemporaryStorage.queryUsageAndQuota&&(navigator.storage.estimate=function(){return new Promise((e,t)=>navigator.webkitTemporaryStorage.queryUsageAndQuota((t,s)=>e({usage:t,quota:s}),t))}),void 0===self.isSecureContext&&(self.isSecureContext="https:"===location.protocol),void 0===self.globalThis&&(self.globalThis=self)}{let e=function(t){let s=pt.li(),e="Assertion failure: "+t+"\n\nStack trace:\n"+s;console.error(e)};e;const pt=self.Ls;self.assert=function(t,s){t||e(s)}}{const r=self.Ls,mt=self.Xs,gt=(r.ci=function(t){return"number"==typeof t},r.fi=function(t){return r.ci(t)&&isFinite(t)},r.di=function(t){if(!r.ci(t))throw new TypeError("expected number")},r.mi=function(t){r.gi(t)},r.yi=function(t,s,e){if(!r.ci(t)||isNaN(t)||t<s||e<t)throw new RangeError("number outside of range")},r.Si=function(...s){for(let t of s);},r.wi=function(t){if(!r.fi(t))throw new TypeError("expected finite number")},r.bi=function(t){r.gi(t)},r.vi=function(...s){for(let t of s);},r.xi=function(t){return"string"==typeof t},r.Mi=function(t){if(!r.xi(t))throw new TypeError("expected string")},r.Ti=function(t){r.gi(t)},r.Gi=function(...s){for(let t of s);},r._i=function(t){if("object"!=typeof t||null===t)return!1;let s=Object.getPrototypeOf(t);return s?s.constructor===Object:null===s},r.Ii=function(t){if(!r._i(t))throw new TypeError("expected simple object")},r.Ci=function(t){if(!r.gi(t)&&!r._i(t))throw new TypeError("expected simple object")},r.Ri=function(t){return"object"==typeof t&&null!==t&&!Array.isArray(t)},r.Ei=function(t){if(!r.Ri(t))throw new TypeError("expected object")},r.Pi=function(t){r.gi(t)},r.Fi=function(...s){for(let t of s);},r.Ai=function(t){return r.ki(t,Blob)&&"string"==typeof t.name},r.Di=function(t){if(!r.Ai(t))throw new TypeError("expected file")},r.Oi=function(t){r.gi(t)},r.Bi=function(t){return Array.isArray(t)},r.Li=function(t){if(!r.Bi(t))throw new TypeError("expected array")},r.Ni=function(t){r.gi(t)},r.Wi=function(...s){for(let t of s);},r.Ui=function(t){return!(!r.Bi(t)||t.length&&!r.Bi(t[0]))},r.ji=function(s){if(!r.Ui(s))throw new TypeError("expected 2d array");for(let t of s)if(!r.Bi(t))throw new TypeError("expected 2d array")},r.Vi=function(t){r.gi(t)},r.Hi=function(t){return"function"==typeof t},r.Ji=function(t,s){if(!r.Hi(t))throw new TypeError("expected function");if(!r.gi(s)&&t!==s)throw new TypeError("expected same function reference")},r.Xi=function(t){r.gi(t)},r.$i=function(...s){for(let t of s);},r.Yi=function(s,...e){if(!r.Hi(s))throw new TypeError("expected function");if(!e.length)throw new Error("missing comparison functions");for(let t of e)if(!r.gi(t)&&s===t)return;throw new TypeError("expected same function reference")},r.Ki=function(...s){if(!r.gi(s))for(let t of s);},r.Zi=function(t,s){return t instanceof s},r.Qi=function(s,...e){for(let t of e)if(r.Zi(s,t))return!0;return!1},r.tr=function(t,s){if(!r.Zi(t,s))throw new TypeError("unexpected type")},r.er=function(t,s){r.gi(t)},r.ir=function(t,...s){for(let t of s);},r.rr=function(t,...s){if(!r.Qi(t,...s))throw new TypeError("unexpected type")},r.nr=function(t,...s){if(!r.gi(t)&&!r.Qi(t,...s))throw new TypeError("unexpected type")},r.hr=function(s,e){for(let t of s)if(!r.Zi(t,e))return!1;return!0},r.lr=function(s){for(let t of s)if(!r.fi(t))return!1;return!0},r.ur=function(s,t){for(let t of s);},r.cr=function(s,t){if(!r.gi(s))for(let t of s);},r.dr=function(s,t){if(!r.gi(s))for(let t of s);},r.pr=function(s){for(let t of s);},r.mr=function(s){if(!r.gi(s))for(let t of s);},r.Sr=function(t,s){return!(r.gi(t)||!r.xi(t.nodeName))&&(!s||r.br(t.nodeName,s))},r.vr=function(t,s){if(r.gi(t)||!r.xi(t.nodeName))throw new TypeError("expected DOM node");if(s&&!r.br(t.nodeName,s))throw new TypeError(`expected DOM '${s}' node`)},r.Mr=function(t,s){r.gi(t)},r.Tr=function(t,s){return!(r.gi(t)||!r.xi(t.tagName))&&(!s||r.br(t.tagName,s))},r.Gr=function(t,s){if(r.gi(t)||!r.xi(t.tagName))throw new TypeError("expected HTML element");if(s&&!r.br(t.tagName,s))throw new TypeError(`expected HTML '${s}' element`)},r._r=function(t,s){r.gi(t)},r.Ir=function(t){return r.Tr(t,"img")||r.Tr(t,"canvas")||r.Tr(t,"video")||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap},r.Cr=function(t){if(!r.Ir(t))throw new TypeError("expected drawable")},r.Rr=function(t){r.gi(t)},r.Er=function(t){return t instanceof ImageData||r.Ir(t)},r.Pr=function(t){if(!r.Er(t))throw new TypeError("expected drawable or image data")},r.Fr=function(t){if(!r.gi(t)&&!r.Er(t))throw new TypeError("expected drawable or image data")},r.Ar=function(t){return"string"==typeof t||r.HtmlString&&t instanceof r.HtmlString||t instanceof r.kr},r.Dr=function(t){if(!r.Ar(t))throw new TypeError("expected string-like")},r.Or=function(t){r.gi(t)},r.Br=function(...s){for(let t of s);},r.Lr=function(){throw new Error("must be overridden")},r.Nr=function(){throw new Error("not yet implemented")},r.Wr=function(t){return t.constructor===function*(){}.constructor},r.Ur=function(t){if(!r.Wr(t))throw new Error("expected generator function")},r.jr=function(t){return"function"===t[Symbol.iterator]},r.Vr=function(t){if(!r.jr(t))throw new Error("expected iterable")},r.Hr=function(t){return!r.gi(t)},r.gi=function(t){return null==t},r.zr=function(s){let e=s[0].constructor;for(let t of s)if(t.constructor!==e)return!1;return e},r.Jr=function(s,e){for(let t of s)if(!(t instanceof e))return!1;return!0},Object.getPrototypeOf(Uint8Array));r.qr=function(t){return r.Zi(t,gt)},r.Xr=function(t){},r.$r=function(t){r.Yr(t,gt)},r.Kr=function(t,...s){if(!r.Zr(t,...s))throw new TypeError("unexpected type")},r.Zr=function(t,...s){for(const e of s)if(r.ki(t,e))return!0;return!1},r.Yr=function(t,s){if(!r.ki(t,s))throw new TypeError("unexpected type")},r.ki=function(t,s){for(;t=Object.getPrototypeOf(t);)if(t.constructor.name===s.name)return!0;return!1},mt.di=r.di,mt.mi=r.mi,mt.wi=r.wi,mt.bi=r.bi,mt.Mi=r.Mi,mt.Ti=r.Ti,mt.Ei=r.Ei,mt.Pi=r.Pi,mt.Li=r.Li,mt.Ni=r.Ni,mt.Ji=r.Ji,mt.Xi=r.Xi,mt.tr=r.tr,mt.er=r.er,mt.gi=r.gi}{let i=function(t,s){let e=p.getType(t),i=p.getType(s);return"null"===e||"null"===i||"undefined"!==e&&"undefined"!==i&&e===i},r=function(t){console.warn("[Defence] "+t+" @",p.li())},e=function(){if(f=-1,0<a.size||0<l.size){let t=new Set([...a.keys()].map(t=>p.Qr(t))),s=[...t].join(",");console.warn("An object derived from DefendedBase was not protected with debugDefend(). This will disable some checks. See the coding guidelines! Possible affected class names: "+s),a.clear(),l.clear()}},n=function(s){let e=new Set;for(let t in s)e.add(t);return e},h=function(t,s){let e=n(s),i=d.get(t);if(i){let s=[];for(let t of i.values())e.has(t)?e.delete(t):s.push(t);p.tn(s,[...e]),s.length&&console.warn(`[Defence] '${p.Qr(t)}' constructor creates inconsistent properties: `+s.join(", "))}else d.set(t,e)};i,r,e,n,h;const p=self.Ls,yt=new Map;p.sn=function(t,s){console.log("%c"+t,"font-weight: bold; color:"+s)},p.rn=function(t,...s){yt.has(t)||yt.set(t,-1),-1===yt.get(t)&&yt.set(t,requestAnimationFrame(()=>{console.log("%c"+t,"font-weight: bold",...s),yt.set(t,-1)}))};let o,a=(p.nn=function(t){performance.mark(t),(o=o||new Map).has(t)||o.set(t,{current:0,total:0,hn:0,an:1,toString:function(){return`${t} :: current => ${this.current.toPrecision(3)} :: average => ${this.hn.toPrecision(3)} :: calls => `+this.an}})},p.ln=function(t){performance.measure("measure-"+t,t);const s=performance.getEntriesByName("measure-"+t)[0],e=o.get(t);e.current=s.duration,e.total+=e.current,e.hn=e.total/e.an,console.log(e.toString()),e.an++,performance.clearMarks(t),performance.clearMeasures("measure-"+t)},p.li=function(){return(new Error).stack},p.un=function(){},p.cast=function(t,s){return t&&t instanceof s?t:null},p.Qr=function(t){return void 0===t?"undefined":null===t?"null":"boolean"==typeof t?"<boolean>":p.ci(t)?"<number>":p.xi(t)?"<string>":p.Bi(t)?"<array>":"symbol"==typeof t?"<"+t.toString()+">":p.Hi(t)?t.name&&"Function"!==t.name?t.name:"<anonymous function>":"object"==typeof t?t.constructor&&t.constructor.name&&"Object"!==t.constructor.name?t.constructor.name:"<anonymous object>":"<unknown>"},p.getType=function(t){return null===t?"null":Array.isArray(t)?"array":typeof t},p.range=function*(s,e){if(!isFinite(Math.abs(s-e)))throw new Error("Invalid parameters");if(e<s)for(let t=s-1;t>=e;t--)yield t;else for(let t=s;t<e;t++)yield t},new Map),l=new Map,u=new WeakMap,c=new WeakMap;p.cn={};const St=new Set(["then","splice"]);p.cn.get=function(t,s){return s in t||"symbol"==typeof s||St.has(s)||r(`Accessed missing property '${s}' from defended object '${p.Qr(t)}', returning undefined`),c.has(t)&&"symbol"!=typeof s&&!St.has(s)&&r(`Accessed property '${s}' on a released object '${p.Qr(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]},p.cn.set=function(t,s,e){return s in t||a.has(t)||r(`Set non-existent property '${s}' to '${e}' on defended object '${p.Qr(t)}'`),i(t[s],e)||a.has(t)||r(`Set '${p.getType(t[s])}' property '${s}' to type '${p.getType(e)}' on defended object '${p.Qr(t)}'`),c.has(t)&&r(`Set property '${s}' on a released object '${p.Qr(t)}'
Object was originally released at: ${c.get(t)})
Call stack at access: `),t[s]=e,!0},p.cn.deleteProperty=function(t,s){throw new ReferenceError(`Cannot delete property '${s}' from defended object '${p.Qr(t)}'`)},p.cn.defineProperty=function(t,s,e){throw new ReferenceError(`Cannot define property '${s}' on defended object '${p.Qr(t)}'`)},p.cn.enumerate=function(t){throw new ReferenceError(`Cannot enumerate defended object '${p.Qr(t)}'`)};let f=-1,d=(p.dn=class{constructor(){if(p.qs&&p.je.Ze){let t=Object.create(new.target.prototype),s=new Proxy(t,p.cn);return a.set(t,s),l.set(s,t),u.set(s,t),-1===f&&(f=requestAnimationFrame(e)),s}}},p.pn=function(s){if(p.qs&&p.je.Ze&&s instanceof p.dn){if(l.has(s)){let t=l.get(s);l.delete(s),a.delete(t)}return s}return p.isDebug?Object.seal(s):s},p.mn=function(t,...s){let e;try{e=new t(...s)}catch(t){throw l.clear(),a.clear(),t}return p.qs&&h(t,e),p.pn(e)},p.gn=function(t){let s=u.get(t);s&&c.set(s,p.li())},p.yn=function(t){let s=u.get(t);return!!s&&!!c.get(s)},new Map);p.Sn=class{constructor(t){this.wn="",t&&this.start(t)}start(t){p.le&&(this.wn=t,performance.mark(this.wn+"-Start"))}end(){p.le&&(performance.mark(this.wn+"-End"),performance.measure(this.wn,this.wn+"-Start",this.wn+"-End"))}next(t){p.le&&(this.end(),this.wn=t,performance.mark(this.wn+"-Start"))}}}{let e=function(t){return 0===t&&1/t<0};e;const y=self.Ls,wt=2*Math.PI,bt=Math.PI/180,vt=180/Math.PI,xt=(y.wrap=function(t,s,e){t=Math.floor(t),s=Math.floor(s);const i=(e=Math.floor(e))-s;if(0==i)return e;if(t<s){const r=e-(s-t)%i;return r===e?0:r}return s+(t-s)%i},y.bn=function(t,s,e,i,r){const n=e-s;if(0==n&&0===i)return t;const h=r-i;return(t-s)*h/n+i},y.normalize=function(t,s,e){return s-e==0?1:(t-s)/(e-s)},y.vn=function(t,s,e){return t<s?s:e<t?e:t},y.xn=function(t){return(t%=wt)<0&&(t+=wt),t},y.Mn=function(t){return t*bt},y.Tn=function(t){return t*vt},y.Gn=function(t,s){return Math.sqrt(t*t+s*s)},y._n=function(t,s,e){return Math.sqrt(t*t+s*s+e*e)},y.In=function(t,s,e,i){return y.Gn(e-t,i-s)},y.Cn=function(t,s,e,i){const r=e-t,n=i-s;return r*r+n*n},y.Rn=function(t,s,e,i){return Math.atan2(i-s,e-t)},y.En=function(t,s){if(t===s)return 0;let e=Math.sin(t),i=Math.cos(t),r=Math.sin(s),n=Math.cos(s),h=e*r+i*n;return 1<=h?0:h<=-1?Math.PI:Math.acos(h)},y.Pn=function(t,s,e){let i=Math.sin(t),r=Math.cos(t),n=Math.sin(s),h=Math.cos(s);return Math.acos(i*n+r*h)>e?0<r*n-i*h?y.xn(t+e):y.xn(t-e):y.xn(s)},y.Fn=function(t,s){let e=Math.sin(t),i=Math.cos(t),r=Math.sin(s),n=Math.cos(s);return i*r-e*n<=0},y.An=function(t,s,e,i=0){let r=y.En(t,s),n=wt*i;return y.Fn(s,t)?y.xn(t+(r+n)*e):y.xn(t-(r+n)*e)},y.kn=function(t,s,e,i=0){const r=y.En(t,s),n=wt*i;return y.Fn(s,t)?y.xn(t+(r+n)*e):y.xn(t+(wt-r+n)*e)},y.Dn=function(t,s,e,i=0){const r=y.En(t,s),n=wt*i;return y.Fn(s,t)?y.xn(t-(-wt+r-n)*e):y.xn(t-(r+n)*e)},y.On=function(t,s){const e=y.En(t,s);return y.Fn(t,s)?y.xn(s-e):y.xn(s+e)},y.Ot=function(t,s,e){return t+e*(s-t)},y.Bn=function(t,s,e){return t===s?0:(e-t)/(s-t)},y.Ln=function(t,s,e,i,r){return y.Ot(i,r,y.Bn(t,s,e))},y.Nn=function(t,s,e,i){return y.Ot(y.Ot(t,s,i),y.Ot(s,e,i),i)},y.Wn=function(t,s,e,i,r){return y.Ot(y.Nn(t,s,e,r),y.Nn(s,e,i,r),r)},y.Un=function(t,s,e){return(t+s+(t-s)*Math.cos(e*Math.PI))/2},y.jn=function(t){return 0<t&&0==(t-1&t)},y.Vn=function(s){--s;for(let t=1;t<32;t<<=1)s|=s>>t;return s+1},y.Hn=function(t,s){return Math.round(t*s)/s},y.zn=function(t,s){return Math.floor(t*s)/s},y.Jn=function(t,s){s=Math.max(Math.floor(s),0);const e=Math.pow(10,s);return Math.round(t*e)/e},y.qn=function(t){return Math.floor(t)!==t&&t.toString().split(".")[1].length||0},y.toFixed=function(t,s){let e=t.toFixed(s),i=e.length-1;for(;0<=i&&"0"===e.charAt(i);--i);return 0<=i&&"."===e.charAt(i)&&--i,i<0?e:e.substr(0,i+1)},y.Xn=function(t,s,e){return y.vn(t,0,255)|y.vn(s,0,255)<<8|y.vn(e,0,255)<<16},1024),Mt=16384,Tt=8191,Gt=(y.$n=function(t,s,e,i){return t=y.vn(Math.floor(1024*t),-8192,Tt),s=y.vn(Math.floor(1024*s),-8192,Tt),e=y.vn(Math.floor(1024*e),-8192,Tt),i=y.vn(Math.floor(1023*i),0,1023),t<0&&(t+=Mt),s<0&&(s+=Mt),e<0&&(e+=Mt),-(t*Mt*Mt*xt+s*Mt*xt+e*xt+i)},y.Yn=function(t,s,e){return y.$n(t,s,e,1)},y.Kn=function(s){if(0<=s)return(255&s)/255;{let t=Math.floor(-s/(Mt*Mt*xt));return t>Tt&&(t-=Mt),t/1024}},y.Zn=function(s){if(0<=s)return((65280&s)>>8)/255;{let t=Math.floor(-s%(Mt*Mt*xt)/(Mt*xt));return t>Tt&&(t-=Mt),t/1024}},y.Qn=function(s){if(0<=s)return((16711680&s)>>16)/255;{let t=Math.floor(-s%(Mt*xt)/xt);return t>Tt&&(t-=Mt),t/1024}},y.th=function(t){if(e(t))return 0;if(0<=t)return 1;{const s=Math.floor(-t%xt);return s/1023}},y.eh=function(s,e){for(s=Math.floor(s),e=Math.floor(e);0!==e;){let t=e;e=s%e,s=t}return s},[[3,2],[4,3],[5,4],[5,3],[6,5],[14,9],[16,9],[16,10],[21,9]]);y.ih=function(e,i){if((e=Math.floor(e))===(i=Math.floor(i)))return[1,1];for(let s of Gt){let t=e/s[0]*s[1];if(Math.abs(i-t)<1)return s.slice(0);if(t=e/s[1]*s[0],Math.abs(i-t)<1)return[s[1],s[0]]}let t=y.eh(e,i);return[e/t,i/t]},y.rh=function(t,s,e,i,r,n,h,o){const a=Math.min(t,e),l=Math.max(t,e),u=Math.min(r,h),c=Math.max(r,h);if(l<u||c<a)return!1;const f=Math.min(s,i),d=Math.max(s,i),p=Math.min(n,o),m=Math.max(n,o);if(d<p||m<f)return!1;const g=r-t+h-e,y=n-s+o-i,S=e-t,w=i-s,b=h-r,v=o-n,x=Math.abs(w*b-v*S),M=b*y-v*g;if(Math.abs(M)>x)return!1;const T=S*y-w*g;return Math.abs(T)<=x},y.nh=function(t,s,e,i,r,n,h,o,a,l,u,c){const f=Math.min(a,u),d=Math.max(a,u);if(n<f||d<r)return!1;const p=Math.min(l,c),m=Math.max(l,c);if(o<p||m<h)return!1;const g=a-t+u-e,y=l-s+c-i,S=e-t,w=i-s,b=u-a,v=c-l,x=Math.abs(w*b-v*S),M=b*y-v*g;if(Math.abs(M)>x)return!1;const T=S*y-w*g;return Math.abs(T)<=x},y.hh=function(t,s,e,i,r){const n=Math.min(t,e),h=Math.max(t,e),o=Math.min(s,i),a=Math.max(s,i),l=r.oh(),u=r.ah(),c=r.lh(),f=r.uh(),d=r.fh(),p=r.ph(),m=r.mh(),g=r.gh();return y.nh(t,s,e,i,n,h,o,a,l,u,c,f)||y.nh(t,s,e,i,n,h,o,a,c,f,d,p)||y.nh(t,s,e,i,n,h,o,a,d,p,m,g)||y.nh(t,s,e,i,n,h,o,a,m,g,l,u)},y.yh=function(s,e,i,r,n){let h=Math.min(s,i),o=Math.max(s,i),a=Math.min(e,r),l=Math.max(e,r),u=0;for(let t=n.length-4;u<=t;u+=2)if(y.nh(s,e,i,r,h,o,a,l,n[u],n[u+1],n[u+2],n[u+3]))return!0;return y.nh(s,e,i,r,h,o,a,l,n[u],n[u+1],n[0],n[1])};y.Sh=function(t,s,e,i,r,n,h,o){const a=e-t,l=i-s,u=h-r,c=o-n,f=a*c-l*u;if(0==f)return 2;const d=((s-i)*(h-t)+a*(o-s))/f;return 0<d&&d<1+1e-6?(c*(h-t)+(r-h)*(o-s))/f:2},y.wh=function(t,s,e,i,r,n,h,o,a){const l=(h-r)*a,u=(o-n)*a;return y.Sh(t,s,e,i,r-l,n-u,h+l,o+u)},y.bh=function(t,s,e,i,r,n,h,o){const a=r-e,l=n-i,u=h-e,c=o-i,f=t-e,d=s-i,p=a*a+l*l,m=a*u+l*c,g=a*f+l*d,y=u*u+c*c,S=u*f+c*d,w=1/(p*y-m*m),b=(y*g-m*S)*w,v=(p*S-m*g)*w;return 0<=b&&0<=v&&b+v<=1},y.xh=function(t,s,e,i,r,n,h,o){const a=r-e,l=n-i,u=h-e,c=o-i,f=t-e,d=s-i,p=a*a+l*l,m=a*u+l*c,g=u*u+c*c,y=f*a+d*l,S=f*u+d*c,w=p*g-m*m,b=(g*y-m*S)/w,v=(p*S-m*y)/w,x=1-b-v;return[x,b,v]},y.Mh=function(t,s,e,i,r,n,h,o,a,l,u,c){return[t*i+s*h+e*l,t*r+s*o+e*u,t*n+s*a+e*c]}}{let l=self.Ls,s=null,e="";if("undefined"!=typeof document){const _t=(s=document).querySelector("base");(e=_t&&_t.hasAttribute("href")?_t.getAttribute("href"):"")&&!(e=e.startsWith("/")?e.substr(1):e).endsWith("/")&&(e+="/")}l.Th=function(){return e},l.Gh=function(){if(!s)return"";const t=s.location;return l._h(t.origin+t.pathname)+e},l._h=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return t;const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?"":t.substr(0,s+1)},l.Ih=function(t){if(!t.length)return t;if(t.endsWith("/")||t.endsWith("\\"))return"";const s=Math.max(t.lastIndexOf("/"),t.lastIndexOf("\\"));return-1===s?t:t.substr(s+1)},l.Ch=function(t){let s=t.lastIndexOf(".");return s<1?"":t.substr(s)},l.Rh=function(t,s){const e=t.lastIndexOf(".");return-1===e?t+"."+s:t.substr(0,e+1)+s},l.Eh=function(t){let s=t.lastIndexOf(".");return s<1?t:t.substr(0,s)},l.Ph=function(t){return t.replace(/\\/g,"/")},l.Fh=function(t,s){const e=t?l.Ch(t).slice(1):"";return s===e},l.Ah=function(t,s){let e,i;return l.Ai(t)&&(e=l.Eh(t.name)),l.xi(t)&&(e=l.Eh(t)),l.Ai(s)&&(i=l.Eh(s.name)),l.xi(s)&&(i=l.Eh(s)),e===i},l.kh=function(t){t=l.Ph(t);let s=/^\w\:\//.exec(t),e=(s?(s=s[0],"/"!==(t=t.slice(3))[0]&&(t="/"+t)):s="",(t=1<(t=t.replace(/\/{2,}/g,"/")).length&&"/"===t.slice(-1)?t.slice(0,-1):t).lastIndexOf("/")+1),i="",r=t,n,h="";0<e&&(i=t.slice(0,e),r=t.slice(e));const o=(n=r).lastIndexOf("."),a=(0<o&&(h=r.slice(o),n=r.slice(0,-h.length)),s+i+r);return{dir:i,Dh:r,name:n,root:s,ext:h,Oh:a}},l.Bh=function(e,i){return new Promise((t,s)=>{self.setTimeout(t,e,i)})},l.Lh=function(t){try{t()}catch(t){l.isDebug&&console.warn("Swallowed exception: ",t)}},l.Nh=function(){},l.br=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize().toLowerCase()===s.normalize().toLowerCase())},l.Wh=function(t,s){return"string"==typeof t&&"string"==typeof s&&(t===s||t.normalize()===s.normalize())},l.Uh=function(t,s,e){t[e++]=s[0],t[e++]=s[1],t[e++]=s[2],t[e++]=s[3],t[e++]=s[4],t[e++]=s[5],t[e++]=s[6],t[e++]=s[7],t[e++]=s[8],t[e++]=s[9],t[e++]=s[10],t[e++]=s[11],t[e++]=s[12],t[e++]=s[13],t[e++]=s[14],t[e]=s[15]},l.jh=function(t,s){t.length=s},l.Vh=function(t){t&&0!==t.length&&l.jh(t,0)},l.Hh=function(e){if(e){for(let s=0;s<e.length;s++){let t=e[s];l.jh(t,0)}l.jh(e,0)}},l.zh=function(s,e,i){const r=s.length;if(!((e|=0)<=r))for(let t=r;t<e;++t)s.push(i)},l.Jh=function(t,s,e){const i=t.length;(s|=0)<i?l.jh(t,s):i<s&&l.zh(t,s,e)},l.qh=function(t,s){l.Vh(t),l.tn(t,s)},l.tn=function(e,i){if(i.length<1e4)e.push(...i);else for(let t=0,s=i.length;t<s;++t)e.push(i[t])},l.Xh=function(e,i){if(!((i=Math.floor(i))<0||i>=e.length)){let s=e.length-1;for(let t=i;t<s;++t)e[t]=e[t+1];l.jh(e,s)}},l.$h=function(t,s){let e=t.indexOf(s);0<=e&&t.splice(e,1)},l.Yh=function(s,e){let i=s.length;if(e.length!==i)return!1;for(let t=0;t<i;++t)if(s[t]!==e[t])return!1;return!0},l.Kh=function(e,i){let r=[],n=0;for(let s=0,t=e.length;s<t;++s){let t=e[s];i(t)?r.push(t):(e[n]=t,++n)}return l.jh(e,n),r},l.Zh=function(e,i){let t=e.length,r=0;for(let s=0,t=e.length;s<t;++s){let t=e[s];i.has(t)||(e[r++]=t)}return l.jh(e,r),t-r},l.Qh=function(t,s){return t===Math.floor(t)&&0<=t&&t<s.length},l.eo=function(t,s){if(!l.Qh(t,s))throw new RangeError("array index out of bounds")},l.ro=function(t){return t.slice()},l.no=function(t,e){let i=[];for(let s of t)if(l.Ri(s)){let t=e(s);if(!t)throw new Error("missing clone");if(t.constructor!==s.constructor)throw new Error("object is not a clone");i.push(t)}else l.Bi(s)?i.push(l.no(s,e)):i.push(s);return i},l.ho=function(s){let e=[];for(let t of s)e.push(t.slice());return e},l.ao=function(t,s=" "){return t?t.split(s).map(t=>t.trim()).filter(t=>!!t):[]},l.lo=function(t,s,e){const i=new Set;for(const r of t.values())s(r)&&(e?i.add(e(r)):i.add(r));return i},l.uo=function(t,s){return t.union?t.union(s):new Set([...t,...s])},l.co=function(t,s){for(const e of s)t.add(e);return t},l.first=function(s){for(let t of s)return t;return null},l.xor=function(t,s){return!t!=!s},l.compare=function(t,s,e){switch(s){case 0:return t===e;case 1:return t!==e;case 2:return t<e;case 3:return t<=e;case 4:return e<t;case 5:return e<=t;default:return!1}},l.fo=function(s){for(let t in s)if(s.hasOwnProperty(t))return!0;return!1},l.do=function(o,a){return o.length?new Promise((e,i)=>{let r=[],n=0,h=!1;for(let s=0,t=o.length;s<t;++s)r.push(void 0),o[s].then(t=>{h||(r[s]=t,++n===o.length?e(r):a(n,o.length))}).catch(t=>{h=!0,i(t)})}):Promise.resolve([])};let i=[],r=(l.po=function(t){i.push(t)},l.yo=function(){let e=0;for(let s of i){let t=s();e+=t}return Math.floor(e)},1),n=new Map,h=new MessageChannel,o=(h.port2.onmessage=function(t){const s=t.data,e=n.get(s);n.delete(s),e&&e(performance.now())},l.So=function(t){const s=r++;return n.set(s,t),h.port1.postMessage(s),s},l.wo=function(t){n.delete(t)},l.bo=l.So,l.vo=function(){return new Promise(t=>l.bo(t))},new Set);l.xo=function(s){const e=self.requestAnimationFrame(async t=>{await l.vo(),o.has(e)&&(o.delete(e),s(t))});return o.add(e),e},l.Mo=function(t){o.has(t)&&(self.cancelAnimationFrame(t),o.delete(t))}}{const n=self.Ls;n.To=function(t){return/^(?:[a-z\-]+:)?\/\//.test(t)||"data:"===t.substr(0,5)||"blob:"===t.substr(0,5)},n.Go=function(t){return!n.To(t)},n._o=function(t){if(!t.ok)throw new Error(`fetch '${t.url}' response returned ${t.status} `+t.statusText)},n.Io=function(t,s){return fetch(t,s).then(t=>(n._o(t),t))},n.Co=function(t){return n.Io(t).then(t=>t.text())},n.Ro=function(t){return n.Io(t).then(t=>t.json())},n.Eo=function(t){return n.Io(t).then(t=>t.blob())},n.Po=function(t){return n.Io(t).then(t=>t.arrayBuffer())},n.Fo=function(i){return new Promise((t,s)=>{const e=new Image;e.onload=()=>t(e),e.onerror=t=>s(t),e.src=i})},n.Ao=function(i){return"function"==typeof i.arrayBuffer?i.arrayBuffer():new Promise((t,s)=>{const e=new FileReader;e.onload=()=>t(e.result),e.onerror=()=>s(e.error),e.readAsArrayBuffer(i)})},n.ko=function(i){return"function"==typeof i.text?i.text():new Promise((t,s)=>{const e=new FileReader;e.onload=()=>t(e.result),e.onerror=()=>s(e.error),e.readAsText(i)})},n.Do=function(t){return n.ko(t).then(t=>JSON.parse(t))},n.Oo=async function(t,s){let e=URL.createObjectURL(t);try{const i=await n.Fo(e);return URL.revokeObjectURL(e),e="",s&&"function"==typeof i.decode&&await i.decode(),i}finally{e&&URL.revokeObjectURL(e)}},n.Bo=function(t,s){if("undefined"==typeof document||"function"!=typeof document.createElement)return new OffscreenCanvas(t,s);{const e=document.createElement("canvas");return e.width=t,e.height=s,e}},n.Lo=function(s,e,i){if("number"!=typeof i&&(i=1),e=e||"image/png",i=n.vn(i,0,1),s.convertToBlob)return s.convertToBlob({type:e,quality:i});if(s.toBlob)return new Promise(t=>s.toBlob(t,e,i));throw new Error("could not convert canvas to blob")},n.No=function(t,s,e){const i=n.Bo(t.width,t.height),r=i.getContext("2d");return r.drawImage(t,0,0),n.Lo(i,s,e)},n.Wo=function(t,s,e){if(n.je.ImageBitmapOptions)return createImageBitmap(t,{premultiplyAlpha:"none"}).then(t=>n.No(t,s,e));if(n.je.ImageBitmap)return createImageBitmap(t).then(t=>n.No(t,s,e));{const i=n.Bo(t.width,t.height),r=i.getContext("2d");return r.putImageData(t,0,0),n.Lo(i,s,e)}},n.Uo=function(t,s){t.clear();for(const e of s)t.add(e)},n.jo=function(t){const s=Object.create(null);for(const[e,i]of t.entries())s[e]=i;return s},n.Vo=function(t,s){s.clear();for(const[e,i]of Object.entries(t))s.set(e,i)},n.Ho=function s(t){if("object"!=typeof t||null===t)return t;if(t instanceof Set)return{_c3type_:"set",data:[...t].map(t=>s(t))};if(t instanceof Map)return{_c3type_:"map",data:[...t].map(t=>[t[0],s(t[1])])};{const e=Object.create(null);for(const[i,r]of Object.entries(t))e[i]=s(r);return e}},n.zo=function s(t){if("object"==typeof t&null!==t){if("set"===t._c3type_)return new Set(t.data.map(t=>s(t)));if("map"===t._c3type_)return new Map(t.data.map(t=>[t[0],s(t[1])]));{const e=Object.create(null);for(const[i,r]of Object.entries(t))e[i]=s(r);return e}}return t},n.Jo=function(t){if(t.startsWith("--"))return t;let s="",e=!1,i=0;for(const r of t)"-"===r?0<i&&(e=!0):e?(s+=r.toUpperCase(),e=!1):s+=r,++i;return s},n.qo=function(t){return"object"==typeof t&&"function"==typeof t.next},n.Xo=function(s,e){const i=[];if("function"==typeof e)for(let t=0;t<s;++t)i.push(e());else for(let t=0;t<s;++t)i.push(e);return i}}{let i=function(t){return 0===t.length?"00":1===t.length?"0"+t:t},l=function(t,s,e){return e<0&&(e+=1),1<e&&--e,e<1/6?t+6*(s-t)*e:e<.5?s:e<2/3?t+(s-t)*(2/3-e)*6:t};i,l;const u=self.Ls,It=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?/i,Ct=/([0-9.]+),([0-9.]+)\%?,([0-9.]+)\%?,([0-9.])/i;u.$o=class{constructor(t,s,e,i){this.Yo=NaN,this.Ko=NaN,this.Zo=NaN,this.Qo=NaN,this.Yo=0,this.Ko=0,this.Zo=0,this.Qo=0,t instanceof u.$o?this.set(t):this.ta(t||0,s||0,e||0,i||0)}ea(t,s,e){return this.Yo=+t,this.Ko=+s,this.Zo=+e,this.vn(),this}ta(t,s,e,i){return this.Yo=+t,this.Ko=+s,this.Zo=+e,this.Qo=+i,this.vn(),this}set(t){return this.Yo=t.Yo,this.Ko=t.Ko,this.Zo=t.Zo,this.Qo=t.Qo,this}I(t){return this.set(t)}add(t){this.Yo+=t.Yo,this.Ko+=t.Ko,this.Zo+=t.Zo,this.Qo+=t.Qo,this.vn()}ia(t,s,e,i=0){this.Yo+=+t,this.Ko+=+s,this.Zo+=+e,this.Qo+=+i,this.vn()}ra(t){this.na(Math.max(this.Yo,t.Yo)-Math.min(this.Yo,t.Yo)),this.oa(Math.max(this.Ko,t.Ko)-Math.min(this.Ko,t.Ko)),this.aa(Math.max(this.Zo,t.Zo)-Math.min(this.Zo,t.Zo)),this.la(Math.max(this.Qo,t.Qo)-Math.min(this.Qo,t.Qo)),this.vn()}ua(t){this.Yo=t.Yo,this.Ko=t.Ko,this.Zo=t.Zo}na(t){this.Yo=u.vn(+t,0,1)}ca(){return this.Yo}oa(t){this.Ko=u.vn(+t,0,1)}fa(){return this.Ko}aa(t){this.Zo=u.vn(+t,0,1)}ga(){return this.Zo}la(t){this.Qo=u.vn(+t,0,1)}ya(){return this.Qo}clone(){return u.mn(u.$o,this.Yo,this.Ko,this.Zo,this.Qo)}toArray(){return[this.Yo,this.Ko,this.Zo,this.Qo]}Sa(){return new Float64Array(this.toArray())}wa(t,s){t[s++]=this.Yo,t[s++]=this.Ko,t[s++]=this.Zo,t[s]=this.Qo}ba(t,s){t[s++]=this.Yo,t[s++]=this.Ko,t[s]=this.Zo}equals(t){return this.Yo===t.Yo&&this.Ko===t.Ko&&this.Zo===t.Zo&&this.Qo===t.Qo}xa(t){return this.Yo===t.Yo&&this.Ko===t.Ko&&this.Zo===t.Zo}Ma(t,s,e){return this.Yo===t&&this.Ko===s&&this.Zo===e}Ta(t,s,e,i){return this.Yo===t&&this.Ko===s&&this.Zo===e&&this.Qo===i}Ga(t,s){return t[s]===Math.fround(this.Yo)&&t[s+1]===Math.fround(this.Ko)&&t[s+2]===Math.fround(this.Zo)&&t[s+3]===Math.fround(this.Qo)}_a(t,s){return t[s]===Math.fround(this.Yo)&&t[s+1]===Math.fround(this.Ko)&&t[s+2]===Math.fround(this.Zo)}multiply(t){this.Yo*=t.Yo,this.Ko*=t.Ko,this.Zo*=t.Zo,this.Qo*=t.Qo}Ia(t){this.Yo*=t,this.Ko*=t,this.Zo*=t,this.Qo*=t}Ca(){return this.Yo*=this.Qo,this.Ko*=this.Qo,this.Zo*=this.Qo,this}Ra(){return this.Yo/=this.Qo,this.Ko/=this.Qo,this.Zo/=this.Qo,this}vn(){return this.Yo=u.vn(this.Yo,0,1),this.Ko=u.vn(this.Ko,0,1),this.Zo=u.vn(this.Zo,0,1),this.Qo=u.vn(this.Qo,0,1),this}Ea(t){this.Yo=u.Kn(t),this.Ko=u.Zn(t),this.Zo=u.Qn(t),this.Qo=u.th(t)}Pa(t,s,e){const i=u.fi(t)?t:this.ca(),r=u.fi(s)?s:this.fa(),n=u.fi(e)?e:this.ga();return`rgb(${100*i}%, ${100*r}%, ${100*n}%)`}Fa(t,s,e,i){const r=u.fi(t)?t:this.ca(),n=u.fi(s)?s:this.fa(),h=u.fi(e)?e:this.ga(),o=u.fi(i)?i:this.ya();return`rgba(${100*r}%, ${100*n}%, ${100*h}%, ${o})`}Aa(){const t=Math.round(255*this.ca()),s=Math.round(255*this.fa()),e=Math.round(255*this.ga());return"#"+i(t.toString(16))+i(s.toString(16))+i(e.toString(16))}ka(t){if("string"!=typeof t)return!1;let s,e,i;if(3===(t="#"===(t=t.trim()).charAt(0)?t.substr(1):t).length)s=parseInt(t[0],16)/15,e=parseInt(t[1],16)/15,i=parseInt(t[2],16)/15;else{if(6!==t.length)return!1;s=parseInt(t.substr(0,2),16)/255,e=parseInt(t.substr(2,2),16)/255,i=parseInt(t.substr(4,2),16)/255}return isFinite(s)&&this.na(s),isFinite(e)&&this.oa(e),isFinite(i)&&this.aa(i),this.la(1),!0}Da(){const t=Math.round(255*this.ca()),s=Math.round(255*this.fa()),e=Math.round(255*this.ga());return t+`, ${s}, `+e}Oa(){const t=Math.round(255*this.ca()),s=Math.round(255*this.fa()),e=Math.round(255*this.ga());return[t,s,e]}Ba(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const e=parseInt(s[0].trim(),10)/255,i=parseInt(s[1].trim(),10)/255,r=parseInt(s[2].trim(),10)/255;return isFinite(e)&&this.na(e),isFinite(i)&&this.oa(i),isFinite(r)&&this.aa(r),this.la(1),!0}La(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgb\(|\)|%/,"")).split(",");if(s.length<3)return!1;const e=parseInt(s[0].trim(),10)/100,i=parseInt(s[1].trim(),10)/100,r=parseInt(s[2].trim(),10)/100;return isFinite(e)&&this.na(e),isFinite(i)&&this.oa(i),isFinite(r)&&this.aa(r),this.la(1),!0}Na(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const e=parseInt(s[0].trim(),10)/255,i=parseInt(s[1].trim(),10)/255,r=parseInt(s[2].trim(),10)/255,n=parseFloat(s[3].trim());return isFinite(e)&&this.na(e),isFinite(i)&&this.oa(i),isFinite(r)&&this.aa(r),isFinite(n)&&this.la(n),!0}Wa(t){if("string"!=typeof t)return!1;const s=(t=t.replace(/^rgba\(|\)|%/,"")).split(",");if(s.length<4)return!1;const e=parseInt(s[0].trim(),10)/100,i=parseInt(s[1].trim(),10)/100,r=parseInt(s[2].trim(),10)/100,n=parseFloat(s[3].trim());return isFinite(e)&&this.na(e),isFinite(i)&&this.oa(i),isFinite(r)&&this.aa(r),isFinite(n)&&this.la(n),!0}Ua(t){if("string"!=typeof t)return!1;if((t=t.replace(/\s+/,"")).includes(",")){if(t.startsWith("rgb("))return t.includes("%")?this.La(t):this.Ba(t);if(t.startsWith("rgba("))return t.includes("%")?this.Wa(t):this.Na(t);if(t.startsWith("hsl(")||t.startsWith("hsla("))return this.ja(t);{const s=t.split(",");return t.includes("%")?3===s.length?this.La(t):4===s.length&&this.Wa(t):3===s.length?this.Ba(t):4===s.length&&this.Na(t)}}return this.ka(t)}toJSON(){return[this.Yo,this.Ko,this.Zo,this.Qo]}Va(t,s,e,i){let r,n,h;if(t%=360,s=u.vn(s,0,100),e=u.vn(e,0,100),i=u.vn(i,0,1),t/=360,e/=100,0==(s/=100))r=n=h=e;else{const o=e<.5?e*(1+s):e+s-e*s,a=2*e-o;r=l(a,o,t+1/3),n=l(a,o,t),h=l(a,o,t-1/3)}return this.na(r),this.oa(n),this.aa(h),this.la(i),this}ja(t){const s=t.replace(/ |hsl|hsla|\(|\)|;/gi,""),e=It.exec(s),i=Ct.exec(s);return e&&4===e.length?(this.Va(+e[1],+e[2],+e[3],1),!0):!(!i||5!==i.length||(this.Va(+e[1],+e[2],+e[3],+e[4]),0))}Ha(){const t=this.Yo,s=this.Ko,e=this.Zo,i=this.Qo,r=u.$o.za(t,s,e),n=u.$o.Ja(t,s,e),h=u.$o.qa(t,s,e);return`hsla(${r}, ${n}%, ${h}%, ${i})`}Xa(){const t=this.Yo,s=this.Ko,e=this.Zo;return[u.$o.za(t,s,e),u.$o.Ja(t,s,e),u.$o.qa(t,s,e),this.Qo]}$a(t){!Array.isArray(t)||t.length<3||(this.Yo=t[0],this.Ko=t[1],this.Zo=t[2],this.Qo=4<=t.length?t[3]:1)}set r(t){this.na(t)}get r(){return this.ca()}set g(t){this.oa(t)}get g(){return this.fa()}set b(t){this.aa(t)}get b(){return this.ga()}set a(t){this.la(t)}get a(){return this.ya()}Ya(t,s){switch(t){case 0:this.na(s);break;case 1:this.oa(s);break;case 2:this.aa(s);break;case 3:this.la(s);break;default:throw new RangeError("invalid color index")}}Ka(t){switch(t){case 0:return this.ca();case 1:return this.fa();case 2:return this.ga();case 3:return this.ya();default:throw new RangeError("invalid color index")}}static Za(t,s){let e,i;if(Array.isArray(t))(e=new u.$o).$a(t);else{if(!(t instanceof u.$o))throw new Error("unexpected type");e=t}if(Array.isArray(s))(i=new u.$o).$a(s);else{if(!(s instanceof u.$o))throw new Error("unexpected type");i=s}return e.equals(i)}static Qa(t,s){return u.vn(Math.max(t,s)-Math.min(t,s),0,1)}static tl(t,s){const e=new u.$o;return e.na(Math.max(t.Yo,s.Yo)-Math.min(t.Yo,s.Yo)),e.oa(Math.max(t.Ko,s.Ko)-Math.min(t.Ko,s.Ko)),e.aa(Math.max(t.Zo,s.Zo)-Math.min(t.Zo,s.Zo)),e.la(Math.max(t.Qo,s.Qo)-Math.min(t.Qo,s.Qo)),e}static sl(t,s){const e=new u.$o(0,0,0,1);return e.na(Math.max(t.Yo,s.Yo)-Math.min(t.Yo,s.Yo)),e.oa(Math.max(t.Ko,s.Ko)-Math.min(t.Ko,s.Ko)),e.aa(Math.max(t.Zo,s.Zo)-Math.min(t.Zo,s.Zo)),e}static za(t,s,e){const i=Math.max(t,s,e),r=Math.min(t,s,e);if(i===r)return 0;let n=0;switch(i){case t:n=(s-e)/(i-r)+(s<e?6:0);break;case s:n=(e-t)/(i-r)+2;break;case e:n=(t-s)/(i-r)+4}return Math.round(n/6*360)}static Ja(t,s,e){const i=Math.max(t,s,e),r=Math.min(t,s,e);if(i===r)return 0;const n=(i+r)/2,h=i-r,o=.5<n?h/(2-i-r):h/(i+r);return Math.round(100*o)}static qa(t,s,e){const i=Math.max(t,s,e),r=Math.min(t,s,e),n=(i+r)/2;return i?Math.round(100*n):0}},u.$o.el=Object.freeze(u.mn(u.$o,1,1,1,1)),u.$o.il=Object.freeze(u.mn(u.$o,0,0,0,1)),u.$o.rl=Object.freeze(u.mn(u.$o,0,0,0,0))}{const Rt=self.Ls;Rt.nl=class{constructor(t,s){this.hl=0,this.ol=0,t instanceof Rt.nl?this.I(t):this.set(t||0,s||0)}set(t,s){this.hl=+t,this.ol=+s}I(t){this.hl=t.hl,this.ol=t.ol}equals(t){return this.hl===t.hl&&this.ol===t.ol}al(t,s){return this.hl===t&&this.ol===s}Ga(t,s){return t[s]===Math.fround(this.hl)&&t[s+1]===Math.fround(this.ol)}ll(t){this.hl=+t}ul(){return this.hl}cl(t){this.ol=+t}fl(){return this.ol}toArray(){return[this.hl,this.ol]}Sa(){return new Float64Array(this.toArray())}wa(t,s){t[s++]=this.hl,t[s]=this.ol}offset(t,s){this.hl+=+t,this.ol+=+s}scale(t,s){this.hl*=t,this.ol*=s}Ct(t,s){this.hl/=t,this.ol/=s}round(){this.hl=Math.round(this.hl),this.ol=Math.round(this.ol)}floor(){this.hl=Math.floor(this.hl),this.ol=Math.floor(this.ol)}ceil(){this.hl=Math.ceil(this.hl),this.ol=Math.ceil(this.ol)}angle(){return Rt.Rn(0,0,this.hl,this.ol)}dl(){return this.hl*this.hl+this.ol*this.ol}length(){return Rt.Gn(this.hl,this.ol)}pl(t,s){const e=this.hl*s-this.ol*t;this.ol=this.ol*s+this.hl*t,this.hl=e}rotate(t){0!==t&&this.pl(Math.sin(t),Math.cos(t))}ml(t,s,e){0===t||s===this.hl&&e===this.ol||(this.hl-=s,this.ol-=e,this.pl(Math.sin(t),Math.cos(t)),this.hl+=+s,this.ol+=+e)}move(t,s){0!==s&&(this.hl+=Math.cos(t)*s,this.ol+=Math.sin(t)*s)}normalize(){const t=this.length();0!==t&&1!==t&&(this.hl/=t,this.ol/=t)}vn(t,s){this.hl=Rt.vn(this.hl,t,s),this.ol=Rt.vn(this.ol,t,s)}kt(t){return this.hl*t.hl+this.ol*t.ol}reverse(){this.hl=-this.hl,this.ol=-this.ol}gl(){let t=this.hl;return this.hl=this.ol,this.ol=-t,this}}}{const Et=self.Ls;Et.Rect=class{constructor(t,s,e,i){this.yl=NaN,this.Sl=NaN,this.wl=NaN,this.bl=NaN,this.yl=0,this.Sl=0,this.wl=0,this.bl=0,t instanceof Et.Rect?this.I(t):this.set(t||0,s||0,e||0,i||0)}set(t,s,e,i){this.yl=+t,this.Sl=+s,this.wl=+e,this.bl=+i}vl(t,s,e,i){s=+s,this.yl=t=+t,this.Sl=s,this.wl=t+ +e,this.bl=s+ +i}I(t){this.yl=+t.yl,this.Sl=+t.Sl,this.wl=+t.wl,this.bl=+t.bl}clone(){return new Et.Rect(this.yl,this.Sl,this.wl,this.bl)}static xl(t,s){const e=new Et.Rect;return e.Ml(Math.min(t.yl,s.yl)),e.Tl(Math.min(t.Sl,s.Sl)),e.Gl(Math.max(t.wl,s.wl)),e._l(Math.max(t.bl,s.bl)),e}static Il(t){return new Et.Rect(t.left,t.top,t.right,t.bottom)}equals(t){return this.yl===t.yl&&this.Sl===t.Sl&&this.wl===t.wl&&this.bl===t.bl}Cl(t,s,e,i){return this.yl===t&&this.Sl===s&&this.width()===e&&this.height()===i}Ga(t,s){return t[s]===Math.fround(this.yl)&&t[s+1]===Math.fround(this.Sl)&&t[s+2]===Math.fround(this.wl)&&t[s+3]===Math.fround(this.bl)}Ml(t){this.yl=+t}Rl(){return this.yl}Tl(t){this.Sl=+t}El(){return this.Sl}Gl(t){this.wl=+t}Pl(){return this.wl}_l(t){this.bl=+t}Fl(){return this.bl}toArray(){return[this.yl,this.Sl,this.wl,this.bl]}Sa(){return new Float64Array(this.toArray())}Al(){return new DOMRect(this.yl,this.Sl,this.width(),this.height())}static kl(t){return Et.mn(Et.Rect,t.left,t.top,t.right,t.bottom)}wa(t,s){t[s++]=this.yl,t[s++]=this.Sl,t[s++]=this.wl,t[s]=this.bl}Dl(t,s){t[s++]=this.yl,t[s++]=this.Sl,t[s++]=this.wl,t[s++]=this.Sl,t[s++]=this.wl,t[s++]=this.bl,t[s++]=this.yl,t[s]=this.bl}Ol(t,s,e){t[s++]=this.yl,t[s++]=this.Sl,t[s++]=e,t[s++]=this.wl,t[s++]=this.Sl,t[s++]=e,t[s++]=this.wl,t[s++]=this.bl,t[s++]=e,t[s++]=this.yl,t[s++]=this.bl,t[s]=e}width(){return this.wl-this.yl}height(){return this.bl-this.Sl}Bl(){return(this.yl+this.wl)/2}Ll(){return(this.Sl+this.bl)/2}offset(t,s){s=+s,this.yl+=t=+t,this.Sl+=s,this.wl+=t,this.bl+=s}offsetLeft(t){this.yl+=+t}offsetTop(t){this.Sl+=+t}Nl(t){this.wl+=+t}Wl(t){this.bl+=+t}Ul(t){if("x"!==t)throw new Error("invalid axis, only 'x' supported");this.Sl<this.bl?this.yl<this.wl?this.bl=this.Sl+this.width():this.bl=this.Sl-this.width():this.yl<this.wl?this.bl=this.Sl-this.width():this.bl=this.Sl+this.width()}jl(t,s){s=+s,this.yl-=t=+t,this.Sl-=s,this.wl+=t,this.bl+=s}Vl(t,s){s=+s,this.yl+=t=+t,this.Sl+=s,this.wl-=t,this.bl-=s}multiply(t,s){this.yl*=t,this.Sl*=s,this.wl*=t,this.bl*=s}Ct(t,s){this.yl/=t,this.Sl/=s,this.wl/=t,this.bl/=s}Hl(t){this.yl=+t-this.yl,this.wl=+t-this.wl}zl(t){this.Sl=+t-this.Sl,this.bl=+t-this.bl}Jl(t,s){const e=this.width(),i=this.height(),r=this.Rl()+e*t,n=this.El()+i*s;this.vl(r-i*s,n-e*t,i,e)}ql(){const t=this.yl;this.yl=this.wl,this.wl=t}Xl(){const t=this.Sl;this.Sl=this.bl,this.bl=t}$l(t){const s=this.Sl;this.Sl=+t-this.bl,this.bl=+t-s}round(){this.yl=Math.round(this.yl),this.Sl=Math.round(this.Sl),this.wl=Math.round(this.wl),this.bl=Math.round(this.bl)}Yl(){this.yl=Math.ceil(this.yl),this.Sl=Math.ceil(this.Sl),this.wl=Math.floor(this.wl),this.bl=Math.floor(this.bl)}Kl(){this.yl=Math.floor(this.yl),this.Sl=Math.floor(this.Sl),this.wl=Math.ceil(this.wl),this.bl=Math.ceil(this.bl)}floor(){this.yl=Math.floor(this.yl),this.Sl=Math.floor(this.Sl),this.wl=Math.floor(this.wl),this.bl=Math.floor(this.bl)}ceil(){this.yl=Math.ceil(this.yl),this.Sl=Math.ceil(this.Sl),this.wl=Math.ceil(this.wl),this.bl=Math.ceil(this.bl)}vn(t,s,e,i){this.yl=Math.max(this.yl,+t),this.Sl=Math.max(this.Sl,+s),this.wl=Math.min(this.wl,+e),this.bl=Math.min(this.bl,+i)}Zl(t,s,e,i){t=+t,s=+s,e=+e,i=+i,this.yl=Et.vn(this.yl,t,e),this.Sl=Et.vn(this.Sl,s,i),this.wl=Et.vn(this.wl,t,e),this.bl=Et.vn(this.bl,s,i)}normalize(){this.yl>this.wl&&this.ql(),this.Sl>this.bl&&this.Xl()}Ql(t){return!(t.wl<this.yl||t.bl<this.Sl||t.yl>this.wl||t.Sl>this.bl)}tu(t,s,e){return!(t.wl+s<this.yl||t.bl+e<this.Sl||t.yl+s>this.wl||t.Sl+e>this.bl)}su(t,s){return t>=this.yl&&t<=this.wl&&s>=this.Sl&&s<=this.bl}eu(t){return t.yl>=this.yl&&t.Sl>=this.Sl&&t.wl<=this.wl&&t.bl<=this.bl}iu(t){t.yl<this.yl&&(this.yl=+t.yl),t.Sl<this.Sl&&(this.Sl=+t.Sl),t.wl>this.wl&&(this.wl=+t.wl),t.bl>this.bl&&(this.bl=+t.bl)}ru(t){this.yl=Et.Ot(t.yl,t.wl,this.yl),this.Sl=Et.Ot(t.Sl,t.bl,this.Sl),this.wl=Et.Ot(t.yl,t.wl,this.wl),this.bl=Et.Ot(t.Sl,t.bl,this.bl)}}}{const Pt=self.Ls;Pt.nu=class{constructor(t,s,e,i,r,n,h,o){this.hu=NaN,this.ou=NaN,this.au=NaN,this.lu=NaN,this.uu=NaN,this.cu=NaN,this.fu=NaN,this.du=NaN,this.hu=0,this.ou=0,this.au=0,this.lu=0,this.uu=0,this.cu=0,this.fu=0,this.du=0,t instanceof Pt.nu?this.I(t):this.set(t||0,s||0,e||0,i||0,r||0,n||0,h||0,o||0)}set(t,s,e,i,r,n,h,o){this.hu=+t,this.ou=+s,this.au=+e,this.lu=+i,this.uu=+r,this.cu=+n,this.fu=+h,this.du=+o}pu(t,s,e,i){this.set(t,s,e,s,e,i,t,i)}I(t){this.hu=t.hu,this.ou=t.ou,this.au=t.au,this.lu=t.lu,this.uu=t.uu,this.cu=t.cu,this.fu=t.fu,this.du=t.du}equals(t){return this.hu===t.hu&&this.ou===t.ou&&this.au===t.au&&this.lu===t.lu&&this.uu===t.uu&&this.cu===t.cu&&this.fu===t.fu&&this.du===t.du}mu(t){this.hu=+t}oh(){return this.hu}gu(t){this.ou=+t}ah(){return this.ou}yu(t){this.au=+t}lh(){return this.au}Su(t){this.lu=+t}uh(){return this.lu}wu(t){this.uu=+t}fh(){return this.uu}bu(t){this.cu=+t}ph(){return this.cu}vu(t){this.fu=+t}mh(){return this.fu}xu(t){this.du=+t}gh(){return this.du}Mu(){return new DOMQuad(new DOMPoint(this.hu,this.ou),new DOMPoint(this.au,this.lu),new DOMPoint(this.uu,this.cu),new DOMPoint(this.fu,this.du))}static Tu(t){return Pt.mn(Pt.nu,t.p1.x,t.p1.y,t.p2.x,t.p2.y,t.p3.x,t.p3.y,t.p4.x,t.p4.y)}toArray(){return[this.hu,this.ou,this.au,this.lu,this.uu,this.cu,this.fu,this.du]}Sa(){return new Float64Array(this.toArray())}wa(t,s){t[s++]=this.hu,t[s++]=this.ou,t[s++]=this.au,t[s++]=this.lu,t[s++]=this.uu,t[s++]=this.cu,t[s++]=this.fu,t[s]=this.du}Gu(t,s,e){t[s++]=this.hu,t[s++]=this.ou,t[s++]=e,t[s++]=this.au,t[s++]=this.lu,t[s++]=e,t[s++]=this.uu,t[s++]=this.cu,t[s++]=e,t[s++]=this.fu,t[s++]=this.du,t[s]=e}offset(t,s){s=+s,this.hu+=t=+t,this.ou+=s,this.au+=t,this.lu+=s,this.uu+=t,this.cu+=s,this.fu+=t,this.du+=s}round(){this.hu=Math.round(this.hu),this.ou=Math.round(this.ou),this.au=Math.round(this.au),this.lu=Math.round(this.lu),this.uu=Math.round(this.uu),this.cu=Math.round(this.cu),this.fu=Math.round(this.fu),this.du=Math.round(this.du)}floor(){this.hu=Math.floor(this.hu),this.ou=Math.floor(this.ou),this.au=Math.floor(this.au),this.lu=Math.floor(this.lu),this.uu=Math.floor(this.uu),this.cu=Math.floor(this.cu),this.fu=Math.floor(this.fu),this.du=Math.floor(this.du)}ceil(){this.hu=Math.ceil(this.hu),this.ou=Math.ceil(this.ou),this.au=Math.ceil(this.au),this.lu=Math.ceil(this.lu),this.uu=Math.ceil(this.uu),this.cu=Math.ceil(this.cu),this.fu=Math.ceil(this.fu),this.du=Math.ceil(this.du)}_u(t){this.hu=t.yl,this.ou=t.Sl,this.au=t.wl,this.lu=t.Sl,this.uu=t.wl,this.cu=t.bl,this.fu=t.yl,this.du=t.bl}Iu(t,s){0===s?this._u(t):this.Cu(t,Math.sin(s),Math.cos(s))}Cu(t,s,e){const i=t.yl*s,r=t.Sl*s,n=t.wl*s,h=t.bl*s,o=t.yl*e,a=t.Sl*e,l=t.wl*e,u=t.bl*e;this.hu=o-r,this.ou=a+i,this.au=l-r,this.lu=a+n,this.uu=l-h,this.cu=u+n,this.fu=o-h,this.du=u+i}Ru(t){t.set(Math.min(this.hu,this.au,this.uu,this.fu),Math.min(this.ou,this.lu,this.cu,this.du),Math.max(this.hu,this.au,this.uu,this.fu),Math.max(this.ou,this.lu,this.cu,this.du))}su(t,s){let e=this.au-this.hu,i=this.lu-this.ou,r=this.uu-this.hu,n=this.cu-this.ou,h=t-this.hu,o=s-this.ou,a=e*e+i*i,l=e*r+i*n,u=e*h+i*o,c=r*r+n*n,f=r*h+n*o,d=1/(a*c-l*l),p=(c*u-l*f)*d,m=(a*f-l*u)*d;return 0<=p&&0<m&&p+m<1||(m=((a=(e=this.fu-this.hu)*e+(i=this.du-this.ou)*i)*f-(l=e*r+i*n)*(u=e*h+i*o))*(d=1/(a*c-l*l)),0<=(p=(c*u-l*f)*d)&&0<m&&p+m<1)}Bl(){return(this.hu+this.au+this.uu+this.fu)/4}Ll(){return(this.ou+this.lu+this.cu+this.du)/4}Eu(t,s,e,i){return!(!this.su(t,s)&&!this.su(e,i))||Pt.hh(t,s,e,i,this)}Pu(t){let s=t.Bl(),e=t.Ll();if(this.su(s,e))return!0;if(s=this.Bl(),e=this.Ll(),t.su(s,e))return!0;const i=this.hu,r=this.ou,n=this.au,h=this.lu,o=this.uu,a=this.cu,l=this.fu,u=this.du;return Pt.hh(i,r,n,h,t)||Pt.hh(n,h,o,a,t)||Pt.hh(o,a,l,u,t)||Pt.hh(l,u,i,r,t)}Fu(){const t=this.hu,s=this.ou;this.hu=this.au,this.ou=this.lu,this.au=this.uu,this.lu=this.cu,this.uu=this.fu,this.cu=this.du,this.fu=t,this.du=s}Au(){this.ku(0,2),this.ku(1,3),this.ku(6,4),this.ku(7,5)}Du(){this.ku(0,6),this.ku(1,7),this.ku(2,4),this.ku(3,5)}Ou(){this.ku(2,6),this.ku(3,7)}ku(t,s){const e=this.Bu(t);this.Lu(t,this.Bu(s)),this.Lu(s,e)}Bu(t){switch(t){case 0:return this.hu;case 1:return this.ou;case 2:return this.au;case 3:return this.lu;case 4:return this.uu;case 5:return this.cu;case 6:return this.fu;case 7:return this.du;default:throw new RangeError("invalid quad point index")}}Lu(t,s){switch(s=+s,t){case 0:this.hu=s;break;case 1:this.ou=s;break;case 2:this.au=s;break;case 3:this.lu=s;break;case 4:this.uu=s;break;case 5:this.cu=s;break;case 6:this.fu=s;break;case 7:this.du=s;break;default:throw new RangeError("invalid quad point index")}}}}{const Ft=self.Ls,At=[0,0,1,0,1,1,0,1],kt=Ft.mn(Ft.nu);Ft.Nu=class extends Ft.dn{constructor(t,s=!0){super(),t=t||At,this.Wu=Float64Array.from(t),this.Uu=new Ft.Rect,this.ju=!0,this.Vu=s}gn(){}Hu(){return this.Wu}zu(){return this.Wu.length/2}Ju(t){this.Wu.length===t.length?this.Wu.set(t):this.Wu=Float64Array.from(t),this.ju=!0}qu(){this.Ju(At)}I(t){this.Ju(t.Wu)}Xu(){this.ju=!0}$u(){if(this.ju){let e=this.Wu,i=e[0],r=e[1],n=i,h=r;for(let t=0,s=e.length;t<s;t+=2){const o=e[t],a=e[t+1];o<i&&(i=o),o>n&&(n=o),a<r&&(r=a),a>h&&(h=a)}this.Uu.set(i,r,n,h),this.ju=!1}}_u(t,s,e){let i=this.Wu;8!==i.length&&(i=new Float64Array(8),this.Wu=i),i[0]=t.Rl()-s,i[1]=t.El()-e,i[2]=t.Pl()-s,i[3]=t.El()-e,i[4]=t.Pl()-s,i[5]=t.Fl()-e,i[6]=t.Rl()-s,i[7]=t.Fl()-e,this.Uu.I(t),0===s&&0===e||this.Uu.offset(-s,-e),this.ju=!1}Yu(t,s,e){kt.I(t),kt.offset(s,e),this.Ju(kt.toArray()),this.ju=!0}transform(t,s,e){let i=0,r=1;0!==e&&(i=Math.sin(e),r=Math.cos(e)),this.Ku(t,s,i,r)}Ku(e,i,r,n){const h=this.Wu;for(let t=0,s=h.length;t<s;t+=2){const o=t+1,a=h[t]*e,l=h[o]*i;h[t]=a*n-l*r,h[o]=l*n+a*r}this.ju=!0}offset(e,i){const r=this.Wu;for(let t=0,s=r.length;t<s;t+=2)r[t]+=e,r[t+1]+=i}su(e,i){const r=this.Wu;if(e===r[0]&&i===r[1])return!0;this.$u();let t=this.Uu,n=t.Rl()-110,h=t.El()-101,o=t.Pl()+131,a=t.Fl()+120,l=0,u=0,c,f,d=0,p=0,m,g,y=(c=n<e?(l=n,e):(l=e,n),f=h<i?(u=h,i):(u=i,h),m=o<e?(d=o,e):(d=e,o),g=a<i?(p=a,i):(p=i,a),0),S=0;for(let t=0,s=r.length;t<s;t+=2){const w=(t+2)%s,b=r[t],v=r[t+1],x=r[w],M=r[1+w];Ft.nh(n,h,e,i,l,c,u,f,b,v,x,M)&&++y,Ft.nh(o,a,e,i,d,m,p,g,b,v,x,M)&&++S}return y%2==1||S%2==1}Zu(t,c,f){const d=t.Wu,p=this.Wu;if(this.su(d[0]+c,d[1]+f))return!0;if(t.su(p[0]-c,p[1]-f))return!0;for(let s=0,u=p.length;s<u;s+=2){let t=(s+2)%u,e=p[s],i=p[s+1],r=p[t],n=p[1+t],h=0,o=0,a,l;a=e<r?(h=e,r):(h=r,e),l=i<n?(o=i,n):(o=n,i);for(let t=0,s=d.length;t<s;t+=2){const m=(t+2)%s,g=d[t]+c,y=d[t+1]+f,S=d[m]+c,w=d[1+m]+f;if(Ft.nh(e,i,r,n,h,a,o,l,g,y,S,w))return!0}}return!1}Eu(e,i,r,n,h,o){if(this.su(r-e,n-i))return!0;if(this.su(h-e,o-i))return!0;let a=0,l=0,u,c;u=r<h?(a=r,h):(a=h,r),c=n<o?(l=n,o):(l=o,n);const f=this.Wu;for(let t=0,s=f.length;t<s;t+=2){const d=(t+2)%s,p=f[t]+e,m=f[t+1]+i,g=f[d]+e,y=f[1+d]+i;if(Ft.nh(r,n,h,o,a,u,l,c,p,m,g,y))return!0}return!1}Au(e){const i=this.Wu;for(let t=0,s=i.length;t<s;t+=2)i[t]=2*e-i[t];this.ju=!0}Du(e){const i=this.Wu;for(let t=0,s=i.length;t<s;t+=2){const r=t+1;i[r]=2*e-i[r]}this.ju=!0}Ou(){const e=this.Wu;for(let t=0,s=e.length;t<s;t+=2){const i=t+1,r=e[t];e[t]=e[i],e[i]=r}this.ju=!0}Qu(){let e=this.Wu,i=0;for(let t=0,s=e.length;t<s;t+=2)i+=e[t];return i/this.zu()}tc(){let e=this.Wu,i=0;for(let t=0,s=e.length;t<s;t+=2)i+=e[t+1];return i/this.zu()}ec(){return this.Wu}ic(){return this.zu()}rc(){return this.Vu}}}{const Dt=self.Ls;Dt.nc=class extends Dt.dn{constructor(t){if(super(),this.hc=new Map,t)for(const[s,e,i]of t)this.Set(s,e,i)}gn(){this.oc(),this.hc=null}ac(){return 0===this.hc.size}oc(){const t=this.hc;for(const s of t.values())s.clear();t.clear()}Set(t,s,e){let i=this.hc,r=i.get(t);r||(r=new Map,i.set(t,r)),r.set(s,e)}re(t,s){const e=this.hc.get(t);return e&&e.get(s)}ie(t,s){const e=this.hc.get(t);return!!e&&e.has(s)}lc(t,s){const e=this.hc,i=e.get(t);if(!i)return!1;const r=i.delete(s);return r&&0===i.size&&e.delete(t),r}uc(t){const s=this.hc,e=s.get(t);e&&(e.clear(),s.delete(t));for(const[i,r]of s.entries())r.delete(t)&&0===r.size&&s.delete(i)}cc(){let t=0;for(const s of this.hc.values())t+=s.size;return t}*values(){for(const t of this.hc.values())yield*t.values()}*fc(){for(const[t,s]of this.hc.entries())for(const e of s.keys())yield[t,e]}*entries(){for(const[t,s]of this.hc.entries())for(const[e,i]of s.entries())yield[t,e,i]}}}{const Ot=self.Ls;Ot.dc=class extends Ot.dn{constructor(){super(),this.mc=new Set,this.yc=[],this.Sc=!1}gn(){this.oc()}oc(){this.mc.clear(),Ot.Vh(this.yc),this.Sc=!1}wc(t){this.mc.has(t)||(this.mc.add(t),this.Sc)||this.yc.push(t)}ie(t){return this.mc.has(t)}lc(t){this.mc.delete(t)&&(this.Sc=!0)}cc(){return this.mc.size}ac(){return 0===this.mc.size}vc(){return this.Sc&&(this.xc(),this.Sc=!1),this.yc}xc(){const t=this.yc;Ot.Vh(t);for(const s of this.mc)t.push(s)}}}{const Bt=self.Ls,Lt=new Map,Nt=new Map,Wt=new Map,Ut=new Map,jt=new Map,Vt=new Map,Ht=new Map,zt=new Map,Jt=new Map,qt=(Jt.set("linear","noease"),Jt.set("default","noease"),["default","noease","easeinquad","easeoutquad","easeinoutquad","easeincubic","easeoutcubic","easeinoutcubic","easeinquart","easeoutquart","easeinoutquart","easeinquint","easeoutquint","easeinoutquint","easeinsine","easeoutsine","easeinoutsine","easeinexpo","easeoutexpo","easeinoutexpo","easeincirc","easeoutcirc","easeinoutcirc","easeinelastic","easeoutelastic","easeinoutelastic","easeinback","easeoutback","easeinoutback","easeinbounce","easeoutbounce","easeinoutbounce"]),Xt=["default","noease","quad","cubic","quart","quint","sine","expo","circ","elastic","back","bounce"],$t=new Map([["linear","noease"],["in-sine","easeinsine"],["out-sine","easeoutsine"],["in-out-sine","easeinoutsine"],["in-elastic","easeinelastic"],["out-elastic","easeoutelastic"],["in-out-elastic","easeinoutelastic"],["in-back","easeinback"],["out-back","easeoutback"],["in-out-back","easeinoutback"],["in-bounce","easeinbounce"],["out-bounce","easeoutbounce"],["in-out-bounce","easeinoutbounce"],["in-cubic","easeincubic"],["out-cubic","easeoutcubic"],["in-out-cubic","easeinoutcubic"],["in-quadratic","easeinquad"],["out-quadratic","easeoutquad"],["in-out-quadratic","easeinoutquad"],["in-quartic","easeinquart"],["out-quartic","easeoutquart"],["in-out-quartic","easeinoutquart"],["in-quintic","easeinquint"],["out-quintic","easeoutquint"],["in-out-quintic","easeinoutquint"],["in-circular","easeincirc"],["out-circular","easeoutcirc"],["in-out-circular","easeinoutcirc"],["in-exponential","easeinexpo"],["out-exponential","easeoutexpo"],["in-out-exponential","easeinoutexpo"]]),Yt=(self.Mc=class rs{constructor(){}static Tc(){return"default"}static Gc(){return"noease"}static _c(t){return $t.get(t)}static Ic(s,...e){this.Cc();let t,i=(s?(Wt.has(s)||Wt.set(s,new Map),[...(t=Wt.get(s)).keys()].filter(t=>!rs.Rc(t,s)||rs.Rc(t,s).transition.IsForAnyPurpose())):[...(t=jt).keys()]).sort();return[...Nt.keys()].concat(i).filter(t=>!e.includes(t))}static Ec(){this.Cc();const t=[...jt.keys()];return t.sort(),[...Nt.keys()].concat(t)}static Pc(){this.Cc();const t=[...jt.keys()];return t.sort(),t}static Fc(t){for(const s of qt){const e=self.lang("ui.bars.timeline.eases."+s);if(e===t)return!0}for(const i of Xt){const r=self.lang("ui.bars.timeline.short-eases."+i);if(r===t)return!0}}static Ac(t){return this.Cc(),[...Nt.keys()].includes(t)}static kc(t){const s=Jt.get(t);return s?Lt.get(s):rs.Ac(t)?Lt.get(t):Ht.has(t)?Ht.get(t):void 0}static Dc(t){return this.Cc(),zt.get(t)}static Oc(t,s){this.Cc();const e=rs.kc(t);if(e)return e;if(s)return Wt.get(s).get(t);throw new Error("missing ease function")}static Rc(t,s){this.Cc();const e=Ut.get(s);if(e)return e.get(t)}static Bc(t,s){this.Cc();const e=rs.kc(t);return!!e||!!Wt.get(s).get(t)}static Lc(t){this.Cc();const s=rs.kc(t);return s||jt.get(t)}static Nc(t){return this.Cc(),Vt.get(t)}static Wc(t){this.Cc();const s=this.Ec();return s[t]}static Uc(t,s){this.Cc();const e=this.Ic(s);return e.indexOf(t)}static jc(t){return this.Uc(t)}static Cc(){0===Lt.size&&(this.Vc("default",()=>{}),this.Vc("noease",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}],!0),this.Vc("easeinsine",[{x:0,y:0,sax:.485,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.038,eay:0,se:!1,ee:!0}]),this.Vc("easeoutsine",[{x:0,y:0,sax:.038,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.485,eay:0,se:!1,ee:!0}]),this.Vc("easeinoutsine",[{x:0,y:0,sax:.336,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.336,eay:0,se:!1,ee:!0}]),this.Vc("easeinelastic",[{x:0,y:0,sax:.018,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.116,y:.002,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.266,y:-.005,sax:.024,say:0,eax:-.021,eay:0,se:!0,ee:!0},{x:.416,y:.016,sax:.024,say:0,eax:-.026,eay:0,se:!0,ee:!0},{x:.566,y:-.045,sax:.061,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.716,y:.132,sax:.072,say:-.004,eax:-.045,eay:0,se:!0,ee:!0},{x:.866,y:-.373,sax:.06,say:0,eax:-.049,eay:-.002,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.038,eay:-.263,se:!1,ee:!0}]),this.Vc("easeoutelastic",[{x:0,y:0,sax:.038,say:.263,eax:0,eay:0,se:!0,ee:!1},{x:.136,y:1.373,sax:.049,say:.002,eax:-.06,eay:0,se:!0,ee:!0},{x:.286,y:.868,sax:.045,say:0,eax:-.072,eay:.004,se:!0,ee:!0},{x:.436,y:1.045,sax:.025,say:0,eax:-.061,eay:0,se:!0,ee:!0},{x:.586,y:.984,sax:.026,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.736,y:1.005,sax:.021,say:0,eax:-.024,eay:0,se:!0,ee:!0},{x:.886,y:.998,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.018,eay:0,se:!1,ee:!0}]),this.Vc("easeinoutelastic",[{x:0,y:0,sax:.025,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.067,y:.001,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.18,y:-.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.292,y:.025,sax:.053,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.405,y:-.118,sax:.069,say:0,eax:-.027,eay:0,se:!0,ee:!0},{x:.597,y:1.118,sax:.027,say:0,eax:-.069,eay:0,se:!0,ee:!0},{x:.71,y:.975,sax:.025,say:0,eax:-.053,eay:0,se:!0,ee:!0},{x:.822,y:1.005,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.935,y:.999,sax:.025,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.025,eay:0,se:!1,ee:!0}]),this.Vc("easeinback",[{x:0,y:0,sax:.35,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.34,eay:-1.579,se:!1,ee:!0}]),this.Vc("easeoutback",[{x:0,y:0,sax:.34,say:1.579,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.35,eay:0,se:!1,ee:!0}]),this.Vc("easeinoutback",[{x:0,y:0,sax:.035,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.242,y:-.1,sax:.258,say:0,eax:-.025,eay:0,se:!0,ee:!0},{x:.76,y:1.1,sax:.025,say:0,eax:-.26,eay:0,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.035,eay:0,se:!1,ee:!0}]),this.Vc("easeinbounce",[{x:0,y:0,sax:.033,say:.025,eax:0,eay:0,se:!0,ee:!1},{x:.092,y:0,sax:.026,say:.078,eax:-.033,eay:.025,se:!0,ee:!0},{x:.274,y:0,sax:.097,say:.319,eax:-.026,eay:.078,se:!0,ee:!0},{x:.637,y:0,sax:.105,say:.625,eax:-.097,eay:.319,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:-.004,se:!1,ee:!0}]),this.Vc("easeoutbounce",[{x:0,y:0,sax:.125,say:.004,eax:0,eay:0,se:!0,ee:!1},{x:.365,y:1,sax:.097,say:-.319,eax:-.105,eay:-.625,se:!0,ee:!0},{x:.728,y:1,sax:.026,say:-.078,eax:-.097,eay:-.319,se:!0,ee:!0},{x:.91,y:1,sax:.033,say:-.025,eax:-.026,eay:-.078,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.033,eay:-.025,se:!1,ee:!0}]),this.Vc("easeinoutbounce",[{x:0,y:0,sax:.01,say:.006,eax:0,eay:0,se:!0,ee:!1},{x:.046,y:0,sax:.021,say:.038,eax:-.01,eay:.006,se:!0,ee:!0},{x:.137,y:0,sax:.059,say:.158,eax:-.021,eay:.038,se:!0,ee:!0},{x:.319,y:0,sax:.117,say:.744,eax:-.059,eay:.158,se:!0,ee:!0},{x:.683,y:1,sax:.059,say:-.158,eax:-.117,eay:-.744,se:!0,ee:!0},{x:.865,y:1,sax:.021,say:-.038,eax:-.059,eay:-.158,se:!0,ee:!0},{x:.956,y:1,sax:.01,say:-.006,eax:-.021,eay:-.038,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.01,eay:-.006,se:!1,ee:!0}]),this.Vc("easeincubic",[{x:0,y:0,sax:.75,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.138,eay:-.321,se:!1,ee:!0}]),this.Vc("easeoutcubic",[{x:0,y:0,sax:.138,say:.321,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.75,eay:0,se:!1,ee:!0}]),this.Vc("easeinoutcubic",[{x:0,y:0,sax:.285,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.081,say:.272,eax:-.081,eay:-.272,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.285,eay:0,se:!1,ee:!0}]),this.Vc("easeinquad",[{x:0,y:0,sax:.4,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.178,eay:-.392,se:!1,ee:!0}]),this.Vc("easeoutquad",[{x:0,y:0,sax:.178,say:.392,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.4,eay:0,se:!1,ee:!0}]),this.Vc("easeinoutquad",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.03,say:.065,eax:-.03,eay:-.065,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Vc("easeinquart",[{x:0,y:0,sax:.25,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.5,eay:0,se:!1,ee:!0}]),this.Vc("easeoutquart",[{x:0,y:0,sax:.5,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:-1,se:!1,ee:!0}]),this.Vc("easeinoutquart",[{x:0,y:0,sax:.765,say:.03,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.765,eay:-.03,se:!1,ee:!0}]),this.Vc("easeinquint",[{x:0,y:0,sax:.6,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.2,eay:-1,se:!1,ee:!0}]),this.Vc("easeoutquint",[{x:0,y:0,sax:.2,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.6,eay:0,se:!1,ee:!0}]),this.Vc("easeinoutquint",[{eax:0,eay:0,ee:!1,sax:.84,say:0,se:!0,x:0,y:0},{eax:-.84,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.Vc("easeincirc",[{x:0,y:0,sax:.25,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.024,eay:-.808,se:!1,ee:!0}]),this.Vc("easeoutcirc",[{x:0,y:0,sax:.024,say:.808,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.25,eay:0,se:!1,ee:!0}]),this.Vc("easeinoutcirc",[{x:0,y:0,sax:.125,say:0,eax:0,eay:0,se:!0,ee:!1},{x:.5,y:.5,sax:.02,say:.428,eax:-.02,eay:-.428,se:!0,ee:!0},{x:1,y:1,sax:0,say:0,eax:-.125,eay:0,se:!1,ee:!0}]),this.Vc("easeinexpo",[{x:0,y:0,sax:.66,say:0,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.14,eay:-1,se:!1,ee:!0}]),this.Vc("easeoutexpo",[{x:0,y:0,sax:.14,say:1,eax:0,eay:0,se:!0,ee:!1},{x:1,y:1,sax:0,say:0,eax:-.66,eay:0,se:!1,ee:!0}]),this.Vc("easeinoutexpo",[{eax:0,eay:0,ee:!1,sax:.345,say:0,se:!0,x:0,y:0},{eax:-.06,eay:-.5,ee:!0,sax:.06,say:.5,se:!0,x:.5,y:.5},{eax:-.335,eay:0,ee:!0,sax:0,say:0,se:!1,x:1,y:1}]),this.Hc("cubicbezier",this.zc),this.Hc("spline",this.Jc))}static Vc(t,s,e=!1){if("function"==typeof s)rs.qc(t,s,"predefined");else{if(!Bt.Bi(s))throw new Error("unexpected arguments");if(self.BuiltInTransition){const r=Bt.mn(self.BuiltInTransition,t,e);r.SetFromJson(s),rs.qc(t,(t,s,e,i)=>r.Xc(t,s,e,i),"predefined"),zt.set(t,r)}else{const n=Bt.mn(Bt.$c,[t,s.map(t=>[t.x,t.y,t.sax,t.say,t.eax,t.eay,t.se,t.ee])],!1);n.Yc(e),rs.qc(t,(t,s,e,i)=>n.Xc(t,s,e,i),"predefined")}}}static Hc(t,s){rs.qc(t,s,"private")}static Kc(t,s,e,i){this.Cc(),rs.qc(t,s,"custom",e,i)}static Zc(t,s){if(!this.Ac(t)&&![...Ht.keys()].includes(t)){const e=Wt.get(s),i=(e&&e.delete(t),Ut.get(s));i&&i.delete(t)}}static qc(t,s,e,i,r){switch(e){case"predefined":Lt.set(t,s),Nt.set(t,s);break;case"custom":if(i){Wt.has(i)||Wt.set(i,new Map),Ut.has(i)||Ut.set(i,new Map);const n=Wt.get(i),h=(n.set(t,s),Ut.get(i));h.set(t,r)}else jt.set(t,s),Vt.set(t,r);break;case"private":Lt.set(t,s),Ht.set(t,s);break;default:throw new Error("unexpected ease mode")}}static Qc(t,s,e,i){return 0===i?s:e*t/i+s}static zc(t,s,e,i,r){const n=s,h=3*t*(e-s),o=3*t**2*(s+i-2*e),a=t**3*(r-s+3*e-3*i);return n+h+o+a}static Jc(t,s,e,i,r,n,h,o,a,l){if(i===r&&n===h)return t;const u=is(t,s,i,n,o,l),c=Zt(e,r,h,a),f=Qt(e,r,h,a),d=ts(e,r,h,a);return ss(u,c,f,d)}static tf(t,s,e,i){const r=[],n=Zt(t,s,e,i),h=Qt(t,s,e,i),o=ts(t,s,e,i);for(let t=0;t<Yt;++t){const a=ss(t*Kt,n,h,o);r.push(a)}return r}},11),Kt=1/(Yt-1),Zt=(t,s,e,i)=>i-3*e+3*s-t,Qt=(t,s,e,i)=>3*e-6*s+3*t,ts=(t,s,e,i)=>3*(s-t),ss=(t,s,e,i)=>((s*t+e)*t+i)*t,es=(t,s,e,i)=>3*s*t*t+2*e*t+i,is=(h,t,s,e,i,r)=>{if(1==h)return 1;let o=0,n=1,a=r[n],l=Yt-1;for(Yt;n!=l&&a<=h;)n++,a=r[n],o+=Kt;n--;let u=(h-(a=r[n]))/(r[n+1]-a),c=o+u*Kt,f=Zt(t,s,e,i),d=Qt(t,s,e,i),p=ts(t,s,e,i),m=es(c,f,d,p);if(0===m)return c;if(.01<=m){for(let t=0;t<4;++t){const g=ss(c,f,d,p)-h,y=es(c,f,d,p);c-=g/y}return c}{let s=o,e=o+Kt,i=0,r,n;do{c=s+(e-s)/2;let t=ss(c,f,d,p)-h;0<t?e=c:s=c,r=1e-7<Math.abs(t),n=++i<10}while(r&&n);return c}}}{let o=function(t){ns.xi(t)};o;const ns=self.Ls;ns.ef=class{constructor(t){this.if=[],this.wn=t||"",this.rf=0}gn(){this.oc(),this.if=null}nf(){return this.wn}oc(){ns.Hh(this.if),this.rf=0}hf(){return this.rf}lf(t=Math.random()*this.hf()){let s=0;for(const[e,i]of this.if)if(t<(s+=e))return i;return 0}uf(t,s){o(s),this.rf+=t,this.if.push([t,s])}cf(s,e){o(e);const i=0===s;for(let t=0;t<this.if.length;t++){const r=this.if[t],n=i||r[0]===s,h=r[1]===e;if(n&&h){this.if.splice(t,1),this.rf-=r[0];break}}}ff(){return JSON.stringify(this.if)}static df(t,s){const e=new ns.ef(s),i=JSON.parse(t);for(const r of i){const n=r[0],h=r[1];e.uf(n,h)}return e}}}{let t=self.Ls,e=0;t.pf=class{constructor(t,s){this.mf=t,this.gf=s,this.yf=e++,this.mf.Sf("runtime","screen-reader-text",{type:"create",id:this.yf,text:this.gf})}gn(){this.mf.Sf("runtime","screen-reader-text",{type:"release",id:this.yf}),this.mf=null,this.gf="",this.yf=-1}wf(t){this.gf!==t&&(this.gf=t,this.mf.Sf("runtime","screen-reader-text",{type:"update",id:this.yf,text:this.gf}))}}}{const hs=self.Ls;hs.Event=class{constructor(t,s){this.type=t,this.cancelable=!!s,this.defaultPrevented=!1,this.bf=!1,this.vf=!1}preventDefault(){if(!this.cancelable)throw new Error(`event '${this.type}' is not cancelable`);this.defaultPrevented=!0}stopPropagation(){if(!this.cancelable)throw new Error(`event '${this.type}' cannot be stopped`);if(this.vf)throw new Error(`cannot stop async event '${this.type}' propagation`);this.bf=!0}}}{const os=self.Ls;os.Event.xf=class extends os.dn{constructor(t){super(),this.Mf=t,this.Tf=[],this.Gf=new Set,this._f=[],this.If=new Set,this.Cf=0,this.Rf=[]}gn(){0<this.Cf||(os.Vh(this.Tf),this.Gf.clear(),os.Vh(this._f),this.If.clear(),os.Vh(this.Rf),os.gn(this))}Ef(t,s){this.Pf()?this.Rf.push({Ff:"add",Af:t,capture:s}):s?this.Gf.has(t)||(this.Tf.push(t),this.Gf.add(t)):this.If.has(t)||(this._f.push(t),this.If.add(t))}kf(t,s){this.Pf()?this.Rf.push({Ff:"remove",Af:t,capture:s}):s?this.Gf.has(t)&&(this.Gf.delete(t),os.$h(this.Tf,t)):this.If.has(t)&&(this.If.delete(t),os.$h(this._f,t))}Df(){return!this.Tf.length&&!this._f.length}Pf(){return 0<this.Cf}Of(){const t=new Set,s=new Set;for(const e of this.Rf)if("add"===e.Ff)this.Ef(e.Af,e.capture),(e.capture?s:t).delete(e.Af);else{if("remove"!==e.Ff)throw new Error("invalid op");(e.capture?(this.Gf.delete(e.Af),s):(this.If.delete(e.Af),t)).add(e.Af)}os.Zh(this._f,t),os.Zh(this.Tf,s),os.Vh(this.Rf)}Bf(e){this.Lf();let i=!1;for(let t=0,s=this.Tf.length;t<s;++t)if(this.Tf[t](e),e.bf){i=!0;break}if(!i)for(let t=0,s=this._f.length;t<s&&(this._f[t](e),!e.bf);++t);return this.Nf(),!e.defaultPrevented}Wf(e){this.Lf();for(let t=0,s=this.Tf.length;t<s;++t)this.Tf[t](e);for(let t=0,s=this._f.length;t<s;++t)this._f[t](e);return this.Nf(),!0}Lf(){this.Cf++}Nf(){this.Cf--,0===this.Cf&&0<this.Rf.length&&this.Of()}Uf(t){t?this.Lf():this.Nf()}jf(e){let i=[];for(let s=0,t=this.Tf.length;s<t;++s){let t=this.Tf[s];i.push(os.Vf(()=>t(e)))}for(let s=0,t=this._f.length;s<t;++s){let t=this._f[s];i.push(os.Vf(()=>t(e)))}return Promise.all(i).then(()=>!e.defaultPrevented)}Hf(e){const i=[];this.Lf();for(let t=0,s=this.Tf.length;t<s;++t){const r=this.Tf[t](e);r instanceof Promise&&i.push(r)}for(let t=0,s=this._f.length;t<s;++t){const n=this._f[t](e);n instanceof Promise&&i.push(n)}return this.Nf(),i.length?Promise.all(i).then(()=>!e.defaultPrevented):!e.defaultPrevented}async zf(t){return this.Hf(t)}async Jf(e){this.Lf();for(let t=0,s=this.Tf.length;t<s;++t){const i=this.Tf[t](e);i instanceof Promise&&await i}for(let t=0,s=this._f.length;t<s;++t){const r=this._f[t](e);r instanceof Promise&&await r}return this.Nf(),!e.defaultPrevented}*qf(e){this.Lf();for(let t=0,s=this.Tf.length;t<s;++t){const i=this.Tf[t](e);os.qo(i)&&(yield*i)}for(let t=0,s=this._f.length;t<s;++t){const r=this._f[t](e);os.qo(r)&&(yield*r)}this.Nf()}}}{const as=self.Ls;as.Event.Xf=class extends as.dn{constructor(){super(),this.$f=new Map,this.Yf=!1}gn(){if(this.Yf)throw new Error("already released");this.Kf(),this.Yf=!0,as.gn(this)}yn(){return this.Yf}Kf(){if(this.$f){for(let t of this.$f.values())t.gn();this.$f.clear()}}Zf(t,s){let e=this.$f.get(t);return e||(s?(e=as.mn(as.Event.xf,t),this.$f.set(t,e),e):null)}Qf(t){return this.$f.has(t)}addEventListener(t,s,e){let i=this.Zf(t,!0);i.Ef(s,!!e)}removeEventListener(t,s,e){let i=this.Zf(t,!1);i&&(i.kf(s,!!e),i.Df())&&this.$f.delete(t)}dispatchEvent(t){const s=this.Zf(t.type,!1);return!s||(t.cancelable?s.Bf(t):s.Wf(t))}t0(t){const s=this.Zf(t.type,!1);return s?(t.vf=!0,s.jf(t)):Promise.resolve(!0)}async s0(t){const s=this.Zf(t.type,!1);if(!s)return!0;this.$f.delete(t.type),t.vf=!0;const e=await s.jf(t);return s.gn(),e}async e0(t){const s=this.Zf(t.type,!1);return!s||s.zf(t)}i0(t){const s=this.Zf(t.type,!1);return!s||s.Hf(t)}async r0(t){const s=this.Zf(t.type,!1);return!s||s.Jf(t)}n0(t){const s=this.Zf(t.type,!1);if(!s)return null;if(t.cancelable)throw new Error("not supported");return s.qf(t)}Uf(t){for(const s of this.$f.values())s.Uf(t)}}}{let n=function(t){c=l&&0===f?requestIdleCallback(s,{timeout:e}):setTimeout(s,0<f?1:t)},s=function(r){if(c=-1,u.length){let e=performance.now(),i=e,t=0,s;for(;h(u.shift()),i=performance.now(),++t,s=(i-e)/t*1.1,u.length&&(l&&0===f&&void 0!==r?s<r.timeRemaining():i-e+s<o););if(-1===c&&u.length){let t=i-e,s=Math.max(a-t,4);n(s)}}},h=function(s){let t;try{t=s.Af()}catch(t){return void s.reject(t)}s.resolve(t)},t=(n,s,h,self.Ls),o=12,a=16,e=35,l="undefined"!=typeof requestIdleCallback,u=[],c=-1,f=0,r=t.oe.ie("disable-asyncify");r&&console.warn("[Asyncify] Asyncify has been disabled due to disable-asyncify in the query string. Some work will now be done synchronously."),t.Vf=function(e){let i=null;return t.isDebug&&(i=t.li()),new Promise((t,s)=>{u.push({Af:e,resolve:t,reject:s,stack:i}),r?h(u.pop()):-1===c&&n(a)})},t.Vf.h0=function(t){if(t)++f;else if(--f<0)throw new Error("already turned off high throughput mode")}}{let t=function(){n=-1},s=function(){h=-1,o=-1;let e=Date.now();for(let s of a)if(s.o0(e)){let t=s.a0();(-1===o||t<o)&&(o=t)}else a.delete(s);if(-1!==o){let t=Math.max(o-e+r,i);h=self.setTimeout(s,t)}},e=(t,s,self.Ls),i=1e3,r=100,n=-1,h=(e.l0=function(){return-1===n&&(n=Date.now(),self.setTimeout(t,16)),n},-1),o=-1,a=new Set;e.u0=class{constructor(t,s){this.c0=t,this.f0=1e3*s,this.d0=0,this.p0=!1}m0(){let t=e.l0();this.d0=t+this.f0,this.p0||(a.add(this),this.p0=!0),-1===h?(o=this.d0,h=self.setTimeout(s,this.f0+r)):this.d0<o&&o>t+i&&(self.clearTimeout(h),o=this.d0,h=self.setTimeout(s,this.f0+r))}o0(t){return!(t>=this.d0)||(this.c0()?(this.d0=t+this.f0,!0):this.p0=!1)}a0(){return this.d0}g0(){this.p0&&(a.delete(this),this.p0=!1,0===a.size)&&-1!==h&&(self.clearTimeout(h),h=-1,o=-1)}gn(){this.g0(),this.c0=null}}}{const ls=self.Ls;ls.y0=class us{constructor(t){this.S0=!1,this.w0=t}b0(){this.S0||(this.S0=!0,this.w0&&(this.w0(),this.w0=null))}v0(){return this.S0}gn(){this.b0()}static gn(t){return new us(()=>t.gn())}static x0(s,e,i,r,t){if(null==r)r=!1;else if("boolean"!=typeof r&&"object"!=typeof r)throw new TypeError("invalid event listener options");if(t&&(i=i.bind(t)),e.includes(" ")){e=e.split(" ");const n=new ls.M0;for(let t of e)s.addEventListener(t,i,r),n.wc(ls.mn(ls.y0,()=>s.removeEventListener(t,i,r)));return n}return s.addEventListener(e,i,r),ls.mn(ls.y0,()=>s.removeEventListener(e,i,r))}},ls.T0=class extends ls.y0{G0(t){this.w0=t}},ls.M0=class extends ls.y0{constructor(...s){super(),this._0=new Set;for(let t of s)this.wc(t)}wc(...s){if(this.S0)throw new Error("already disposed");for(let t of s)this._0.add(t)}I0(t){if(this.S0)throw new Error("already disposed");this._0.delete(t)}C0(){if(this.S0)throw new Error("already disposed");if(this._0){for(let t of this._0)t.b0();this._0.clear()}}v0(){return this.S0}b0(){if(this.S0)throw new Error("already disposed");this.S0=!0;for(let t of this._0)t.b0();this._0.clear(),this._0=null}gn(){this.b0()}}}{const cs=self.Ls;cs.R0=class extends cs.dn{constructor(){super(),this.E0=0,this.ol=0,this.P0=0,this.F0=0}wc(t){this.ol=(t=+t)-this.E0,this.P0=this.F0+this.ol,this.E0=this.P0-this.F0-this.ol,this.F0=this.P0}A0(t){this.F0-=+t}re(){return this.F0}m0(){this.E0=0,this.ol=0,this.P0=0,this.F0=0}Set(t){this.E0=0,this.ol=0,this.P0=0,this.F0=+t}k0(t){this.E0=t.E0,this.ol=t.ol,this.P0=t.P0,this.F0=t.F0}gn(){}}}{const fs=self.Ls,h={};h.D0=function(t){this.O0=t,this.right=this.O0.B0,this.left=this.O0.B0,this.parent=null,this.color=!1,this.key=null},h.L0=function(t){this.size=0,this.B0=new h.D0(this),this.B0.color=!1,this.root=this.B0,this.root.parent=this.B0,this.compare=t||this.N0},h.L0.prototype.N0=function(t,s){return t<s?-1:s<t?1:0},h.L0.prototype.clone=function(){var t=new h.L0(this.compare);return t.W0(this),t},h.L0.prototype.clear=function(){this.size=0,this.B0=new h.D0(this),this.B0.color=!1,this.root=this.B0,this.root.parent=this.B0},h.L0.prototype.U0=function(t){var s=t.right;t.right=s.left,s.left!=this.B0&&(s.left.parent=t),s.parent=t.parent,t.parent==this.B0?this.root=s:t==t.parent.left?t.parent.left=s:t.parent.right=s,(s.left=t).parent=s},h.L0.prototype.j0=function(t){var s=t.left;t.left=s.right,s.right!=this.B0&&(s.right.parent=t),s.parent=t.parent,t.parent==this.B0?this.root=s:t==t.parent.right?t.parent.right=s:t.parent.left=s,(s.right=t).parent=s},h.L0.prototype.V0=function(t){if(this.contains(t))this.H0(t).key=t;else{for(var s=new h.D0(this),e=(s.key=t,this.B0),i=this.root;i!=this.B0;)e=i,i=this.compare(s.key,i.key)<0?i.left:i.right;(s.parent=e)==this.B0?this.root=s:this.compare(s.key,e.key)<0?e.left=s:e.right=s,s.left=this.B0,s.right=this.B0,s.color=!0,this.z0(s),this.size++}},h.L0.prototype.z0=function(t){for(;t!=this.B0&&t!=this.root&&1==t.parent.color;){var s;t.parent==t.parent.parent.left?1==(s=t.parent.parent.right).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.right&&(t=t.parent,this.U0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.B0&&this.j0(t.parent.parent)):1==(s=t.parent.parent.left).color?(t.parent.color=!1,s.color=!1,t.parent.parent.color=!0,t=t.parent.parent):(t==t.parent.left&&(t=t.parent,this.j0(t)),t.parent.color=!1,t.parent.parent.color=!0,t.parent.parent!=this.B0&&this.U0(t.parent.parent))}this.root.color=!1},h.L0.prototype.J0=function(t){var s=t.left==this.B0||t.right==this.B0?t:this.q0(t),e=s.left!=this.B0?s.left:s.right;e.parent=s.parent,s.parent==this.B0?this.root=e:s==s.parent.left?s.parent.left=e:s.parent.right=e,s!=t&&(t.key=s.key),0==s.color&&this.X0(e),this.size--},h.L0.prototype.X0=function(t){for(;t!=this.root&&0==t.color;){var s;t=t==t.parent.left?(1==(s=t.parent.right).color&&(s.color=!1,t.parent.color=!0,this.U0(t.parent),s=t.parent.right),0==s.left.color&&0==s.right.color?(s.color=!0,t.parent):(0==s.right.color&&(s.left.color=!1,s.color=!0,this.j0(s),s=t.parent.right),s.color=t.parent.color,t.parent.color=!1,s.right.color=!1,this.U0(t.parent),this.root)):(1==(s=t.parent.left).color&&(s.color=!1,t.parent.color=!0,this.j0(t.parent),s=t.parent.left),0==s.right.color&&0==s.left.color?(s.color=!0,t.parent):(0==s.left.color&&(s.right.color=!1,s.color=!0,this.U0(s),s=t.parent.left),s.color=t.parent.color,t.parent.color=!1,s.left.color=!1,this.j0(t.parent),this.root))}t.color=!1},h.L0.prototype.remove=function(t){var s;return(t=this.H0(t))!=this.B0?(s=t.key,this.J0(t),s):null},h.L0.prototype.$0=function(t,s){this.remove(s)},h.L0.prototype.min=function(t){for(;t.left!=this.B0;)t=t.left;return t},h.L0.prototype.max=function(t){for(;t.right!=this.B0;)t=t.right;return t},h.L0.prototype.q0=function(t){if(t.right!=this.B0)return this.min(t.right);for(var s=t.parent;s!=this.B0&&t==s.right;)s=(t=s).parent;return s},h.L0.prototype.Y0=function(t){if(t.left!=this.B0)return this.max(t.left);for(var s=t.parent;s!=this.B0&&t==s.left;)s=(t=s).parent;return s},h.L0.prototype.K0=function(t){if(0<this.size){var s=this.H0(t);if(s==this.B0)return null;if(s.right!=this.B0)return this.min(s.right).key;for(var e=s.parent;e!=this.B0&&s==e.right;)e=(s=e).parent;return e!=this.B0?e.key:null}return null},h.L0.prototype.Z0=function(t){if(0<this.size){var s=this.H0(t);if(s==this.B0)return null;if(s.left!=this.B0)return this.max(s.left).key;for(var e=s.parent;e!=this.B0&&s==e.left;)e=(s=e).parent;return e!=this.B0?e.key:null}return null},h.L0.prototype.Q0=function(){return this.min(this.root).key},h.L0.prototype.td=function(){return this.max(this.root).key},h.L0.prototype.H0=function(t){for(var s=this.root;s!=this.B0&&0!=this.compare(s.key,t);)s=this.compare(t,s.key)<0?s.left:s.right;return s},h.L0.prototype.contains=function(t){return null!=this.H0(t).key},h.L0.prototype.getValues=function(){var s=[];return this.forEach(function(t){s.push(t)}),s},h.L0.prototype.W0=function(t){if("array"==h.typeOf(t))for(var s=0;s<t.length;s++)this.V0(t[s]);else if("function"==h.typeOf(t.forEach))t.forEach(this.V0,this);else if("function"==h.typeOf(t.getValues))for(var e=t.getValues(),s=0;s<e.length;s++)this.V0(e[s]);else if("object"==h.typeOf(t))for(var i in t)this.V0(t[i])},h.L0.prototype.sd=function(t){if("array"==h.typeOf(t))for(var s=0;s<t.length;s++)this.remove(t[s]);else if("function"==h.typeOf(t.forEach))t.forEach(this.$0,this);else if("function"==h.typeOf(t.getValues))for(var e=t.getValues(),s=0;s<e.length;s++)this.remove(e[s]);else if("object"==h.typeOf(t))for(var i in t)this.remove(t[i])},h.L0.prototype.ed=function(t){if("array"==h.typeOf(t)){for(var s=0;s<t.length;s++)if(!this.contains(t[s]))return!1;return!0}if("function"==h.typeOf(t.forEach))return t.every(this.contains,this);if("function"==h.typeOf(t.getValues)){for(var e=t.getValues(),s=0;s<e.length;s++)if(!this.contains(e[s]))return!1;return!0}if("object"==h.typeOf(t)){for(var i in t)if(!this.contains(t[i]))return!1;return!0}},h.L0.prototype.range=function(t,s){var e=[];return this.rd(function(t){e.push(t)},t,s),e},h.L0.prototype.nd=function(t,s){if(!this.hd())for(var e=this.min(this.root);e!=this.B0;){if(t.call(s,e.key,this))return;e=this.q0(e)}},h.L0.prototype.od=function(t,s,e){if(!this.hd())for(var i=this.H0(s);i!=this.B0;){if(t.call(e,i.key,this))return;i=this.q0(i)}},h.L0.prototype.ad=function(t,s,e){if(!this.hd())for(var i=this.min(this.root),r=this.H0(s);i!=r;){if(t.call(e,i.key,this))return;i=this.q0(i)}},h.L0.prototype.rd=function(t,s,e,i){if(!this.hd())for(var r=this.H0(s),n=this.H0(e);r!=n;){if(t.call(i,r.key,this))return;r=this.q0(r)}},h.L0.prototype.ld=function(t,s){if(!this.hd())for(var e=this.max(this.root);e!=this.B0;){if(t.call(s,e.key,this))return;e=this.Y0(e)}},h.L0.prototype.forEach=function(t,s){if(!this.hd())for(var e=this.min(this.root);e!=this.B0;e=this.q0(e))t.call(s,e.key,e.key,this)},h.L0.prototype.some=function(t,s){if(!this.hd())for(var e=this.min(this.root);e!=this.B0;e=this.q0(e))if(t.call(s,e.key,e.key,this))return!0;return!1},h.L0.prototype.every=function(t,s){if(this.hd())return!1;for(var e=this.min(this.root);e!=this.B0;e=this.q0(e))if(!t.call(s,e.key,e.key,this))return!1;return!0},h.L0.prototype.map=function(t,s){var e=[];if(!this.hd())for(var i=this.min(this.root);i!=this.B0;i=this.q0(i))e.push(t.call(s,i.key,i.key,this));return e},h.L0.prototype.filter=function(t,s){var e=[];if(!this.hd())for(var i=this.min(this.root);i!=this.B0;i=this.q0(i))t.call(s,i.key,i.key,this)&&e.push(i.key);return e},h.L0.prototype.getCount=function(){return this.size},h.L0.prototype.hd=function(){return 0==this.size},h.L0.prototype.isSubsetOf=function(t){var s=h.getCount(t);if(this.getCount()>s)return!1;var e=0;if(this.hd())return!0;for(var i=this.min(this.root);i!=this.B0;i=this.q0(i))h.contains.call(t,t,i.key)&&e++;return e==this.getCount()},h.L0.prototype.intersection=function(t){var s=new h.L0(this.compare);if(!this.hd())for(var e=this.min(this.root);e!=this.B0;e=this.q0(e))t.contains.call(t,e.key,e.key,this)&&s.V0(e.key);return s},fs.L0=class extends fs.dn{constructor(t){super(),this.ud=new h.L0(t),this.fd=!1,this.dd=new Set,this.md=new Set}wc(t){this.fd?this.ud.contains(t)?this.md.delete(t):this.dd.add(t):this.ud.V0(t)}I0(t){this.fd?this.ud.contains(t)?this.md.add(t):this.dd.delete(t):this.ud.remove(t)}ie(t){return this.fd?!!this.dd.has(t)||!this.md.has(t)&&this.ud.contains(t):this.ud.contains(t)}oc(){this.ud.clear(),this.dd.clear(),this.md.clear()}toArray(){if(this.fd)throw new Error("cannot be used in queueing mode");return this.ud.getValues()}cc(){return this.ud.getCount()+this.dd.size-this.md.size}ac(){return 0===this.cc()}gd(){if(this.ac())throw new Error("empty set");if(this.fd)throw new Error("cannot be used in queueing mode");const t=this.ud,s=t.min(t.root);return s.key}yd(){if(this.ac())throw new Error("empty set");if(this.fd)throw new Error("cannot be used in queueing mode");const t=this.gd();return this.I0(t),t}Sd(t){if(this.fd!==(t=!!t)&&!(this.fd=t)){for(const s of this.md)this.ud.remove(s);this.md.clear();for(const e of this.dd)this.ud.V0(e);this.dd.clear()}}wd(t){this.ud.forEach(t)}*values(){if(!this.ac()){const s=this.ud;for(let t=s.min(s.root);t!=s.B0;t=s.q0(t))yield t.key}}[Symbol.iterator](){return this.values()}}}{const ds=self.Ls;ds.bd=class{constructor(t=ds.hardwareConcurrency){this.vd=t,this.xd=[],this.Md=0}wc(e){return new Promise((t,s)=>{this.xd.push({Af:e,resolve:t,reject:s}),this.Td()})}Gd(e){for(let t=0,s=this.xd.length;t<s;++t)if(this.xd[t].Af===e)return t;return-1}_d(t,s){const e=this.Gd(t);if(-1===e)throw new Error("cannot find promise to resolve");this.xd[e].resolve(s),this.xd.splice(e,1)}Id(t,s){const e=this.Gd(t);if(-1===e)throw new Error("cannot find promise to reject");this.xd[e].reject(s),this.xd.splice(e,1)}async Td(){if(this.xd.length&&!(this.Md>=this.vd)){this.Md++;const s=this.xd.shift();try{const t=await s.Af();s.resolve(t)}catch(t){s.reject(t)}this.Md--,this.Td()}}static async Cd(t,s){let e=[],i=!1,r=[];for(;t--;)r.push((async()=>{let t;for(;t=s.pop();){if(i)return;try{e.push(await t())}catch(t){throw i=!0,t}}})());return await Promise.all(r),e}}}{const ps=self.Ls;ps.Rd=class{constructor(t,s,e){this.c0=t,this.Ed=s,this.Pd=e||2*s,this.Fd=-1,this.Ad=-1/0,this.kd=()=>this.Dd(),this.Od=!1,this.Bd=!1,this.Ld=null}Nd(t){this.Bd=!!t}Wd(){return void 0!==ps.Battery&&ps.Battery.IsOnBatteryPower()?this.Pd:this.Ed}Ud(...i){if(-1===this.Fd){this.Ld=i;let t=ps.l0(),s=t-this.Ad,e=this.Wd();e<=s&&this.Bd?(this.Ad=t,this.jd()):this.Fd=self.setTimeout(this.kd,Math.max(e-s,4))}}jd(){this.Od=!0;const t=this.Ld;this.Ld=null,t?this.c0(...t):this.c0(),this.Od=!1}m0(){this.Od||(this.Vd(),this.Ld=null,this.Ad=ps.l0())}Dd(){this.Fd=-1,this.Ad=ps.l0(),this.jd()}Vd(){-1!==this.Fd&&(self.clearTimeout(this.Fd),this.Fd=-1)}gn(){this.Vd(),this.c0=null,this.Ld=null,this.kd=null}}}{const ms=self.Ls;ms.Hd=class{constructor(){this.zd=new Map,this.Jd=!1,this.qd=null,this.Xd=null,this.$d=null,this.Yd=null}Kd(t){this.Jd=!!t}Zd(){return this.Jd}Qd(t){this.qd=t}t1(t){if(this.qd)return this.qd(t);throw new Error("no get base size callback set")}s1(t){this.Xd=t}e1(t,s,e,i,r,n){if(this.Xd)return this.Xd(t,s,e,i,r,n);throw new Error("no raster at size callback set")}i1(t){this.$d=t}n1(t){if(!this.$d)throw new Error("no release result callback set");this.$d(t)}h1(t){this.Yd=t}o1(){if(!this.Yd)throw new Error("no redraw callback set");this.Yd()}a1(t){let s=this.zd.get(t);return s||(s=ms.mn(ms.l1,this,t),this.zd.set(t,s)),s.u1(),s}c1(t){this.zd.delete(t.f1())}d1(){for(const t of this.zd.values())t.m1(),t.g1()}}}{const gs=self.Ls;gs.l1=class{constructor(t,s){this.S1=t,this.w1=s,this.b1=0,this.v1=0,this.M1=0,this.T1=this.S1.t1(s).then(t=>{this.S1&&(this.v1=t[0],this.M1=t[1],this.S1.o1())}).catch(t=>{console.error("[SVG] Error loading SVG: ",t),this.G1=!0,this.S1&&this.S1.o1()}),this._1=0,this.I1=0,this.C1=0,this.R1=0,this.E1=!1,this.P1=null,this.F1=!1,this.G1=!1}gn(){if(this.b1<=0)throw new Error("already released");this.b1--,0===this.b1&&this.A1()}m1(){this.P1&&(this.S1.n1(this.P1),this.P1=null)}A1(){this.m1(),this.S1.c1(this),this.S1=null}f1(){return this.w1}u1(){this.b1++}D1(){return 0<this.b1}O1(){return this.P1}g1(){this.F1=!0}async B1(i,r,n){if(0!==r&&0!==n&&!this.G1&&!this.E1){let t=gs.Vn(Math.ceil(r)),s=gs.Vn(Math.ceil(n)),e=Math.max(t,s);if(4096<e){const h=4096/e;r*=h,n*=h,t=Math.min(Math.ceil(t*h),4096),s=Math.min(Math.ceil(s*h),4096)}if(r<t&&n<s){const o=r/n,a=t/s;n=o<a?(r=s*o,s):(r=t)/o}if(this.S1.Zd()&&(t=Math.ceil(r),s=Math.ceil(n)),!(t<=this._1&&s<=this.I1)||this.F1){this.E1=!0,this._1=t,this.I1=s;const l=await this.S1.e1(this.w1,i,this._1,this.I1,r,n);this.S1&&(this.m1(),this.P1=l,this.C1=r,this.R1=n,this.E1=!1,this.F1=!1,this.S1.o1())}}}L1(){return this.T1}N1(){return this.v1}W1(){return this.M1}U1(){return this.C1}j1(){return this.R1}V1(){return this.G1}}}{let s=function(t){return bs.get(t)};s;const c=self.Ls,ys=(c.H1="\ufeff",new Set("0123456789")),Ss=(c.z1=function(t){return ys.has(t)},new Set(" \t\n\r            ​\u2028\u2029  　"));c.J1=function(t){return Ss.has(t)},c.q1=function(t){return[...t].filter(t=>!c.J1(t)).join("")},c.X1=function(t){for(const s of t)if(!c.J1(s))return!1;return!0},c.Y1=function(t){for(const s of t)if(!c.J1(s))return!1;return!0},c.K1=function(t){return 1===t.length&&t.charCodeAt(0)<32},c.Z1=function(t){return[...t].filter(t=>!c.K1(t)).join("")};let e=null;try{e=new RegExp("\\p{P}(?<=[\\u3000-\\u303F\\uFF00-\\uFFEF])","u")}catch(t){console.warn("Unable to detect CJK punctuation: ",t)}c.Q1=function(t){return!c.J1(t)&&e&&e.test(t)};const ws=new Set("0123456789.+-e"),bs=(c.tp=function(s){if(!(s=s.trim()).length)return!1;let t=s.charAt(0);if("-"!==t&&!ys.has(t))return!1;for(let t of s)if(!ws.has(t))return!1;return!0},c.sp=function(s){let e=s.length;for(;0<e;){let t=s.charAt(e-1);if(!c.z1(t))break;--e}return s.substr(0,e)},c.ep=function(t){let s=c.sp(t),e=t.substr(s.length);return s+(e?(parseInt(e,10)+1).toString():"2")},new Map([["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"],["'","&#39;"]])),vs=/[&<>"']/g,xs=(c.rp=function(t){return t.replace(vs,s)},c.np=function(t){let s=c.hp(t,"\\","\\\\");return s=c.hp(s,'"','\\"'),s=c.hp(s,"\t","\\t"),s=c.hp(s,"\r",""),c.hp(s,"\n","\\n")},c.op=function(t){let s=c.hp(t,"&","&amp;");return s=c.hp(s,"<","&lt;"),s=c.hp(s,">","&gt;"),c.hp(s,'"',"&quot;")},/[-[\]{}()*+?.,\\^$|#\s]/g),Ms=(c.ai=function(t){return t.replace(xs,"\\$&")},c.lp=function(t,s){let e=0;for(const i of t)i===s&&++e;return e},c.up=function(t,s,e=!1){if(!s)return[];e||(t=t.toLowerCase(),s=s.toLowerCase());let i=s.length,r=0,n,h=[];for(;-1<(n=t.indexOf(s,r));)h.push(n),r=n+i;return h},c.hp=function(t,s,e){return t.replaceAll(s,()=>e)},c.cp=function(t,s,e){return t.replace(new RegExp(c.ai(s),"gi"),()=>e)},c.fp=function(t,s){"string"==typeof s?t.textContent=s:s.pp()?t.textContent=s.toString():(t.innerHTML=s.mp(),s instanceof c.kr&&s.gp(t))},c.yp=function(t,s){return t instanceof c.HtmlString||t instanceof c.kr?t.equals(s):s instanceof c.HtmlString||s instanceof c.kr?s.equals(t):t===s},c.Sp=function(e,...i){let r=e;for(let t=0,s=i.length;t<s;++t){const n=`{${t}}`;if(!e.includes(n))throw new Error(`missing placeholder '${n}' in string substitution`);r=r.replace(n,i[t].toString())}return r},c.bp=function(e,...i){let r=e,n=-1,h=-1;for(let t=0,s=i.length;t<s;++t){const o=`{${t}}`;e.includes(o)?(h=t,r=r.replace(o,i[t].toString())):-1===n&&(n=t)}if(0<=n&&0<=h&&n<h)throw new Error(`missing placeholder '${n}' in string substitution`);return r},c.vp=function(t,e){let i=t;for(let[t,s]of Object.entries(e))i=i.replaceAll(t,s.toString());return i},c.xp=function(t,s){return s<t?1:t<s?-1:0},c.Mp=function(t,s){let e=t.toLowerCase(),i=s.toLowerCase();return i<e?1:e<i?-1:0},new self.Intl.Segmenter),Ts=(c.Tp=function(t){const s=[];for(const e of Ms.segment(t))s.push(e.segment);return s},c.Gp=function*(t){for(const s of Ms.segment(t))yield s.segment},c._p=function(t){let s=0;for(const e of Ms.segment(t))++s;return s},1073741824),Gs=1024*Ts,_s={Ip:!(c.Cp=function(s,t){let e="common."+(t?"dataRates":"dataSizes")+".",i=self.langSub;if(s<1024)return i(e+"bytes",s);if(s<1048576){let t=s/1024;return t=t<10?Math.round(10*t)/10:Math.round(t),i(e+"kilobytes",t)}if(s<Ts){let t=s/1048576;return t=t<10?Math.round(10*t)/10:Math.round(t),i(e+"megabytes",t)}if(s<Gs){let t=s/Ts;return t=t<10?Math.round(10*t)/10:Math.round(t),i(e+"gigabytes",t)}{let t=s/Gs;return t=t<10?Math.round(10*t)/10:Math.round(t),i(e+"terabytes",t)}}),Rp:!0,Ep:!0,Pp:!0,Fp:!0};c.Ap=function(t,s){s=Object.assign({},_s,s),c.Lang.PushContext("common.time");const e=[],i=self.lang,r=self.langPluralSub;if(s.Rp){const h=Math.floor(t/86400);0<h&&(t-=24*h*3600,e.push(r(".days",null,h)))}if(s.Ep){const o=Math.floor(t/3600);(0<o||e.length)&&(t-=3600*o,e.push(r(".hours",null,o)))}if(s.Pp){const a=Math.floor(t/60);(0<a||e.length||!s.Fp)&&(t-=60*a,e.push(r(".minutes",null,a)))}if(s.Fp){const l=Math.floor(t%60);e.push(r(".seconds",null,l))}const n=(s.Ip?i(".approx-prefix"):"")+e.join(i(".separator"));return c.Lang.PopContext(),n},c.kp=function(t,s){let e=t<0?"-":"",i=(t=Math.abs(t)).toString(),r=s-i.length;for(let t=0;t<r;++t)e+="0";return e+i},c.Dp=function(t){return t.toLowerCase().replace(/\b\w/g,t=>t.toUpperCase())},c.Op=function(t,s){let e=t.split(".").map(t=>t.trim()),i=s.split(".").map(t=>t.trim());c.Jh(e,4,"0"),c.Jh(i,4,"0"),e=e.map(t=>parseInt(t,10)),i=i.map(t=>parseInt(t,10));for(let t=0;t<4;++t){const r=e[t]-i[t];if(0!=r)return r<0?-1:1}return 0},c.Bp=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=Math.floor(16*Math.random()),e="x"===t?s:3&s|8;return e.toString(16)})},c.Lp=function(e,i){if(e.length!==i.length)throw new Error("strings must be same length");let r=0;for(let t=0,s=e.length;t<s;++t)e.charAt(t)!==i.charAt(t)&&++r;return r},c.Np=function(t,s){if(0===t.length)return s.length;if(0===s.length)return t.length;let e,i,r,n,h,o;for(s.length<t.length&&(e=t,t=s,s=e),o=Array(t.length+1),i=0;i<=t.length;i++)o[i]=i;for(i=1;i<=s.length;i++){for(n=i,r=1;r<=t.length;r++)h=s[i-1]===t[r-1]?o[r-1]:Math.min(o[r-1]+1,Math.min(n+1,o[r]+1)),o[r-1]=n,n=h;o[t.length]=n}return o[t.length]}}{let s=function(t,e,i){const r=o.get(i);if(!r)return"class"===i?e?"</span>":`<span class="bbclass${u++}">`:t;if("string"==typeof r){if("a"===r&&0===a.length||"abbr"===r&&0===l.length)return t;if("a"!==r||e){if("abbr"!==r||e)return"<"+e+r+">";{const n=parseInt(i.substring(3),10)-1;if(n<0||n>=l.length)throw new Error("invalid bbcode tip substitution");let t=l[n],s="";if("string"==typeof t?s=t:"function"==typeof t&&(s=t()),"string"!=typeof s)throw new TypeError("invalid bbcode tip");return`<abbr title="${f.hp(s,'"',"&quot;")}">`}}{const s=parseInt(i.substring(1),10)-1;if(s<0||s>=a.length)throw new Error("invalid bbcode link substitution");const h=a[s];if("string"==typeof h)return`<a href="${a[s]}">`;if("function"==typeof h)return`<a class="bblink${s}">`;throw new TypeError("invalid bbcode link action")}}if(Array.isArray(r)){let t=r[0],s=r[1];return e?"</"+t+">":`<${t} class="${s}">`}},f=(s,self.Ls),o=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["sub","sub"],["sup","sup"],["small","small"],["mark","mark"],["code","code"],["a1","a"],["a2","a"],["a3","a"],["a4","a"],["a5","a"],["a6","a"],["a7","a"],["a8","a"],["a9","a"],["tip1","abbr"],["tip2","abbr"],["tip3","abbr"],["tip4","abbr"],["tip5","abbr"],["tip6","abbr"],["tip7","abbr"],["tip8","abbr"],["tip9","abbr"],["bad",["span","bbCodeBad"]],["good",["span","bbCodeGood"]],["info",["span","bbCodeInfo"]],["h1",["span","bbCodeH1"]],["h2",["span","bbCodeH2"]],["h3",["span","bbCodeH3"]],["h4",["span","bbCodeH4"]],["item",["span","bbCodeItem"]]]),d=new Set(["icon"]),e=/\[(\/?)([a-zA-Z0-9]+)\]/g,p=/\[(\/?)([^\[\n]*?)\]/g,a=null,l=null,u=0,i=/\n/g;f.kr=class{constructor(t,s){if(this.Wp=s&&s.Up?t:f.rp(t),this.jp="",this.Vp=!1,this.Hp=[],this.zp=[],s){if(this.Vp=!!s.convertLineBreaks,s.links){if(9<s.links.length)throw new Error("too many links");this.Hp=s.links}if(s.tips){if(9<s.tips.length)throw new Error("too many tips");this.zp=s.tips}}this.Jp=this.Wp.includes("["),this.qp=this.Vp&&this.Wp.includes("\n"),this.Xp=!this.Jp&&!this.qp&&!this.Wp.includes("&"),this.$p=!1,this.Yp=[]}toString(){return this.Wp}valueOf(){return this.Wp}pp(){return this.Xp}Kp(){return this.Jp?this.Wp.replace(e,""):this.Wp}mp(){if(this.Xp)return this.Wp;if(!this.jp&&this.Wp){let t=this.Wp;this.Jp&&(u=0,a=this.Hp,l=this.zp,t=t.replace(e,s),a=null,l=null),this.qp&&(t=t.replace(i,"<br>")),this.jp=t}return this.jp}gp(e){if(this.Hp.length)for(let t=0,s=this.Hp.length;t<s;++t){const i=this.Hp[t];if("function"==typeof i){const r=e.querySelector(".bblink"+t);if(!r)throw new Error("unable to attach BBString link handler");r.onclick=i}}}equals(t){return t instanceof f.HtmlString?this.mp()===t.mp():t instanceof f.kr?this.Wp===t.Wp:this.Wp===t}Zp(){if(!this.$p){let i=[],t=this.Wp,r=[],s=p.lastIndex=0,e;for(;null!==(e=p.exec(t));){const n=e.index;if(!(0<n&&"\\"===t.charAt(n-1))){const h=e[0],o=e[1],a=e[2],l=t.substring(s,n);if(s=n+h.length,l&&i.push({text:l,Qp:r.slice(0)}),a)if(o){const u=a.toLowerCase();for(let t=r.length-1;0<=t;--t)if(r[t].tag===u){r.splice(t,1);break}}else{let t=a,s=null,e=a.indexOf("=");if(-1!==e?(t=a.substring(0,e).toLowerCase(),s=a.substring(e+1)):t=t.toLowerCase(),d.has(t)){if("icon"!==t)throw new Error("unknown self-closing tag "+t);i.push({icon:s,Qp:r.slice(0)})}else r.push({tag:t,param:s})}}}s<t.length&&i.push({text:t.substring(s),Qp:r.slice(0)});for(const c of i)c.text&&(c.text=this.tm(c.text));this.Yp=i.map(t=>t.icon?f.mn(f.im,{icon:t.icon,Qp:t.Qp}):f.mn(f.rm,{nm:f.Tp(t.text),Qp:t.Qp})),this.$p=!0}return this.Yp}tm(t){return t=f.hp(t,"\\[","["),f.hp(t,"\\\\","\\")}static hm(t){return f.mn(f.kr,t,{Up:!0}).Kp()}static om(t){return t.replace(p,"")}}}{let l=function(t){return" "!==t&&" "!==t&&S.J1(t)},a=function(t){return Is.has(t)},u=function(t){return S.Q1(t)&&!a(t)},c=function(t){for(;0<t.length&&l(t.at(-1));)t.pop()},y=function(t){return"\n"===t||"\r\n"===t};l,a,u,c,y;const S=self.Ls,Is=new Set("〈《「『【〔〖〘〚〝");S.am=class{constructor(){this.lm=[],this.um=null}fm(){return this.lm}pm(){return this.lm.length}gm(t){this.um=t}ym(t,s){let e=0,i=0,r=0,n=0,h=0;for(const o of t){if(-1===o.Sm()){const a=s(o);o.wm(a.height),o.vm(a.fontBoundingBoxAscent||0),o.xm(a.fontBoundingBoxDescent||0),o.Mm(a.Tm||0),o.Gm()?o._m(a.width):o.Im()&&o.Cm(this.um)}e+=o.Sm(),i=Math.max(i,o.Rm()),r=Math.max(r,o.Em()),n=Math.max(n,o.Pm()),h=Math.max(h,o.Fm())}return{width:e,height:i,fontBoundingBoxAscent:r,fontBoundingBoxDescent:n,Tm:h}}Am(t,s,e,i,r,n){this.lm.push(S.mn(S.am.km,{Dm:t,width:s,height:e,fontBoundingBoxAscent:i,fontBoundingBoxDescent:r,Tm:n}))}am(s,n,h,e,o){if("string"==typeof s&&(s=[S.mn(S.rm,{nm:S.Tp(s)})]),S.Vh(this.lm),!(!s.length||1===s.length&&s[0].Gm()&&s[0].ac()||h<2)){if(1===s.length){const a=s[0];if(a.Gm()&&a.Om()<=100&&!a.Bm()){let{width:t,height:s,fontBoundingBoxAscent:e,fontBoundingBoxDescent:i,Tm:r}=n(a);if(t+=o,a._m(t),a.wm(s),a.vm(e||0),a.xm(i||0),a.Mm(r||0),t<=h)return void this.Am([a],t,s,e,i,r)}}let t;t="word"===e?this.Lm(s):"cjk"===e?this.Nm(s):this.Wm(s),this.Um(t,n,h,o)}}Lm(t){let s=[],e=[],i=!1;for(const r of t){const n=r.jm();if(r.Im())0<e.length&&s.push(e),s.push([r]),e=[];else for(const h of r.Vm())if(y(h))0<e.length&&s.push(e),s.push([S.mn(S.rm,{nm:["\n"],Qp:n})]),e=[];else if(0===e.length)e.push(S.mn(S.rm,{nm:[h],Qp:n})),i=l(h);else{const o=l(h);if(o===i){const a=e.at(-1);a.jm()===n?a.Hm(h):e.push(S.mn(S.rm,{nm:[h],Qp:n}))}else s.push(e),e=[S.mn(S.rm,{nm:[h],Qp:n})],i=o}}return 0<e.length&&s.push(e),s}Nm(t){let s=[],e=[],i=!1;for(const r of t){const n=r.jm();if(r.Im())0<e.length&&s.push(e),s.push([r]),e=[];else for(const h of r.Vm())if(y(h))0<e.length&&s.push(e),s.push([S.mn(S.rm,{nm:["\n"],Qp:n})]),e=[];else{if(0===e.length)e.push(S.mn(S.rm,{nm:[h],Qp:n}));else if(i||u(h)){const o=e.at(-1);o.jm()===n?o.Hm(h):e.push(S.mn(S.rm,{nm:[h],Qp:n}))}else s.push(e),e=[S.mn(S.rm,{nm:[h],Qp:n})];i=a(h)}}return 0<e.length&&s.push(e),s}Wm(t){const s=[];for(const e of t)if(e.Gm()){const i=e.Vm();S.tn(s,i.map(t=>[S.mn(S.rm,{nm:[t],Qp:e.jm()})]))}else s.push([e]);return s}zm(t){return t.map(t=>t.Jm())}qm(s,e){let t=s.length?s.at(-1):null,i=0;t&&t.Gm()&&e[0].Gm()&&e[0].jm()===t.jm()&&(t.Xm(e[0].Vm()),i=1);for(let t=e.length;i<t;++i){const r=e[i];s.push(r.Jm())}}Um(t,s,e,i){let r=[],n=0,h=0,o=0,a=0,l=0;for(const u of t)if(1===u.length&&u[0].Gm()&&1===u[0].Om()&&y(u[0].Vm()[0])){if(0===h){const c=S.mn(S.rm,{nm:[" "],Qp:u[0].jm()}),f=s(c);h=f.height,o=f.fontBoundingBoxAscent||0,a=f.fontBoundingBoxDescent||0,l=f.Tm||0}this.Am(r,n,h,o,a,l),r=[],n=0,h=0,o=0,a=0,l=0}else{const d=this.zm(r),p=(this.qm(d,u),this.ym(d,s)),m=p.width;if(e<=m)if(0<r.length&&this.Am(r,n,h,o,a,l),r=[],u[0].Gm()&&S.Y1(u[0].Vm()))n=0,h=0,o=0,a=0,l=0;else{this.qm(r,u);const g=this.ym(r,s);n=g.width,h=g.height,o=g.fontBoundingBoxAscent,a=g.fontBoundingBoxDescent,l=g.Tm}else r=d,n=m,h=p.height,o=p.fontBoundingBoxAscent,a=p.fontBoundingBoxDescent,l=p.Tm}0<r.length&&this.Am(r,n,h,o,a,l),this.$m(s,i)}$m(s,e){for(const i of this.lm){const r=i.Ym();if(r.length){let t=r.at(-1);if(t.Gm()){const n=t.Vm(),h=n.slice(0);if(c(h),0===h.length)i.Km(-t.Sm()),r.pop();else if(h.length<n.length){t.Zm(h);const o=s(t).width,a=t.Sm()-o;t._m(o),i.Km(-a)}0!==e&&0<r.length&&((t=r.at(-1)).Km(e),i.Km(e))}}}}oc(){S.Vh(this.lm)}Qm(){return this.lm.reduce((t,s)=>Math.max(t,s.Sm()),0)}tg(){return this.lm.reduce((t,s)=>t+s.Rm(),0)}}}{const Cs=self.Ls;Cs.am.km=class{constructor(t){this.Yp=t.Dm||[],this.sg=t.width||-1,this.eg=t.height||-1,this.ig=t.fontBoundingBoxAscent||-1,this.rg=t.fontBoundingBoxDescent||-1,this.ng=t.Tm||-1,this.hg=0,this.og=0}Dm(){return this.Yp.values()}*ag(){const s=this.Yp;for(let t=s.length-1;0<=t;--t)yield s[t]}Ym(){return this.Yp}Km(t){this.sg+=t}Sm(){return this.sg}Rm(){return this.eg}lg(){return this.ig}Pm(){return this.rg}Fm(){return this.ng}ug(t){this.hg=t}fg(){return this.hg}dg(t){this.og=t}pg(){return this.og}}}{const Rs=self.Ls;Rs.mg=class{constructor(t){this.gg=t.Qp||[],this.sg=t.width||-1,this.eg=t.height||-1,this.ig=t.fontBoundingBoxAscent||-1,this.rg=t.fontBoundingBoxDescent||-1,this.ng=t.Tm||-1,this.hg=0,this.og=0}Gm(){return!1}Im(){return!1}jm(){return this.gg}yg(s){const e=this.gg;for(let t=e.length-1;0<=t;--t){const i=e[t];if(i.tag===s)return i}return null}Sg(t){return!!this.yg(t)}wg(){const t=new Map;for(const s of this.gg)t.set(s.tag,s.param);return t}Km(t){this.sg+=t}_m(t){this.sg=t}Sm(){return this.sg}wm(t){this.eg=t}Rm(){return this.eg}vm(t){this.ig=t}Em(){return this.ig}xm(t){this.rg=t}Pm(){return this.rg}Mm(t){this.ng=t}Fm(){return this.ng}ug(t){this.hg=t}fg(){return this.hg}dg(t){this.og=t}pg(){return this.og}}}{const Es=self.Ls;Es.rm=class extends Es.mg{constructor(t){super(t),this.bg=t.nm}Gm(){return!0}Xm(t){Es.tn(this.bg,t),this.sg=-1,this.eg=-1,this.ig=-1,this.rg=-1,this.ng=-1}Hm(t){this.bg.push(t)}Jm(){return Es.mn(Es.rm,{nm:this.bg.slice(0),Qp:this.gg,width:this.sg,height:this.eg,fontBoundingBoxAscent:this.ig,fontBoundingBoxDescent:this.rg,Tm:this.ng})}Vm(){return this.bg}Zm(t){this.bg=t}Om(){return this.bg.length}ac(){return 0===this.bg.length}Bm(){return this.bg.includes("\n")}}}{const Ps=self.Ls;Ps.im=class extends Ps.mg{constructor(t){super(t),this.vg=t.icon}Im(){return!0}xg(){return this.vg}Jm(){return Ps.mn(Ps.im,{icon:this.vg,Qp:this.gg,width:this.sg,height:this.eg,fontBoundingBoxAscent:this.ig,fontBoundingBoxDescent:this.rg,Tm:this.ng})}Mg(t){if(!t)return null;let s=Number(this.vg);return String(s)===this.vg?(s=Math.floor(s),t.Tg(s)):t.Gg(this.vg)}Cm(t){const s=this.Mg(t);this.sg=s?this.eg*s.Sm()/s.Rm():0}_g(t){const s=this.Mg(t);return s?s._g():null}Om(){return 1}}}{const Fs=self.Ls;Fs.Ig=class{constructor(t){this.Cg=new Map,this.Rg=t.Eg,this.Pg=t.Fg}gn(){for(const t of this.Cg.values())t.gn();this.Cg.clear()}Ag(t){let s=this.Cg.get(t);if(!s){const e=this.Rg(t);s=Fs.mn(Fs.kg,this,{source:t,Dg:e}),this.Cg.set(t,s)}return s}Og(t){return this.Cg.has(t)}Bg(t){const s=this.Cg.get(t);s&&s.gn(),this.Cg.delete(t)}async Lg(t){return this.Pg(t)}}}{const As=self.Ls;As.kg=class{constructor(t,s){this.Ng=t,this.Wg=s.source,this.Ug=[],this.jg=new Map,this.Vg=!1,this.Hg=!1,this.zg=null;const e=s.Dg.Jg;for(let t=0,s=e.length;t<s;++t){const i=e[t],r=As.mn(As.qg,this,{index:t,tag:i.tag,source:i.source,width:i.width,height:i.height});this.Ug.push(r),i.tag&&this.jg.set(i.tag.toLowerCase(),r)}}gn(){for(const t of this.Ug)t.gn();As.Vh(this.Ug),this.jg.clear(),this.Ng=null,this.Wg=null}Xg(){return this.Vg}$g(){return this.Hg}Yg(){return this.zg||(this.zg=this.Kg()),this.zg}async Kg(){if(!this.Vg){this.Vg=!0,this.Hg=!0;const t=await this.Ng.Lg(this.Wg);if(this.Ng){const e=t.Jg;for(let t=0,s=Math.min(e.length,this.Ug.length);t<s;++t){const i=e[t].Zg;this.Ug[t].Qg(i)}this.Hg=!1}}}Tg(t){return(t=Math.floor(t))<0||t>=this.Ug.length?null:this.Ug[t]}Gg(t){return this.jg.get(t.toLowerCase())||null}}}{const ks=self.Ls;ks.qg=class{constructor(t,s){this.ty=t,this.Wg=s.source||null,this.ey=s.index,this.iy=s.tag,this.sg=s.width,this.eg=s.height,this.ny=null}gn(){this.sg=0,this.eg=0,this.ty=null}hy(){return this.Wg}Sm(){return this.sg}Rm(){return this.eg}Qg(t){this.ny=t}_g(){return this.ny}}}{let i=function(t,s,e,i){const r=Ns;Tr.W(Bs,e,s),Tr.W(Ls,t,s),Tr.Dt(r,Bs,Ls),Tr.normalize(r,r),i.set(r[0],r[1],r[2],Tr.kt(t,r))},h=function(t,s,e,i,r,n,h){const o=h.x,a=h.y,l=h.z,u=h.w,c=h.oy,f=h.uy,d=h.my,p=1-c,m=1-f,g=1-d,y=o*t*c+o*i*p+a*s*f+a*r*m+l*e*d+l*n*g;if(u<=y)return!0;const S=o*i*c+o*t*p+a*r*f+a*s*m+l*n*d+l*e*g;return u<S},r=function(t,s,e,i){const r=i.x,n=i.y,h=i.z,o=i.w,a=r*t+n*s+h*e;return o<=a};i,h,r;const Ds=self.Ls,Os=self.vs,Tr=Os.Rs,jr=Os.Es,Mr=Os.Gs,Bs=Tr.create(),Ls=Tr.create(),Ns=Tr.create(),Ws=jr.create(),Us=Mr.create(),js=Tr.create(),Vs=Tr.create(),Hs=Tr.create(),zs=Tr.create(),Js=Tr.create(),qs=Tr.create(),Xs=Tr.create(),$s=Tr.create(),Ys=jr.C(0,0,1,1);Ds.gy={yy(t,s,e,i,r,n,h){let o=i[0]*t+i[4]*s+i[8]*e+i[12],a=i[1]*t+i[5]*s+i[9]*e+i[13],l=i[2]*t+i[6]*s+i[10]*e+i[14],u=i[3]*t+i[7]*s+i[11]*e+i[15],c=r[0]*o+r[4]*a+r[8]*l+r[12]*u,f=r[1]*o+r[5]*a+r[9]*l+r[13]*u,d=r[2]*o+r[6]*a+r[10]*l+r[14]*u,p=r[3]*o+r[7]*a+r[11]*l+r[15]*u;return 0!=p&&(f*=p=1/p,d*=p,h[0]=(.5*(c*=p)+.5)*n[2]+n[0],h[1]=(.5*f+.5)*n[3]+n[1],h[2]=.5*(1+d),!0)},Sy(t,s,e,i,r,n,h){const o=Us,a=Ws;return Mr.multiply(o,r,i),null!==Mr.P(o,o)&&(a[0]=(t-n[0])/n[2]*2-1,a[1]=(s-n[1])/n[3]*2-1,a[2]=2*e-1,a[3]=1,jr.Wt(a,a,o),0!==a[3])&&(a[3]=1/a[3],h[0]=a[0]*a[3],h[1]=a[1]*a[3],h[2]=a[2]*a[3],!0)},wy(t,s,e,i,r,n,h){const o=Bs,a=Ls;if(!Ds.gy.Sy(t,s,0,i,r,n,o))return!1;if(!Ds.gy.Sy(t,s,1,i,r,n,a))return!1;let l=Ls,u=(Tr.W(l,a,o),Ns),c=(Tr.set(u,0,0,1),-e),f=Tr.kt(u,l),d=0;if(0===f){const p=Tr.kt(u,o)+c;if(0!==p)return!1}else if((d=-(Tr.kt(o,u)+c)/f)<0)return!1;return Tr.Rt(h,o,l,d),!0}};class Ks{constructor(){this.x=NaN,this.y=NaN,this.z=NaN,this.w=NaN,this.oy=NaN,this.uy=NaN,this.my=NaN}set(t,s,e,i){this.x=t,this.y=s,this.z=e,this.w=i,this.oy=0<t?1:0,this.uy=0<s?1:0,this.my=0<e?1:0}}Ds.gy.by=class{constructor(){this.vy=new Ks,this.xy=new Ks,this.My=new Ks,this.Ty=new Ks,this.Gy=new Ks,this._y=new Ks}Iy(t,s){const e=Ys;Ds.gy.Sy(0,1,0,t,s,e,js),Ds.gy.Sy(1,1,0,t,s,e,Vs),Ds.gy.Sy(0,0,0,t,s,e,Hs),Ds.gy.Sy(1,0,0,t,s,e,zs),Ds.gy.Sy(0,1,1,t,s,e,Js),Ds.gy.Sy(1,1,1,t,s,e,qs),Ds.gy.Sy(0,0,1,t,s,e,Xs),Ds.gy.Sy(1,0,1,t,s,e,$s),i(Hs,js,Js,this.vy),i(js,Vs,qs,this.xy),i(Vs,zs,$s,this.My),i(zs,Hs,Xs,this.Ty),i(Xs,Js,qs,this._y),i(zs,Vs,js,this.Gy)}Cy(t,s,e,i,r,n){return h(t,s,e,i,r,n,this.vy)&&h(t,s,e,i,r,n,this.xy)&&h(t,s,e,i,r,n,this.My)&&h(t,s,e,i,r,n,this.Ty)&&h(t,s,e,i,r,n,this.Gy)&&h(t,s,e,i,r,n,this._y)}Ry(t,s,e){return!r(t,s,e,this.Gy)}}}{const Zs=self.Ls,Qs=self.vs,Tr=Qs.Rs,jr=Qs.Es,Mr=Qs.Gs,te=Mr.create(),se=Tr.C(0,0,0),ee=Tr.C(0,0,0),ie=Tr.C(0,0,0),re=Tr.C(0,1,0),ne=(jr.C(0,0,0,0),new Zs.nu),he=new Zs.Rect,oe=new Zs.nu(0,0,1,0,1,1,0,1),ae={Ey:1,Py:1e4},le=Mr.C(1,0,0,0,0,1,0,0,0,0,.5,0,0,0,.5,1);Zs.gy.Fy=class{constructor(t){t=Object.assign({},ae,t),this.sg=0,this.eg=0,this.Ay=Zs.Mn(45),this.ky=Math.tan(this.Ay/2),this.Dy=Mr.create(),this.Oy=Mr.create(),this.By=!1,this.Ly=t.Ey,this.Ny=t.Py,this.Wy=[],this.Uy=new Map,this.jy=null,this.Vy=null,this.Hy=null,this.zy=null,this.Jy=null,this.qy=null,this.Xy=null,this.$y=null,this.Yy=null,this.Ky=null,this.Zy=null,this.Qy=null,this.tS=new Map,this.sS=null,this.eS=[],this.iS=new Map,this.rS=0,this.nS=0,this.hS=1,this.oS=[this.hS],this.aS=1,this.lS=[this.aS],this.uS=.5,this.cS=[this.uS],this.fS=0,this.dS=!0,this.pS=!1}mS(t){let s=0,e=t.length,i=0;for(;s<e;)t[s++]=i,t[s++]=i+1,t[s++]=i+2,t[s++]=i,t[s++]=i+2,t[s++]=i+3,i+=4}gS(){this.rS=0,this.nS=0,this.jy=null,this.Vy=null,this.Hy=null,this.zy=null,this.Jy=null,this.qy=null,this.Xy=null,this.$y=null,this.Yy=null,this.Ky=null,this.Zy=null,this.Qy=null,this.yS()}SS(){this.gS(),this.sS=null}wS(){for(const t of this.Wy)t.gn();this.gS()}Sm(){return this.sg}Rm(){return this.eg}bS(t){return this.vS()?100:t/(2*this.xS())}MS(t){if(this.vS()){const s=t/(2*this.xS());return s/this.bS(t)}return 1}TS(t){this.Ly=t}GS(){return this.Ly}_S(t){this.Ny=t}IS(){return this.Ny}CS(t){this.Ay=t,this.ky=Math.tan(this.Ay/2)}RS(){return this.Ay}xS(){return this.ky}ES(){this.By=!1}PS(){this.By=!0}vS(){return!this.By}FS(){return this.By}AS(t,s,e=.5,i=.5){const r=this.GS(),n=this.IS(),h=this.RS();if(.5===e&&.5===i)this.kS()?Mr.xt(t,h,s,r,n):Mr.perspective(t,h,s,r,n);else{const o=2*(e=1-e)-2,a=2*e,l=2*i-2,u=2*i,c=this.xS()*r,f=c*s;Mr.bt(t,o*f,a*f,l*c,u*c,r,n),this.kS()&&Mr.mul(t,le,t)}}DS(t,s,e,i=1){const r=self.devicePixelRatio,n=2*this.bS(e)*r*this.xS()/e,h=s*n/(2*r*i),o=e*n/(2*r*i),a=-h,l=h,u=-o,c=o;this.kS()?Mr.Gt(t,a,l,u,c,this.GS(),this.IS()):Mr.ortho(t,a,l,u,c,this.GS(),this.IS())}OS(t,s,e,i,r,n=1){let h=1;this.vS()&&(h=200*this.xS()/r);const o=ie,a=(Tr.set(o,h,-h,1),se),l=ee;Tr.multiply(a,s,o),Tr.multiply(l,e,o),Mr._t(t,a,l,i||re),o[2]=n,Mr.scale(t,t,o)}BS(t,s,e,i,r,n,h,o){return Tr.set(se,t,s,e),Tr.set(ee,i,r,n),this.OS(te,se,ee,re,h,o),te}LS(t){this.Wy.push(t),this.Uy.set(t.nf(),t)}NS(t){const s=this.Wy.indexOf(t);-1!==s&&this.Wy.splice(s,1),this.Uy.delete(t.nf())}yS(){Zs.Vh(this.Wy),this.Uy.clear()}WS(t){return this.Uy.get(t)||null}US(){return this.jy}jS(){this.VS(this.jy)}HS(){return this.Vy}zS(){this.VS(this.Vy)}JS(){this.VS(this.Hy)}qS(){this.VS(this.zy)}XS(){this.VS(this.Jy)}$S(){this.VS(this.qy)}YS(){this.VS(this.Xy)}KS(){this.VS(this.$y)}ZS(){this.VS(this.Yy)}QS(){this.VS(this.Ky)}ew(){this.VS(this.Zy)}iw(){this.VS(this.Qy)}rw(t){this.sS=t}hw(){return this.sS}ow(t,s,e,i){let r=Zs.gy.lw.aw(t,s,e,i),n=this.tS.get(r);return n||(n=Zs.mn(Zs.gy.lw,this,t,s,e,i),this.tS.set(r,n)),n.uw(),n}cw(t){t.fw(),0===t.pw()&&(this.sS===t&&(this.sS=null),this.tS.delete(t.mw()),t.gn())}gw(t){Zs.Vh(this.eS),this.iS.clear();let s=0;for(const e of t){const i=e[0],r=e[1],n=e[2];this.eS.push([r,n]),this.iS.set(i,{number:s,yw:r,Sw:n}),s++}}ww(t){return this.eS[t]}bw(t){return this.ww(t)[0]}xw(t){return this.ww(t)[1]}Mw(t){const s=this.iS.get(t);if(void 0===s)throw new Error("invalid blend name");return s}Tw(t){const s=this.iS.get(t);if(void 0===s)throw new Error("invalid blend name");return s.number}Gw(t){this.rS=t}_w(){return this.rS}Iw(t){this.nS=t,this.sS=null}Cw(){return this.nS}km(t,s,e,i){const r=Zs.Rn(t,s,e,i),n=Math.sin(r),h=Math.cos(r),o=.5*this.hS,a=n*o,l=h*o,u=this.aS;2===u?this.Rw(t,s,0,e,i,0,a,l):1===u?this.Ew(t,s,0,e,i,0,a,l):this.Pw(t,s,0,e,i,0,a,l)}Fw(t,s,e,i,r,n){const h=Zs.Rn(t,s,i,r),o=Math.sin(h),a=Math.cos(h),l=.5*this.hS,u=o*l,c=a*l,f=this.aS;2===f?this.Rw(t,s,e,i,r,n,u,c):1===f?this.Ew(t,s,e,i,r,n,u,c):this.Pw(t,s,e,i,r,n,u,c)}Rw(t,s,e,i,r,n,h,o){const a=this.uS,l=t+a-o,u=s+a-h,c=i+a+o,f=r+a+h,d=2*o,p=2*h,m=l+h,g=u-o,y=l-h+d,S=u+o+p,w=c+h,b=f-o,v=c-h-d,x=f+o-p;this.Aw(m,g,e,w,b,n,v,x,n,y,S,e,oe)}Ew(t,s,e,i,r,n,h,o){const a=this.uS,l=t+a-o,u=s+a-h,c=i+a+o,f=r+a+h,d=l+h,p=u-o,m=l-h,g=u+o,y=c+h,S=f-o,w=c-h,b=f+o;this.Aw(d,p,e,y,S,n,w,b,n,m,g,e,oe)}Pw(t,s,e,i,r,n,h,o){const a=this.uS,l=t+a,u=s+a,c=i+a,f=r+a,d=l+h,p=u-o,m=l-h,g=u+o,y=c+h,S=f-o,w=c-h,b=f+o;this.Aw(d,p,e,y,S,n,w,b,n,m,g,e,oe)}kw(t,s,e,i,r,n){const h=Zs.Rn(t,s,e,i),o=Math.sin(h),a=Math.cos(h),l=.5*this.hS,u=o*l,c=a*l,f=this.aS;2===f?this.Dw(t,s,e,i,u,c,r,n):1===f?this.Ow(t,s,e,i,u,c,r,n):this.Bw(t,s,e,i,u,c,r,n)}Dw(t,s,e,i,r,n,h,o){const a=this.uS,l=t+a-n,u=s+a-r,c=e+a+n,f=i+a+r,d=2*n,p=2*r,m=l+r,g=u-n,y=l-r+d,S=u+n+p,w=c+r,b=f-n,v=c-r-d,x=f+n-p;ne.set(m,g,w,b,v,x,y,S),he.set(h,0,o,0),this.Lw(ne,he)}Ow(t,s,e,i,r,n,h,o){const a=this.uS,l=t+a-n,u=s+a-r,c=e+a+n,f=i+a+r,d=l+r,p=u-n,m=l-r,g=u+n,y=c+r,S=f-n,w=c-r,b=f+n;ne.set(d,p,y,S,w,b,m,g),he.set(h,0,o,0),this.Lw(ne,he)}Bw(t,s,e,i,r,n,h,o){const a=this.uS,l=t+a,u=s+a,c=e+a,f=i+a,d=l+r,p=u-n,m=l-r,g=u+n,y=c+r,S=f-n,w=c-r,b=f+n;ne.set(d,p,y,S,w,b,m,g),he.set(h,0,o,0),this.Lw(ne,he)}Nw(t,s,e,i){const r=.5*this.hS,n=this.aS;2===n?this.Ww(t,s,e,i,r):1===n?this.Uw(t,s,e,i,r):this.jw(t,s,e,i,r)}Ww(t,s,e,i,r){this.Rw(t,s,0,e,s,0,0,r),this.Rw(e,s,0,e,i,0,r,0),this.Rw(e,i,0,t,i,0,0,-r),this.Rw(t,i,0,t,s,0,-r,0)}Uw(t,s,e,i,r){this.Ew(t,s,0,e,s,0,0,r),this.Ew(e,s,0,e,i,0,r,0),this.Ew(e,i,0,t,i,0,0,-r),this.Ew(t,i,0,t,s,0,-r,0)}jw(t,s,e,i,r){this.Pw(t,s,0,e,s,0,0,r),this.Pw(e,s,0,e,i,0,r,0),this.Pw(e,i,0,t,i,0,0,-r),this.Pw(t,i,0,t,s,0,-r,0)}Vw(t){this.Nw(t.Rl(),t.El(),t.Pl(),t.Fl())}Hw(t){const s=Zs.Rn(t.oh(),t.ah(),t.lh(),t.uh()),e=Math.sin(s),i=Math.cos(s),r=.5*this.hS,n=e*r,h=i*r,o=this.aS;2===o?this.zw(t,n,h):1===o?this.Jw(t,n,h):this.qw(t,n,h)}zw(t,s,e){this.Rw(t.oh(),t.ah(),0,t.lh(),t.uh(),0,s,e),this.Rw(t.lh(),t.uh(),0,t.fh(),t.ph(),0,e,-s),this.Rw(t.fh(),t.ph(),0,t.mh(),t.gh(),0,-s,-e),this.Rw(t.mh(),t.gh(),0,t.oh(),t.ah(),0,-e,s)}Jw(t,s,e){this.Ew(t.oh(),t.ah(),0,t.lh(),t.uh(),0,s,e),this.Ew(t.lh(),t.uh(),0,t.fh(),t.ph(),0,e,-s),this.Ew(t.fh(),t.ph(),0,t.mh(),t.gh(),0,-s,-e),this.Ew(t.mh(),t.gh(),0,t.oh(),t.ah(),0,-e,s)}qw(t,s,e){this.Pw(t.oh(),t.ah(),0,t.lh(),t.uh(),0,s,e),this.Pw(t.lh(),t.uh(),0,t.fh(),t.ph(),0,e,-s),this.Pw(t.fh(),t.ph(),0,t.mh(),t.gh(),0,-s,-e),this.Pw(t.mh(),t.gh(),0,t.oh(),t.ah(),0,-e,s)}Xw(t){this.hS=t,this.oS[this.oS.length-1]=t}$w(){return this.hS}Yw(t){if(100<=this.oS.length)throw new Error("pushed too many line widths - check push/pop pairs");this.oS.push(t),this.hS=t}Kw(){if(this.oS.length<=1)throw new Error("cannot pop last line width - check push/pop pairs");this.oS.pop(),this.hS=this.oS.at(-1)}Zw(){this.aS=0,this.lS[this.lS.length-1]=0}Qw(){this.aS=1,this.lS[this.lS.length-1]=0}t2(){this.aS=2,this.lS[this.lS.length-1]=0}s2(t){if("butt"===t)this.e2();else if("square"===t)this.i2();else{if("zag"!==t)throw new Error("invalid line cap");this.n2()}}e2(){if(100<=this.lS.length)throw new Error("pushed too many line caps - check push/pop pairs");this.lS.push(0),this.aS=0}i2(){if(100<=this.lS.length)throw new Error("pushed too many line caps - check push/pop pairs");this.lS.push(1),this.aS=1}n2(){if(100<=this.lS.length)throw new Error("pushed too many line caps - check push/pop pairs");this.lS.push(2),this.aS=2}h2(){if(this.lS.length<=1)throw new Error("cannot pop last line cap - check push/pop pairs");this.lS.pop(),this.aS=this.lS.at(-1)}o2(t){this.uS=t,this.cS[this.cS.length-1]=t}a2(){return this.uS}l2(t){if(100<=this.cS.length)throw new Error("pushed too many line offsets - check push/pop pairs");this.cS.push(t),this.uS=t}u2(){if(this.cS.length<=1)throw new Error("cannot pop last line offset - check push/pop pairs");this.cS.pop(),this.uS=this.cS.at(-1)}c2(s){const t=s.length/2;if(t<3)throw new Error("need at least 3 points");const e=t-2,i=e-1,r=s[0],n=s[1];for(let t=0;t<e;t+=2){const h=2*t,o=s[2+h],a=s[3+h],l=s[4+h],u=s[5+h];if(t===i)this.f2(r,n,o,a,l,u,l,u);else{const c=s[6+h],f=s[7+h];this.f2(r,n,o,a,l,u,c,f)}}}d2(){return 3}m2(){this.g2(!0),this.fS++}S2(){return this.fS}w2(){this.fS++}b2(t){this.dS=!!t}v2(){return this.dS}M2(t){this.pS=!!t}T2(){return this.pS}G2(){return!1}kS(){return!1}_2(){}I2(){}C2(){}R2(){return this._2()+this.I2()+this.C2()}E2(){return Zs.mn(Zs.gy.P2,this)}}}{const ue=self.Ls;ue.gy.F2=class{constructor(t,s){this.wn=s.name,this.A2=t,this.D2=s.O2||0,this.B2=s.L2||0,this.N2=!!s.W2,this.U2=!!s.j2,this.V2=!!s.H2,this.z2=!!s.J2,this.q2=!!s.X2,this.Y2=!!s.K2,this.Z2=!!s.Q2,this.tb=!1,this.sb=this.N2||this.Y2||0!==this.D2||0!==this.B2}gn(){this.A2=null}eb(){return this.A2}nf(){return this.wn}ib(){return 0!==this.D2||0!==this.B2}rb(){return this.D2}nb(){return this.B2}hb(){return this.N2}ob(){return this.U2}ab(){return this.V2}lb(){return this.z2}ub(){return this.q2}cb(){return this.Y2}fb(){return this.Z2}pb(){return this.tb}mb(){return this.sb}gb(){return!1}}}{const ce=self.Ls;ce.gy.lw=class{constructor(t,s,e,i,r){this.A2=t,this.b1=0,this.yb=null,this.Sb="",this.wb=e,this.bb=ce.mn(ce.$o),this.bb.set(i),this.vb=r,"string"==typeof s?this.Sb=s:(this.yb=s,this.Sb=this.yb.nf())}gn(){if(0<this.b1)throw new Error("releasing state group still in use");this.A2=null,this.yb=null,this.Sb=""}xb(){const t=this.A2;t.VS(this.yb),t.Mb(this.wb),t.Tb(this.bb),t.Iw(this.vb),t.rw(this)}mw(){return ce.gy.lw.aw(this.Sb,this.wb,this.bb,this.vb)}uw(){++this.b1}fw(){--this.b1}pw(){return this.b1}Gb(){this.yb=null}_b(t){if(this.yb=t.WS(this.Sb),!this.yb)throw new Error("failed to restore shader program")}static aw(t,s,e,i){const r="string"==typeof t?t:t.nf();return r+","+s+","+e.ca()+","+e.fa()+","+e.ga()+","+e.ya()+","+i}}}{let i=function(t,s,e){const i=e.oh(),r=e.ah(),n=e.lh()-i,h=e.uh()-r,o=e.mh()-i,a=e.gh()-r,l=n*t,u=h*t,c=o*s,f=a*s;return[i+l+c,r+u+f]};i;const _=self.Ls,fe=_.mn(_.nu);_.gy.Ib=class{constructor(t,s,e){this.Cb=t,this.Rb=s,this.Eb=e,this.hl=NaN,this.ol=NaN,this.vb=NaN,this.Pb=NaN,this.Fb=NaN,this.hl=0,this.ol=0,this.vb=0,this.Pb=0,this.Fb=0}Ab(t,s,e,i){this.hl=t,this.ol=s,this.Pb=e,this.Fb=i}kb(){return this.hl}Db(t){this.hl!==t&&(this.hl=t,this.Cb.Ob())}Bb(){return this.ol}Lb(t){this.ol!==t&&(this.ol=t,this.Cb.Ob())}Nb(){return this.vb}Wb(t){this.vb!==t&&(this.vb=Math.max(t,0),this.Cb.Ob())}Ub(){return this.Pb}jb(t){this.Pb=t}Vb(){return this.Fb}Hb(t){this.Fb=t}zb(t,s,e){[this.hl,this.ol]=i(t.hl,t.ol,s),this.vb=t.vb,this.Pb=_.Ot(e.Rl(),e.Pl(),t.Pb),this.Fb=_.Ot(e.El(),e.Fl(),t.Fb)}Jb(t,s,e){[this.hl,this.ol]=i(t.hl,t.ol,s),this.vb=t.vb,[this.Pb,this.Fb]=i(t.Pb,t.Fb,e)}qb(){return{x:this.kb(),y:this.Bb(),z:this.Nb(),u:this.Ub(),v:this.Vb()}}Xb(t){this.Db(t.x),this.Lb(t.y),t.hasOwnProperty("z")&&this.Wb(t.z),this.jb(t.u),this.Hb(t.v)}$b(){return this.Cb}Yb(){return this.Rb}Kb(){return this.Eb}},_.gy.Zb=class{constructor(e,t,s){if(e<2||t<2)throw new Error("invalid mesh size");this.Qb=e,this.tv=t,this.sv=s||null,this.rv=[],this.nv=0,this.hv=0,this.ov=1,this.av=1,this.lv=0,this.uv=!1;const i=e-1,r=t-1;for(let s=0;s<t;++s){const n=[];for(let t=0;t<e;++t){const h=_.mn(_.gy.Ib,this,t,s),o=t/i,a=s/r;h.Ab(o,a,o,a),n.push(h)}this.rv.push(n)}}gn(){_.Vh(this.rv)}cv(){return this.Qb}dv(){return this.tv}pv(){return this.sv}gv(){return this.rv}Ob(){this.uv=!0}yv(){if(this.uv){let t=1/0,s=1/0,e=-1/0,i=-1/0,r=0;for(const n of this.rv)for(const h of n){const o=h.kb(),a=h.Bb();t=Math.min(t,o),s=Math.min(s,a),e=Math.max(e,o),i=Math.max(i,a),r=Math.max(r,h.Nb())}this.nv=t,this.hv=s,this.ov=e,this.av=i,this.lv=r,this.uv=!1}}Sv(){return this.yv(),this.nv}wv(){return this.yv(),this.hv}bv(){return this.yv(),this.ov}vv(){return this.yv(),this.av}xv(){return this.yv(),this.lv}Mv(){return 0<this.xv()}Tv(t,s){return t=Math.floor(t),s=Math.floor(s),t<0||t>=this.Qb||s<0||s>=this.tv?null:this.rv[s][t]}Gv(t,e,i){const r=i instanceof _.Rect;if(t.cv()!==this.cv()||t.dv()!==this.dv())throw new Error("source mesh wrong size");const n=t.rv,h=this.rv;for(let t=0,s=h.length;t<s;++t){const o=n[t],a=h[t];for(let t=0,s=a.length;t<s;++t){const l=o[t],u=a[t];r?u.zb(l,e,i):u.Jb(l,e,i)}}}_v(n){let h=this.rv,o=h[0];for(let t=1,s=h.length;t<s;++t){let e=h[t],i=o[0],r=e[0];for(let t=1,s=e.length;t<s;++t){const a=o[t],l=e[t];fe.set(i.Ub(),i.Vb(),a.Ub(),a.Vb(),l.Ub(),l.Vb(),r.Ub(),r.Vb()),n.Aw(i.kb(),i.Bb(),i.Nb(),a.kb(),a.Bb(),a.Nb(),l.kb(),l.Bb(),l.Nb(),r.kb(),r.Bb(),r.Nb(),fe),i=a,r=l}o=e}}Iv(o,a){a=a||((t,s,e)=>[t,s,e]);let t=this.rv,l=t[0];for(let n=1,h=t.length;n<h;++n){let e=t[n],i=l[0],r=e[0];for(let t=1,s=e.length;t<s;++t){const u=l[t],c=e[t],[f,d,p]=a(i.kb(),i.Bb(),i.Nb()),[m,g,y]=a(u.kb(),u.Bb(),u.Nb()),[S,w,b]=a(c.kb(),c.Bb(),c.Nb()),[v,x,M]=a(r.kb(),r.Bb(),r.Nb());o.Fw(f,d,p,m,g,y),o.Fw(f,d,p,S,w,b),o.Fw(f,d,p,v,x,M),t===s-1&&o.Fw(m,g,y,S,w,b),n===h-1&&o.Fw(v,x,M,S,w,b),i=u,r=c}l=e}}Cv(t){let e=.99999999,i=t.Hu(),r=[],n=this.cv()-1,h=this.dv()-1,o=1/n,a=1/h,l=n-1,u=h-1,c=i[0],f=i[1],d=_.vn(Math.floor(c*n),0,l),p=_.vn(Math.floor(f*h),0,u),m=!0,g=0,y=0,S=0,w=-1,b=()=>{c=_.vn(_.Ot(c,g,S),0,1),f=_.vn(_.Ot(f,y,S),0,1),r.push(c,f)};for(let t=0,s=i.length;t<s;t+=2){c=i[t],f=i[t+1],r.push(c,f),d=_.vn(Math.floor(c*n),0,l),p=_.vn(Math.floor(f*h),0,u);const v=(t+2)%s;for(g=i[v],y=i[1+v],w=-1;;){if(1e6<r.length)throw new Error("Too many mesh poly points");const x=d*o,M=p*a,T=(d+1)*o,G=(p+1)*a;if(m=_.bh(c,f,x,M,T,M,T,G),0!==w&&0<=(S=_.wh(c,f,g,y,x,M,T,G,-.001))&&S<=e)b(),m=!m,w=0;else if(0<p&&2!==w&&0<=(S=_.wh(c,f,g,y,x,M,T,M,.001))&&S<=e)b(),p--,m=!1,w=4;else if(d<l&&3!==w&&0<=(S=_.wh(c,f,g,y,T,M,T,G,.001))&&S<=e)b(),d++,m=!1,w=1;else if(0<d&&1!==w&&0<=(S=_.wh(c,f,g,y,x,M,x,G,.001))&&S<=e)b(),d--,m=!0,w=3;else{if(!(p<u&&4!==w&&0<=(S=_.wh(c,f,g,y,x,G,T,G,.001))&&S<=e))break;b(),p++,m=!0,w=2}}}return _.mn(_.Nu,r)}Rv(t,s){const e=this.Ev(t);this.Pv(e),s.Ju(e)}Ev(t){const e=[],i=t.Hu();for(let t=0,s=i.length;t<s;t+=2){const r=i[t],n=i[t+1],[h,o]=this.Fv(r,n);e.push(h,o)}return e}Fv(t,s){const e=this.cv()-1,i=this.dv()-1,r=1/e,n=1/i,h=_.vn(Math.floor(t*e),0,e-1),o=_.vn(Math.floor(s*i),0,i-1),a=h*r,l=o*n,u=(h+1)*r,c=(o+1)*n,f=this.Tv(h,o),d=this.Tv(h+1,o+1),p=_.bh(t,s,a,l,u,l,u,c),m=p?a+r:a,g=p?l:l+n,y=this.Tv(h+(p?1:0),o+(p?0:1)),[S,w,b]=_.xh(t,s,a,l,m,g,u,c);return _.Mh(S,w,b,f.kb(),f.Bb(),f.Nb(),y.kb(),y.Bb(),y.Nb(),d.kb(),d.Bb(),d.Nb())}Pv(e){let i=[],r=e[0],n=e[1],h=r-e.at(-2),o=n-e.at(-1);for(let t=0,s=e.length;t<s;t+=2){const a=(t+2)%s,l=e[a],u=e[1+a],c=l-r,f=u-n,d=Math.abs(c)<1e-7&&Math.abs(h)<1e-7&&Math.sign(f)===Math.sign(o),p=Math.abs(f)<1e-7&&Math.abs(o)<1e-7&&Math.sign(c)===Math.sign(h);(!d&&!p&&.001<Math.abs(c/h-f/o)||0==c&&0==f)&&i.push(r,n),r=l,n=u,h=c,o=f}6<=i.length&&i.length<e.length&&_.qh(e,i)}qb(){return{cols:this.cv(),rows:this.dv(),points:this.rv.map(t=>t.map(t=>t.qb()))}}Xb(t){const e=this.cv(),i=this.dv();if(t.cols!==e||t.rows!==i)throw new Error("mesh data wrong size");const r=t.points;for(let s=0;s<i;++s){const n=r[s];for(let t=0;t<e;++t){const h=this.Tv(t,s);h.Xb(n[t])}}}}}{let d=function(t,s){let e,i,r,n;switch(t){case"rgba8":e=s.RGBA8,i=s.RGBA,r=s.RGBA,n=s.UNSIGNED_BYTE;break;case"rgb8":e=s.RGB8,i=s.RGB,r=s.RGB,n=s.UNSIGNED_BYTE;break;case"rgba4":e=s.RGBA4,i=s.RGBA,r=s.RGBA,n=s.UNSIGNED_SHORT_4_4_4_4;break;case"rgb5_a1":e=s.RGB5_A1,i=s.RGBA,r=s.RGBA,n=s.UNSIGNED_SHORT_5_5_5_1;break;case"rgb565":e=s.RGB565,i=s.RGB,r=s.RGB,n=s.UNSIGNED_SHORT_5_6_5;break;default:throw new Error("invalid pixel format")}return{Av:e,kv:i,format:r,type:n}};d;const de=self.Ls,pe=new Set(["rgba8","rgb8","rgba4","rgb5_a1","rgb565"]),me=new Set(["nearest","bilinear","trilinear"]),ge=new Set(["default","low","high"]),ye=new Set(["clamp-to-edge","repeat","mirror-repeat"]),Se={Dv:"clamp-to-edge",Ov:"clamp-to-edge",Bv:"trilinear",Lv:0,Nv:"rgba8",Wv:!0,Uv:"default",premultiplyAlpha:!0,jv:!1,width:-1,height:-1},we={premultiplyAlpha:!0,flipY:!1},be=new Set;de.gy.Vv=class{constructor(t){this.A2=t,this.Hv=null,this.sg=0,this.eg=0,this.zv=!0,this.Jv="clamp-to-edge",this.qv="clamp-to-edge",this.Xv="trilinear",this.$v=0,this.Yv="rgba8",this.Kv=!1,this.Zv="default",this.b1=0}Qv(s,t){if(!("undefined"!=typeof HTMLImageElement&&s instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&s instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&s instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&s instanceof OffscreenCanvas||s instanceof ImageData||s instanceof ArrayBuffer||null===s))throw new Error("invalid texture source");if(t=Object.assign({},Se,t),this.Hv)throw new Error("already created texture");if(this.Jv=t.Dv,this.qv=t.Ov,this.Xv=t.Bv,this.$v=t.Lv,this.Yv=t.Nv,this.Kv=!!t.Wv&&this.A2.v2(),this.Zv=t.Uv,!ye.has(this.Jv)||!ye.has(this.qv))throw new Error("invalid wrap mode");if(!me.has(this.Xv))throw new Error("invalid sampling");if(!pe.has(this.Yv))throw new Error("invalid pixel format");if(!ge.has(this.Zv))throw new Error("invalid mipmap quality");if(this.zv=!0,s instanceof ArrayBuffer||null===s||t.jv){if(this.sg=t.width,this.eg=t.height,s instanceof ArrayBuffer&&s.byteLength!==this.sg*this.eg*4)throw new Error("ArrayBuffer wrong size")}else this.sg=s.width,this.eg=s.height;if(this.sg<=0||this.eg<=0)throw new Error("invalid texture data size");if(t.jv){const o=de.Bo(this.sg,this.eg),a=o.getContext("2d");a.drawImage(s,0,0,this.sg,this.eg),s=o}const e=de.jn(this.sg)&&de.jn(this.eg),i=this.A2.tx();if(this.sg>i||this.eg>i)throw new Error("texture data exceeds maximum texture size");const r=this.A2.ix(),n=this.A2.nx(),h=(this.Hv=r.createTexture(),r.bindTexture(r.TEXTURE_2D,this.Hv),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),r.pixelStorei(r.UNPACK_FLIP_Y_WEBGL,!1),d(this.Yv,r));if(this.A2.hx()||e||!this.ox())if(2<=n){let t;t=this.Kv?Math.floor(Math.log2(Math.max(this.sg,this.eg))+1):1,r.texStorage2D(r.TEXTURE_2D,t,h.Av,this.sg,this.eg),s instanceof ArrayBuffer?r.texSubImage2D(r.TEXTURE_2D,0,0,0,this.sg,this.eg,h.format,h.type,new Uint8Array(s)):null!==s&&r.texSubImage2D(r.TEXTURE_2D,0,0,0,h.format,h.type,s)}else s instanceof ArrayBuffer?r.texImage2D(r.TEXTURE_2D,0,h.kv,this.sg,this.eg,0,h.format,h.type,new Uint8Array(s)):null===s?r.texImage2D(r.TEXTURE_2D,0,h.kv,this.sg,this.eg,0,h.format,h.type,null):r.texImage2D(r.TEXTURE_2D,0,h.kv,h.format,h.type,s);else{if(null===s)throw new Error("cannot pass null data when creating a NPOT tiled texture without NPOT support");if((s=s instanceof ArrayBuffer?new ImageData(new Uint8ClampedArray(s),this.sg,this.eg):s)instanceof ImageData){const c=de.Bo(this.sg,this.eg),f=c.getContext("2d");f.putImageData(s,0,0),s=c}const l=de.Bo(de.Vn(this.sg),de.Vn(this.eg)),u=l.getContext("2d");u.imageSmoothingEnabled="nearest"!==this.Xv,u.drawImage(s,0,0,this.sg,this.eg,0,0,l.width,l.height),r.texImage2D(r.TEXTURE_2D,0,h.kv,h.format,h.type,l)}null!==s&&this.ux(r),r.bindTexture(r.TEXTURE_2D,null),this.A2.mx(),this.b1=1,be.add(this)}gx(t,s,e){if(e=Object.assign({},Se,e),this.Hv)throw new Error("already created texture");if(this.Jv=e.Dv,this.qv=e.Ov,this.Xv=e.Bv,this.Yv=e.Nv,this.Kv=!!e.Wv&&this.A2.v2(),this.Zv=e.Uv,!ye.has(this.Jv)||!ye.has(this.qv))throw new Error("invalid wrap mode");if(!me.has(this.Xv))throw new Error("invalid sampling");if(!pe.has(this.Yv))throw new Error("invalid pixel format");if(!ge.has(this.Zv))throw new Error("invalid mipmap quality");this.zv=!1,this.sg=Math.floor(t),this.eg=Math.floor(s);const i=de.jn(this.sg)&&de.jn(this.eg),r=this.A2.tx();if(this.sg<=0||this.eg<=0)throw new Error("invalid texture size");if(this.sg>r||this.eg>r)throw new Error("texture exceeds maximum texture size");if(!this.A2.hx()&&this.ox()&&!i)throw new Error("non-power-of-two tiled textures not supported");const n=this.A2.ix(),h=this.A2.nx(),o=(this.Hv=n.createTexture(),n.bindTexture(n.TEXTURE_2D,this.Hv),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!1),d(this.Yv,n)),a=2<=h?o.Av:o.kv;n.texImage2D(n.TEXTURE_2D,0,a,this.sg,this.eg,0,o.format,o.type,null),this.ux(n),n.bindTexture(n.TEXTURE_2D,null),this.A2.mx(),this.b1=1,be.add(this)}yx(t){if("default"===this.Zv)return this.zv?t.NICEST:t.FASTEST;if("low"===this.Zv)return t.FASTEST;if("high"===this.Zv)return t.NICEST;throw new Error("invalid mipmap quality")}ox(){return"clamp-to-edge"!==this.Jv||"clamp-to-edge"!==this.qv}Sx(t,s){if("clamp-to-edge"===s)return t.CLAMP_TO_EDGE;if("repeat"===s)return t.REPEAT;if("mirror-repeat"===s)return t.MIRRORED_REPEAT;throw new Error("invalid wrap mode")}ux(t){const s=de.jn(this.sg)&&de.jn(this.eg);if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,this.Sx(t,this.Jv)),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,this.Sx(t,this.qv)),"nearest"===this.Xv)t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),this.Kv=!1;else if(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),(s||this.A2.hx())&&this.Kv){t.hint(t.GENERATE_MIPMAP_HINT,this.yx(t)),t.generateMipmap(t.TEXTURE_2D);const i="trilinear"===this.Xv&&!this.A2.T2();t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i?t.LINEAR_MIPMAP_LINEAR:t.LINEAR_MIPMAP_NEAREST)}else t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),this.Kv=!1;const e=this.A2.wx();e&&0<this.$v&&"nearest"!==this.Xv&&t.texParameterf(t.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(this.$v,this.A2.bx()))}vx(t,s){if(!("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLVideoElement&&t instanceof HTMLVideoElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||t instanceof ImageData))throw new Error("invalid texture source");if(!this.Hv||this.b1<=0)throw new Error("texture not created");if(this.zv)throw new Error("cannot update static texture");s=Object.assign({},we,s);const e=t.width||t.videoWidth,i=t.height||t.videoHeight,r=this.A2.nx(),n=this.A2.ix(),h=(n.bindTexture(n.TEXTURE_2D,this.Hv),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.premultiplyAlpha),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,!!s.flipY),d(this.Yv,n)),o=2<=r?h.Av:h.kv;try{if(this.sg===e&&this.eg===i){const a=de.jn(this.sg)&&de.jn(this.eg);n.texSubImage2D(n.TEXTURE_2D,0,0,0,h.format,h.type,t),(a||this.A2.hx())&&this.Kv&&(n.hint(n.GENERATE_MIPMAP_HINT,this.yx(n)),n.generateMipmap(n.TEXTURE_2D))}else{this.sg=e,this.eg=i;const l=de.jn(this.sg)&&de.jn(this.eg);if(!this.A2.hx()&&this.ox()&&!l)throw new Error("non-power-of-two tiled textures not supported");n.texImage2D(n.TEXTURE_2D,0,o,h.format,h.type,t),(l||this.A2.hx())&&this.Kv&&(n.hint(n.GENERATE_MIPMAP_HINT,this.yx(n)),n.generateMipmap(n.TEXTURE_2D))}}catch(t){console.error("Error updating WebGL texture: ",t)}n.bindTexture(n.TEXTURE_2D,null),this.A2.mx()}xx(){if(0<this.b1)throw new Error("texture still has references");if(!this.Hv)throw new Error("already deleted texture");be.delete(this);const t=this.A2.ix();t.deleteTexture(this.Hv),this.Hv=null}Mx(){return!!this.Hv}Tx(){return this.Hv}eb(){return this.A2}Gx(){this.b1++}_x(){if(this.b1<=0)throw new Error("no more references");this.b1--}Ix(){return this.b1}Sm(){return this.sg}Rm(){return this.eg}Cx(){return this.zv}Rx(){let t=this.sg*this.eg;switch(this.Yv){case"rgba8":t*=4;break;case"rgb8":t*=3;break;case"rgba4":case"rgb5_a1":case"rgb565":t*=2}return this.Kv&&(t+=Math.floor(t/3)),t}static Gb(){be.clear()}static Ex(){return be.values()}}}{const ve=self.Ls,xe=self.vs,Tr=xe.Rs,Mr=xe.Gs,Me=new Set(["nearest","bilinear","trilinear"]),Te={Bv:"trilinear",alpha:!0,depth:!1,Px:!0,Fx:!0,Ax:0},Ge=new Set;ve.gy.kx=class{constructor(t){this.A2=t,this.Dx=null,this.Ox=null,this.Hv=null,this.Bx=null,this.sg=0,this.eg=0,this.Lx=!0,this.Xv="trilinear",this.Nx=!0,this.Wx=!1,this.Ux=!0,this.jx=0,this.Vx=Mr.create(),this.Hx=0,this.zx=0,this.Jx=0}qx(t,s,e){e=Object.assign({},Te,e);const i=this.A2.nx();if(this.Hv||this.Bx)throw new Error("already created render target");if(this.Xv=e.Bv,this.Nx=!!e.alpha,this.Wx=!!e.depth,this.Ux=!!e.Px,this.Lx=!!e.Fx,this.jx=e.Ax,!Me.has(this.Xv))throw new Error("invalid sampling");if(0<this.jx&&(i<2||this.Ux))throw new Error("invalid use of multisampling");if(i<2&&(this.Ux=!0),this.sg=t,this.eg=s,this.sg<=0||this.eg<=0)throw new Error("invalid render target size");this.Xx();const r=this.A2.ix();if(this.Dx=r.createFramebuffer(),this.Wx&&(this.Ox=r.createFramebuffer()),this.Ux){this.Hv=this.A2.$x(this.sg,this.eg,{Bv:this.Xv,Nv:this.Nx?"rgba8":"rgb8",Wv:!1});const h=this.Hv.Tx();r.bindFramebuffer(r.FRAMEBUFFER,this.Dx),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,h,0),this.Wx&&(r.bindFramebuffer(r.FRAMEBUFFER,this.Ox),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,h,0))}else{this.Bx=r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,this.Bx);const o=this.Nx?r.RGBA8:r.RGB8;if(0<this.jx){const a=r.getInternalformatParameter(r.RENDERBUFFER,o,r.SAMPLES);if(a&&a[0]){const l=a[0];this.jx>l&&(this.jx=l)}else this.jx=0}0===this.jx?r.renderbufferStorage(r.RENDERBUFFER,o,this.sg,this.eg):r.renderbufferStorageMultisample(r.RENDERBUFFER,this.jx,o,this.sg,this.eg),r.bindFramebuffer(r.FRAMEBUFFER,this.Dx),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,this.Bx),this.Wx&&(r.bindFramebuffer(r.FRAMEBUFFER,this.Ox),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,this.Bx)),r.bindRenderbuffer(r.RENDERBUFFER,null)}const n=this.A2.Yx();this.Wx&&n&&(r.bindFramebuffer(r.FRAMEBUFFER,this.Dx),this.A2.Kx()?r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.TEXTURE_2D,n,0):r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,n)),r.bindFramebuffer(r.FRAMEBUFFER,null),Ge.add(this)}Zx(t,s){if(this.sg!==t||this.eg!==s){this.sg=t,this.eg=s,this.Xx();const e=this.A2.ix(),i=(e.bindFramebuffer(e.FRAMEBUFFER,this.Dx),this.Hv?this.Hv.vx(new ImageData(this.sg,this.eg)):(e.bindRenderbuffer(e.RENDERBUFFER,this.Bx),e.renderbufferStorage(e.RENDERBUFFER,this.Nx?e.RGBA8:e.RGB8,this.sg,this.eg),e.bindRenderbuffer(e.RENDERBUFFER,null)),this.A2.Yx());this.Wx&&i&&(this.A2.Kx()?e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,i,0):e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,i)),e.bindFramebuffer(e.FRAMEBUFFER,null)}}xx(){if(!this.Hv&&!this.Bx)throw new Error("already deleted render target");Ge.delete(this);const t=this.A2.ix(),s=(this.Hv?(t.bindFramebuffer(t.FRAMEBUFFER,this.Dx),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0),this.Wx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Ox),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,null,0)),this.A2.Qx(this.Hv),this.Hv=null):this.Bx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Dx),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null),this.Wx&&(t.bindFramebuffer(t.FRAMEBUFFER,this.Ox),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,null)),t.deleteRenderbuffer(this.Bx),this.Bx=null),t.bindFramebuffer(t.FRAMEBUFFER,null),2<=this.A2.nx()&&(t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)),t.deleteFramebuffer(this.Dx),this.Wx&&t.deleteFramebuffer(this.Ox),this.A2.tM());s.sM=null,this.Dx=s.eM=null}Xx(){this.A2.AS(this.Vx,this.sg/this.eg),this.Hx=this.A2.RS(),this.zx=this.A2.GS(),this.Jx=this.A2.IS()}iM(){return this.Dx}rM(){return this.Ox}eb(){return this.A2}nM(){return this.Hv}hM(){return this.A2.RS()===this.Hx&&this.A2.GS()===this.zx&&this.A2.IS()===this.Jx||this.Xx(),this.Vx}oM(){return"nearest"!==this.Xv}aM(){return this.Nx}lM(){return this.Ux}uM(){return this.Wx}Sm(){return this.sg}Rm(){return this.eg}cM(){return this.Lx}fM(){return this.jx}dM(){const t={Bv:this.Xv,alpha:this.Nx,Px:this.Ux};return this.Lx||(t.width=this.sg,t.height=this.eg),t}pM(t){return"nearest"!==(t=Object.assign({},Te,t)).Bv===this.oM()&&!!t.alpha===this.aM()&&!!t.depth===this.uM()&&!(2<=this.A2.nx()&&!!t.Px!==this.lM())&&("number"==typeof t.width||"number"==typeof t.height?!this.cM()&&this.Sm()===Math.floor(t.width)&&this.Rm()===Math.floor(t.height):this.cM())}mM(){return this.Hv?this.Hv.Tx():null}Rx(){return this.Hv?this.Hv.Rx():this.sg*this.eg*(this.Nx?4:3)}static async gM(t,s){const e=await t.yM(s,!0);return ve.Wo(e)}static Gb(){Ge.clear()}static SM(){return Ge.values()}static wM(t,s){for(const e of Ge)e.cM()&&e.Zx(t,s)}}}{const m=self.Ls,_e=self.vs,Tr=_e.Rs,Mr=_e.Gs,Ie=new Set(["aPos","aTex","aPoints","matP","matMV","samplerFront","samplerBack","samplerDepth","destStart","destEnd","srcStart","srcEnd","srcOriginStart","srcOriginEnd","pixelSize","seconds","devicePixelRatio","layerScale","layerAngle","layoutStart","layoutEnd","color","color2_","pointTexStart","pointTexEnd","zElevation","tileSize","tileSpacing","outlineThickness","zNear","zFar"]);m.gy.bM=class extends m.gy.F2{static async vM(t,s){const e=t.ix(),i=s.src,r=s.xM,n=s.name,h=e.createShader(e.FRAGMENT_SHADER),o=(e.shaderSource(h,i),e.compileShader(h),e.createShader(e.VERTEX_SHADER)),a=(e.shaderSource(o,r),e.compileShader(o),e.createProgram()),l=(e.attachShader(a,h),e.attachShader(a,o),e.bindAttribLocation(a,0,"aPos"),e.bindAttribLocation(a,1,"aTex"),e.bindAttribLocation(a,2,"aPoints"),e.linkProgram(a),t.MM());if(l?await t.TM(()=>e.getProgramParameter(a,l.COMPLETION_STATUS_KHR)):await m.Bh(5),!e.getShaderParameter(h,e.COMPILE_STATUS)){const c=e.getShaderInfoLog(h);throw e.deleteShader(h),e.deleteShader(o),e.deleteProgram(a),new Error("Error compiling fragment shader: "+c)}if(!e.getShaderParameter(o,e.COMPILE_STATUS)){const f=e.getShaderInfoLog(o);throw e.deleteShader(h),e.deleteShader(o),e.deleteProgram(a),new Error("Error compiling vertex shader: "+f)}if(!e.getProgramParameter(a,e.LINK_STATUS)){const d=e.getProgramInfoLog(a);throw e.deleteShader(h),e.deleteShader(o),e.deleteProgram(a),new Error("Error linking shader program: "+d)}const u=m.Z1(e.getProgramInfoLog(a)||"").trim();return u&&!m.X1(u)&&console.info(`[WebGL] Shader program '${n}' compilation log: `,u),e.deleteShader(h),e.deleteShader(o),a}static async GM(t,s){const e=await m.gy.bM.vM(t,s);return new m.gy.bM(t,e,s)}constructor(t,s,e){super(t,e);const i=t.ix(),r=t.tM(),n=(t.g2(),i.useProgram(s),this._M=i,this.yb=s,this.IM="<default-device-transform>"===e.name,i.getAttribLocation(s,"aPos")),h=i.getAttribLocation(s,"aTex"),o=(this.CM=i.getAttribLocation(s,"aPoints"),-1!==n&&(i.bindBuffer(i.ARRAY_BUFFER,t.RM),i.vertexAttribPointer(n,t.d2(),i.FLOAT,!1,0,0),i.enableVertexAttribArray(n)),-1!==h&&(i.bindBuffer(i.ARRAY_BUFFER,t.EM),i.vertexAttribPointer(h,2,i.FLOAT,!1,0,0),i.enableVertexAttribArray(h)),-1!==this.CM&&(i.bindBuffer(i.ARRAY_BUFFER,t.PM),i.vertexAttribPointer(this.CM,4,i.FLOAT,!1,0,0),i.enableVertexAttribArray(this.CM)),i.bindBuffer(i.ARRAY_BUFFER,null),this.FM=new m.gy.AM(this,"matP","mat4"),this.kM=new m.gy.AM(this,"matMV","mat4"),this.DM=new m.gy.AM(this,"color","vec4"),this.OM=new m.gy.AM(this,"samplerFront","sampler"),this.BM=new m.gy.AM(this,"pointTexStart","vec2"),this.LM=new m.gy.AM(this,"pointTexEnd","vec2"),this.NM=new m.gy.AM(this,"zElevation","float"),this.WM=new m.gy.AM(this,"tileSize","vec2"),this.UM=new m.gy.AM(this,"tileSpacing","vec2"),this.jM=new m.gy.AM(this,"color2_","vec4"),this.VM=new m.gy.AM(this,"outlineThickness","float"),this.HM=new m.gy.AM(this,"samplerBack","sampler"),this.zM=new m.gy.AM(this,"samplerDepth","sampler"),this.JM=new m.gy.AM(this,"destStart","vec2"),this.qM=new m.gy.AM(this,"destEnd","vec2"),this.XM=new m.gy.AM(this,"srcStart","vec2"),this.$M=new m.gy.AM(this,"srcEnd","vec2"),this.YM=new m.gy.AM(this,"srcOriginStart","vec2"),this.KM=new m.gy.AM(this,"srcOriginEnd","vec2"),this.ZM=new m.gy.AM(this,"pixelSize","vec2"),this.QM=new m.gy.AM(this,"seconds","float"),this.tT=new m.gy.AM(this,"devicePixelRatio","float"),this.sT=new m.gy.AM(this,"layerScale","float"),this.eT=new m.gy.AM(this,"layerAngle","float"),this.iT=new m.gy.AM(this,"layoutStart","vec2"),this.rT=new m.gy.AM(this,"layoutEnd","vec2"),this.nT=new m.gy.AM(this,"zNear","float"),this.hT=new m.gy.AM(this,"zFar","float"),this.oT=!!(this.ZM.aT()||this.QM.aT()||this.HM.aT()||this.JM.aT()||this.qM.aT()||this.XM.aT()||this.$M.aT()||this.YM.aT()||this.KM.aT()||this.tT.aT()||this.sT.aT()||this.eT.aT()||this.iT.aT()||this.rT.aT()),e.parameters||[]);this.lT=[],this.tb=this.ZM.aT()||this.XM.aT()||this.$M.aT()||this.YM.aT()||this.KM.aT(),this.uT=!1,this.cT=!1,this.DM.fT(1,1,1,1),this.jM.fT(1,1,1,1),this.OM.dT(0),this.HM.dT(1),this.zM.dT(2),this.BM.pT(0,0),this.LM.pT(1,1),this.NM.mT(0),this.WM.pT(0,0),this.UM.pT(0,0),this.JM.pT(0,0),this.qM.pT(1,1),this.XM.pT(0,0),this.$M.pT(0,0),this.YM.pT(0,0),this.KM.pT(0,0),this.ZM.pT(0,0),this.tT.mT(1),this.nT.mT(t.GS()),this.hT.mT(t.IS()),this.sT.mT(1),this.eT.mT(0),this.QM.mT(0),this.iT.pT(0,0),this.rT.pT(0,0),this.VM.mT(1);for(const l of o){const u=l[0],c=l[2],f=new m.gy.AM(this,u,c);"color"===c?f.gT(0,0,0):f.mT(0),this.lT.push(f)}this.IM?this.yT(r.ST):(this.wT(r.ST,!0),this.bT(r.vT,!0));const a=r.xT;i.useProgram(a?a.yb:null)}gn(){this._M.deleteProgram(this.yb),this.yb=null,this.A2.NS(this),this._M=null,super.gn()}MT(){return this._M}TT(){return this.yb}GT(){return this.lT.length}_T(t){return t<0||t>=this.lT.length?null:this.lT[t].IT()}CT(e){for(let t=0,s=e.length;t<s;++t)if(!this.lT[t].RT(e[t]))return!1;return!0}ET(e){for(let t=0,s=e.length;t<s;++t)this.lT[t].PT(e[t])}FT(t,s,e,i,r,n,h,o,a,l){return!this.HM.aT()&&!(this.ZM.aT()&&!this.ZM.AT(r,n)||this.JM.aT()&&!this.JM.AT(t.Rl(),t.El())||this.qM.aT()&&!this.qM.AT(t.Pl(),t.Fl())||this.tT.aT()&&!this.tT.kT(h)||this.sT.aT()&&!this.sT.kT(o)||this.eT.aT()&&!this.eT.kT(a)||this.XM.aT()&&!this.XM.AT(s.Rl(),s.El())||this.$M.aT()&&!this.$M.AT(s.Pl(),s.Fl())||this.YM.aT()&&!this.YM.AT(e.Rl(),e.El())||this.KM.aT()&&!this.KM.AT(e.Pl(),e.Fl())||this.iT.aT()&&!this.iT.AT(i.Rl(),i.El())||this.rT.aT()&&!this.rT.AT(i.El(),i.Fl())||this.QM.aT()&&!this.QM.kT(l))}DT(t,s,e,i,r,n,h,o,a,l){this.HM.aT()||(this.ZM.aT()&&this.ZM.OT(r,n),this.JM.aT()&&this.JM.OT(t.Rl(),t.El()),this.qM.aT()&&this.qM.OT(t.Pl(),t.Fl()),this.tT.aT()&&this.tT.BT(h),this.sT.aT()&&this.sT.BT(o),this.eT.aT()&&this.eT.BT(a),this.XM.aT()&&this.XM.OT(s.Rl(),s.El()),this.$M.aT()&&this.$M.OT(s.Pl(),s.Fl()),this.YM.aT()&&this.YM.OT(e.Rl(),e.El()),this.KM.aT()&&this.KM.OT(e.Pl(),e.Fl()),this.iT.aT()&&this.iT.OT(i.Rl(),i.El()),this.rT.aT()&&this.rT.OT(i.El(),i.Fl()),this.QM.aT()&&this.QM.BT(l))}wT(t,s){this.uT&&!s||this.IM||(this.FM.aT()&&this.FM.LT(t),this.uT=!0)}NT(){this.uT=!1}bT(t,s){this.cT&&!s||this.IM||(this.kM.aT()&&this.kM.LT(t),this.cT=!0)}WT(){this.cT=!1}yT(t){if(!this.IM)throw new Error("not device transform shader");this.FM.LT(t);const s=this.A2,e=s.Sm()/2,i=s.Rm()/2,r=s.BS(e,i,s.bS(s.Rm()),e,i,0,s.Rm());this.kM.LT(r)}UT(t){this.DM.aT()&&this.DM.jT(t[0],t[1],t[2],t[3])}static VT(){return Ie}static HT(t){const s=t?"highmedp":"mediump";return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","attribute highp vec3 aPos;",`attribute ${s} vec2 aTex;`,`varying ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static zT(t){const s=t?"highp":"mediump";return["#version 300 es","in highp vec3 aPos;",`in ${s} vec2 aTex;`,`out ${s} vec2 vTex;`,"uniform highp mat4 matP;","uniform highp mat4 matMV;","void main(void) {",`	gl_Position = matP * matMV * vec4(aPos, 1.0);`,`	vTex = aTex;`,"}"].join("\n")}static JT(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","}"].join("\n")}static qT(){return["#extension GL_EXT_frag_depth : enable","varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\tgl_FragColor = texture2D(samplerFront, vTex) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static XT(){return["#version 300 es","in mediump vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","void main(void) {","\toutColor = texture(samplerFront, vTex) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static $T(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","}"].join("\n")}static YT(){return["#extension GL_EXT_frag_depth : enable","#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","varying highmedp vec2 vTex;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highmedp vec2 srcStart;","uniform highmedp vec2 pixelSize;","uniform highmedp vec2 tileSize;","uniform highmedp vec2 tileSpacing;","void main(void) {","\thighmedp vec2 tile = floor(vTex);","\thighmedp vec2 tex = fract(vTex);","\thighmedp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighmedp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighmedp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\tgl_FragColor = texture2D(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static KT(){return["#version 300 es","in highp vec2 vTex;","out lowp vec4 outColor;","uniform lowp vec4 color;","uniform lowp sampler2D samplerFront;","uniform highp vec2 srcStart;","uniform highp vec2 pixelSize;","uniform highp vec2 tileSize;","uniform highp vec2 tileSpacing;","void main(void) {","\thighp vec2 tile = floor(vTex);","\thighp vec2 tex = fract(vTex);","\thighp vec2 tileOrigin = srcStart + tile * (tileSize + tileSpacing);","\thighp vec2 lowerBound = tileOrigin + pixelSize / 2.0;","\thighp vec2 upperBound = tileOrigin + tileSize - pixelSize / 2.0;","\toutColor = texture(samplerFront, clamp(tex, lowerBound, upperBound), -16.0) * color;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static ZT(t,s,e){let i="";return 2<=t?i="#version 300 es\n":(s&&(i="#extension GL_EXT_frag_depth : enable\n"),e&&(i+="#extension GL_EXT_shader_texture_lod : enable\n#extension GL_OES_standard_derivatives : enable\n")),i+`
#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
${2<=t?"in":"varying"} vec2 vTex;
${2<=t?"out lowp vec4 outColor;":""}
uniform lowp vec4 color;
uniform lowp sampler2D samplerFront;
uniform vec2 pixelSize;

uniform vec2 tileSize;
uniform vec2 tileSpacing;
uniform float outlineThickness;

const float PI = 3.1415926;

lowp vec4 cospVec4(lowp vec4 a, lowp vec4 b, float x)
{
	return (a + b + (a - b) * cos(x * PI)) / 2.0;
}

vec3 randVec3(vec2 seed)
{
	return vec3(fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(12.9898,78.233))) * 43758.5453),
				fract(sin(dot(seed.yx + vec2(0.1, 0.1), vec2(12.9898,-78.233))) * 43758.5453),
				fract(sin(dot(seed.xy + vec2(0.1, 0.1), vec2(-12.9898,-78.233))) * 43758.5453));
}

lowp vec4 sampleTile(vec2 tile, vec2 uv, vec2 ddx, vec2 ddy)
{
	vec2 posRandom = tileSize;
	float angleRandom = outlineThickness;
	
	vec3 rand = (randVec3(floor(tile + 0.5)) - 0.5) * 2.0;
	
	float angle = angleRandom * rand.z * PI;
	float sin_a = sin(angle);
	float cos_a = cos(angle);
	float aspect = pixelSize.x / pixelSize.y;

	vec2 mid = tile + vec2(0.5, 0.5);
	vec2 dp = uv - mid;
	dp.x /= aspect;
	vec2 r = vec2(dp.x * cos_a - dp.y * sin_a,
				  dp.y * cos_a + dp.x * sin_a);
	r.x *= aspect;

	vec2 p = mid + r + (posRandom * rand.xy / 2.0);
	
	${2<=t?"return textureGrad(samplerFront, p, ddx, ddy);":""}
	${t<2&&e?"return texture2DGradEXT(samplerFront, p, ddx, ddy);":""}
	${t<2&&!e?"return texture2D(samplerFront, p);":""}
}

void main(void) {
	
	${t<2?"lowp vec4 outColor;":""}
	
	float blendMarginX = tileSpacing.x;
	float blendMarginY = tileSpacing.y;
	
	vec2 tile = floor(vTex);
	vec2 tex = fract(vTex);
	vec2 ddx = ${2<=t||e?"dFdx(vTex)":"vec2(0.0, 0.0)"};
	vec2 ddy = ${2<=t||e?"dFdy(vTex)":"vec2(0.0, 0.0)"};
	
	vec4 curTile = sampleTile(tile, vTex, ddx, ddy);
	
	bool inLeftMargin = (tex.x < blendMarginX);
	bool inRightMargin = (tex.x > 1.0 - blendMarginX);
	bool inTopMargin = (tex.y < blendMarginY);
	bool inBottomMargin = (tex.y > 1.0 - blendMarginY);
	
	if (inLeftMargin)
	{
		lowp vec4 leftTile = sampleTile(tile + vec2(-1.0, 0.0), vTex, ddx, ddy);
		float leftMix = (tex.x / (blendMarginX * 2.0)) + 0.5;
		lowp vec4 leftMixedTile = cospVec4(leftTile, curTile, leftMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =     sampleTile(tile + vec2(0.0,  -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftTile = sampleTile(tile + vec2(-1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topLeftMixedTile = cospVec4(topLeftTile, topTile, leftMix);
			
			outColor = cospVec4(topLeftMixedTile, leftMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =     sampleTile(tile + vec2(0.0,  1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftTile = sampleTile(tile + vec2(-1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomLeftMixedTile = cospVec4(bottomLeftTile, bottomTile, leftMix);
			
			outColor = cospVec4(leftMixedTile, bottomLeftMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = leftMixedTile;
		}
	}
	else if (inRightMargin)
	{
		lowp vec4 rightTile = sampleTile(tile + vec2(1.0, 0.0), vTex, ddx, ddy);
		float rightMix = (tex.x - (1.0 - blendMarginX)) / (blendMarginX * 2.0);
		lowp vec4 rightMixedTile = cospVec4(curTile, rightTile, rightMix);
		
		if (inTopMargin)
		{
			lowp vec4 topTile =      sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightTile = sampleTile(tile + vec2(1.0, -1.0), vTex, ddx, ddy);
			lowp vec4 topRightMixedTile = cospVec4(topTile, topRightTile, rightMix);
			
			outColor = cospVec4(topRightMixedTile, rightMixedTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
		}
		else if (inBottomMargin)
		{
			lowp vec4 bottomTile =      sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightTile = sampleTile(tile + vec2(1.0, 1.0), vTex, ddx, ddy);
			lowp vec4 bottomRightMixedTile = cospVec4(bottomTile, bottomRightTile, rightMix);
			
			outColor = cospVec4(rightMixedTile, bottomRightMixedTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
		}
		else
		{
			outColor = rightMixedTile;
		}
	}
	else if (inTopMargin)
	{
		lowp vec4 topTile = sampleTile(tile + vec2(0.0, -1.0), vTex, ddx, ddy);
		outColor = cospVec4(topTile, curTile, (tex.y / (blendMarginY * 2.0)) + 0.5);
	}
	else if (inBottomMargin)
	{
		lowp vec4 bottomTile = sampleTile(tile + vec2(0.0, 1.0), vTex, ddx, ddy);
		outColor = cospVec4(curTile, bottomTile, (tex.y - (1.0 - blendMarginY)) / (blendMarginY * 2.0));
	}
	else
	{
		outColor = curTile;
	}
	
	outColor *= color;
	${t<2?"gl_FragColor = outColor;":""}
	${2<=t?"gl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
	${t<2&&s?"gl_FragDepthEXT = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);":""}
}
`}static QT(){return["attribute vec4 aPoints;","varying float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static tG(){return["#version 300 es","in vec4 aPoints;","out float pointOpacity;","uniform float zElevation;","uniform mat4 matP;","uniform mat4 matMV;","void main(void) {","\tgl_Position = matP * matMV * vec4(aPoints.xy, zElevation, 1.0);","\tgl_PointSize = aPoints.z;","\tpointOpacity = aPoints.w;","}"].join("\n")}static sG(){return["uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","}"].join("\n")}static eG(){return["#extension GL_EXT_frag_depth : enable","uniform lowp sampler2D samplerFront;","varying lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\tgl_FragColor = texture2D(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepthEXT = (gl_FragColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static iG(){return["#version 300 es","uniform lowp sampler2D samplerFront;","in lowp float pointOpacity;","uniform mediump vec2 pointTexStart;","uniform mediump vec2 pointTexEnd;","uniform lowp vec4 color;","out lowp vec4 outColor;","void main(void) {","\tmediump vec2 pointTexMin = min(pointTexStart, pointTexEnd);","\tmediump vec2 pointTexMax = max(pointTexStart, pointTexEnd);","\tmediump vec2 pointCoord = (pointTexEnd.x > pointTexStart.x ? gl_PointCoord : vec2(1.0 - gl_PointCoord.y, gl_PointCoord.x));","\toutColor = texture(samplerFront, mix(pointTexMin, pointTexMax, pointCoord)) * color * pointOpacity;","\tgl_FragDepth = (outColor.a == 0.0 ? 1.0 : gl_FragCoord.z);","}"].join("\n")}static rG(){return["uniform lowp vec4 color;","void main(void) {","\tgl_FragColor = color;","}"].join("\n")}static nG(){return["precision lowp float;","varying mediump vec2 vTex;","uniform vec4 color;","uniform vec4 color2_;","vec3 fromLinear(vec3 linearRGB)","{","\tbvec3 cutoff = lessThan(linearRGB, vec3(0.0031308));","\tvec3 higher = vec3(1.055) * pow(abs(linearRGB), vec3(1.0/2.4)) - vec3(0.055);","\tvec3 lower = linearRGB * vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","vec3 toLinear(vec3 sRGB)","{","\tbvec3 cutoff = lessThan(sRGB, vec3(0.04045));","\tvec3 higher = pow(abs((sRGB + vec3(0.055))/vec3(1.055)), vec3(2.4));","\tvec3 lower = sRGB/vec3(12.92);","\treturn mix(higher, lower, vec3(cutoff));","}","void main(void) {","\tvec3 linearGrad = mix(toLinear(color.rgb), toLinear(color2_.rgb), vTex.x);","\tfloat a = mix(color.a, color2_.a, vTex.x);","\tgl_FragColor = vec4(fromLinear(linearGrad) * a, a);","}"].join("\n")}static hG(){return["#ifdef GL_FRAGMENT_PRECISION_HIGH","#define highmedp highp","#else","#define highmedp mediump","#endif","precision lowp float;","varying highmedp vec2 vTex;","uniform vec4 color;","void main(void) {",`	highmedp float grad = vTex.x / (1.0 - vTex.y);`,`	gl_FragColor = color * (1.0 - (cos(grad * 3.141592653589793) + 1.0) / 2.0);`,"}"].join("\n")}static oG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tlowp float f = 1.0 - abs(vTex.y - 0.5) * 2.0;","\tgl_FragColor = color * f;","}"].join("\n")}static aG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float f = step(diffSq.x + diffSq.y, 0.25);","\tgl_FragColor = color * f;","}"].join("\n")}static lG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump float innerF = step(distSq, 0.25);","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm * outlineThickness;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float outerF = step(innerEdgeSq.x + innerEdgeSq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}static uG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 innerEdge = halfNorm - pixelSize * norm;","\tmediump vec2 innerEdgeSq = innerEdge * innerEdge;","\tmediump float f = smoothstep(halfNormSq.x + halfNormSq.y, innerEdgeSq.x + innerEdgeSq.y, diffSq.x + diffSq.y);","\tgl_FragColor = color * f;","}"].join("\n")}static cG(){return["varying mediump vec2 vTex;","uniform lowp vec4 color;","uniform mediump vec2 pixelSize;","uniform mediump float outlineThickness;","void main(void) {","\tmediump vec2 diff = vTex - vec2(0.5, 0.5);","\tmediump vec2 diffSq = diff * diff;","\tmediump float distSq = diffSq.x + diffSq.y;","\tmediump vec2 norm = normalize(diff);","\tmediump vec2 halfNorm = norm * 0.5;","\tmediump vec2 halfNormSq = halfNorm * halfNorm;","\tmediump vec2 pxNorm = pixelSize * norm;","\tmediump vec2 innerEdge1 = halfNorm - pxNorm;","\tmediump vec2 innerEdge1Sq = innerEdge1 * innerEdge1;","\tmediump float innerF = smoothstep(halfNormSq.x + halfNormSq.y, innerEdge1Sq.x + innerEdge1Sq.y, distSq);","\tmediump vec2 innerEdge2 = halfNorm - pxNorm * outlineThickness;","\tmediump vec2 innerEdge2Sq = innerEdge2 * innerEdge2;","\tmediump vec2 innerEdge3 = halfNorm - pxNorm * (outlineThickness + 1.0);","\tmediump vec2 innerEdge3Sq = innerEdge3 * innerEdge3;","\tmediump float outerF = smoothstep(innerEdge3Sq.x + innerEdge3Sq.y, innerEdge2Sq.x + innerEdge2Sq.y, distSq);","\tgl_FragColor = color * innerF * outerF;","}"].join("\n")}}}{const Ce=self.Ls,Re=self.vs,Mr=Re.Gs,Ee=new Map([["float",1],["percent",1],["sampler",1],["vec2",2],["vec3",3],["color",3],["vec4",4],["mat4",16]]);Ce.gy.AM=class{constructor(t,s,e){if(!Ee.has(e))throw new Error("invalid uniform type");this.sv=t,this._M=this.sv.MT(),this.wn=s,this.Mf=e,this.fG="color"===this.Mf,this.dG=this._M.getUniformLocation(this.sv.TT(),s),this.pG=!!this.dG;const i=Ee.get(e);this.mG=new Float32Array(i),this.gG=new Float32Array(i)}gn(){this.sv=null,this._M=null,this.dG=null}aT(){return this.pG}IT(){return this.Mf}yG(){return this.fG}mT(t){this.aT()&&(this.mG[0]=t,this.gG.set(this.mG),this._M.uniform1f(this.dG,t))}dT(t){this.aT()&&(this.mG[0]=t,this.gG.set(this.mG),this._M.uniform1i(this.dG,t))}pT(t,s){this.aT()&&(this.mG[0]=t,this.mG[1]=s,this.gG.set(this.mG),this._M.uniform2f(this.dG,t,s))}gT(t,s,e){this.aT()&&(this.mG[0]=t,this.mG[1]=s,this.mG[2]=e,this.gG.set(this.mG),this._M.uniform3f(this.dG,t,s,e))}fT(t,s,e,i){this.aT()&&(this.mG[0]=t,this.mG[1]=s,this.mG[2]=e,this.mG[3]=i,this.gG.set(this.mG),this._M.uniform4f(this.dG,t,s,e,i))}SG(t){t=Math.fround(t);const s=this.mG;s[0]!==t&&(s[0]=t,this._M.uniform1f(this.dG,t))}wG(t){const s=this.mG;s[0]!==t&&this._M.uniform1i(this.dG,s[0]=t)}bG(t,s){t=Math.fround(t),s=Math.fround(s);const e=this.mG;e[0]===t&&e[1]===s||(e[0]=t,e[1]=s,this._M.uniform2f(this.dG,t,s))}vG(t,s,e){t=Math.fround(t),s=Math.fround(s),e=Math.fround(e);const i=this.mG;i[0]===t&&i[1]===s&&i[2]===e||(i[0]=t,i[1]=s,i[2]=e,this._M.uniform3f(this.dG,t,s,e))}jT(t,s,e,i){t=Math.fround(t),s=Math.fround(s),e=Math.fround(e),i=Math.fround(i);const r=this.mG;r[0]===t&&r[1]===s&&r[2]===e&&r[3]===i||(r[0]=t,r[1]=s,r[2]=e,r[3]=i,this._M.uniform4f(this.dG,t,s,e,i))}LT(t){const s=this.mG;Mr.U(s,t)||(Ce.Uh(s,t,0),this._M.uniformMatrix4fv(this.dG,!1,t))}RT(t){const s=this.gG;return this.yG()?s[0]===Math.fround(t.ca())&&s[1]===Math.fround(t.fa())&&s[2]===Math.fround(t.ga()):s[0]===Math.fround(t)}PT(t){const s=this.gG;this.yG()?(s[0]=t.ca(),s[1]=t.fa(),s[2]=t.ga()):s[0]=t}kT(t){return this.gG[0]===Math.fround(t)}AT(t,s){const e=this.gG;return e[0]===Math.fround(t)&&e[1]===Math.fround(s)}BT(t){this.gG[0]=t}OT(t,s){const e=this.gG;e[0]=t,e[1]=s}}}{const Pe=self.Ls,Fe=self.vs,jr=Fe.Es,Mr=Fe.Gs;Pe.gy.xG=class{constructor(t){this.renderer=t,this.vT=Mr.create(),this.ST=Mr.create(),this.sM=null,this.eM=null,this.MG=!1,this.TG=jr.C(1,1,1,1),this.xT=null,this.GG=new Pe.Rect,this.clearColor=Pe.mn(Pe.$o,0,0,0,0)}},Pe.gy._G=class{constructor(t){const s=new ArrayBuffer(96);this.Mf=0,this.IG=t,this._M=t.renderer.ix(),this.CG=0,this.EG=0,this.PG=null,this.FG=new Float32Array(s,0,16),this.AG=new Float32Array(s,64,4),this.kG=new Float32Array(s,80,4),this.DG=[]}OG(t,s){this.Mf=1,this.CG=t,this.EG=s}BG(){const t=this._M;t.drawElements(t.TRIANGLES,this.EG,t.UNSIGNED_SHORT,this.CG)}LG(t){this.Mf=2,this.PG=t}NG(){const t=this._M,s=this.PG;t.bindTexture(t.TEXTURE_2D,s?s.Tx():null)}WG(t){this.Mf=3,t.wa(this.AG,0)}UG(){const t=this.AG,s=this.IG;jr.I(s.TG,t),s.xT.UT(t)}jG(t){this.Mf=21,t.wa(this.AG,0)}VG(){const t=this.AG,s=this.IG.xT;s.jM.aT()&&s.jM.jT(t[0],t[1],t[2],t[3])}HG(t,s){this.Mf=4,this.CG=t,this.EG=s}zG(){this._M.blendFunc(this.CG,this.EG)}JG(t,s,e,i){this.Mf=5;const r=this.AG;r[0]=t,r[1]=s,r[2]=e,r[3]=i}qG(){const t=this.AG;this._M.viewport(t[0],t[1],t[2],t[3])}XG(t){this.Mf=6,Mr.I(this.FG,t)}$G(){const t=this.IG,e=t.renderer.Wy,i=t.xT,r=this.FG;for(let t=0,s=e.length;t<s;++t){const n=e[t];n===i?n.wT(r,!0):n.NT()}Mr.I(t.ST,r)}YG(t){this.Mf=7,Mr.I(this.FG,t)}KG(){const t=this.IG,e=t.renderer.Wy,i=t.xT,r=this.FG;for(let t=0,s=e.length;t<s;++t){const n=e[t];n===i?n.bT(r,!0):n.WT()}Mr.I(t.vT,r)}ZG(t){this.Mf=8,this.PG=t}QG(){const t=this._M,s=this.PG,e=this.IG;s?(e.sM=s.iM(),e.eM=s.rM(),e.MG&&e.eM?t.bindFramebuffer(t.FRAMEBUFFER,e.eM):t.bindFramebuffer(t.FRAMEBUFFER,e.sM)):(e.sM=null,e.eM=null,t.bindFramebuffer(t.FRAMEBUFFER,null))}t_(t){this.Mf=9,t.wa(this.FG,0)}s_(t,s,e,i){this.Mf=9;const r=this.FG;r[0]=t,r[1]=s,r[2]=e,r[3]=i}e_(){const t=this._M,s=this.FG,e=this.IG,i=e.clearColor,r=s[0],n=s[1],h=s[2],o=s[3];i.Ta(r,n,h,o)||(t.clearColor(r,n,h,o),i.ta(r,n,h,o)),t.clear(t.COLOR_BUFFER_BIT)}i_(t){this.Mf=15,t.wa(this.FG,0)}r_(){const t=this.FG;this.IG.GG.set(t[0],t[1],t[2],t[3])}n_(t,s){this.Mf=10,this.CG=t,this.EG=1,this.FG[0]=s}h_(){const t=this._M,s=this.IG,e=s.renderer,i=e.Vy,r=(t.useProgram(i.yb),i.wT(s.ST,!1),i.bT(s.vT,!1),s.GG),n=(i.BM.aT()&&i.BM.bG(r.Rl(),r.El()),i.LM.aT()&&i.LM.bG(r.Pl(),r.Fl()),this.FG[0]);if(i.NM.aT()&&i.NM.SG(n),i.DM.aT()){const h=s.TG;i.DM.jT(h[0],h[1],h[2],h[3])}t.drawArrays(t.POINTS,this.CG/4,this.EG),t.useProgram(s.xT.yb)}o_(t){this.Mf=11,this.PG=t}a_(){const t=this._M,s=this.IG,e=this.PG;if(s.xT=e,t.useProgram(e.yb),e.wT(s.ST,!1),e.bT(s.vT,!1),e.DM.aT()){const i=s.TG;e.DM.jT(i[0],i[1],i[2],i[3])}}l_(){this.Mf=12}u_(){const t=this.IG.xT,s=this._M,e=this.FG,i=this.AG,r=this.kG;if(t.HM.aT()){const n=this.IG.renderer,h=this.PG;n.c_!==h&&(s.activeTexture(s.TEXTURE1),s.bindTexture(s.TEXTURE_2D,h?h.Tx():null),n.c_=h,s.activeTexture(s.TEXTURE0))}t.ZM.aT()&&t.ZM.bG(e[0],e[1]),t.JM.aT()&&t.JM.bG(e[2],e[3]),t.qM.aT()&&t.qM.bG(e[4],e[5]),t.tT.aT()&&t.tT.SG(this.EG),t.sT.aT()&&t.sT.SG(e[6]),t.eT.aT()&&t.eT.SG(e[7]),t.XM.aT()&&t.XM.bG(e[12],e[13]),t.$M.aT()&&t.$M.bG(e[14],e[15]),t.YM.aT()&&t.YM.bG(r[0],r[1]),t.KM.aT()&&t.KM.bG(r[2],r[3]),t.iT.aT()&&t.iT.bG(i[0],i[1]),t.rT.aT()&&t.rT.bG(i[2],i[3]),t.QM.aT()&&t.QM.SG(this.CG)}f_(){this.Mf=13}d_(){const t=this.IG.xT,e=t.lT,i=this.DG;for(let t=0,s=e.length;t<s;++t){const r=e[t],n=i[t];r.yG()?r.vG(n.ca(),n.fa(),n.ga()):r.SG(n)}}p_(t){this.Mf=14,this.PG=t}m_(){const t=this._M,s=this.PG,e=this.IG.sM;s!==e&&t.bindFramebuffer(t.FRAMEBUFFER,s),t.invalidateFramebuffer(t.FRAMEBUFFER,[t.COLOR_ATTACHMENT0]),s!==e&&t.bindFramebuffer(t.FRAMEBUFFER,e)}g_(t,s,e){this.Mf=17;const i=this.FG,r=this.IG.renderer,n=(i[0]=t.Sm(),i[1]=t.Rm(),i[2]=(s||r).Sm(),i[3]=(s||r).Rm(),i[4]=t.oM()?1:0,i[5]="stretch"===e,this.DG);Pe.Vh(n),n.push(t.iM()),n.push(s?s.iM():null)}y_(){const t=this.FG,s=this.DG,e=this._M,i=t[0],r=t[1],n=t[2],h=t[3],o=0!==t[4],a=0!==t[5],l=s[0],u=s[1];if(e.bindFramebuffer(e.READ_FRAMEBUFFER,l),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,u),a)e.blitFramebuffer(0,0,i,r,0,0,n,h,e.COLOR_BUFFER_BIT,o?e.LINEAR:e.NEAREST);else{const c=Math.min(i,n),f=Math.min(r,h),d=Math.max(r-h,0),p=Math.max(h-r,0);e.blitFramebuffer(0,d,c,f+d,0,p,c,f+p,e.COLOR_BUFFER_BIT,e.NEAREST)}}S_(t){this.Mf=18,this.PG=t}w_(){this.PG.b_(),this.PG=null}v_(t){this.Mf=19,this.PG=t}x_(){this.PG.M_(),this.PG=null}T_(t,s,e){this.Mf=20;const i=this.FG;i[0]=t,i[1]=s,i[2]=e}G_(){const t=this.IG.xT,s=this.FG;t.ZM.aT()&&t.ZM.bG(s[0],s[1]),t.VM.aT()&&t.VM.SG(s[2])}__(t,s,e,i,r,n,h){this.Mf=16;const o=this.FG;t.wa(o,0),o[4]=1/s,o[5]=1/e,o[6]=i/s,o[7]=r/e,o[8]=n/s,o[9]=h/e}I_(){const t=this.IG.xT,s=this.FG;t.XM.aT()&&t.XM.bG(s[0],s[1]),t.ZM.aT()&&t.ZM.bG(s[4],s[5]),t.WM.aT()&&t.WM.bG(s[6],s[7]),t.UM.aT()&&t.UM.bG(s[8],s[9])}C_(t,s,e,i,r,n,h){this.Mf=29;const o=this.FG;o[0]=1/t,o[1]=1/s,o[2]=e,o[3]=i,o[4]=r,o[5]=n,o[6]=h}R_(){const t=this.IG.xT,s=this.FG;t.ZM.aT()&&t.ZM.bG(s[0],s[1]),t.WM.aT()&&t.WM.bG(s[2],s[3]),t.VM.aT()&&t.VM.SG(s[4]),t.UM.aT()&&t.UM.bG(s[5],s[6])}E_(t){this.Mf=22,this.CG=t?1:0}P_(){const t=this._M,s=0!==this.CG;s||t.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT),s||t.depthMask(!1)}F_(t){this.Mf=23,this.CG=t?1:0}A_(){const t=this._M;0===this.CG?(t.disable(t.DEPTH_TEST),t.depthMask(!1)):(t.enable(t.DEPTH_TEST),t.depthMask(!0))}k_(t){this.Mf=24,this.CG=t?1:0}D_(){const t=this._M,s=this.IG,e=s.renderer,i=0!==this.CG;s.MG=i,t.activeTexture(t.TEXTURE2),i?(s.eM&&t.bindFramebuffer(t.FRAMEBUFFER,s.eM),t.bindTexture(t.TEXTURE_2D,e.Yx())):(t.bindTexture(t.TEXTURE_2D,null),s.eM&&t.bindFramebuffer(t.FRAMEBUFFER,s.sM)),t.activeTexture(t.TEXTURE0)}O_(){this.Mf=25}B_(){const t=this._M;t.clear(t.STENCIL_BUFFER_BIT),t.enable(t.STENCIL_TEST),t.stencilFunc(t.ALWAYS,1,1),t.stencilOp(t.KEEP,t.KEEP,t.REPLACE),t.colorMask(!1,!1,!1,!1)}L_(){this.Mf=26}N_(){const t=this._M;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,1,1),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}W_(){this.Mf=27}U_(){const t=this._M;t.disable(t.STENCIL_TEST)}j_(t,s,e,i,r){this.Mf=28,this.CG=t?1:0;const n=this.FG;n[0]=s,n[1]=e,n[2]=i,n[3]=r}V_(){const t=this._M,s=this.FG;1===this.CG?(t.enable(t.SCISSOR_TEST),t.scissor(s[0],s[1],s[2],s[3])):t.disable(t.SCISSOR_TEST)}H_(){switch(this.Mf){case 1:return void this.BG();case 2:return void this.NG();case 3:return void this.UG();case 4:return void this.zG();case 5:return void this.qG();case 6:return void this.$G();case 7:return void this.KG();case 8:return void this.QG();case 9:return void this.e_();case 10:return void this.h_();case 11:return void this.a_();case 12:return void this.u_();case 13:return void this.d_();case 14:return void this.m_();case 15:return void this.r_();case 16:return void this.I_();case 17:return void this.y_();case 18:return void this.w_();case 19:return void this.x_();case 20:return void this.G_();case 21:return void this.VG();case 22:return void this.P_();case 23:return void this.A_();case 24:return void this.D_();case 25:return void this.B_();case 26:return void this.N_();case 27:return void this.U_();case 28:return void this.V_();case 29:return void this.R_()}}}}{let I=function(t,s,e,i,r,n){s?t.strokeRect(e,i,r,n):t.fillRect(e,i,r,n)},t=function(t){return t*(4/3)},o=function(t,s){t=t.trim();const e=parseFloat(t);return isFinite(e)?t.endsWith("%")?s*e/100:e:0};I,t,o;const Ae=self.Ls,ke=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]),De={timeout:60},Oe=new Ae.$o(0,0,0,1),Be=new Set(["left","center","right"]),Le=new Set(["top","center","bottom"]),Ne=new Set(["word","cjk","character"]),We=new Set(["ltr","rtl"]),Ue=new Set;Ae.FontManager&&Ae.FontManager.addEventListener("fontload",t=>{const s=t.font.nf();for(const e of Ue)(e.z_()||Ae.br(e.J_(),s))&&e.q_()});let s=!1,e=!1;Ae.gy.P2=class{constructor(t,s){s=Object.assign({},De,s),this.A2=t,this.X_="Arial",this.Y_=16,this.K_=1,this.Z_=0,this.Q_=!1,this.tI=!1,this.sI="black",this.eI=!1,this.um=null,this.iI=!0,this.rI=null,this.nI=new Set,this.hI="left",this.oI="top",this.gf="",this.aI=null,this.lI=Ae.mn(Ae.am),this.uI="word",this.cI="ltr",this.fI=!1,this.dI=!1,this.pI=!1,this.mI=-1,this.gI=0,this.yI=0,this.SI=0,this.sg=0,this.eg=0,this.wI=1,this.bI=null,this.vI=null,this.xI=null,this.MI=null,this.TI=-1,this.GI=-1,this._I="",this.II="",this.CI="",this.RI=1,this.EI=1,this.FI=t=>this.AI(t),this.Hv=null,this.kI=new Ae.Rect,this.DI=1,this.OI=new Ae.u0(()=>{this.BI(),this.LI(8,8)},s.timeout),this.NI=null,this.WI=!1,Ue.add(this)}gn(){this.rI=null,this.nI.clear(),this.um=null,this.aI=null,this.bI=null,this.vI=null,this.xI=null,this.MI=null,this.FI=null,this.OI.gn(),this.NI=null,this.BI(),this.lI.oc(),this.lI=null,this.A2=null,this.WI=!0,Ue.delete(this)}UI(){this.pI=!0}jI(){this.UI(),this.dI=!0}q_(){this.jI(),this.fI=!0}VI(t){if(this.eI!==(t=!!t)){this.eI=t;const s=this.eI?"alphabetic":"top";this.vI&&(this.vI.textBaseline=s),this.xI&&(this.xI.textBaseline=s),this.q_()}}z_(){return this.eI}gm(t){this.um!==t&&(this.um=t,this.lI.gm(t),this.um&&this.um.$g()&&this.um.Yg().then(()=>this.UI()),this.q_())}HI(t){this.iI!==(t=!!t)&&(this.iI=t,this.UI())}zI(t){this.X_!==(t=t||"serif")&&(this.X_=t,this.q_())}J_(){return this.X_}JI(t){this.Y_!==(t=t<.1?.1:t)&&(this.Y_=t,this.q_())}qI(){return this.Y_}XI(t){this.K_!==t&&(this.K_=t,this.q_())}$I(t){this.Z_!==t&&(this.Z_=t,this.jI())}YI(){return this.Z_}KI(t){this.Q_!==(t=!!t)&&(this.Q_=t,this.q_())}ZI(){return this.Q_}QI(t){this.tI!==(t=!!t)&&(this.tI=t,this.q_())}tC(){return this.tI}sC(t){t=Math.floor(t),this.mI!==t&&(this.mI=t,this.UI())}eC(){return this.mI}iC(t,s){let e=[];(this.Q_||s.Sg("b"))&&e.push("bold"),(this.tI||s.Sg("i"))&&e.push("italic");const i=s.yg("size"),r=(i?parseFloat(i.param):this.Y_)*this.K_;e.push(t?r+"pt":r*this.rC()+"pt");let n=this.X_,h=s.yg("font");return h&&h.param&&(n=h.param,this.rI)&&!this.nI.has(n)&&(this.rI(n),this.nI.add(n)),n&&(ke.has(n)?e.push(n):e.push('"'+n+'"')),e.join(" ")}Tb(t){t instanceof Ae.$o&&(t=t.Pa()),this.sI!==t&&(this.sI=t,this.UI())}nC(t,s,e){Oe.ea(t,s,e),this.Tb(Oe)}hC(t){if(!Be.has(t))throw new Error("invalid horizontal alignment");this.hI!==t&&(this.hI=t,this.jI())}oC(){return this.hI}aC(t){if(!Le.has(t))throw new Error("invalid vertical alignment");this.oI!==t&&(this.oI=t,this.jI())}lC(){return this.oI}uC(t){if(!Ne.has(t))throw new Error("invalid word wrap mode");this.uI!==t&&(this.uI=t,this.q_())}cC(){return this.uI}fC(t){if(!We.has(t))throw new Error("invalid text direction");this.cI!==t&&(this.cI=t,this.vI&&(this.vI.direction=this.cI),this.xI&&(this.xI.direction=this.cI),this.q_())}dC(){return this.cI}wf(t){this.gf!==t&&(this.gf=t,this.q_())}pC(){return this.gf}rC(){return this.DI*this.wI*self.devicePixelRatio}mC(n,h,o){if(void 0===o&&(o=1),!(n<=0||this.yI===n&&this.SI===h&&this.wI===o)){let t=this.yI,s=(this.yI=n,this.SI=h,this.wI=o,self.devicePixelRatio),e=(this.sg=this.yI*this.wI*s,this.eg=this.SI*this.wI*s,Math.max(this.sg,this.eg)),i=Math.min(this.A2.tx(),4096),r=1;i<e&&(r=i/e,this.sg=Math.min(this.sg*r,i),this.eg=Math.min(this.eg*r,i)),this.DI=r,this.yI!==t?this.q_():this.jI()}}Sm(){return this.sg}Rm(){return this.eg}gC(){return this.wI}yC(){return this.SC(),this.lI.Qm()}wC(){return this.SC(),this.lI.tg()+this.lI.pm()*(this.Z_+4)-this.Z_}bC(){this.SC();let t=0;for(const s of this.lI.fm())for(const e of s.Dm())t+=e.Om();return t}nM(){return this.OI.m0(),this.vC(),this.Hv}xC(t,s){this.SC();const e=this.rC(),i=this.lI.fm();for(const r of i){const n=r.Pm()*e;if(s>=r.pg()-r.Rm()*e+n&&s<r.pg()+n)for(const h of r.Dm())if(t>=h.fg()&&t<h.fg()+h.Sm()*e)return h}return null}*MC(t){this.SC();const s=this.lI.fm();for(const e of s)for(const i of e.Dm()){const r=i.yg("tag");r&&Ae.br(r.param,t)&&(yield i)}}TC(t,s){for(const e of this.MC(t)){if(0===s)return e;--s}return null}GC(t){let s=0;for(const e of this.MC(t))++s;return s}vC(){this.Hv&&!this.pI&&!this.dI&&!this.fI||this.WI||this.sg<=0||this.eg<=0||(this.pI=!1,this._C())}_C(){this.WI||(this.SC(),this.LI(Math.max(Ae.Vn(Math.ceil(this.sg)),128),Math.max(Ae.Vn(Math.ceil(this.eg)),64)),this.IC(),this.CC(),this.OI.m0())}LI(t,s){this.bI||(this.bI=Ae.Bo(16,16));let e=!1;this.TI===t&&this.GI===s||(this.TI=t,this.GI=s,this.bI.width=t,this.bI.height=s,e=!0),this.vI||(this.vI=this.bI.getContext("2d"),e=!0),e?(this.vI.textBaseline=this.eI?"alphabetic":"top",this.vI.direction=this.cI,this.vI.font=this._I,this.vI.fillStyle=this.CI,this.vI.strokeStyle=this.CI,this.vI.globalAlpha=this.RI,this.vI.lineWidth=this.EI):this.vI.clearRect(0,0,t,s)}RC(){this.xI||(this.xI=Ae.Bo(16,16).getContext("2d"),this.MI=Ae.Bo(16,16).getContext("2d"),this.xI.textBaseline=this.eI?"alphabetic":"top",this.MI.textBaseline="top",this.xI.direction=this.cI,this.MI.direction=this.cI)}EC(t){this.II!==t&&(this.II=t,this.xI.font=t,this.MI.font=t)}PC(){if(!s){s=!0,this.RC();const t=this.xI.measureText("test");e="number"==typeof t.fontBoundingBoxAscent&&"number"==typeof t.fontBoundingBoxDescent}return e}SC(){this.FC(),this.AC()}FC(){this.fI&&(this.RC(),!this.eI||this.aI&&this.aI.toString()===this.gf||(this.aI=new Ae.kr(this.gf,{Up:!0})),this.lI.am(this.eI?this.aI.Zp():this.gf,this.FI,this.yI,this.uI,0),this.fI=!1)}AC(){this.dI&&(this.kC(),this.dI=!1)}AI(t){let s=t.Gm()?t.Vm().join(""):" ",e=(this.EC(this.iC(!0,t)),t.yg("size")),i=(e?parseFloat(e.param):this.Y_)*this.K_,r=this.xI.measureText(s),n=0;if(this.eI&&this.PC()){const h=this.MI.measureText(s);n=r.fontBoundingBoxAscent-h.fontBoundingBoxAscent}return{width:r.width,height:4/3*i,fontBoundingBoxAscent:r.fontBoundingBoxAscent||0,fontBoundingBoxDescent:r.fontBoundingBoxDescent||0,Tm:n}}DC(t){this._I!==t&&(this._I=t,this.vI.font=t)}OC(t){this.CI!==t&&(this.CI=t,this.vI.fillStyle=t,this.vI.strokeStyle=t)}BC(t){this.RI!==t&&(this.RI=t,this.vI.globalAlpha=t)}LC(t){this.EI!==t&&(this.EI=t,this.vI.lineWidth=t)}kC(){let i=this.rC(),r=(4+this.Z_)*i,n=0,h=this.lI.fm();if(0!==h.length){for(const s of h){s.ug(NaN),s.dg(NaN);for(const o of s.Dm())o.ug(NaN),o.dg(NaN)}let t=this.eI&&this.PC(),e=h[0].Rm()*i;if("center"===this.oI){const a=h.reduce((t,s)=>t+s.Rm()*i+r,0)-r;n=Math.max(this.eg/2-a/2,0),t&&(e=h[0].Fm()*i)}else if("bottom"===this.oI){const l=h.reduce((t,s)=>t+s.Rm()*i+r,0)-this.Z_*i,u=t?h.at(-1).Pm()*i:0;n=this.eg-l-u-2}for(let t=0,s=h.length;t<s;++t){const c=h[t],f=c.Rm()*i,d=n;if(this.eI){if(n+=0===t?e:f,0<t&&n>this.eg-4*i)break}else if(0<t&&n>=this.eg-f)break;0<=d&&this.NC(c,n,i),this.eI||(n+=f),n+=r}}}NC(t,s,e){let i=0;"center"===this.hI?i=Math.floor((this.sg-t.Sm()*e)/2):"right"===this.hI&&(i=this.sg-t.Sm()*e),t.ug(i),t.dg(s);for(const r of"ltr"===this.cI?t.Dm():t.ag())this.WC(r,i,s,e),i+=r.Sm()*e}WC(t,s,e,i){const r=t.yg("offsetx"),n=(s+=r?o(r.param,t.Rm())*i:0,t.yg("offsety"));if(e+=n?o(n.param,t.Rm())*i:0,t.Im()){const h=t.yg("iconoffsety");e+=h?o(h.param,t.Rm())*i:.2*t.Rm()*i}t.ug(s),t.dg(e)}IC(){this.vI.imageSmoothingEnabled=this.iI,this.vI.imageSmoothingQuality="high",this.gI=0;const t=this.rC(),s=this.lI.fm();for(const e of s)this.UC(e,t)}UC(t,s){const e=t.fg(),i=t.pg();if(Number.isFinite(e)&&Number.isFinite(i))for(const r of"ltr"===this.cI?t.Dm():t.ag())this.jC(r,s,t.Rm())}jC(h,o,a){const l=this.vI,u=h.fg(),c=h.pg();if(Number.isFinite(u)&&Number.isFinite(c)){let t=a/16,s=h.Sm()*o,e=h.Rm()*o,i=h.Rm()/16,r=(4+this.Z_)*o,n=h.Gm()?h.Vm():null;if(-1!==this.mI){if(this.gI>=this.mI)return;h.Gm()&&this.gI+n.length>this.mI&&(n=n.slice(0,this.mI-this.gI),s=this.AI(h).width*o),this.gI+=h.Om()}const f=h.yg("background"),d=h.Sg("u"),p=h.Sg("s");if((!h.Gm()||!Ae.Y1(n)||f||d||p)&&!h.Sg("hide")){const m=h.yg("color"),g=h.yg("opacity"),y=(this.BC(g?parseFloat(g.param)/100:1),f&&(this.OC(f.param),l.fillRect(u,c-e,s,e+r)),h.yg("linethickness")),S=y?parseFloat(y.param):1,w=h.Sg("stroke");if(w&&this.LC(.5*i*S*this.rC()),h.Gm()){const b=n.join("");if(this.DC(this.iC(!1,h)),!w){this.LC(.5*i*S*this.rC());const v=h.yg("outlineback");v&&(this.OC(v.param),this.VC(!0,b,u,c,s))}if(this.OC(m?m.param:this.sI),this.VC(w,b,u,c,s),!w){this.LC(.5*i*S*this.rC());const x=h.yg("outline");x&&(this.OC(x.param),this.VC(!0,b,u,c,s))}}else if(h.Im()&&0<h.Sm()){const M=h._g(this.um);M&&l.drawImage(M,u,c-e,s,e)}if(this.OC(m?m.param:this.sI),d&&I(l,w,u,c+o*t,s,o*t*S),p){const T=c-e/4,G=o*i,_=T+G/2;l.fillRect(u,_-G*S/2,s,G*S)}}}}VC(t,s,e,i,r){"rtl"===this.cI&&(e+=r),t?"Gecko"===Ae.ue.ye?this.vI.strokeText(s,e,i,r):this.vI.strokeText(s,e,i):"Gecko"===Ae.ue.ye?this.vI.fillText(s,e,i,r):this.vI.fillText(s,e,i)}CC(){this.A2.HC()||(this.Hv||(this.Hv=this.A2.$x(this.bI.width,this.bI.height,{Wv:!0,Uv:"high"})),this.A2.zC(this.bI,this.Hv),this.kI.set(0,0,this.sg/this.Hv.Sm(),this.eg/this.Hv.Rm()),this.NI&&this.NI())}JC(){return this.kI}BI(){this.Hv&&(this.A2.HC()||this.A2.Qx(this.Hv),this.Hv=null)}static Gb(){for(const t of Ue)t.BI()}static qC(){return Ue.values()}}}{const je=self.Ls;class Ve{constructor(t){this._M=t.ix(),this.XC=t.nx(),this.$C=t.YC(),this.KC=null,this.p0=!1,this.ZC=!1,this.QC=0,1===this.XC?this.KC=this.$C.createQueryEXT():this.KC=this._M.createQuery()}gn(){this.tR(),this._M=null,this.$C=null,this.ZC=!1}tR(){this.KC&&(1===this.XC?this.$C.deleteQueryEXT(this.KC):this._M.deleteQuery(this.KC),this.KC=null)}b_(){if(this.p0)throw new Error("query already active");1===this.XC?this.$C.beginQueryEXT(this.$C.TIME_ELAPSED_EXT,this.KC):this._M.beginQuery(this.$C.TIME_ELAPSED_EXT,this.KC),this.p0=!0}M_(){if(!this.p0)throw new Error("query not active");1===this.XC?this.$C.endQueryEXT(this.$C.TIME_ELAPSED_EXT):this._M.endQuery(this.$C.TIME_ELAPSED_EXT),this.p0=!1}sR(){if(this.KC&&!this.ZC&&!this.p0){let t;t=1===this.XC?this.$C.getQueryObjectEXT(this.KC,this.$C.QUERY_RESULT_AVAILABLE_EXT):this._M.getQueryParameter(this.KC,this._M.QUERY_RESULT_AVAILABLE);const s=this._M.getParameter(this.$C.GPU_DISJOINT_EXT);t&&!s&&(1===this.XC?this.QC=this.$C.getQueryObjectEXT(this.KC,this.$C.QUERY_RESULT_EXT):this.QC=this._M.getQueryParameter(this.KC,this._M.QUERY_RESULT),this.QC/=1e9,this.ZC=!0),(t||s)&&this.tR()}}eR(){return this.ZC}iR(){if(this.ZC)return this.QC;throw new Error("no result available")}}je.gy.rR=class{constructor(t){this.A2=t,this.fS=t.S2(),this.p0=!1,this.nR=null,this.hR=!1,this.oR=null,this.aR=[]}gn(){for(const t of this.aR)t instanceof Ve&&t.gn();je.Vh(this.aR),this.nR=null,this.oR=null,this.A2=null}b_(){if(this.p0)throw new Error("query already active");const t=this.A2.lR();0<t.length?(this.hR=!0,this.nR=t.at(-1),this.nR.uR(),this.nR.aR.push(this)):(this.hR=!1,this.nR=null),this.p0=!0,t.push(this),this.cR()}M_(){if(!this.p0)throw new Error("query not active");const t=this.A2.lR().pop();if(t!==this)throw new Error("can only end most nested query");this.p0=!1,this.uR(),this.nR&&(this.nR.cR(),this.nR=null)}cR(){this.oR=je.mn(Ve,this.A2),this.aR.push(this.oR),this.oR.b_()}uR(){this.oR.M_(),this.oR=null}sR(){for(const t of this.aR)t.sR()}fR(){return this.hR}eR(){return this.aR.every(t=>t.eR())}iR(){return this.aR.reduce((t,s)=>t+s.iR(),0)}S2(){return this.fS}}}{const He=self.Ls;He.gy.dR=class{constructor(t,s=1e3){this.A2=t,this.pR=s,this.mR=[],this.A2.gR(this)}gn(){this.oc(),this.A2.yR(this),this.A2=null}oc(){for(const t of this.mR)t.gn();He.Vh(this.mR)}SR(){const t=new He.gy.rR(this.A2);if(this.mR.push(t),this.mR.length>this.pR){const s=this.mR.shift();s.gn()}return t}wR(t){for(const s of this.mR){if(s.S2()>=t)return;if(s.fR())return;s.sR()}}bR(t,s){if(s<=t)return NaN;let e=0;for(const i of this.mR){if(i.S2()>=s)break;if(!(i.S2()<t)){if(!i.eR())return NaN;e+=i.iR()}}return e}vR(e){for(let t=0,s=this.mR.length;t<s;++t){const i=this.mR[t];if(!(i.S2()<e))return void(0<t&&this.mR.splice(0,t));i.gn()}}}}{let e=function(){r=-1;for(const t of i)t.xR()&&(t.resolve(),i.delete(t));0<i.size&&(r=self.requestAnimationFrame(e))},b=(e,self.Ls),t=self.vs,v=(t.Rs,t.Es),y=t.Gs,n={powerPreference:"default",MR:!0,alpha:!1,depth:!1,TR:!1,GR:2,failIfMajorPerformanceCaveat:!1},h=new Set(["default","low-power","high-performance"]),c=new b.nu(0,0,1,0,1,1,0,1),S=y.create(),w=y.create(),x=new b.nu,M=new b.Rect,T=null,i=(b.isDebug&&(self._R=function(){T?T.loseContext():console.warn("WEBGL_lose_context not supported")},self.IR=function(){T?T.restoreContext():console.warn("WEBGL_lose_context not supported")}),new Set),r=-1;b.gy.CR=class extends b.gy.Fy{constructor(t,s){if(super(s),s=Object.assign({},n,s),!h.has(s.powerPreference))throw new Error("invalid power preference");let e={alpha:!!s.alpha,depth:!1,antialias:!1,powerPreference:s.powerPreference,failIfMajorPerformanceCaveat:!!s.failIfMajorPerformanceCaveat},i=null,r=0;if(2<=s.GR&&(i=t.getContext("webgl2",e),r=2),i||(i=t.getContext("webgl",e),r=1),!i)throw new Error("renderer-unavailable (could not get WebGL context)");this._M=i,this.RR=i.getContextAttributes(),this.ER=i.getParameter(i.VERSION),this.XC=r,this.PR=v.create(),this.FR=!1,this.AR=y.create(),this.kR=!!s.depth,this.DR=!(!s.depth||!s.TR),this.OR=this.kR,this.BR=!1,this.LR=null,this.NR=!0,this.WR=0,this.UR=0,this.RM=null,this.EM=null,this.jR=null,this.PM=null,this.VR=new Float32Array(8e3*this.d2()),this.HR=new Uint16Array(12e3),this.zR=new Float32Array(16e3),this.JR=new Float32Array(32e3),this.qR=0,this.$R=0,this.YR=0,this.KR=0,this.ZR=null,this.QR=null,this.t3=[],this.s3=0,this.e3=0,this.i3=null,this.r3=0,this.IG=b.mn(b.gy.xG,this),this.n3=b.mn(b.$o,1,1,1,1),this.h3=null,this.c_=null,this.o3=0,this.a3=0,this.l3=new b.Rect,this.u3=b.mn(b.Rect,0,0,-1,-1),this.f3=0,this.d3=-1,this.m3=0,this.g3=0,this.y3=0,this.S3="(unavailable)",this.w3="(unavailable)",this.b3=[],this.v3=!1,this.x3=null,this.M3=null,this.T3=null,this.G3=null,this._3=null,this.I3=null,this.C3=0,this.R3=!!s.MR,this.$C=null,this.E3=new Set,this.P3=[],this.mS(this.HR)}G2(){return!0}async SS(){super.SS();const t=this._M,s=this.d2(),e=(this.n3.ta(1,1,1,1),this.h3=null,this.c_=null,this.qR=0,this.YR=0,this.KR=8e3*s-4*s,b.Vh(this.t3),this.s3=0,this.e3=0,this.ZR=null,this.i3=null,this.l3.set(0,0,1,1),this.r3=0,this.IG),i=(e.xT=null,e.sM=null,e.eM=null,v.set(e.TG,1,1,1,1),e.clearColor.ta(0,0,0,0),e.GG.set(0,0,1,1),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.o3=t.ONE,this.a3=t.ONE_MINUS_SRC_ALPHA,this.F3(t),t.disable(t.CULL_FACE),t.disable(t.STENCIL_TEST),t.disable(t.DITHER),this.kR?(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.LEQUAL)):(t.disable(t.DEPTH_TEST),t.depthMask(!1)),this.OR=this.kR,this.BR=!1,this.PM=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.PM),t.bufferData(t.ARRAY_BUFFER,this.JR.byteLength,t.DYNAMIC_DRAW),this.RM=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.RM),t.bufferData(t.ARRAY_BUFFER,this.VR.byteLength,t.DYNAMIC_DRAW),this.EM=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.EM),t.bufferData(t.ARRAY_BUFFER,this.zR.byteLength,t.DYNAMIC_DRAW),this.jR=t.createBuffer(),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.jR),t.bufferData(t.ELEMENT_ARRAY_BUFFER,this.HR,t.STATIC_DRAW),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,null),this.d3=t.getParameter(t.MAX_TEXTURE_SIZE),t.getParameter(t.ALIASED_POINT_SIZE_RANGE)),r=(this.m3=i[0],this.g3=i[1],t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT)),n=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT),h=(this.y3=r&&n?Math.min(r.precision,n.precision):0,2048<this.g3&&(this.g3=2048),this.b3=t.getSupportedExtensions(),t.getExtension("WEBGL_debug_renderer_info"));if(h&&(this.S3=t.getParameter(h.UNMASKED_VENDOR_WEBGL),this.w3=t.getParameter(h.UNMASKED_RENDERER_WEBGL)),this.x3=t.getExtension("KHR_parallel_shader_compile"),b.isDebug&&(T=t.getExtension("WEBGL_lose_context")),this.R3&&(1===this.nx()?this.$C=t.getExtension("EXT_disjoint_timer_query"):this.$C=t.getExtension("EXT_disjoint_timer_query_webgl2")||t.getExtension("EXT_disjoint_timer_query")),this.M3=t.getExtension("EXT_texture_filter_anisotropic"),this.M3?this.C3=t.getParameter(this.M3.MAX_TEXTURE_MAX_ANISOTROPY_EXT):this.C3=0,this.nx()<2&&this.kR&&this.DR&&(this.T3=t.getExtension("WEBGL_depth_texture"),!this.T3))throw new Error("no depth texture support");this.nx()<2&&(this.G3=t.getExtension("EXT_frag_depth"),this._3=t.getExtension("OES_standard_derivatives"),this.I3=t.getExtension("EXT_shader_texture_lod"));let o=b.gy.bM,a=o.HT(!1),l=o.JT(),u=a,c=o.sG(),f=o.QT(),d=o.$T(),p=o.HT(!0),m=!1;this.kR&&(this.nx()<2?this.G3&&(l=o.qT(),c=o.eG(),d=o.YT(),m=!0):(u=o.zT(),l=o.XT(),c=o.iG(),f=o.tG(),d=o.KT(),p=o.zT(!0)));const g=o.ZT(this.nx(),m,this._3&&this.I3),y=2<=this.nx()?o.zT():a,S=[[l,u,"<default>"],[l,u,"<default-device-transform>"],[c,f,"<point>"],[o.rG(),a,"<fill>"],[o.nG(),a,"<lineargradient>"],[o.hG(),a,"<penumbra>"],[o.aG(),a,"<hardellipse>"],[o.lG(),a,"<hardellipseoutline>"],[o.uG(),a,"<smoothellipse>"],[o.cG(),a,"<smoothellipseoutline>"],[o.oG(),a,"<smoothline>"],[d,p,"<tilemap>"],[g,y,"<tilerandomization>"]],w=await Promise.all(S.map(t=>this.A3({src:t[0],xM:t[1],name:t[2]})));this.jy=w[0],this.QR=w[1],this.Vy=w[2],this.Jy=w[3],this.qy=w[4],this.Xy=w[5],this.$y=w[6],this.Yy=w[7],this.Ky=w[8],this.Zy=w[9],this.Qy=w[10],this.Hy=w[11],this.zy=w[12],this.jS()}async A3(t){const s=await b.gy.bM.GM(this,t);return this.LS(s),s}D3(){this.ZR=null}mC(t,s,e){if(this.sg!==t||this.eg!==s||e){this.g2();const i=this._M,r=this.IG;this.sg=t,this.eg=s,this.O3(0,0,t,s),this.AS(this.AR,t/s),this.B3(this.AR),this.QR&&(i.useProgram(this.QR.TT()),this.QR.yT(this.Dy),this.ZR=this.QR,this.IG.xT=this.QR),i.bindTexture(i.TEXTURE_2D,null),i.activeTexture(i.TEXTURE1),i.bindTexture(i.TEXTURE_2D,null),i.activeTexture(i.TEXTURE0),this.h3=null,this.c_=null,this.kR&&this.NR&&this.L3(this.sg,this.eg),this.i3&&this.i3.Zx(this.sg,this.eg),i.bindFramebuffer(i.FRAMEBUFFER,null),this.i3=null,r.sM=null,r.eM=null}}L3(t,s){const e=this._M;this.LR&&this.WR===t&&this.UR===s||(this.DR?(this.LR&&e.deleteTexture(this.LR),this.LR=e.createTexture(),e.bindTexture(e.TEXTURE_2D,this.LR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),2<=this.nx()?e.texImage2D(e.TEXTURE_2D,0,e.DEPTH24_STENCIL8,t,s,0,e.DEPTH_STENCIL,e.UNSIGNED_INT_24_8,null):this.T3&&e.texImage2D(e.TEXTURE_2D,0,e.DEPTH_STENCIL,t,s,0,e.DEPTH_STENCIL,this.T3.UNSIGNED_INT_24_8_WEBGL,null),e.bindTexture(e.TEXTURE_2D,null)):(this.LR&&e.deleteRenderbuffer(this.LR),this.LR=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.LR),e.renderbufferStorage(e.RENDERBUFFER,2<=this.XC?e.DEPTH24_STENCIL8:e.DEPTH_STENCIL,t,s),e.bindRenderbuffer(e.RENDERBUFFER,null)),this.WR=t,this.UR=s)}N3(t,s){this.kR&&(this.NR=!1,this.L3(t,s))}W3(){this.kR&&(this.NR=!0,this.L3(this.sg,this.eg))}O3(t,s,e,i){const r=this.PR;if(r[0]!==t||r[1]!==s||r[2]!==e||r[3]!==i){const n=this.U3();n.JG(t,s,e,i),v.set(r,t,s,e,i),this.e3=0}}CS(t){super.CS(t),this.AS(this.AR,this.sg/this.eg)}TS(t){super.TS(t),this.AS(this.AR,this.sg/this.eg)}_S(t){super._S(t),this.AS(this.AR,this.sg/this.eg)}B3(t){if(!y.U(this.Dy,t)){const s=this.U3();s.XG(t),y.I(this.Dy,t),this.e3=0,this.FR=!0}}j3(){let t,s,e,i=this.i3;e=(null===i?(t=this.AR,s=this.Sm(),this):(t=i.hM(),s=i.Sm(),i)).Rm(),this.B3(t),this.O3(0,0,s,e)}V3(t){if(!y.U(this.Oy,t)){const s=this.U3();s.YG(t),y.I(this.Oy,t),this.e3=0,this.FR=!0}}H3(){this.FR=!1}z3(){return this.FR}tM(){return this.IG}U3(){const t=this.t3;return this.s3===t.length&&t.push(new b.gy._G(this.IG)),t[this.s3++]}g2(){0===this.s3||this.HC()||(this.J3(),this.q3(),this.s3=0,this.qR=0,this.$R=0,this.YR=0,this.e3=0)}J3(){const t=this._M;0<this.YR&&(t.bindBuffer(t.ARRAY_BUFFER,this.PM),t.bufferSubData(t.ARRAY_BUFFER,0,this.JR.subarray(0,this.YR))),0<this.qR&&(t.bindBuffer(t.ARRAY_BUFFER,this.RM),t.bufferSubData(t.ARRAY_BUFFER,0,this.VR.subarray(0,this.qR)),t.bindBuffer(t.ARRAY_BUFFER,this.EM),t.bufferSubData(t.ARRAY_BUFFER,0,this.zR.subarray(0,this.$R)))}q3(){const e=this.t3;for(let t=0,s=this.s3;t<s;++t)e[t].H_()}X3(){return this.n3.ya()}Y3(t,s,e,i){const r=this.n3;if(!r.Ta(t,s,e,i)){r.ta(t,s,e,i);const n=this.U3();n.WG(r),this.e3=0,this.sS=null}}K3(t){const s=this.n3;if(s.ya()!==t){s.la(t);const e=this.U3();e.WG(s),this.e3=0,this.sS=null}}Tb(t){const s=this.n3;if(!s.equals(t)){s.set(t);const e=this.U3();e.WG(s),this.e3=0,this.sS=null}}Z3(){this.Y3(1,1,1,1)}Q3(){return this.n3}tE(t){if(t!==this.h3){const s=this.U3();s.LG(t),this.h3=t,this.e3=0}}mx(){this.h3=null}Mb(t){const s=this.ww(t);this.sE(s[0],s[1])}eE(t){const s=this.Mw(t);this.sE(s.yw,s.Sw)}sE(t,s){if(t!==this.o3||s!==this.a3){const e=this.U3();e.HG(t,s),this.o3=t,this.a3=s,this.e3=0,this.sS=null}}iE(){return this.o3===this._M.ONE&&this.a3===this._M.ONE_MINUS_SRC_ALPHA}rE(){this.sE(this._M.ONE,this._M.ONE_MINUS_SRC_ALPHA)}nE(){this.sE(this._M.SRC_ALPHA,this._M.ONE_MINUS_SRC_ALPHA)}hE(){this.sE(this._M.ONE,this._M.ZERO)}Rect(t){this.oE(t.Rl(),t.El(),t.Pl(),t.Fl())}oE(t,s,e,i){this.f2(t,s,e,s,e,i,t,i)}aE(){let t=this.qR;if(t>=this.KR&&(this.g2(),t=0),1===this.e3)this.t3[this.s3-1].EG+=6;else{const s=this.U3();s.OG(t,6),this.e3=1}}lE(t){t.Gu(this.VR,this.qR,this.rS+this.nS),this.qR+=12}nu(t){this.aE(),this.lE(t),c.wa(this.zR,this.$R),this.$R+=8}f2(t,s,e,i,r,n,h,o){this.aE();let a=this.VR,l=this.qR,u=this.rS+this.nS;a[l++]=t,a[l++]=s,a[l++]=u,a[l++]=e,a[l++]=i,a[l++]=u,a[l++]=r,a[l++]=n,a[l++]=u,a[l++]=h,a[l++]=o,a[l++]=u,this.qR=l,c.wa(this.zR,this.$R),this.$R+=8}Lw(t,s){this.aE(),this.lE(t),s.Dl(this.zR,this.$R),this.$R+=8}uE(t,s){this.aE(),this.lE(t),s.wa(this.zR,this.$R),this.$R+=8}cE(t,s,e,i,r,n,h,o,a,l,u,c,f){this.aE();let d=this.VR,p=this.qR,m=this.rS+this.nS;d[p++]=t,d[p++]=s,d[p++]=m+e,d[p++]=i,d[p++]=r,d[p++]=m+n,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=l,d[p++]=u,d[p++]=m+c,this.qR=p,f.Dl(this.zR,this.$R),this.$R+=8}Aw(t,s,e,i,r,n,h,o,a,l,u,c,f){this.aE();let d=this.VR,p=this.qR,m=this.rS+this.nS;d[p++]=t,d[p++]=s,d[p++]=m+e,d[p++]=i,d[p++]=r,d[p++]=m+n,d[p++]=h,d[p++]=o,d[p++]=m+a,d[p++]=l,d[p++]=u,d[p++]=m+c,this.qR=p,f.wa(this.zR,this.$R),this.$R+=8}fE(i,r,n){const h=this.VR,o=this.zR;if(n.length%3!=0)throw new Error("invalid index buffer length");for(let e=0,t=n.length;e<t;){const a=n[e++],l=n[e++],u=n[e++],c=3*a,f=3*l,d=3*u,p=2*a,m=2*l,g=2*u;this.aE();let t=this.qR,s=this.$R;h[t++]=i[0+c],h[t++]=i[1+c],h[t++]=i[2+c],h[t++]=i[0+f],h[t++]=i[1+f],h[t++]=i[2+f],h[t++]=i[0+d],h[t++]=i[1+d],h[t++]=i[2+d],h[t++]=i[0+d],h[t++]=i[1+d],h[t++]=i[2+d],o[s++]=r[0+p],o[s++]=r[1+p],o[s++]=r[0+m],o[s++]=r[1+m],o[s++]=r[0+g],o[s++]=r[1+g],o[s++]=r[0+g],o[s++]=r[1+g],this.qR=t,this.$R=s}}dE(t,s){this.Iw(0),y.I(S,this.Dy),y.I(w,this.Oy),this.j3();const[e,i]=this.pE(this.i3),r=this.BS(0,0,this.bS(i),0,0,0,i);if(this.V3(r),"crop"===t&&this.i3&&s){const n=this.sg/2,h=this.eg/2,o=s.Sm(),a=s.Rm(),l=this.i3.Sm(),u=this.i3.Rm(),c=Math.min(l,o),f=Math.min(u,a),d=Math.max(a-u,0),p=Math.max(u-a,0);M.set(-n,h-p,-n+c,h-f-p),x._u(M),M.set(0,d,c,f+d),M.Ct(o,a),this.Lw(x,M)}else{const m=e/2,g=i/2;this.oE(-m,g,m,-g)}this.B3(S),this.V3(w)}mE(t){if(!this.l3.equals(t)){this.l3.I(t);const s=this.U3();s.i_(t),this.e3=0}}gE(){}yE(t,s,e,i){7996<=this.YR&&this.g2();let r=this.YR,n=this.rS+this.nS;if(2===this.e3&&this.r3===n)this.t3[this.s3-1].EG++;else{const o=this.U3();o.n_(r,n),this.e3=2,this.r3=n}const h=this.JR;h[r++]=t,h[r++]=s,h[r++]=e,h[r++]=i,this.YR=r}VS(t){if(this.ZR!==t){const s=this.U3();s.o_(t),this.ZR=t,this.e3=0,this.sS=null}}SE(){return this.ZR}wE(){this.VS(this.QR)}bE(t){const s=this.U3();s.jG(t),this.e3=0}vE(t,s,e=1){const i=this.U3();i.T_(t,s,e),this.e3=0}xE(t,s,e,i,r,n,h){if(this.ZR!==this.Hy)throw new Error("must set tilemap fill mode first");const o=this.U3();o.__(t,s,e,i,r,n,h),this.e3=0}ME(t,s,e,i,r,n,h){if(this.ZR!==this.zy)throw new Error("must set tile randomization mode first");const o=this.U3();o.C_(t,s,e,i,r,n,h),this.e3=0}TE(t,s,e,i,r,n,h,o,a,l,u){const c=this.ZR;if(u%=10800,c.oT&&!c.FT(s,e,i,r,n,h,o,a,l,u)){const f=this.U3(),d=(f.l_(),c.DT(s,e,i,r,n,h,o,a,l,u),f.FG),p=(d[0]=n,d[1]=h,s.wa(d,2),d[6]=a,d[7]=l,e.wa(d,12),f.AG),m=(r.wa(p,0),p[1]);p[1]=p[3],p[3]=m,i.wa(f.kG,0),f.CG=u,f.EG=o,c.HM.aT()?f.PG=t?t.nM():null:f.PG=null,this.e3=0}}GE(t){const s=this.ZR;if(0!==t.length&&!s.CT(t)){const e=this.U3();e.f_(),s.ET(t),b.qh(e.DG,t),this.e3=0}}_E(t,s,e,i){const r=this.U3();r.s_(t,s,e,i),this.e3=0}oc(t){const s=this.U3();s.t_(t),this.e3=0}IE(){}m2(){super.m2(),this._M.flush()}CE(){if(this.kR&&this.i3&&this.i3.uM()){const t=this.U3();t.E_(this.OR),this.e3=0}}RE(t){if(this.OR!==(t=!!t)&&this.kR){this.OR=t;const s=this.U3();s.F_(t),this.e3=0}}EE(){return this.OR}Yx(){return this.LR}Kx(){return this.DR}PE(t){if(t=!!t,this.DR&&this.BR!==t){if(t&&this.EE())throw new Error("depth still enabled");this.BR=t;const s=this.U3();s.k_(t),this.e3=0}}FE(t,s,e,i,r=0){if(t=Math.floor(t),s=Math.floor(s),e=Math.floor(e),i=Math.floor(i),!this.u3.Cl(t,s,e,i)){this.u3.vl(t,s,e,i);const n=r||this.pE(this.AE())[1],h=(s=n-s-i,this.U3());h.j_(!0,t,s,e,i),this.e3=0}}kE(){if(-1!==this.u3.Pl()){this.u3.set(0,0,-1,-1);const t=this.U3();t.j_(!1,0,0,0,0),this.e3=0}}DE(){for(const t of this.E3)t.wR(this.fS)}HC(){return!this._M||this._M.isContextLost()||this.v3}Gb(){super.wS(),b.gy.Vv.Gb(),b.gy.kx.Gb(),b.gy.P2.Gb();for(const t of this.E3)t.oc();this.b3=[],this.$C=null,this.x3=null,this.M3=null,this.T3=null,this.G3=null,this._3=null,this.I3=null,this.C3=0,this.S3="(unavailable)",this.w3="(unavailable)",this.ZR=null,this.QR=null,this.LR=null;for(const s of this.tS.values())s.Gb()}async _b(){this.v3=!0,await this.SS(),this.v3=!1;for(const t of this.tS.values())t._b(this);this.mC(this.sg,this.eg,!0)}OE(t,s){if(this.HC())throw new Error("context lost");this.g2();const e=b.mn(b.gy.Vv,this);return e.Qv(t,s),e}async BE(i,r){if(this.HC())throw new Error("context lost");if(r=Object.assign({},r),b.je.ImageBitmapOptions){let t=await createImageBitmap(i,{premultiplyAlpha:"premultiply"}),s=r.Dv&&"clamp-to-edge"!==r.Dv||r.Ov&&"clamp-to-edge"!==r.Ov,e=b.jn(t.width)&&b.jn(t.height);return this.hx()||e||!s?r.premultiplyAlpha=!1:b.je.qe?(t=await createImageBitmap(i,{premultiplyAlpha:"premultiply",resizeWidth:b.Vn(t.width),resizeHeight:b.Vn(t.height)}),r.premultiplyAlpha=!1):t=await createImageBitmap(i,{premultiplyAlpha:"none"}),b.Vf(()=>this.OE(t,r))}if(i instanceof Blob){if("undefined"==typeof Image)throw new Error("texture upload variant not supported in worker");const t=await b.Oo(i);i=t}return b.Vf(()=>this.OE(i,r))}$x(t,s,e){this.g2();const i=b.mn(b.gy.Vv,this);return i.gx(t,s,e),i}zC(t,s,e){this.g2(),s.vx(t,e)}Qx(t){t&&(t._x(),0<t.Ix()||(this.g2(),t===this.h3&&(this._M.bindTexture(this._M.TEXTURE_2D,null),this.h3=null),t===this.c_&&(this._M.activeTexture(this._M.TEXTURE1),this._M.bindTexture(this._M.TEXTURE_2D,null),this._M.activeTexture(this._M.TEXTURE0),this.c_=null),t.xx()))}LE(t){let s=this.sg,e=this.eg,i=!0;if(t&&("number"==typeof t.width&&(s=Math.floor(t.width),i=!1),"number"==typeof t.height)&&(e=Math.floor(t.height),i=!1),s<=0||e<=0)throw new Error("invalid size");this.g2();const r=b.mn(b.gy.kx,this);return r.qx(s,e,Object.assign({Fx:i},t)),this.i3=null,this.IG.sM=null,this.IG.eM=null,r}NE(t,s=!0){if(t!==this.i3){t&&t.cM()&&t.Zx(this.sg,this.eg);const e=this.U3();e.ZG(t),this.i3=t,this.e3=0,s&&this.j3()}}AE(){return this.i3}pE(t){return t?[t.Sm(),t.Rm()]:[this.sg,this.eg]}WE(t,s="stretch"){if(this.XC<2||this.i3&&0<this.i3.fM())this.hE(),this.Z3(),this.UE(t,s);else{const e=this.U3();e.g_(t,this.i3,s),this.e3=0}}UE(t,s="stretch"){const e=t.nM();if(!e)throw new Error("not a texture-backed render target");this.tE(e),this.dE(s,e)}jE(t){if(!(this.XC<2)){const s=this.U3();s.p_(t.iM()),this.e3=0}}VE(t){this.NE(null),this.g2();const s=t.nM();s===this.h3&&(this._M.bindTexture(this._M.TEXTURE_2D,null),this.h3=null),s===this.c_&&(this._M.activeTexture(this._M.TEXTURE1),this._M.bindTexture(this._M.TEXTURE_2D,null),this._M.activeTexture(this._M.TEXTURE0),this.c_=null),t.xx()}async yM(t,s,e){this.g2();let i=this.i3,r,n,h,o=(h=t?(r=t.Sm(),n=t.Rm(),t.iM()):(r=this.Sm(),n=this.Rm(),null),0),a=0,l=r,u=n;if(e){o=b.vn(Math.floor(e.Rl()),0,r-1),a=b.vn(Math.floor(e.El()),0,n-1);let t=e.width(),s=(t=0===t?r-o:b.vn(Math.floor(t),0,r-o),e.height());s=0===s?n-a:b.vn(Math.floor(s),0,n-a),l=t,u=s,a=n-(a+u)}let c=this._M,f=(c.bindFramebuffer(c.FRAMEBUFFER,h),()=>{c.bindFramebuffer(c.FRAMEBUFFER,null),this.i3=null,this.IG.sM=null,this.IG.eM=null,this.NE(i)}),d;if(!s&&2<=this.nx()){c.bindFramebuffer(c.READ_FRAMEBUFFER,h);const p=c.createBuffer(),m=l*u*4,g=c.PIXEL_PACK_BUFFER,y=(c.bindBuffer(g,p),c.bufferData(g,m,c.STREAM_READ),c.readPixels(o,a,l,u,c.RGBA,c.UNSIGNED_BYTE,0),c.bindFramebuffer(c.READ_FRAMEBUFFER,null),c.bindBuffer(g,null),f(),c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0));await this.TM(()=>c.getSyncParameter(y,c.SYNC_STATUS)===c.SIGNALED),c.deleteSync(y),d=new ImageData(l,u),c.bindBuffer(g,p),c.getBufferSubData(g,0,new Uint8Array(d.data.buffer),0,m),c.bindBuffer(g,null),c.deleteBuffer(p)}else d=new ImageData(l,u),c.readPixels(o,a,l,u,c.RGBA,c.UNSIGNED_BYTE,new Uint8Array(d.data.buffer)),f();return d}HE(){this.RE(!0);const t=this.U3();t.O_(),this.e3=0,this.f3=1}zE(){this.RE(!1);const t=this.U3();t.L_(),this.e3=0,this.f3=2}JE(){return 2===this.f3}qE(){this.RE(!0);const t=this.U3();t.W_(),this.e3=0,this.f3=0}XE(t){if(this.$E()){const s=this.U3();s.S_(t),this.e3=0}}YE(t){if(this.$E()){const s=this.U3();s.v_(t),this.e3=0}}TM(s){const t=new Promise(t=>i.add({resolve:t,xR:s}));return-1===r&&(r=self.requestAnimationFrame(e)),t}_2(){return this.sg*this.eg*(this.RR.alpha?4:3)}I2(){let t=0;for(const s of b.gy.kx.SM())s.nM()||(t+=s.Rx());return t}C2(){let t=0;for(const s of b.gy.Vv.Ex())t+=s.Rx();return t}KE(){return this.ER}nx(){return this.XC}ZE(){return"webgl"+this.nx()}hx(){return 2<=this.nx()}tx(){return this.d3}QE(){return this.m3}tP(){return this.g3}sP(){return 0!==this.y3}eP(){return this.y3}iP(){return this.S3}rP(){return this.w3}nP(){if(2<=this.nx())return"webgl2";{const t=[];return this.G3&&t.push("EXT_frag_depth"),this._3&&t.push("OES_standard_derivatives"),this.I3&&t.push("EXT_shader_texture_lod"),0<t.length?"webgl1:"+t.join(","):"webgl1:none"}}hP(){return this.b3}$E(){return!!this.$C}YC(){return this.$C}MM(){return this.x3}wx(){return this.M3}bx(){return this.C3}gR(t){this.E3.add(t)}yR(t){this.E3.delete(t)}lR(){return this.P3}ix(){return this._M}F3(t){this.gw([["normal",t.ONE,t.ONE_MINUS_SRC_ALPHA],["additive",t.ONE,t.ONE],["xor",t.ONE,t.ONE_MINUS_SRC_ALPHA],["copy",t.ONE,t.ZERO],["destination-over",t.ONE_MINUS_DST_ALPHA,t.ONE],["source-in",t.DST_ALPHA,t.ZERO],["destination-in",t.ZERO,t.SRC_ALPHA],["source-out",t.ONE_MINUS_DST_ALPHA,t.ZERO],["destination-out",t.ZERO,t.ONE_MINUS_SRC_ALPHA],["source-atop",t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],["destination-atop",t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA]])}oP(){return this.E2()}}}{const ze=self.Ls,Je={aP:null,lP:null,uP:null,getTime:null,cP:null};ze.gy.fP=class{constructor(t){t=Object.assign({},Je,t),this.dP=t.aP,this.pP=t.lP,this.mP=t.uP,this.gP=t.getTime,this.yP=t.cP,this.SP=null,this.wP=new Set}bP(t){this.wP.add(t)}vP(t){this.wP.delete(t)}Gb(){this.SP=null;for(const t of this.wP)t.Gb()}xP(t){return this.dP?this.dP(t):[t.Sm(),t.Rm()]}AE(t){return this.pP(t)}MP(t,s){this.mP(t,s)}TP(){return this.gP()}o1(t){this.yP(t)}GP(t,s,e){return s=Math.floor(s),e=Math.floor(e),!this.SP||this.SP.Sm()===s&&this.SP.Rm()===e||(t.Qx(this.SP),this.SP=null),null===this.SP&&(this.SP=t.OE(null,{width:s,height:e,Bv:"nearest",Wv:!1})),this.SP}}}{const o=self.Ls,qe=self.vs,Mr=qe.Gs,Xe=o.mn(o.Rect),$e=o.mn(o.Rect),Ye=o.mn(o.Rect),Ke=o.mn(o.Rect),Ze=Mr.create(),Qe=Mr.create(),ti={_P:null,IP:null,CP:null,RP:!1},si={EP:null,PP:!1,FP:!1,AP:!1,kP:!1,DP:!1,OP:!1};o.gy.BP=class{constructor(t,s){s=Object.assign({},ti,s),this.S1=t,this.LP=s._P,this.NP=s.IP,this.WP=s.CP,this.UP=null,this.jP=[],this.VP=[],this.HP=[],this.zP=!1,this.wb=0,this.JP=!1,this.qP=!1,this.XP=!1,this.$P=!1,this.YP=!1,this.KP=!1,this.FR=!1,this.ZP=!1,this.QP=!1,this.tF=!1,this.sF=!1,this.eF=!1,this.iF=0,this.rF=[null,null,null],this.nF=!!s.RP,this.hF=0,this.oF=0,this.aF=0,this.lF=0,this.uF=null,this.cF=null,this.fF=o.mn(o.Rect),this.dF=o.mn(o.Rect),this.pF=o.mn(o.Rect),this.mF=o.mn(o.Rect),this.gF=o.mn(o.Rect),this.yF=1,this.SF=1,this.wF=0,this.bF=0,this.vF=null,this.xF=null,this.MF=0,this.TF=0,this.GF=!1,this.Vx=Mr.create(),this._F=Mr.create(),this.S1.bP(this)}gn(){this.S1.vP(this),o.Vh(this.HP),o.Vh(this.jP),o.Vh(this.VP),this.uF=null,this.cF=null,this.LP=null,this.NP=null,this.WP=null}Gb(){this.zP=!0,o.Vh(this.HP),o.Vh(this.jP),o.Vh(this.VP)}IF(){return this.zP}CF(r,t){if(t=Object.assign({},si,t),o.Vh(this.HP),this.hF=0,this.oF=0,this.JP=!1,this.qP=!1,this.XP=!1,this.$P=!1,this.YP=!1,this.KP=!1,this.iF=0,this.eF=!!t.kP,this.sF=!!t.OP,this.zP=!1,o.qh(this.jP,r),0!==r.length){if(t.EP){if(t.EP.length!==r.length)throw new Error("incorrect indexMap length");o.qh(this.VP,t.EP)}else{o.Vh(this.VP);for(let t=0,s=r.length;t<s;++t)this.VP.push(t)}for(const s of r)this.hF+=s.rb(),this.oF+=s.nb(),s.ub()&&(this.JP=!0),s.fb()&&(this.qP=!0),s.cb()&&(this.XP=!0),s.hb()&&(this.$P=!0),s.gb()&&(this.YP=!0);this.KP=this.RF(r[0].eb());const n=this.EF(r[0],t),h=this.PF(r.at(-1),t);if(1!==r.length||n||h){this.tF=!1;let i=0;n&&(this.iF=1,this.HP.push(o.mn(o.gy.BP.AF.FF,this,-1,1)),i=1);for(let s=0,e=r.length;s<e;++s)if(0!==s||n){let t=1===i?2:1;s!==e-1||h||(t=0),this.iF=Math.max(this.iF,t),this.HP.push(o.mn(o.gy.BP.AF.kF,this,i,t,s)),i=t}else this.iF=1,this.HP.push(o.mn(o.gy.BP.AF.DF,this,-1,1,s)),i=1;h&&this.HP.push(o.mn(o.gy.BP.AF.OF,this,i,0))}else this.tF=!0}}EF(t,s){return!!(s.PP||t.ob()||s.AP&&!t.lb()||t.fb()&&!this.sF||0!==this.hF||0!==this.oF)||(t.eb().G2()?t.cb()&&(s.DP||s.kP)||t.pb()&&s.kP:t.cb()&&!this.KP&&s.DP)}PF(t,s){return!!s.FP||(t.eb().G2()?t.cb()||t.hb():(t.cb()||t.hb())&&this.BF())}RF(t){return t.kS()&&this.XP&&!this.$P}LF(t,s,e){t.kS()&&null===s&&(s=t.GetBackbufferRenderTarget()),this.vF=s,this.uF=e.NF||null,this.cF=e.contextObject||null,this.wb=e.WF||0,this.yF=e.devicePixelRatio||1,this.SF=e.UF||1,this.wF=e.jF||0,this.bF="number"==typeof e.time?e.time:this.S1.TP(),this.FR=!1,t.H3(),this.JP&&this.VF();let i=!1;if(this.HF()&&(this.zF(t,e),i=!0,this.xF=this.S1.GP(t,this.aF,this.lF),Xe.I(this.dF),Xe.Kl(),t.kS()&&t._MaybeDoPendingClearRenderPass(this.vF),t.CopyTextureToTexture(this.vF.nM(),this.xF,Xe.Rl(),Xe.El(),Xe.width(),Xe.height())),this.tF)this.JF(t,e);else if(i||this.zF(t,e),0!==this.pF.width()||0!==this.pF.height()){t.rE(),t.Z3(),t.Gw(0),t.Iw(0),this.UP=e.qF||null,this.MF=e.XF||0,this.TF=e.$F||0,this.GF=!!e.YF,this.KF(t),this.rF[0]=s,this.rF[1]=1<=this.iF?this.ZF():null,this.rF[2]=2===this.iF?this.ZF():null;for(const r of this.HP){const n=this.QF(r.tA()),h=this.QF(r.sA());t.kS()?r.eA(t,n,h):r.iA(t,n,h)}t.tE(null),this.rF[1]&&this.rA(this.rF[1]),this.rF[2]&&this.rA(this.rF[2]),this.rF.fill(null),this.nA(t),this.vF=null,this.xF=null,this.uF=null,this.cF=null,this.UP=null}}zF(t,s){const[e,i]=this.S1.xP(t);this.hA(t,e,i),this.oA(s)}hA(t,s,e){if(s<=0||e<=0)throw new Error("invalid draw size");this.aF===s&&this.lF===e||this.aA(t,s,e,0,0,this.Vx,this._F),this.aF=s,this.lF=e}aA(t,s,e,i,r,n,h){const o=s/2+i,a=e/2+r,l=(t.AS(n,s/e),t.BS(o,a,t.bS(e),o,a,0,e));Mr.I(h,l)}oA(t){this.fF.I(t.lA),t.uA?this.dF.I(t.uA):this.dF.set(0,0,this.aF,this.lF),this.pF.I(this.dF),this.pF.Ct(this.aF,this.lF);const s=this.SF*this.yF;this.dF.jl(this.hF*s,this.oF*s),this.gF.I(this.dF),this.gF.Ct(this.aF,this.lF),this.dF.Zl(0,0,this.aF,this.lF),this.mF.I(this.dF),this.mF.Ct(this.aF,this.lF)}KF(t){if(this.ZP=t.EE(),this.QP=t.JE(),this.sF)t.RE(!1),this.qP&&t.PE(!0);else{if(Xe.I(this.dF),t.G2()){const s=this.SF*this.yF;Xe.jl(Math.max(this.hF,1)*s,Math.max(this.oF,1)*s),Xe.Kl(),Xe.vn(0,0,this.aF,this.lF)}else Xe.Kl();t.FE(Xe.Rl(),Xe.El(),Xe.width(),Xe.height(),this.lF)}}cA(t){t.Z3(),this.sF||(this.QP&&t.qE(),t.RE(!1),this.qP&&t.PE(!0)),t.kS()&&t.SetNormalizedCoordsProgramVariant(!0)}nA(t){t.PE(!1),this.QP&&t.zE(),t.RE(this.ZP),this.sF||t.kE(),t.kS()&&t.SetNormalizedCoordsProgramVariant(!1),this.FR=t.z3()}fA(){this.gF.vn(0,0,1,1)}QF(t){return t<0?null:this.rF[t]}ZF(){return this.S1.AE(this)}dA(){return this.vF}rA(t){this.S1.MP(t,this)}pA(t){return this.jP[t]}mA(t){this.UP?this.UP(this,t,()=>this.LP(t,this)):this.LP(t,this),this.tF||this.cA(t)}gA(t){if(this.sF)return!0;if(0!==this.MF||0!==this.TF)return!1;const[s,e]=t.pE(t.AE());return s===this.aF&&e===this.lF}yA(t,s){let e=this.Vx,i=this._F;if(s&&!this.gA(t)){e=Ze,i=Qe;const[r,n]=t.pE(t.AE());this.aA(t,r,n,this.MF,this.TF,e,i),this.sF||t.kE()}t.B3(e),t.V3(i)}VF(){this.S1.o1(this)}SA(t,s){return this.WP(this.VP[t],s)}wA(t,s){let e=this.gF,i=this.mF,r=this.pF;t.G2()&&($e.I(e),$e.zl(1),e=$e,Ye.I(i),Ye.zl(1),i=Ye,Ke.I(r),Ke.zl(1),r=Ke),this.bA(t,s,i,r,e,1/this.aF,1/this.lF)}vA(t,s){let i=this.mF,r=this.pF,n=1/this.aF,h=1/this.lF;if(this.NP){let{xA:t,MA:s,TA:e}=this.NP(this.uF);t||(Xe.set(0,0,0,0),t=Xe),s=s||this.aF,e=e||this.lF,i=t,r=t,n=1/s,h=1/e}else t.G2()&&(Ye.I(i),Ye.zl(1),i=Ye,Ke.I(r),Ke.zl(1),r=Ke);let e=this.gF;t.G2()&&((e=$e).I(this.gF),e.zl(1)),this.bA(t,s,i,r,e,n,h),t.kS()&&this.YP&&t.SetProgramParameter_IsSrcTexRotated(this.eF)}GA(t){return this.XP?t.kS()?this.HF()?this.xF:this.vF.nM():this.vF:null}bA(t,s,e,i,r,n,h){t.TE(this.GA(t),r,e,i,this.fF,n,h,this.yF,this.SF,this.wF,this.bF),t.GE(this.SA(s,t))}JF(t,s){const e=this.jP[0],i=t.EE(),r=e.fb();r&&(t.RE(!1),t.PE(!0),this.gF.set(0,0,1,1),this.pF.set(0,0,1,1)),t.VS(e),t.Mb(this.wb),t.NE(this.vF);let n=0,h=1;if(this.pF.set(0,0,1,1),e.pb()&&this.NP){const{xA:o,MA:a,TA:l}=this.NP(this.uF);o&&this.pF.I(o),n=Number.isFinite(a)?1/a:0,h=Number.isFinite(l)?1/l:0}else{const[u,c]=this.S1.xP(t);n=1/u,h=1/c}s.lA?this.fF.I(s.lA):this.fF.set(0,0,0,0),t.TE(this.GA(t),this.gF,this.pF,this.pF,this.fF,n,h,this.yF,this.SF,this.wF,this.bF),t.GE(this.SA(0,t)),t.kS()&&this.YP&&t.SetProgramParameter_IsSrcTexRotated(this.eF),t.Gw(0),this.mA(t),r&&(t.PE(!1),t.RE(i))}HF(){return this.KP}BF(){return!this.KP}_A(){return this.XP}IA(){return!!this.tF&&!this.HF()}CA(){return this.sF}RA(){return this.uF}EA(){return this.cF}PA(){return this.wb}FA(){return this.GF}z3(){return this.FR}AA(){return this.dF}kA(){return this.mF}DA(){return this.nF}async OA(t,s,e){}}}{const ei=self.Ls;ei.gy.BP.AF=class{constructor(t,s,e,i=-1){this.BA=t,this.LA=s,this.NA=e,this.ey=i}WA(){return this.BA}tA(){return this.LA}sA(){return this.NA}UA(){return this.ey}TT(){return this.WA().pA(this.UA())}iA(t,s,e){}eA(t,s,e){}}}{const ii=self.Ls;ii.gy.BP.AF.FF=class extends ii.gy.BP.AF{constructor(t,s,e,i){super(t,s,e,i)}iA(t,s,e){const i=this.WA();t.rE(),t.jS(),t.NE(e,i.FA()),t._E(0,0,0,0),i.mA(t),i.fA()}eA(t,s,e){const i=this.WA();t.rE(),t.jS(),t.NE(e,!1),t._E(0,0,0,0),i.mA(t),i.fA()}}}{const ri=self.Ls,ni=ri.mn(ri.Rect),hi=ri.mn(ri.nu);ri.gy.BP.AF.OF=class extends ri.gy.BP.AF{constructor(t,s,e,i){super(t,s,e,i)}iA(t,s,e){const i=this.WA();t.jS(),t.NE(e),i.yA(t,!0),t.Mb(i.PA()),t.tE(s.nM()),hi._u(i.AA()),ni.I(i.kA()),ni.zl(1),t.Lw(hi,ni),i.DA()&&t.jE(s)}eA(t,s,e){const i=this.WA();t.jS(),t.NE(e,!1),i.gA(t)?hi._u(i.kA()):(t.SetNormalizedCoordsProgramVariant(!1),i.yA(t,!0),hi._u(i.AA())),t.SetBackTexture(null),t.Mb(i.PA()),t.tE(s.nM()),i.CA()?t.dE():t.Lw(hi,i.kA())}}}{const oi=self.Ls;oi.gy.BP.AF.DF=class extends oi.gy.BP.AF{constructor(t,s,e,i){super(t,s,e,i)}iA(t,s,e){const i=this.WA();t.NE(e,i.FA()),t._E(0,0,0,0),t.hE(),t.VS(this.TT()),i.vA(t,this.UA()),i.mA(t),i.fA()}eA(t,s,e){const i=this.WA();t.NE(e,!1),t._E(0,0,0,0),t.hE(),t.VS(this.TT()),i.vA(t,this.UA()),i.mA(t),i.fA()}}}{const ai=self.Ls,li=ai.mn(ai.Rect),ui=ai.mn(ai.nu);ai.gy.BP.AF.kF=class extends ai.gy.BP.AF{constructor(t,s,e,i){super(t,s,e,i)}iA(t,s,e){const i=this.WA(),r=(t.NE(e),0===this.sA());r?t.Mb(i.PA()):(t._E(0,0,0,0),t.hE()),t.VS(this.TT()),i.wA(t,this.UA()),t.tE(s.nM()),i.yA(t,r),ui._u(i.AA()),li.I(i.kA()),li.zl(1),t.Lw(ui,li),i.DA()&&t.jE(s)}eA(t,s,e){const i=this.WA(),r=(t.NE(e,!1),0===this.sA());r?(t.Mb(i.PA()),t.SetBackTexture(null),i.gA(t)?ui._u(i.kA()):(t.SetNormalizedCoordsProgramVariant(!1),i.yA(t,!0),ui._u(i.AA()))):(t._E(0,0,0,0),t.hE(),ui._u(i.kA())),t.VS(this.TT()),i.wA(t,this.UA()),t.tE(s.nM()),i.CA()?t.dE():t.Lw(ui,i.kA())}}}{let u=function(t,s){const e=t[0],i=s[0],r=e-i;if(0!=r)return r;const n=t[1],h=s[1];return n-h},c=(u,self.Ls),f=self.Xs,d=null,s=new Set,p=[],m=[],e=!1,t=!1,i=new Set(["vsync","unlimited-tick","unlimited-frame"]);self.jA=class{constructor(t){d=t,Object.defineProperties(this,{VA:{value:d.zA().HA(),writable:!1},JA:{value:d.XA().qA(),writable:!1},$A:{value:{},writable:!1},YA:{value:{},writable:!1},KA:{value:d.ZA(),writable:!1},QA:{value:d.sk(),writable:!1},ek:{value:new Date(d.ik()),writable:!1},storage:{value:new self.rk(d),writable:!1},isInWorker:{value:d.nk(),writable:!1},hk:{value:d.ak(),writable:!1},lk:{value:d.uk(),writable:!1},Bv:{value:d.ck(),writable:!1},fk:{value:d.dk(),writable:!1},pk:{value:new self.mk(t),writable:!1},gk:{value:new self.yk(t),writable:!1}}),d.Sk().addEventListener("keydown",t=>{s.has(t.key)?t.stopPropagation():s.add(t.key)}),d.Sk().addEventListener("keyup",t=>s.delete(t.key)),d.Xf().addEventListener("window-blur",()=>s.clear()),d.nk()&&(self.alert=t=>(e||(e=!0,console.warn("[Construct] alert() was called from a Web Worker, because the project 'Use worker' setting is enabled. This method is not normally available in a Web Worker. Construct has implemented the alert for you, but note that other features may be missing in worker mode. You may wish to disable 'Use worker', or use a more convenient function like console.log(). For more information please refer to the scripting section of the manual.")),this.alert(t)))}wk(t){Object.defineProperties(this.$A,t)}bk(t){Object.defineProperties(this.YA,t)}addEventListener(t,s){d.Sk().addEventListener(t,s)}removeEventListener(t,s){d.Sk().removeEventListener(t,s)}vk(t,...s){f.Mi(t);const e=d.xk(),i=e.Mk(t);if(!i)throw new Error(`cannot find function name '${t}'`);if(!i.rc())return i.Tk();if(s.length<i.Gk())throw new Error(`not enough function parameters passed for '${t}' (${s.length} passed, ${i.Gk()} expected)`);let r=i._k(),n=r.Ik(),h=e.Ck();if(h){n=n.slice(0);const a=new Set(n);for(const l of h.Ik())a.has(l)||(n.push(l),a.add(l));for(const u of e.Rk())a.has(u)||(n.push(u),a.add(u))}const o=r.Ek(n,i.Pk(),i.Fk(),i.Tk(),...s);return o}Ak(t){const s=d.Dk().kk();if(!s)throw new Error("not in a function which returns a value");switch(s.Ok()){case 1:"number"==typeof t&&s.Bk(t);break;case 2:"string"==typeof t&&s.Bk(t);break;case 3:"number"!=typeof t&&"string"!=typeof t||s.Bk(t)}}signal(t){f.Mi(t),d.xk().Lk(t)}Nk(t){return f.Mi(t),d.xk().Wk(t)}Uk(){return[d.ak(),d.uk()]}get isSuspended(){return d.jk()}get Vk(){return d.Hk()}get zk(){return d.Jk()}get gameTime(){return d.qk()}get Xk(){return d.$k()}get timeScale(){return d.Yk()}set timeScale(t){f.wi(t),d.Kk(t)}get fps(){return t||(console.warn("IRuntime.fps is deprecated. Use IRuntime.framesPerSecond instead."),t=!0),d.Zk()}get framesPerSecond(){return d.Zk()}get Qk(){return d.tD()}get sD(){return d.eD()}get iD(){return d.rD()}get nD(){return d.hD()}set nD(t){if(!i.has(t))throw new Error("invalid framerate mode");d.oD(t)}get aD(){return d.lD()}set aD(t){f.wi(t),d.uD(t)}get cD(){return d.fD()}set cD(t){d.dD(t)}get pD(){return d.zA().mD()}get gD(){return d.zA().yD()}random(){return d.SD()}get layout(){const t=d.wD();if(t)return t.bD();throw new Error("no layout is running - make sure a layout is loaded before accessing")}vD(t){let s=d.xD(),e=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(e=s.MD(t))return e.bD();throw new Error("invalid layout")}TD(){return d.xD().GD().map(t=>t.bD())}_D(t){let s=d.xD(),e;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");if(!(e=s.MD(t)))throw new Error("invalid layout");s.ID()||s.CD(e)}get keyboard(){const t=d.RD().keyboard;if(t)return t;throw new Error("runtime.keyboard used but Keyboard object missing - add it to your project first")}get ED(){const t=d.RD().ED;if(t)return t;throw new Error("runtime.mouse used but Mouse object missing - add it to your project first")}get PD(){const t=d.RD().PD;if(t)return t;throw new Error("runtime.touch used but Touch object missing - add it to your project first")}get FD(){const t=d.RD().FD;if(t)return t;throw new Error("runtime.timelineController used but Timeline Controller object missing - add it to your project first")}AD(t,s){f.Mi(t),f.Mi(s),d.kD(t,s)}DD(t){f.wi(t);const s=d.OD(t);return s?s.BD():null}LD(t,i){f.Ji(i);const r=d.ND();for(const s of t){const e=d.WD(s),n=e.UD();p.push([n.jD().UA(),n.VD()]),m.push(e)}if(0!==p.length){p.sort(u),m.sort((t,s)=>i(t.BD(),s.BD()));let e=!1;for(let t=0,s=p.length;t<s;++t){const h=m[t],o=r.HD(p[t][0]),a=p[t][1],l=o.zD();l[a]!==h&&((l[a]=h).UD().JD(o,!0),o.qD(h),e=!0)}e&&d.XD(),c.Vh(p),c.Vh(m)}}async $D(t,s){const e=new MessageChannel,i=e.port1,r=e.port2;return await d.YD("runtime","script-create-worker",{url:t,opts:s,port2:r},[r]),i}alert(t){return d.YD("runtime","alert",{message:t+(d.nk()?" [via Web Worker]":"")})}KD(t){return f.wi(t),d.ZD(t)}QD(t){d.tO(t)}}}{let s=self.Ls,e=null;self.sO=class{constructor(t){e=t,Object.defineProperties(this,{eO:{value:!0,writable:!1}})}iO(t){const s=self.nO.rO(t);if(!s)throw new Error("invalid IImageInfo");s.hO(e.oO())}aO(t){return e.Co(t)}lO(t){return e.Ro(t)}uO(t){return e.Eo(t)}cO(t){return e.Po(t)}fO(t){return e.dO(t)}pO(t){return"flat"===e.mO()&&s.Go(t)&&(t=t.toLowerCase()),e.gO(t)}get yO(){return e.SO()}async wO(t,s){throw new Error("decodeWebMOpus() is no longer supported - use Web Audio's decodeAudioData() directly as all supported platforms now support WebM Opus")}bO(...t){return e.vO(...t)}xO(t){return e.MO(t)}TO(t){return e.GO(t)}}}{let h=self.Ls,e=self.Xs,o=null;self._O=class{constructor(t){o=t,Object.defineProperties(this,{runtime:{value:o.oO(),writable:!1}})}IO(t,s){const e=o.oO(),i=e.WD(t),r=e.WD(s);return o.CO(i,r)}RO(t,s){const e=o.oO(),i=e.WD(t);for(const r of s){const n=e.WD(r);if(o.CO(i,n))return r}return null}EO(t){const s=o.oO().WD(t),e=o.PO(s);return e?e.BD():null}FO(t,s){if(e.wi(t),e.wi(s),t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid cell size");o.AO(t,s)}kO(){return o.DO()}OO(t,s){let e=o.oO(),i;i=Array.isArray(t)?t.map(t=>e.BO(t)):[e.BO(t)];const r=h.Rect.Il(s),n=[];return o.LO(null,i,r,n),n.map(t=>t.BD())}}}{let s=self.Ls,e=null,i=new Map([["Windows","windows"],["macOS","macos"],["Linux","linux"],["Chrome OS","chrome-os"],["Android","android"],["iOS","ios"]]),r=new Map([["Chrome","chrome"],["Chromium","chromium"],["Edge","edge"],["Opera","opera"],["NW.js","nwjs"],["Firefox","firefox"],["Safari","safari"]]),n=new Map([["Chromium","chromium"],["Gecko","gecko"],["WebKit","webkit"]]);self.mk=class{constructor(t){e=t,Object.defineProperties(this,{NO:{value:s.ue.ve,writable:!1},WO:{value:i.get(s.ue.fe)||"unknown",writable:!1},UO:{value:s.ue.de,writable:!1},jO:{value:r.get(s.ue.pe)||"unknown",writable:!1},VO:{value:s.ue.me,writable:!1},HO:{value:n.get(s.ue.ye)||"unknown",writable:!1}})}get exportType(){let t=e.zO();return e.JO()?t="nwjs":e.qO()?t="windows-webview2":"cordova"===t?t="Android"===s.ue.fe?"cordova-android":"cordova-ios":"playable-ad-single-file"!==t&&"playable-ad-zip"!==t||(t="playable-ad"),t}get renderer(){return e.$O().XO()}get YO(){return e.$O().KO()}get ZO(){return e.$O().QO()}get t5(){return e.$O().s5()}get e5(){return e.$O().i5()}get r5(){return e.$O().n5()}get devicePixelRatio(){return e.h5()}}}{const ci=self.Xs;self.rk=class{constructor(t){this.o5=t.a5()}getItem(t){return ci.Mi(t),this.o5.getItem(t)}setItem(t,s){return ci.Mi(t),this.o5.setItem(t,s)}removeItem(t){return ci.Mi(t),this.o5.removeItem(t)}clear(){return this.o5.clear()}keys(){return this.o5.keys()}}}{const fi=self.Ls,di=fi.Ns();self.l5=class{#u5;constructor(){const t=fi.f5.c5(di);this.#u5=t,Object.defineProperties(this,{runtime:{value:t.oO().d5(),writable:!1},p5:{value:t.m5(),writable:!1},g5:{value:t.y5(),writable:!1},S5:{value:t.w5(),writable:!1},b5:{value:t.v5(),writable:!1},x5:{value:t.M5(),writable:!1},T5:{value:t.G5(),writable:!1},_5:{value:t.I5(),writable:!1},C5:{value:t.R5(),writable:!1}}),t.oO().E5(this,t)}static P5(t){if(!t)return null;const s=fi.f5.F5(t);return s?s.A5():null}k5(){return this.#u5.O5().D5()}B5(){return this.#u5.L5().BD()}}}{const pi=self.Ls,mi=self.Xs,gi=pi.Ns();self.N5=class{#u5;constructor(){const t=pi.f5.c5(gi);this.#u5=t,Object.defineProperties(this,{name:{value:t.nf(),writable:!1},runtime:{value:t.oO().d5(),writable:!1},W5:{value:t.U5().A5(),writable:!1}}),t.oO().E5(this,t)}addEventListener(t,s){mi.Mi(t),mi.Ji(s),this.#u5.Sk().addEventListener(t,s)}removeEventListener(t,s){mi.Mi(t),mi.Ji(s),this.#u5.Sk().removeEventListener(t,s)}j5(){return[...this.instances()]}V5(){return pi.first(this.instances())}H5(){return[...this.z5()]}J5(){return pi.first(this.z5())}q5(t){const s=this.#u5,e=s.oO().X5(t),i=s.Y5(e);return i?i.BD():null}*instances(){for(const t of this.#u5.K5())yield t.BD()}*z5(){for(const t of this.#u5.Q5().Z5())yield t.BD()}tB(t){mi.Ji(t);const s=this.#u5;if(0<s.sB())throw new Error("setInstanceClass() called too late, because instances have already been created - call in runOnStartup");s.eB(t)}Le(t,s,e,i,r){if(mi.di(s),mi.di(e),"number"!=typeof t&&"string"!=typeof t)throw new TypeError("invalid layer parameter");const n=this.#u5,h=n.oO(),o=h.wD().jD(t);if(!o)throw new Error("invalid layer");const a=h.iB(n,o,s,e,i,r),l=(i&&o.rB(a),h.xk());return l.nB(!0),a.hB(),l.nB(!1),l.oB()||h.xD().aB()||h.lB(),a.BD()}}}{const yi=self.Xs,l=new WeakMap,Si=["above","below","top-sublayer","bottom-sublayer"];self.uB=class{constructor(t){l.set(this,t);const s=[],e=t.cB(),i=e.fB().length;for(let t=0;t<i;++t)s.push(new self.dB(e,t));Object.defineProperties(this,{name:{value:t.nf(),writable:!1},index:{value:t.UA(),writable:!1},effects:{value:s,writable:!1}})}addEventListener(t,s){yi.Mi(t),yi.Ji(s),l.get(this).Sk().addEventListener(t,s)}removeEventListener(t,s){yi.Mi(t),yi.Ji(s),l.get(this).Sk().removeEventListener(t,s)}get width(){return l.get(this).Sm()}set width(t){yi.wi(t),l.get(this)._m(t)}get height(){return l.get(this).Rm()}set height(t){yi.wi(t),l.get(this).wm(t)}pB(t,s){yi.wi(t),yi.wi(s);const e=l.get(this);e._m(t),e.wm(s)}getSize(){const t=l.get(this);return[t.Sm(),t.Rm()]}set scale(t){yi.wi(t),l.get(this).mB(t)}get scale(){return l.get(this).gB()}set angle(t){yi.wi(t),l.get(this).yB(t)}get angle(){return l.get(this).SB()}set scrollX(t){yi.di(t),l.get(this).wB(t)}get scrollX(){return l.get(this).bB()}set scrollY(t){yi.di(t),l.get(this).vB(t)}get scrollY(){return l.get(this).xB()}scrollTo(t,s){yi.di(t),yi.di(s);const e=l.get(this);e.wB(t),e.vB(s)}MB(){const t=l.get(this);return[t.bB(),t.xB()]}TB(t){let s=l.get(this),e=null;if("number"!=typeof t&&"string"!=typeof t)throw new TypeError("expected string or number");return(e=s.jD(t))?e.GB():null}_B(){return l.get(this).IB().map(t=>t.GB())}*CB(){for(const t of l.get(this).CB())yield t.GB()}RB(t,s,e){const i=l.get(this),r=self.EB,n=(yi.Mi(t),yi.er(s,r),s?i.oO().PB(s):null),h=Si.indexOf(e);if(h<0)throw new Error("invalid location");i.AB(t,n,h)}kB(t,s,e){const i=l.get(this),r=i.oO(),n=self.EB,h=(yi.tr(t,n),r.PB(t));if(!h)throw new Error("invalid layer");yi.er(s,n);const o=s?r.PB(s):null,a=Si.indexOf(e);if(a<0)throw new Error("invalid location");i.DB(h,o,a)}OB(t){const s=l.get(this),e=self.EB,i=(yi.tr(t,e),s.oO().PB(t));if(!i)throw new Error("invalid layer");const r=i.oO();s.BB(i),r.xk().oB()||r.lB()}LB(){const t=l.get(this),s=t.oO();t.NB(),s.xk().oB()||s.lB()}WB(t,s){yi.wi(t),yi.wi(s),l.get(this).UB(t,s)}jB(){return l.get(this).VB()}set K(t){yi.Mi(t);const s=l.get(this);if("perspective"===t)s.HB();else{if("orthographic"!==t)throw new Error("invalid projection");s.zB()}}get K(){return l.get(this).JB()?"orthographic":"perspective"}}}{const wi=self.Ls,bi=self.Xs,f=new WeakMap,vi=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),xi=new Map([...vi.entries()].map(t=>[t[1],t[0]])),Mi=wi.mn(wi.$o);self.EB=class{constructor(t){f.set(this,t);const s=[],e=t.cB(),i=e.fB().length;for(let t=0;t<i;++t)s.push(new self.dB(e,t));Object.defineProperties(this,{name:{value:t.nf(),writable:!1},layout:{value:t.MD().bD(),writable:!1},effects:{value:s,writable:!1}}),t.oO().E5(this,t)}get qB(){const t=f.get(this).XB();return t?t.GB():null}*$B(){for(const t of f.get(this).$B())yield t.GB()}*YB(){for(const t of f.get(this).KB())yield t.GB()}*ZB(){for(const t of f.get(this).KB())for(const s of t.QB())yield s.GB()}get index(){return f.get(this).UA()}get isVisible(){return f.get(this).tL()}set isVisible(t){f.get(this).sL(t)}get eL(){return f.get(this).iL()}get isInteractive(){return f.get(this).rL()}set isInteractive(t){f.get(this).nL(t)}get hL(){return f.get(this).oL()}set hL(t){f.get(this).aL(!!t)}get lL(){return f.get(this).uL()}get opacity(){return f.get(this).X3()}set opacity(t){t=wi.vn(+t,0,1),isNaN(t)||f.get(this).K3(t)}set scale(t){bi.wi(t),f.get(this).cL(t)}get scale(){return f.get(this).fL()}set scaleRate(t){bi.wi(t),f.get(this).dL(t)}get scaleRate(){return f.get(this).pL()}set angle(t){bi.wi(t),f.get(this).yB(t)}get angle(){return f.get(this).mL()}set parallaxX(t){bi.wi(t),f.get(this).gL(t)}get parallaxX(){return f.get(this).yL()}set parallaxY(t){bi.wi(t),f.get(this).SL(t)}get parallaxY(){return f.get(this).wL()}set bL(t){bi.wi(t),f.get(this).Wb(t)}get bL(){return f.get(this).Nb()}set vL(t){f.get(this).xL(t)}get vL(){return f.get(this).ML()}set TL(t){f.get(this).GL(t)}get TL(){return f.get(this)._L()}set WF(t){bi.Mi(t);const s=vi.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");f.get(this).Mb(s)}get WF(){return xi.get(f.get(this).IL())}set backgroundColor(t){if(bi.Li(t),t.length<3)throw new Error("expected 3 elements");Mi.ea(t[0],t[1],t[2]);const s=f.get(this),e=s.CL();e.xa(Mi)||(e.ua(Mi),s.oO().XD())}get backgroundColor(){const t=f.get(this).CL();return[t.ca(),t.fa(),t.ga()]}set scrollX(t){bi.di(t);const s=f.get(this);s.RL(!0),s.wB(t)}get scrollX(){return f.get(this).bB()}set scrollY(t){bi.di(t);const s=f.get(this);s.RL(!0),s.vB(t)}get scrollY(){return f.get(this).xB()}scrollTo(t,s){bi.di(t),bi.di(s);const e=f.get(this);e.RL(!0),e.wB(t),e.vB(s)}MB(){const t=f.get(this);return[t.bB(),t.xB()]}EL(){f.get(this).RL(!1)}getViewport(){return f.get(this).PL().Al()}FL(t,s,e=0){bi.di(t),bi.di(s),bi.di(e);const i=f.get(this),r=i.oO();return i.AL(t-r.kL(),s-r.DL(),e)}OL(t,s,e=0){bi.di(t),bi.di(s),bi.di(e);const i=f.get(this),r=i.oO(),[n,h]=i.BL(t,s,e);return[n+r.kL(),h+r.DL()]}LL(t,s,e=0){return bi.di(t),bi.di(s),bi.di(e),f.get(this).NL(t,s,e)}WL(t,s,e=0){return bi.di(t),bi.di(s),bi.di(e),f.get(this).UL(t,s,e)}get jL(){return f.get(this).VL()}}}{let i=function(t){let s=_i.get(t);return s||(s=Ti.mn(Ti.Event.Xf),_i.set(t,s)),s};i;const Ti=self.Ls,Gi=self.Xs,_i=new WeakMap,Ii=Ti.Ns();self.HL=class{#u5;constructor(){const t=Ti.f5.c5(Ii),s={runtime:{value:(this.#u5=t).oO().d5(),writable:!1},zL:{value:t.JL().D5(),writable:!1},W5:{value:t.U5().A5(),writable:!1}};t.qL(s),t.XL(s),Object.defineProperties(this,s),t.oO().E5(this,t)}static $L(){return Ti.f5.YL()}KL(){const t=_i.get(this);t&&(t.gn(),_i.delete(this))}addEventListener(t,s,e){Gi.Mi(t),Gi.Ji(s),i(this).addEventListener(t,s,e)}removeEventListener(t,s,e){Gi.Mi(t),Gi.Ji(s),i(this).removeEventListener(t,s,e)}dispatchEvent(t){i(this).dispatchEvent(t)}ZL(){const t=this.#u5,s=t.oO();s.QL(t),s.xk().oB()||s.xD().aB()||s.xk().tN()||s.lB()}sN(){const t=this.#u5.eN();return t?t.map(t=>t.BD()):[]}*iN(){const t=this.#u5;if(t.rN())for(const s of t.nN())yield s.BD()}get uid(){return this.#u5.hN()}get oN(){return this.#u5.aN()}get lN(){return this.#u5.uN()}set timeScale(t){Gi.wi(t),this.#u5.Kk(t)}get timeScale(){return this.#u5.cN()}fN(){this.#u5.dN()}get Vk(){const t=this.#u5;return t.oO().Hk(t)}pN(...t){Gi.Li(t);const s=new Set(t),e=this.#u5.mN();return s.isSubsetOf(e)}gN(t){Gi.tr(t,Set),this.#u5.yN(t)}SN(){return new Set(this.#u5.mN())}signal(t){Gi.Mi(t);const s=this.#u5;s.oO().xk().wN(s,t)}Nk(t){Gi.Mi(t);const s=this.#u5;return s.oO().xk().bN(s,t)}}}{const Ci=self.Ls,Ri=self.Xs,Ei=Ci.Ns();self.vN=class extends self.HL{#u5;#xN=!1;#MN=null;#TN=!1;#GN=null;#_N;#IN;constructor(t){super(),this.#u5=Ci.f5.c5(Ei),this.#xN=!1,this.#MN=null,this.#TN=!1,this.#GN=null,this.#_N=t?.domComponentId,this.#IN=t?.wrapperComponentId}KL(){this.CN(!1),this.RN(!1),super.KL()}EN(){return Ci.f5.PN()}FN(t){const s=this.#u5;s.oO().AN(t,s)}kN(t){const s=this.#u5;return s.oO().DN(t,s)}ON(t,s){if(Ri.Mi(t),Ri.Ji(s),!this.#_N)throw new Error("no DOM component id set");const e=this.#u5.oO();e.BN(this.#_N,t,s)}LN(t){Ri.Li(t);for(const[s,e]of t)this.ON(s,e)}NN(t,s){if(Ri.Mi(t),!this.#_N)throw new Error("no DOM component id set");const e=this.#u5.oO();e.Sf(this.#_N,t,s)}WN(t,s){if(Ri.Mi(t),!this.#_N)throw new Error("no DOM component id set");const e=this.#u5.oO();return e.YD(this.#_N,t,s)}UN(t,s){const e=this.#u5.oO();if(!e.nk())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.#_N,handler:t,data:s,responseId:null});this.NN(t,s)}CN(t){if(this.#xN!==(t=!!t)){this.#xN=t;const s=this.#u5.oO();if(t){if(!this.#MN)if(this.#u5.oO().jN()){const e=globalThis.C3Debugger,i=this.W5;this.#MN=()=>{const t=performance.now();this.VN(),e.AddIndividualPluginTickTime(i,performance.now()-t)}}else this.#MN=()=>this.VN();s.Xf().addEventListener("tick",this.#MN)}else s.Xf().removeEventListener("tick",this.#MN)}}HN(){return this.#xN}VN(){}RN(t){if(this.#TN!==(t=!!t)){this.#TN=t;const s=this.#u5.oO();if(t){if(!this.#GN)if(this.#u5.oO().jN()){const e=globalThis.C3Debugger,i=this.W5;this.#GN=()=>{const t=performance.now();this.zN(),e.AddIndividualPluginTickTime(i,performance.now()-t)}}else this.#GN=()=>this.zN();s.Xf().addEventListener("tick2",this.#GN)}else s.Xf().removeEventListener("tick2",this.#GN)}}JN(){return this.#TN}zN(){}qN(){return[]}XN(){return null}$N(t){}YN(){if(!this.#IN)throw new Error("no wrapper component id set");const t=this.#u5.oO();return t.KN(this.#IN)}ZN(t,s){if(Ri.Mi(t),Ri.Ji(s),!this.#IN)throw new Error("no wrapper component id set");const e=this.#u5.oO();e.QN(this.#IN,t,s)}t4(t){Ri.Li(t);for(const[s,e]of t)this.ZN(s,e)}s4(t,s){if(!this.#IN)throw new Error("no wrapper component id set");this.runtime.gk.e4(this.#IN,t,s)}i4(t,s){if(this.#IN)return this.runtime.gk.r4(this.#IN,t,s);throw new Error("no wrapper component id set")}}}{let t=function(t){return class r extends t{#n4;#h4;constructor(t){super(t);const s=Pi.f5.c5(Di),e=s.UD(),i=(this.#n4=s,this.#h4=e,ki.set(this,s),[]),r=e.o4();if(r){const h=e.JL().cB().fB().length;for(let t=0;t<h;++t)i.push(new self.dB(r,t))}const n={effects:{value:i,writable:!1}};Object.defineProperties(this,n)}get layout(){return this.#h4.MD().bD()}get a4(){return this.#h4.jD().GB()}get x(){return this.#h4.kb()}set x(t){t=+t;const s=this.#h4;isNaN(t)||s.kb()===t||(s.Db(t),s.l4())}get y(){return this.#h4.Bb()}set y(t){t=+t;const s=this.#h4;isNaN(t)||s.Bb()===t||(s.Lb(t),s.l4())}setPosition(t,s){t=+t,s=+s;const e=this.#h4;isNaN(t)||isNaN(s)||e.kb()===t&&e.Bb()===s||(e.u4(t,s),e.l4())}c4(){const t=this.#h4;return[t.kb(),t.Bb()]}f4(t,s){if(t=+t,s=+s,!(isNaN(t)||isNaN(s)||0===t&&0===s)){const e=this.#h4;e.d4(t,s),e.l4()}}get bL(){return this.#h4.Nb()}set bL(t){t=+t;const s=this.#n4,e=this.#h4;isNaN(t)||e.Nb()===t||(e.Wb(t),s.oO().XD())}get m4(){return this.#h4.g4()}get width(){return this.#h4.Sm()}set width(t){t=+t;const s=this.#h4;isNaN(t)||s.Sm()===t||(s._m(t),s.l4())}get height(){return this.#h4.Rm()}set height(t){t=+t;const s=this.#h4;isNaN(t)||s.Rm()===t||(s.wm(t),s.l4())}pB(t,s){t=+t,s=+s;const e=this.#h4;isNaN(t)||isNaN(s)||e.Sm()===t&&e.Rm()===s||(e.mC(t,s),e.l4())}getSize(){const t=this.#h4;return[t.Sm(),t.Rm()]}get angle(){return this.#h4.SB()}set angle(t){t=Pi.xn(+t);const s=this.#h4;isNaN(t)||s.SB()===t||(s.yB(t),s.l4())}get y4(){return Pi.Tn(this.angle)}set y4(t){this.angle=Pi.Mn(t)}Ru(){return this.#h4.S4().Al()}w4(){return this.#h4.b4().Mu()}v4(){return this.#h4.x4()}get isVisible(){return this.#h4.iL()}set isVisible(t){t=!!t;const s=this.#n4,e=this.#h4;e.iL()!==t&&(e.sL(t),s.oO().XD())}get opacity(){return this.#h4.X3()}set opacity(t){t=Pi.vn(+t,0,1);const s=this.#n4,e=this.#h4;isNaN(t)||e.X3()===t||(e.K3(t),s.oO().XD())}set M4(t){if(Fi.Li(t),t.length<3)throw new Error("expected 3 elements");Li.ea(t[0],t[1],t[2]);const s=this.#n4,e=this.#h4;e.T4().xa(Li)||(e.G4(Li),s.oO().XD())}get M4(){const t=this.#h4.T4();return[t.ca(),t.fa(),t.ga()]}set WF(t){Fi.Mi(t);const s=Oi.get(t);if("number"!=typeof s)throw new Error("invalid blend mode");const e=this.#n4,i=this.#h4;i.Mb(s),e.oO().XD()}get WF(){return Bi.get(this.#h4.IL())}_4(){this.#h4.I4()}C4(){this.#h4.R4()}E4(t){Fi.tr(t,Ai);const s=this.#n4,e=s.oO().PB(t);if(!e)throw new Error("invalid layer");s.UD().P4(e)}F4(t,s){Fi.tr(t,r),this.#h4.A4(ki.get(t),s)}get zIndex(){return this.#h4.VD()}get D4(){return this.#h4.O4()}set D4(t){this.#h4.B4(!!t)}su(t,s){return Fi.di(t),Fi.di(s),this.#h4.L4(+t,+s)}IO(t){Fi.tr(t,r);const s=this.#n4,e=ki.get(t);return s.oO().XA().CO(s,e)}EO(){const t=this.#n4,s=t.oO().XA().PO(t);return s?s.BD():null}getParent(){const t=this.#n4.N4();return t?t.BD():null}W4(){const t=this.#n4.U4();return t?t.BD():null}*j4(){for(const t of this.#n4.j4())yield t.BD()}V4(){return this.#n4.H4()}z4(t){const s=this.#n4.J4(t);return s?s.BD():null}*children(){for(const t of this.#n4.children())yield t.BD()}*q4(){for(const t of this.#n4.q4())yield t.BD()}X4(t,s){Fi.tr(t,r),Fi.Pi(s),s=s||{};const e=this.#n4,i=ki.get(t);e.Y4(i,s)}removeChild(t){Fi.tr(t,r);const s=this.#n4,e=ki.get(t);s.K4(e)}Z4(){const t=this.#n4;if(t.Q4()){const s=t.N4();s.K4(t)}}t6(){const t=this.#h4;return{s6:t.e6(),i6:t.r6(),n6:t.h6(),o6:t.a6(),l6:t.u6(),c6:t.f6(),d6:t.p6(),m6:t.g6(),y6:t.S6()}}w6(t,s){Fi.wi(t),Fi.wi(s),this.#h4.b6(t,s)}v6(){const t=this.#h4;t.x6(),t.l4()}M6(t,s,e){Fi.wi(t),Fi.wi(s),Fi.Ei(e);const i=this.#h4;i.T6(t,s,e)&&i.l4()}G6(t,s){let e=NaN,i=NaN,r=NaN,n=NaN,h=NaN,o=this.#h4;if(o._6()){const a=o.I6(),l=a.Tv(t,s);null!==l&&(e=l.kb(),i=l.Bb(),r=l.Nb(),n=l.Ub(),h=l.Vb())}return{x:e,y:i,bL:r,u:n,v:h}}C6(){const t=this.#h4;if(!t._6())return[0,0];const s=t.I6();return[s.cv(),s.dv()]}}};0;const Pi=self.Ls,Fi=self.Xs,Ai=self.EB,ki=new WeakMap,Di=Pi.Ns(),Oi=new Map([["normal",0],["additive",1],["copy",3],["destination-over",4],["source-in",5],["destination-in",6],["source-out",7],["destination-out",8],["source-atop",9],["destination-atop",10]]),Bi=new Map([...Oi.entries()].map(t=>[t[1],t[0]])),Li=Pi.mn(Pi.$o);self.R6=t(self.HL),self.E6=t(self.vN)}{const Ni=self.Xs;self.P6=class extends self.R6{#u5;constructor(){super(),this.#u5=self.HL.$L()}F6(){return this.#u5.k6().A6()}focus(){this.#u5.k6().D6()}blur(){this.#u5.k6().O6()}B6(t,s){Ni.Mi(t),this.#u5.k6().L6(t,s)}}}{let i=function(t){let s=ji.get(t);return s||(s=Wi.mn(Wi.Event.Xf),ji.set(t,s)),s};i;const Wi=self.Ls,Ui=self.Xs,ji=new WeakMap,Vi=Wi.Ns();self.N6=class{#u5;constructor(){const t=Wi.f5.c5(Vi),s={runtime:{value:(this.#u5=t).oO().d5(),writable:!1},behavior:{value:t.U6().W6(),writable:!1},j6:{value:t.H6().V6(),writable:!1}};Object.defineProperties(this,s),t.oO().E5(this,t)}static $L(){return Wi.f5.YL()}get z6(){return this.#u5.J6().BD()}KL(){const t=ji.get(this);t&&(t.gn(),ji.delete(this))}addEventListener(t,s,e){Ui.Mi(t),Ui.Ji(s),i(this).addEventListener(t,s,e)}removeEventListener(t,s,e){Ui.Mi(t),Ui.Ji(s),i(this).removeEventListener(t,s,e)}dispatchEvent(t){i(this).dispatchEvent(t)}}}{const Hi=self.Ls,zi=Hi.Ns();self.q6=class{constructor(){const t=Hi.f5.c5(zi),s={runtime:{value:t.oO().d5(),writable:!1},behavior:{value:t.U6().W6(),writable:!1},name:{value:t.nf(),writable:!1}};Object.defineProperties(this,s)}}}{const Ji=self.Ls,qi=Ji.Ns();self.X6=class{#u5;constructor(){const t=Ji.f5.c5(qi),s={runtime:{value:(this.#u5=t).oO().d5(),writable:!1}};Object.defineProperties(this,s),t.oO().E5(this,t)}j5(){return this.#u5.Z5().map(t=>t.BD())}static P5(t){if(!t)return null;const s=Ji.f5.Y6(t);return s?s.W6():null}}}{const Xi=self.Ls,$i=self.Xs,Yi=Xi.mn(Xi.$o);self.dB=class{#u5;constructor(t,s){this.#u5=t;const e={index:{value:s,writable:!1}};Object.defineProperties(this,e)}get name(){const t=this.#u5.fB();return t[this.index].nf()}get isActive(){return this.#u5.K6(this.index)}set isActive(t){t=!!t;const s=this.#u5;s.K6(this.index)!==t&&(s.Z6(this.index,t),s.Q6(),s.oO().XD())}setParameter(t,s){$i.wi(t),t=Math.floor(+t);const e=this.#u5,i=e.tW(this.index,t);if(null===i)throw new RangeError("invalid index");if(i instanceof Xi.$o){if(!Array.isArray(s)||s.length<3)throw new TypeError("expected array with 3 elements");Yi.ea(s[0],s[1],s[2]),s=Yi}else if("number"!=typeof s)throw new TypeError("expected number");const r=e.sW(this.index,t,s);r&&e.K6(this.index)&&e.oO().XD()}getParameter(t){$i.wi(t),t=Math.floor(+t);const s=this.#u5,e=s.tW(this.index,t);if(null===e)throw new RangeError("invalid index");return e instanceof Xi.$o?[e.ca(),e.fa(),e.ga()]:e}}}self.eW=class{#u5;constructor(t){this.#u5=t,Object.defineProperties(this,{name:{value:t.nf(),writable:!1}})}get speed(){return this.#u5.iW()}get isLooping(){return this.#u5.rW()}get repeatCount(){return this.#u5.nW()}get hW(){return this.#u5.oW()}get aW(){return this.#u5.lW()}get frameCount(){return this.#u5.uW()}cW(){return this.#u5.fW().map(t=>t.dW())}*frames(){for(const t of this.#u5.fW())yield t.dW()}};self.nO=class{#u5;constructor(t){this.#u5=t}static rO(t){return t.#u5}get width(){return this.#u5.Sm()}get height(){return this.#u5.Rm()}getSize(){const t=this.#u5;return[t.Sm(),t.Rm()]}pW(t){return t.mW(this)}gW(){return this.#u5.JC().Al()}};{const Ki=self.Xs;self.yW=class extends self.nO{#u5;constructor(t){super(t.SW()),this.#u5=t,Object.defineProperties(this,{duration:{value:t.wW(),writable:!1},bW:{value:t.vW(),writable:!1},xW:{value:t.MW(),writable:!1}})}TW(){const t=this.#u5;return[t.vW(),t.MW()]}GW(){return this.#u5._W()}IW(t){return this.RW(t)[0]}EW(t){return this.RW(t)[1]}RW(t){let s=this.#u5,e=null;if("number"==typeof t)e=s.PW(Math.floor(t));else{if("string"!=typeof t)throw new TypeError("expected string or number");e=s.FW(t)}return e?[e.kb(),e.Bb()]:this.TW()}AW(){const t=this.#u5.kW();return t?t.zu():0}DW(t){return this.OW(t)[0]}BW(t){return this.OW(t)[1]}OW(t){Ki.wi(t),t=Math.floor(t);const s=this.#u5.kW();if(!s||t<0||t>=s.zu())return[0,0];const e=s.Hu(),i=e[2*t],r=e[2*t+1];return[i,r]}get tag(){return this.#u5.LW()}}}{let s=function(t){const s=Qi.get(t);if(s.NW())throw new Error("timeline/tween was released and is no longer valid");return s};s;const Zi=self.Xs,Qi=new WeakMap;self.WW=class{constructor(t){Qi.set(this,t),t.oO().E5(this,t)}pause(){s(this).UW()}resume(){s(this).jW()}stop(){s(this).m0()}pN(t){return s(this).VW(t)}set time(t){Zi.wi(t),s(this).HW(t)}get time(){return s(this).TP()}set totalTime(t){Zi.wi(t),s(this).zW(t)}get totalTime(){return s(this).JW()}set isLooping(t){s(this).qW(!!t)}get isLooping(){return s(this).XW()}set aW(t){s(this).$W(!!t)}get aW(){return s(this).YW()}set playbackRate(t){Zi.wi(t),s(this).KW(t)}get playbackRate(){return s(this).ZW()}get progress(){const t=s(this);return t.TP()/t.JW()}get tags(){return s(this).QW()}get finished(){return s(this).tU()}get isPlaying(){return s(this).IsPlaying()}get sU(){return s(this).eU()}get iU(){return Qi.get(this).NW()}}}{let e=new WeakMap;self.rU=class extends self.WW{constructor(t){super(t),e.set(this,t);const s={name:{value:t.nf(),writable:!1}};Object.defineProperties(this,s)}}}{let e=function(t){const s=r.get(t);if(s.NW())throw new Error("tween was released and is no longer valid");return s},i=(e,self.Xs),r=new WeakMap,n=new WeakMap,h=null;self.nU=class extends self.WW{constructor(t,s,e){super(t),h=h||e.easeToIndexFunc,r.set(this,t),s&&n.set(this,s)}stop(){const t=e(this),s=n.get(this);s.ReleaseTween(t)}hU(t){i.Mi(t);const s=self.Mc.Wc(h(t));e(this).oU(s)}get z6(){const t=e(this).aU();return t?t.BD():null}get lU(){return e(this).uU()}set lU(t){e(this).cU(!!t)}get value(){const t=e(this);if("value"!==t.fU())throw new Error("not a value tween");return t.pU("value").dU()}}}self.mU=class extends self.l5{constructor(){super()}};{const tr=self.Ls,sr=self.Xs,er=tr.Ns();self.gU=class extends self.mU{#u5;#_N;#yU=0;#SU=new Map;constructor(t){if(super(),this.#u5=tr.f5.c5(er),!t?.domComponentId)throw new Error("no DOM component ID specified");this.#_N=t.domComponentId,this.wU("elem-focused",t=>t.bU()),this.wU("elem-blurred",t=>{t&&t.vU()})}xU(t){const s=this.#yU++;return this.#SU.set(s,t),s}MU(t){this.#SU.delete(t)}wU(t,e){const s=this.#u5.oO();s.BN(this.#_N,t,t=>{const s=this.#SU.get(t.elementId);e(s,t)})}TU(t){sr.Li(t);for(const[s,e]of t)this.TU(s,e)}}}{const ir=self.Ls,rr=(new WeakMap,ir.Ns());self.GU=class extends self.N5{#u5;constructor(){super(),this.#u5=ir.f5.c5(rr)}_U(){}IU(){return this.#u5.SW().CU()}RU(t){}EU(t){}PU(){}FU(t){}}}{const nr=self.Ls,hr=(new WeakMap,nr.Ns());self.AU=class extends self.E6{#u5;#kU=null;#DU=null;constructor(t){super(t),this.#u5=nr.f5.c5(hr)}KL(){if(super.KL(),this.#kU){const t=this.#u5.oO().Xf();t.removeEventListener("renderercontextlost",this.#kU),t.removeEventListener("renderercontextrestored",this.#DU),this.#kU=null,this.#DU=null}}OU(){if(!this.#kU){this.#kU=()=>this.BU(),this.#DU=()=>this.LU();const t=this.#u5.oO().Xf();t.addEventListener("renderercontextlost",this.#kU),t.addEventListener("renderercontextrestored",this.#DU)}}BU(){}LU(){}NU(t){}}}{const or=self.Ls,ar=or.mn(or.Rect),lr=new WeakMap,ur=or.Ns();self.WU=class extends self.AU{#UU=-1;#jU=!0;#VU=!1;#HU=!1;#zU=-.2;#JU=or.mn(or.Rect,0,0,-1,-1);#qU=0;#XU=0;#$U=-1;#YU=-1;#KU=!1;constructor(t){if(!t?.domComponentId)throw new Error("no DOM component ID specified");super(t);const s=or.f5.c5(ur),e=(lr.set(this,s),this.#UU=this.W5.xU(this),s.oO().$O());this.#qU=e.ZU(),this.#XU=e.QU(),this.CN(!0)}KL(){super.KL(),this.W5.MU(this.#UU),this.t8("destroy"),this.#UU=-1,lr.delete(this)}s8(){const t=lr.get(this).oO();if(t.nk())throw new Error("not valid in worker mode");return this.e8("get-element")}t8(t,s){(s=s||{}).elementId=this.#UU,this.NN(t,s)}e8(t,s){return(s=s||{}).elementId=this.#UU,this.UN(t,s)}i8(t,s){return(s=s||{}).elementId=this.#UU,this.WN(t,s)}r8(t){t=t||{};const s=lr.get(this).UD();t.elementId=this.#UU,t.isVisible=s.iL(),t.htmlIndex=s.jD().n8(),t.htmlZIndex=s.h8(),Object.assign(t,this.o8()),this.#jU=!!t.isVisible,this.UN("create",t),this.a8(!0)}l8(t){this.#jU!==(t=!!t)&&(this.#jU=t,this.t8("set-visible",{isVisible:t}))}VN(){this.a8(!1)}u8(){const t=lr.get(this).oO(),s=t.$O().c8();return"Android"===or.ue.fe&&("scale-inner"===s||"scale-outer"===s||"crop"===s)}a8(u){const c=lr.get(this);if(!c.f8()){let t=c.UD(),s=t.jD(),e=t.S4(),[i,r]=s.BL(e.Rl(),e.El()),[n,h]=s.BL(e.Pl(),e.Fl()),o=c.oO().$O(),a=o.QO(),l=o.s5();if(t.iL()&&s.iL())if(!this.u8()&&(n<=0||h<=0||a<=i||l<=r))this.l8(!1);else{ar.set(i,r,n,h);const f=o.ZU(),d=o.QU(),p=s.n8(),m=t.h8();if(!u&&ar.equals(this.#JU)&&this.#qU===f&&this.#XU===d&&this.#$U===p&&this.#YU===m)this.l8(!0);else{this.#JU.I(ar),this.#qU=f,this.#XU=d,this.#$U=p,this.#YU=m,this.l8(!0);let t=null;this.#HU&&(t=s.d8()+this.#zU),this.t8("update-position",{left:Math.round(this.#JU.Rl()),top:Math.round(this.#JU.El()),width:Math.round(this.#JU.width()),height:Math.round(this.#JU.height()),htmlIndex:p,htmlZIndex:m,fontSize:t})}}else this.l8(!1)}}p8(){this.e8("focus",{focus:!0})}m8(){this.e8("focus",{focus:!1})}bU(){this.#VU=!0}vU(){this.#VU=!1}g8(){return this.#VU}y8(t,s){this.postToDOMElement("set-css-style",{prop:or.Jo(t),val:s})}S8(t,s){this.postToDOMElement("set-attribute",{name:t,val:s})}w8(t){this.postToDOMElement("remove-attribute",{name:t})}b8(){this.#KU||(this.#KU=!0,Promise.resolve().then(()=>{this.#KU=!1,this.t8("update-state",this.o8())}))}o8(){}v8(){return this.#UU}}}self.x8=class extends self.X6{constructor(){super()}};self.M8=class extends globalThis.q6{constructor(){super()}_U(){}};{const cr=self.Ls,fr=new WeakMap,dr=cr.Ns();self.T8=class extends self.N6{#xN=!1;#TN=!1;#G8=!1;constructor(){super(),fr.set(this,cr.f5.c5(dr))}KL(){super.KL(),this.CN(!1),this.RN(!1),this._8(!1),fr.delete(this)}EN(){return cr.f5.PN()}I8(){}FN(t){const s=fr.get(this);s.oO().AN(t,s.J6(),s.H6())}kN(t){const s=fr.get(this);return s.oO().DN(t,s.J6(),s.H6())}CN(t){if(this.#xN!==(t=!!t)){this.#xN=t;const s=fr.get(this).oO();t?s.C8(this):s.E8(this)}}HN(){return this.#xN}VN(){}RN(t){if(this.#TN!==(t=!!t)){this.#TN=t;const s=fr.get(this).oO();t?s.P8(this):s.F8(this)}}JN(){return this.#TN}zN(){}_8(t){if(this.#G8!==(t=!!t)){this.#G8=t;const s=fr.get(this).oO();t?s.A8(this):s.k8(this)}}D8(){return this.#G8}O8(){}qN(){return[]}XN(){return null}$N(t){}}}{let i=self.Xs,r=null;self.yk=class{constructor(t){r=t}QD(t){r.tO(t)}e4(t,s,e){i.Mi(t),i.Mi(s),i.Ni(e),r.B8(t,s,e)}r4(t,s,e){return i.Mi(t),i.Mi(s),i.Ni(e),r.L8(t,s,e)}N8(t){return i.Ti(t),new self.W8(r,t)}set U8(t){r.j8(!!t)}get U8(){return r.V8()}H8(t){r.z8(!!t)}J8(t){i.di(t);const s=r.q8(t);return s?s.D5():null}}}self.W8=class{#X8;#Y8;#K8;#Z8;#Q8;#tj;constructor(t,s){const e=(this.#X8=t).xk(),i=t.Ck(),r=(this.#Y8=i,this.#K8=i.sj(),t.Dk()),n=(this.#Z8=r.ej(),this.#Q8=r.ij(i),e.rj()),h=n.ij();this.#tj=h,s&&h.nj(s),t.hj(!1)}oj(){const t=this.#X8.xk(),s=this.#K8,e=this.#tj;t.aj(s),this.#Y8.lj(this.#Z8,this.#Q8),t.uj(s),e.cj(e.UA()+1)}get fj(){return this.#tj.dj()}release(){const t=this.#X8,s=t.Dk(),e=t.xk().rj();t.hj(!0),e.pj(),s.pj()}};{let d=self.Ls,r=self.Xs,p=null,n=null;self.mj=class{constructor(t,s){n=t,p=s}gj(){p.rE()}yj(t){p.eE(t)}Sj(){p.XS()}wj(){p.jS()}bj(){p.iw()}setColor(t){p.Y3(t[0],t[1],t[2],t[3])}vj(t,s,e,i){p.Y3(t,s,e,i)}xj(){p.Z3()}Mj(t){p.K3(t)}Tj(t){p.Iw(t)}Gj(){p.Cw()}rect(t){p.oE(t.left,t.top,t.right,t.bottom)}_j(t,s,e,i){p.oE(t,s,e,i)}Ij(t){p.nu(d.nu.Tu(t))}Cj(t,s,e,i,r,n,h,o){p.f2(t,s,e,i,r,n,h,o)}Rj(t,s){p.Lw(d.nu.Tu(t),d.Rect.kl(s))}Ej(t,s){p.uE(d.nu.Tu(t),d.nu.Tu(s))}Pj(t,s,e,i,r,n,h,o,a,l,u,c,f){p.cE(t,s,e,i,r,n,h,o,a,l,u,c,d.Rect.kl(f))}Fj(t,s,e,i,r,n,h,o,a,l,u,c,f){p.Aw(t,s,e,i,r,n,h,o,a,l,u,c,d.nu.Tu(f))}Aj(t,s,e){p.fE(t,s,e)}kj(t){p.c2(t)}line(t,s,e,i){p.km(t,s,e,i)}Dj(t,s,e,i,r,n){p.kw(t,s,e,i,r,n)}Oj(t,s,e,i){p.Nw(t,s,e,i)}Bj(t){p.Vw(d.Rect.kl(t))}Lj(t){p.Hw(d.nu.Tu(t))}Nj(t){p.Yw(t)}Wj(){p.Kw()}Uj(t){p.s2(t)}jj(){p.h2()}Vj(t){r.er(t,self.Hj);const s=t?n.PB(t):null;p.tE(s)}zj(t,s){const e=self.nO.rO(t);if(e)return e.Jj(p,{Dv:s?.Dv??"clamp-to-edge",Ov:s?.Ov??"clamp-to-edge",Bv:s?.Bv??"trilinear",Wv:s?.Wv??!0});throw new Error("invalid IImageInfo")}qj(t){const s=self.nO.rO(t);if(!s)throw new Error("invalid IImageInfo");s.BI()}mW(t){const s=self.nO.rO(t);if(!s)throw new Error("invalid IImageInfo");const e=s.nM();return self.Hj.Xj(n,e)}$j(t,s,e){r.wi(t),r.wi(s);const i=p.$x(t,s,{Dv:e?.Dv??"clamp-to-edge",Ov:e?.Ov??"clamp-to-edge",Bv:e?.Bv??"trilinear",Wv:e?.Wv??!0});return self.Hj.Xj(n,i)}Yj(t,s,e){r.tr(s,self.Hj);const i=n.PB(s);p.zC(t,i,{premultiplyAlpha:e?.premultiplyAlpha??!0})}deleteTexture(t){r.tr(t,self.Hj);const s=n.PB(t);p.Qx(s)}Kj(){const t=p.E2();return new self.Zj(n,t)}Qj(){n.$O().tV(p)}sV(t){r.tr(t,globalThis.EB);const s=n.PB(t);s.eV(p)}}}{const pr=new WeakMap,mr=new WeakMap;self.Hj=class{constructor(t,s){pr.set(this,{runtime:t,iV:s}),mr.set(s,this),t.E5(this,s),Object.defineProperties(this,{width:{value:s.Sm(),writable:!1},height:{value:s.Rm(),writable:!1}})}static Xj(t,s){if(!s)return null;const e=mr.get(s);return e||new self.Hj(t,s)}}}{let i=function(t){return yr.get(t).rV};i;const gr=self.Xs,yr=new WeakMap;self.Zj=class{constructor(t,s){yr.set(this,{runtime:t,rV:s}),t.E5(this,s)}release(){i(this).gn()}set nV(t){gr.Mi(t),i(this).zI(t)}get nV(){return i(this).J_()}set hV(t){gr.wi(t),i(this).JI(t)}get hV(){return i(this).qI()}set lineHeight(t){gr.wi(t),i(this).$I(t)}get lineHeight(){return i(this).YI()}set oV(t){i(this).KI(t)}get oV(){return i(this).ZI()}set aV(t){i(this).QI(t)}get aV(){return i(this).tC()}setColor(t){gr.Li(t),this.lV(t[0],t[1],t[2])}lV(t,s,e){i(this).nC(t,s,e)}uV(t){gr.Mi(t),i(this).Tb(t)}set cV(t){i(this).hC(t)}get cV(){return i(this).oC()}set verticalAlign(t){i(this).aC(t)}get verticalAlign(){return i(this).lC()}set fV(t){i(this).uC(t)}get fV(){return i(this).cC()}set dV(t){i(this).fC(t)}get dV(){return i(this).dC()}set text(t){gr.Mi(t),i(this).wf(t)}get text(){return i(this).pC()}pB(t,s,e){gr.wi(t),gr.wi(s),gr.wi(e),i(this).mC(t,s,e)}pW(){const{runtime:t,rV:s}=yr.get(this),e=s.nM();return self.Hj.Xj(t,e)}gW(){return i(this).JC().Al()}pV(t){gr.Ji(t),i(this).NI=t}mV(){i(this).BI()}get gV(){return i(this).yC()}get yV(){return i(this).wC()}}}{let i=function(t){if(!t)return"";const s=t.split(".");if(s.length<2)return"";const e=s.at(-1).toLowerCase();return wr.get(e)||""},n=function(i){return new Promise((t,s)=>{const e=document.createElement("script");e.onload=t,e.onerror=s,e.async=!1,e.type="module",e.src=i,document.head.appendChild(e)})};i,n;const d=self.Ls,Sr=new Set(["local","remote"]),wr=new Map([["mp4","video/mp4"],["webm","video/webm"],["m4a","audio/mp4"],["mp3","audio/mpeg"],["js","application/javascript"],["wasm","application/wasm"],["svg","image/svg+xml"],["html","text/html"]]);d.SV=class extends d.dn{constructor(t,s){super();const e=s.exportType,i=(this.mf=t,this.wV="folders",this.bV=new Map,this.vV="cordova"===e,this.xV=!!s.isiOSCordova,this.MV=!!s.isFileProtocol,this.TV=s.swClientId,this.GV=s.supportedAudioFormats||{},this._V=new Map,this.IV=!1,this.CV=s.scriptFolder,this.RV="",this.EV="",this.PV="",this.FV=s.fileMap||new Map,this.AV=new Map,"html5"===e||"scirra-arcade"===e||"instant-games"===e);this.kV=i?"remote":"local",this.DV=new Map,this.OV=[],this.BV=[],this.LV=!1,this.NV=0,this.WV=0,this.UV=0,this.jV=!1,this.VV=d.mn(d.Rd,()=>this.HV(),50),this.zV=d.mn(d.bd,Math.max(d.hardwareConcurrency,8)),this.JV=d.mn(d.bd,20),this.qV=new self.sO(this)}gn(){for(const t of this.DV.values())t.gn();this.DV.clear(),d.Vh(this.BV),this.mf=null}oO(){return this.mf}XV(t){this.wV=t}mO(){return this.wV}$V(){return this.CV}YV(t){this.RV=t}SO(){return this.RV}KV(t){this.EV=t}ZV(){return this.EV}QV(t){this.PV=t}t7(){return this.PV}s7(){return this.MV}Eo(t,s){return s=s||this.kV,d.Go(t)?("flat"===this.wV&&(t=t.toLowerCase()),this.vV&&this.MV?this.e7(t):"playable-ad-single-file"===this.mf.zO()?self.c3_runtimeInterface._PlayableAdFetchBlob(t):("local"===s?this.zV:this.JV).wc(()=>d.Eo(t))):d.Eo(t)}Po(t){return d.Go(t)?("flat"===this.wV&&(t=t.toLowerCase()),this.vV&&this.MV?this.i7(t):"playable-ad-single-file"===this.mf.zO()?d.Ao(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.kV?this.zV:this.JV).wc(()=>d.Po(t))):d.Po(t)}Co(t){return d.Go(t)?("flat"===this.wV&&(t=t.toLowerCase()),this.vV&&this.MV?this.r7(t):"playable-ad-single-file"===this.mf.zO()?d.ko(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("local"===this.kV?this.zV:this.JV).wc(()=>d.Co(t))):d.Co(t)}async Ro(t){const s=await this.Co(t);return JSON.parse(s)}n7(t,s){return"flat"===this.wV&&(t=t.toLowerCase()),this.mf.YD("runtime","cordova-fetch-local-file",{filename:t,as:s})}r7(t){return this.n7(t,"text")}async e7(t){const s=await this.n7(t,"buffer"),e=i(t);return new Blob([s],{type:e})}async h7(t){"flat"===this.wV&&(t=t.toLowerCase());let s=this.bV.get(t);if(!s){const e=await this.e7(t);s=URL.createObjectURL(e),this.bV.set(t,s)}return s}i7(t){return this.n7(t,"buffer")}gO(t){"flat"===this.wV&&(t=t.toLowerCase());let s=this.RV+t;return"Gecko"===d.ue.ye&&"preview"===this.mf.zO()?this.o7(s):s}dO(t){return d.To(t)?Promise.resolve(t):this.vV&&this.MV?this.h7(t):"playable-ad-single-file"===this.mf.zO()?URL.createObjectURL(self.c3_runtimeInterface._PlayableAdFetchBlob(t)):("flat"===this.wV&&(t=t.toLowerCase()),Promise.resolve(t))}a7(s){if(d.To(s)||"preview"!==this.mf.zO()||!this.TV||!s)return s;try{const t=new URL(s,location.href);return t.searchParams.set("__c3_client_id",this.TV),t.toString()}catch(t){return console.warn("Invalid iframe URL: "+s),s}}l7(t){return this.dO(t)}u7(t){if(t.c7&&!Sr.has(t.c7))throw new Error("invalid load policy");let s=this.DV.get(t.url);return s||(s=d.mn(d.f7,this,{url:t.url,size:t.size||0,c7:t.c7||this.kV}),this.DV.set(s.d7(),s),this.LV)||(this.NV+=s.cc(),this.BV.push(s.p7().then(()=>this.m7(s.cc())))),s}g7(t){this.DV.delete(t.d7())}async y7(){try{await Promise.all(this.BV),this.UV=1}catch(t){console.error("Error loading: ",t),this.jV=!0,this.HV()}}S7(){this.LV=!0}w7(){return this.jV}m7(t){this.WV+=t,this.VV.Ud()}HV(){const t=d.mn(d.Event,"loadingprogress");this.UV=d.vn(this.WV/this.NV,0,1),t.progress=this.UV,this.mf.Xf().dispatchEvent(t)}mD(){return this.UV}yD(){return this.mf.v7().b7()}x7(t){d.qh(this.OV,t),this.OV.length&&this.BV.push(this.M7())}async M7(){const t=[],s=[];for(const[e,i,r]of this.OV)this.NV+=r,t.push(this.T7(e,i,s).then(()=>this.m7(r)));await Promise.all(t),this.mf.nk()&&0<s.length&&await this.mf.YD("runtime","load-webfonts",{webfonts:s})}async T7(s,e,i){try{let t=await this.dO(e);"Gecko"===d.ue.ye&&(s=`'${s}'`),("Gecko"===d.ue.ye&&"preview"===this.mf.zO()||"playable-ad-single-file"===this.mf.zO())&&(t=this.o7(t));const r=new FontFace(s,`url('${t}')`);(this.mf.nk()?self:document).fonts.add(r),await r.load(),this.mf.nk()&&i.push({name:s,url:t})}catch(t){console.warn(`[C3 runtime] Failed to load web font '${s}': `,t)}}G7(t){return!!this.GV[t]}_7(t,s){this.IV=!!s;for(const[e,i,r]of t)this._V.set(e,{fileName:e,I7:i.map(t=>({type:t[0],C7:t[1],R7:e+t[1],fileSize:t[2]})),isMusic:r})}E7(t){"flat"===this.wV&&(t=t.toLowerCase());const s=this._V.get(t);if(!s)return null;let e=null;for(const i of s.I7)if(e||"audio/webm; codecs=opus"!==i.type||(e=i),this.G7(i.type))return i;return e}P7(t){const s=this.E7(t);return s?{url:this.gO(s.R7),type:s.type}:null}F7(){if(this.IV){const t=[];for(const s of this._V.values())if(!s.isMusic){const e=this.E7(s.fileName);e&&t.push({originalUrl:s.fileName,url:this.gO(e.R7),type:e.type,fileSize:e.fileSize})}return t}return[]}A7(t){return"preview"===this.mf.zO()&&(t=new URL(t,location.href).toString()),this.FV.get(t)||null}o7(t){let s=this.AV.get(t);if(!s){const e=this.A7(t);if(!e)return t;s=URL.createObjectURL(e),this.AV.set(t,s)}return s}HA(){return this.qV}async vO(...t){const s=await Promise.all(t.map(t=>this.dO(t)));if(this.mf.nk())if(1===t.length){const e=t[0];await import((d.Go(e)?"./":"")+e)}else{const i=t.map(t=>`import "${d.Go(t)?"./":""}${t}";`).join("\n"),r=URL.createObjectURL(new Blob([i],{type:"application/javascript"}));await import(r)}else await Promise.all(s.map(t=>n(t)))}async MO(t){if(WebAssembly.compileStreaming){const s=await this.dO(t);return WebAssembly.compileStreaming(fetch(s))}{const e=await d.Po(t);return WebAssembly.compile(e)}}async GO(t){const s=await this.dO(t);return this.mf.YD("runtime","add-stylesheet",{url:s})}}}{const br=self.Ls;br.k7=class extends br.dn{constructor(t,s){super(),this.D7=t,this.mf=t.oO(),this.O7=s.url||"",this.B7=s.size,this.L7=s.c7,this.N7=s.blob||null,this.W7=!!this.N7,this.zg=null}gn(){this.zg=null,this.D7=null,this.mf=null,this.N7=null}d7(){return this.O7}cc(){return this.B7}p7(){return"local"===this.L7||this.N7?(this.W7=!0,Promise.resolve()):(this.zg||(this.zg=this.D7.Eo(this.O7,this.L7).then(t=>(this.W7=!0,this.zg=null,this.N7=t)).catch(t=>{console.error("Error loading resource: ",t),this.zg=null})),this.zg)}U7(){return this.W7}j7(){return this.N7?Promise.resolve(this.N7):this.zg||this.D7.Eo(this.O7,this.L7)}}}{const ln=self.Ls,un=new ln.bd,cn=new Set;ln.f7=class extends ln.k7{constructor(t,s){super(t,s),this.V7=null,this.H7=null,this.b1=0,this.z7=-1,this.J7=-1,cn.add(this)}gn(){if(0!==this.b1)throw new Error("released image asset which still has texture references");this.D7.g7(this),this.V7=null,cn.delete(this),super.gn()}static q7(){for(const t of cn)t.V7=null,t.H7=null,t.b1=0}Jj(t,s){return s=s||{},this.b1++,this.H7?Promise.resolve(this.H7):(this.V7||(s.Lv=this.mf.$O().X7(),this.V7=this.Y7(t,s)),this.V7)}async Y7(s,e){try{const i=await this.j7();return 0===this.b1?this.V7=null:await un.wc(async()=>{const t=await s.BE(i,e);return this.V7=null,0===this.b1?(s.Qx(t),null):(this.H7=t,this.z7=t.Sm(),this.J7=t.Rm(),this.H7)})}catch(t){throw console.error("Failed to load texture: ",t),t}}BI(){if(this.b1<=0)throw new Error("texture released too many times");if(this.b1--,0===this.b1&&this.H7){const t=this.H7.eb();t.Qx(this.H7),this.H7=null}}K7(){return this.b1}nM(){return this.H7}Sm(){return this.z7}Rm(){return this.J7}async Z7(){const t=await this.j7();return ln.je.ImageBitmap?createImageBitmap(t):ln.Oo(t)}}}{let t=function(t,s){return t.UD().Q7()-s.UD().Q7()};t;const fn=self.Ls;fn.tH=class extends fn.dn{constructor(t,s,e){super(),this.sH=t,this.hl=s,this.ol=e,this.eH=[],this.iH=!0,this.rH=new Set,this.nH=!1}gn(){fn.Vh(this.eH),this.rH.clear(),this.sH=null}m0(){fn.Vh(this.eH),this.iH=!0,this.rH.clear(),this.nH=!1}hH(){this.iH=!1}ac(){if(this.eH.length){if(this.eH.length>this.rH.size)return!1;this.oH()}return!0}aH(t){this.rH.has(t)?(this.rH.delete(t),0===this.rH.size&&(this.nH=!1)):(this.eH.push(t),this.iH=1===this.eH.length)}I0(t){this.rH.add(t),this.nH=!0,50<=this.rH.size&&this.oH()}oH(){this.nH&&(this.eH.length===this.rH.size?this.m0():(fn.Zh(this.eH,this.rH),this.rH.clear(),this.nH=!1))}lH(){this.iH||(this.eH.sort(t),this.iH=!0)}uH(t){this.oH(),this.lH(),this.eH.length&&t.push(this.eH)}}}{const dn=self.Ls;dn.cH=class extends dn.dn{constructor(t,s){super(),this.fH=t,this.dH=s,this.pH=dn.mn(dn.nc)}gn(){this.pH.gn(),this.pH=null}mH(t,s,e){let i=this.pH.re(t,s);return i||(e?(i=dn.mn(dn.tH,this,t,s),this.pH.Set(t,s,i),i):null)}gH(t){return Math.floor(t/this.fH)}yH(t){return Math.floor(t/this.dH)}SH(i,r,n){if(r)for(let e=r.Rl(),t=r.Pl();e<=t;++e)for(let t=r.El(),s=r.Fl();t<=s;++t)if(!n||!n.su(e,t)){const h=this.mH(e,t,!1);h&&(h.I0(i),h.ac())&&this.pH.lc(e,t)}if(n)for(let e=n.Rl(),t=n.Pl();e<=t;++e)for(let t=n.El(),s=n.Fl();t<=s;++t)r&&r.su(e,t)||this.mH(e,t,!0).aH(i)}wH(t,s){let e=this.gH(t.Rl()),i=this.yH(t.El()),r=this.gH(t.Pl()),n=this.yH(t.Fl());for(;e<=r;++e)for(let t=i;t<=n;++t){const h=this.mH(e,t,!1);h&&h.uH(s)}}bH(t){let s=t.Rl(),e=t.El(),i=t.Pl(),r=t.Fl();for(;s<=i;++s)for(let t=e;t<=r;++t){const n=this.mH(s,t,!1);n&&n.hH()}}}}{let h=function(t,s){return t.UD().Q7()-s.UD().Q7()},t=function(t,s){return t.UD().Nb()-s.UD().Nb()};h,t;const w=self.Ls,pn=new w.Rect,mn=new w.nu,gn=[],yn=(new w.Rect,new w.Rect,self.vs),Tr=yn.Rs,jr=yn.Es,Mr=yn.Gs,Sn=Mr.create(),wn=Tr.create(),bn=jr.create(),vn=Tr.create(),xn=Tr.create(),Mn=Tr.create(),Tn=w.mn(w.nl),Gn=(w.mn(w.Rect),[]),_n=[],In=[],Cn={name:"",sid:-1,vH:!1,isVisible:!0,isInteractive:!0,hL:!1,backgroundColor:[1,1,1,1],vL:!0,xH:[1,1],opacity:1,TL:!1,MH:!1,TH:!1,GH:!1,scaleRate:1,WF:0,bL:0,_H:[],IH:[],CH:[]};w.RH=class extends w.dn{constructor(t,s,e){super(),e=Object.assign({},Cn,e),this.EH=t,this.mf=t.oO(),this.PH=s,this.wn=e.name,this.ey=-1,this.FH=!!e.hL,this.AH=-1,this.kH=e.sid,this.DH=!!e.vH,this.OH=!!e.isVisible,this.BH=!!e.isInteractive,this.LH=w.mn(w.$o),this.LH.$a(e.backgroundColor),this.NH=!!e.vL,this.WH=e.xH[0],this.UH=e.xH[1],this.bb=w.mn(w.$o,1,1,1,e.opacity),this.jH=w.mn(w.$o),this.VH=!!e.TL,this.HH=!!e.MH,this.zH=!!e.TH,this.JH=!!e.GH,this.qH=e.scaleRate,this.wb=e.WF,this.XH=null,this.$H=1,this.vb=e.bL,this.YH=0,this.KH=0,this.ZH=0,this.QH=!1,this.PR=w.mn(w.Rect),this.sz=w.mn(w.Rect),this.ez=w.mn(w.Rect),this.iz=!0,this.Vx=Mr.create(),this.rz=!0,this._F=Mr.create(),this.nz=!0,this.hz=w.mn(w.gy.by),this.oz=!0,this.az=[],this.lz=e._H,this.uz=[],this.cz=[],this.fz=new Map,this.eH=[],this.pz=!1,this.mz=!1,this.gz=!1;const r=this.mf.$O();this.yz=w.mn(w.Sz,this,e.IH),this.BA=w.mn(w.gy.BP,r.wz(),{_P:(t,s)=>{const e=s.RA(),i=e.AE();t.Tb(e.bz()),t.UE(i),t.jE(i),r.vz(i)},CP:t=>this.cB().xz(t)}),this.Mz=!0,this.Tz=!0,this.Gz=null,this._z=[],this.Iz=!1,this.Cz=w.mn(w.Rect,0,0,-1,-1),this.Rz=w.mn(w.Rect,0,0,-1,-1),this.Ez=new self.EB(this),this.Pz(),this.Fz()&&(this.Gz=w.mn(w.cH,this.mf.ak(),this.mf.uk())),this.Az=e.CH.map(t=>w.RH.kz(this.EH,this,t))}Dz(){for(const t of this.lz){const s=this.mf.Oz(t[1]);this.EH.Bz(s),s.Lz()||(s.Nz(t),s.Wz(this.ey)),this.uz.push(t),this.fz.set(t[2],t)}w.qh(this.az,this.uz),this.lz=null}static kz(t,s,e){return w.mn(w.RH,t,s,{name:e[0],sid:e[2],isVisible:e[3],isInteractive:e[13],hL:e[19],backgroundColor:e[4].map(t=>t/255),vL:e[5],xH:[e[6],e[7]],opacity:e[8],TL:e[9],MH:e[17],TH:e[18],GH:e[10],scaleRate:e[11],WF:e[12],bL:e[16],_H:e[14],IH:e[15],CH:e[20]})}gn(){for(const t of this.Az)t.gn();w.Vh(this.Az);for(const s of this.eH)this.mf.QL(s);w.Vh(this.eH),this.yz.gn(),this.yz=null,this.BA.gn(),this.BA=null,this.Ez=null,this.PH=null,this.EH=null,this.mf=null}Uz(t){return this.fz.get(t)}jz(r){let n=this.EH.Vz(),h=0,o=this.uz;for(let i=0,t=o.length;i<t;++i){let t=o[i],s=this.mf.Oz(t[1]),e=!0;if(!s.zz()||n){const a=this.mf.Jz(t,this,!0);r.push(a),s.qz()&&(e=!1,this.cz.push(a.hN()))}e&&(o[h]=o[i],++h)}w.jh(o,h),this.mf.lB(),this.qD()}Xz(t,s){if(!t.U5().y5())throw new Error("instance is not of world type");const e=t.UD();if(e.jD()!==this)throw new Error("instance added to wrong layer");this.eH.push(t),0!==e.Nb()&&(this.gz=!0),s&&this.Fz()&&t.UD().l4(),this.qD(t)}$z(t){this.eH.includes(t)||(this.eH.push(t),0!==t.UD().Nb()&&(this.gz=!0),this.qD(t))}Yz(t,s){const e=t.UD();if(e.jD()!==this)throw new Error("instance added to wrong layer");this.eH.unshift(t),0!==e.Nb()&&(this.gz=!0),this.qD(t),s&&this.Fz()&&t.UD().l4()}Kz(t,s){const e=this.eH.indexOf(t);e<0||(s&&this.Fz()&&t.UD().Zz(),this.eH.splice(e,1),this.qD(t),this.Qz())}t9(){this.gz=!0}Qz(){0===this.eH.length&&(this.gz=!1)}s9(t){if(t){const s=new Set;for(const e of this.eH){const i=e.UD().Q7();0<=i&&s.add(i)}let t=-1;for(const r of this.eH){const n=r.UD();if(!(0<=n.Q7())){for(++t;s.has(t);)++t;n.e9(t)}}}this.eH.sort(h)}i9(){}r9(){for(const t of this.eH)t.JL().qz()||this.mf.QL(t);this.mf.lB(),w.Vh(this.eH),this.gz=!1,this.qD()}n9(s,t,e,i,r,n){const h=this.mf.xk(),o=this.mf.h9(),a=s.o9(),l=[];for(const u of this.uz){const c=u[0],f=c[0],d=c[1];if(t.su(f,d)){const p=o[u[1]];if(p!==s){if(!a)continue;if(!s.a9(p))continue}let t=r;if(!t){const y=this.mf.ND();t=this.MD()===y?this:(t=y.l9(this.nf()))||y.HD(this.UA())}const m=this.mf.Jz(u,t,!1,void 0,void 0,!1,n),g=(t.rB(m),m.UD());g.d4(e,i),g.l4(),h.nB(!0),m.hB(),h.nB(!1),l.push(m)}}return l}sB(){return this.eH.length}MD(){return this.EH}nf(){return this.wn}u9(t){this.ey=t}UA(){return this.ey}c9(t){this.AH=t}n8(){return this.AH}oL(){return this.FH}aL(t){this.FH!==(t=!!t)&&(this.FH=t,this.EH.f9(),this.mf.XD())}d9(){let t=this.XB();return(t?t.KB():this.MD().p9()).indexOf(this)}m9(){return this.kH}oO(){return this.mf}g9(){return this.DH}y9(){for(const t of this.$B())if(t.g9())return!0;return!1}h5(){return this.mf.h5()}cB(){return this.yz}WA(){return this.S9(),this.BA}S9(){const t=this.w9();if(this.Mz||t!==this.Tz||this.BA.IF()){const s=this.cB().b9();this.BA.CF(s.map(t=>t.TT()),{EP:s.map(t=>t.UA()),PP:!t,OP:!0}),this.Mz=!1,this.Tz=t}}Q6(){this.cB().Q6(),this.Mz=!0}Fz(){return this.JH&&!this.zH}v9(){return this.Gz}x9(){this.Iz=!1}iL(){for(const t of this.M9())if(!t.tL())return!1;return!0}tL(){return this.OH}sL(t){this.OH!==(t=!!t)&&(this.OH=t,this.mf.XD())}nL(t){this.BH=!!t}rL(){return this.BH}uL(){for(const t of this.M9())if(!t.rL())return!1;return!0}RL(t){if(this.QH!==(t=!!t)){if(this.QH=t){const s=this.MD();this.KH=s.bB(),this.ZH=s.xB()}this.T9(),this.mf.XD()}}G9(){return this.QH}wB(t){const s=this.MD(),e=s._9(),i=s.I9();this.KH!==(t=(t=i<t?i:t)<e?e:t)&&(this.KH=t,this.G9())&&(this.T9(),this.mf.XD())}vB(t){const s=this.MD(),e=s.C9(),i=s.R9();this.ZH!==(t=(t=i<t?i:t)<e?e:t)&&(this.ZH=t,this.G9())&&(this.T9(),this.mf.XD())}bB(){return this.G9()?this.KH:this.MD().bB()}xB(){return this.G9()?this.ZH:this.MD().xB()}PL(){return this.E9(),this.PR}P9(){return this.E9(),this.sz}F9(){return this.E9(),this.ez}VB(){const t=this.MD();return[t.A9(),t.k9()]}bS(t){return this.mf.bS(t)}D9(c,i){const r=this.P9();if(0===c)i.I(r);else{let o=r.Bl(),a=r.Ll(),t=this.O9(c),s=r.width()/t,e=r.height()/t,[l,u]=this.VB();if(.5!==l||.5!==u){let t=this.B9(),s=this.mf,e=this.bS()/t,i=(l-.5)*s.L9()/e,r=(u-.5)*s.N9()/e,n=this.SB(),h=(0!==n&&(Tn.set(i,r),Tn.rotate(n),i=Tn.ul(),r=Tn.fl()),w.Bn(t,0,c));o+=w.Ot(i,0,h),a+=w.Ot(r,0,h)}i.set(o-s/2,a-e/2,o+s/2,a+e/2)}}X3(){return this.bb.ya()}K3(t){t=w.vn(t,0,1),this.bb.ya()!==t&&(this.bb.la(t),this.Pz(),this.mf.XD())}Pz(){this.jH.I(this.bb),this.jH.Ca()}bz(){return this.jH}w9(){return this.bb.Ta(1,1,1,1)}pL(){return this.qH}dL(t){this.qH!==t&&(this.qH=t,this.T9(),this.mf.XD())}yL(){return this.WH}wL(){return this.UH}W9(t,s){this.WH===t&&this.UH===s||(this.WH=t,this.UH=s,this.T9(),this.mf.XD())}gL(t){this.W9(t,this.wL())}SL(t){this.W9(this.yL(),t)}Wb(t){this.vb!==t&&(this.vb=t,this.mf.XD())}Nb(){return this.vb}yB(t){t=w.xn(t),this.YH!==t&&(this.YH=t,this.T9(),this.mf.XD())}SB(){return w.xn(this.EH.SB()+this.YH)}mL(){return this.YH}U9(){return 0<this.eH.length}zD(){return this.eH}j9(){return this.V9()&&this.zH?(w.qh(In,this.zD()),In.sort((t,s)=>this.H9(t,s)),In):this.zD()}z9(t){w.tn(t,this.j9());for(const s of this.Az)s.iL()&&0<s.X3()&&s.z9(t)}H9(t,s){const e=this.MD().J9(),i=e[0],r=e[1],n=e[2],h=t.UD(),o=s.UD(),a=h.kb()-i,l=h.Bb()-r,u=h.Nb()-n,c=o.kb()-i,f=o.Bb()-r,d=o.Nb()-n;return c*c+f*f+d*d-(a*a+l*l+u*u)}CL(){return this.LH}ML(){return this.NH}xL(t){this.NH!==(t=!!t)&&(this.NH=t,this.mf.XD())}_L(){return this.VH}GL(t){this.VH!==(t=!!t)&&(this.VH=t,this.mf.XD())}q9(){return!this.oO().X9()||!this.HH}V9(){return!this.q9()}Y9(){return this.V9()&&this.MD().K9()}Z9(){if(!this.Y9())return!1;for(const t of this.Az)if(!t.Z9())return!1;return!0}Mb(t){this.wb!==t&&(this.wb=t,this.mf.XD())}IL(){return this.wb}Q9(){return!this.PH}XB(){return this.PH}tJ(t){this.PH=t}KB(){return this.Az}sJ(){return 0<this.Az.length}eJ(t,s=!0){s?this.Az.push(t):this.Az.unshift(t)}iJ(t,s,e){let i=this.Az.indexOf(s);if(-1===i)throw new Error("cannot find layer to insert by");e&&++i,this.Az.splice(i,0,t)}rJ(t){const s=this.Az.indexOf(t);if(-1===s)throw new Error("cannot find layer to remove");this.Az.splice(s,1)}nJ(){for(const t of this.Az)if(t.hJ())return!0;return!1}*QB(){for(const t of this.Az)yield*t.QB();yield this}*$B(){let t=this.XB();for(;t;)yield t,t=t.XB()}*M9(){yield this,yield*this.$B()}oJ(t){for(const s of this.$B())if(s===t)return!0;return!1}aJ(t){return this===t||this.WH===t.WH&&this.UH===t.UH&&this.$H===t.$H&&this.qH===t.qH&&this.YH===t.YH&&this.bB()===t.bB()&&this.xB()===t.xB()}lJ(){return{parallaxX:this.yL(),parallaxY:this.wL(),scale:this.fL(),scaleRate:this.pL(),angle:this.mL(),hasOwnScroll:this.G9(),scrollX:this.bB(),scrollY:this.xB()}}uJ(t){this.W9(t.parallaxX,t.parallaxY),this.cL(t.scale),this.dL(t.scaleRate),this.yB(t.angle),this.RL(t.hasOwnScroll),this.wB(t.scrollX),this.vB(t.scrollY),this.E9()}cJ(t){if(0!==t.size){const s=w.Zh(this.eH,t);0<s&&(this.Qz(),this.qD())}}qD(t){this.pz=!1,this.Iz=!1,t&&!t.JL().U5().w5()||(this.mz=!1)}fJ(){if(!this.pz){if(this.eH.sort(t),this.Fz())for(let t=0,s=this.eH.length;t<s;++t){const e=this.eH[t].UD();e.e9(t),this.Gz.bH(e.dJ())}else for(let t=0,s=this.eH.length;t<s;++t)this.eH[t].UD().e9(t);this.pz=!0}}pJ(){if(!this.mz){let t=this.EH.mJ(this.n8()),s=t.map(t=>[...t.QB()]).flat(),e=0;for(const i of s){for(const r of i.zD())r.JL().U5().w5()&&r.UD().gJ(e++);i.yJ()}}}yJ(){this.mz=!0}SJ(){return{isVisible:this.iL(),opacity:this.X3(),isInteractive:this.rL()}}wJ(t,s,e){const i=t.UD(),r=s.UD();if(i.jD()!==this||r.jD()!==this)throw new Error("can't arrange Z order unless both objects on this layer");let n=i.VD(),h=r.VD();return n!==h+(e?1:-1)&&(w.Xh(this.eH,n),n<h&&h--,e&&h++,h===this.eH.length?this.eH.push(t):this.eH.splice(h,0,t),this.qD(t),!0)}bJ(t,s){let e=[],i=0,r=0,n=t.length,h=s.length;for(;i<n&&r<h;){const o=t[i],a=s[r];o.UD().Q7()<a.UD().Q7()?(e.push(o),++i):(e.push(a),++r)}for(;i<n;++i)e.push(t[i]);for(;r<h;++r)e.push(s[r]);return e}vJ(s){const e=[],i=s.length;for(let t=0;t<i-1;t+=2){const r=s[t],n=s[t+1];e.push(this.bJ(r,n))}return i%2==1&&e.push(s[i-1]),e}xJ(t){for(;1<t.length;)t=this.vJ(t);return t[0]}MJ(){return this.fJ(),w.Vh(gn),this.Gz.wH(this.PL(),gn),gn.length?1===gn.length?gn[0]:this.xJ(gn):[]}hJ(){return this.iL()&&0<this.X3()&&this.TJ()}TJ(){if(this.U9()||!this.ML())return!0;for(const t of this.Az)if(t.TJ())return!0;return!1}GJ(){return this._L()||!this.w9()||0!==this.IL()||this.yz._J()}IJ(){if(this.GJ())return!0;for(const t of this.Az)if(t.IJ())return!0;return!1}AE(){return this.XH}O9(t){if(this.EH.JB())return 1;{const s=this.CJ();return s/(s-t)}}RJ(t){const s=this.mf.VL();if(this.EH.JB())return s;{const e=this.CJ(),i=this.bS();return i/Math.abs(e-t)*s}}T9(){this.nz=!0,this.oz=!0,this.iz=!0}EJ(t){return this.nz&&(this.PJ(t,this._F,0,0,null),this.nz=!1),this._F}B9(t){return this.bS(t)/this.FJ()}CJ(){return this.Y9()?this.MD().J9()[2]:this.B9()}AJ(){if(this.Y9()){const t=this.MD().J9();return[t[0],t[1],t[2]]}return this.kJ()}kJ(t=0,s=0,r=0){let n=this.mf,e=this.MD(),i=n.DJ(),h=n.OJ(),o=(this.bB()-i)*this.WH+i,a=(this.xB()-h)*this.UH+h,l=(n.dk()&&(o=Math.round(o),a=Math.round(a)),o+t),u=a+s,c=e.JB()?this.bS(r):this.B9(r),[f,d]=this.VB();if(.5!==f||.5!==d){let t=this.bS(r)/c,s=(f-.5)*n.L9()/t,e=(d-.5)*n.N9()/t,i=this.SB();0!==i&&(Tn.set(s,e),Tn.rotate(i),s=Tn.ul(),e=Tn.fl()),l+=s,u+=e}return[l,u,c]}PJ(t,s,e,i,r){const n=this.mf,h=this.MD();if(this.Y9()){Tr.I(vn,h.J9()),Tr.I(xn,h.BJ()),Tr.I(Mn,h.LJ());const o=n.DJ(),a=n.OJ(),l=xn[0]-vn[0],u=xn[1]-vn[1],c=xn[2]-vn[2];vn[0]=(vn[0]-o)*this.WH+o,vn[1]=(vn[1]-a)*this.UH+a,vn[2]*=Math.max(this.WH,this.UH),xn[0]=vn[0]+l,xn[1]=vn[1]+u,xn[2]=vn[2]+c}else{const[f,d,p]=this.kJ(e,i,r),m=(Tr.set(vn,f,d,p),Tr.set(xn,f,d,p-100),this.SB());0===m?Tr.set(Mn,0,1,0):Tr.set(Mn,Math.sin(m),Math.cos(m),0)}t.OS(s,vn,xn,Mn,r||n.N9())}NJ(){this.rz=!0,this.oz=!0,this.iz=!0}WJ(t){return this.rz&&(this.UJ(t),this.rz=!1),this.Vx}UJ(t){const s=this.mf.$O(),[e,i]=this.VB();if(this.EH.JB())t.DS(this.Vx,s.jJ(),s.VJ());else if(.5===e&&.5===i)Mr.I(this.Vx,s.HJ());else{const r=s.jJ(),n=s.VJ();t.AS(this.Vx,r/n,e,i)}}eV(t,s=!0,e=0,i=0,r=0){s&&t.B3(this.WJ(t));let n;n=0===e&&0===i&&0===r?this.EJ(t):(this.PJ(t,Sn,e,i,r),Sn),t.V3(n)}zJ(t){this.eV(t),t.Gw(this.Nb())}JJ(t){let s=null;if(t.G2()&&this.mf.qJ()){const e=this.mf.$O().XJ(this);e&&(s=e.SR(),t.XE(s))}return s}$J(t){if(t.kS()&&this.mf.qJ()){const s=2*(this.UA()+1);t.StartMeasuringRenderPassTime(s,1+s)}}_v(t,s,e){let i=this.mf.$O(),r=this.GJ(),n=null,h=this.JJ(t);if(this.$J(t),r){const o={Bv:this.mf.ck(),Px:!0,YJ:!!t.kS()&&this.mf.KJ()};"low"===i.ZJ()&&(o.width=i.jJ(),o.height=i.VJ()),n=this.mf.QJ(o),this.XH=n,t.NE(n),this.ML()&&t._E(0,0,0,0)}else this.XH=s,t.NE(s);if(this.ML()||t.oc(this.LH),this.EH.tq(t,this.XH,this.Az,r&&this.ML()),this.$J(t),this.eV(t),t.Gw(this.Nb()),t.RE(this.V9()),this.FJ()>Number.EPSILON){this.fJ();const a=this.Fz()&&0===this.Nb()&&!this.gz;this.Y9()?this.sq(t):a?this.eq(t):this.iq(t,this.j9())}t.Gw(0),t.Iw(0),r&&(t.RE(!1),this.rq(t,n,s,e)),h&&t.YE(h),this.XH=null}iq(e,i){let r=this.PL(),n=this.XH,h=this.MD().JB(),o=this.MD().nq(),a=null;for(let t=0,s=i.length;t<s;++t){const l=i[t];if(l!==a){const u=(a=l).UD();u.iL()&&u.hq(r,o,h)&&this.oq(l,u,e,n)}}}sq(i){const r=this.XH,n=this.aq(),h=Gn,o=_n,a=this.j9();for(let s=0,e=a.length;s<e;){const l=a[s],u=l.UD();if(u.iL()&&u.lq(n)){(!l.uq()||0<u.cq())&&o.push(l);const c=l.UD().g4();h.push(l);let t=s+1;for(;t<e;++t){const f=a[t],d=f.UD();if(d.iL()&&d.lq(n)){if(d.g4()!==c)break;(f.uq()?(0<d.cq()&&o.push(f),h):o).push(f)}}if(1!==h.length||h[0].fq()){this.pq(i,h);for(let t=0,s=o.length;t<s;++t){const p=o[t],m=p.UD();m.mq(!0),this.oq(p,m,i,r),m.mq(!1)}}else{this.oq(l,u,i,r);for(let t=0,s=o.length;t<s;++t){const g=o[t];if(g!==l){const y=g.UD(),S=y.jD();S.oq(g,y,i,r)}}}s=t,w.Vh(h),w.Vh(o)}else++s}}pq(e,i){const r=this.XH;e.HE();for(let t=0,s=i.length;t<s;++t){const n=i[t],h=n.UD();h.gq(!0),this.yq(n,h,e)}e.zE();for(let t=0,s=i.length;t<s;++t){const o=i[t],a=o.UD();this.oq(o,a,e,r),a.gq(!1)}e.qE()}eq(t){let s=this.Gz,e=this.Rz,i=this.Cz,r=this.PL(),n;e.set(s.gH(r.Rl()),s.yH(r.El()),s.gH(r.Pl()),s.yH(r.Fl())),this.Iz&&e.equals(i)?n=this._z:(n=this.MJ(),this.Iz=!0,i.I(e)),this.iq(t,n),n!==this._z&&w.qh(this._z,n)}oq(t,s,e,i){s._J()?this.Sq(t,s,e,i):this.yq(t,s,e)}yq(t,s,e){const i=s.wq();e.hw()!==i&&i.xb(),t._v(e)}Sq(t,s,e,i){this.bq(t,s,e,i,null)&&this.eV(e)}bq(t,s,e,i,r){const n=s.o4().WA();return n.LF(e,i,{NF:t,WF:s.IL(),devicePixelRatio:this.mf.vq(),time:t.xq(),UF:this.mf.Mq()*this.FJ(),jF:this.SB(),lA:s.S4(),uA:n.IA()?null:this.Tq(s),qF:r&&r.qF,XF:r&&r.XF,$F:r&&r.$F,YF:r&&r.YF}),e.Gw(this.Nb()),n.z3()}rq(t,s,e,i){const r=this.yz.b9(),n=this.mf;0===r.length?(t.NE(e),t.jS(),i&&0===this.wb&&this.w9()?t.WE(s):(t.Mb(this.wb),t.Tb(this.jH),t.UE(s)),t.jE(s),n.vz(s)):this.WA().LF(t,e,{NF:this,WF:this.IL(),devicePixelRatio:n.vq(),UF:n.Mq()*this.FJ(),jF:this.SB(),lA:this.PL(),uA:null,RP:!0})}fL(){return this.$H}cL(t){this.$H!==t&&(this.$H=t,this.EH.Gq(),this.T9(),this.mf.XD())}VL(){return this.FJ()*this.mf.VL()}d8(){return this.FJ()*this.mf.d8()}FJ(){return(this.$H*this.EH.gB()-1)*this.qH+1}E9(){if(this.iz){this.iz=!1;let t=this.mf.DJ(),s=this.mf.OJ(),e=(this.bB()-t)*this.WH+t,i=(this.xB()-s)*this.UH+s,r=this.FJ(),n=this.mf.L9()/r,h=this.mf.N9()/r,o=e-n/2,a=i-h/2;this.mf.dk()&&(o=Math.round(o),a=Math.round(a));const l=this.sz,u=(l.set(o,a,o+n,a+h),this.SB()),c=(0!==u&&(pn.I(l),pn.offset(-l.Bl(),-l.Ll()),mn.Iu(pn,u),mn.Ru(pn),pn.offset(l.Bl(),l.Ll()),l.I(pn)),this.vb);this.D9(c,this.PR),this.Y9()?this._q(c,this.ez):this.ez.I(this.PR)}}_q(t,s){let e=this.mf.$O(),i=e.QO(),r=e.s5(),[n,h]=this.AL(0,0,t),[o,a]=this.AL(i,0,t),[l,u]=this.AL(i,r,t),[c,f]=this.AL(0,r,t),d=Math.min(n,o,l,c),p=Math.min(h,a,u,f),m=Math.max(n,o,l,c),g=Math.max(h,a,u,f);isFinite(d)||(d=-1/0),isFinite(p)||(p=-1/0),isFinite(m)||(m=1/0),isFinite(g)||(g=1/0),s.set(d,p,m,g)}AL(t,s,e=0){return this.Iq(t,s,e,this.d8())}NL(t,s,e=0){return this.Iq(t,s,e,this.VL()*this.h5())}Iq(t,s,e,i){const r=this.mf,n=r.eb(),h=this.FJ(),o=r.L9()/h,a=r.N9()/h,l=bn,u=(jr.set(l,0,0,o,a),t/=i,s=l[3]-s/i,this.WJ(n)),c=this.EJ(n),f=wn,d=w.gy.wy(t,s,e,c,u,l,f);return d?[f[0],f[1]]:[NaN,NaN]}Cq(t,s){const e=this.$H,i=this.qH,r=this.WH,n=this.UH,h=this.YH,o=(this.$H=1,this.qH=1,this.WH=1,this.UH=1,this.YH=0,this.T9(),this.AL(t,s));return this.$H=e,this.qH=i,this.WH=r,this.UH=n,this.YH=h,this.T9(),o}BL(t,s,e=0){return this.Rq(t,s,e,this.d8())}UL(t,s,e=0){return this.Rq(t,s,e,this.VL()*this.h5())}Rq(t,s,e,i){const r=this.mf,n=r.eb(),h=this.FJ(),o=r.L9()/h,a=r.N9()/h,l=bn,u=(jr.set(l,0,0,o,a),this.WJ(n)),c=this.EJ(n),f=wn,d=w.gy.yy(t,s,e,c,u,l,f);return d?[f[0]*i,(l[3]-f[1])*i]:[NaN,NaN]}Eq(t,s){return t*=this.VL()*this.h5(),0!==s&&(t*=this.O9(s)),t}Tq(t){const s=t.S4(),e=t.g4(),i=t.cq(),l=e+i,u=s.Rl(),c=s.El(),f=s.Pl(),d=s.Fl();if(this.Y9()){if(this.Pq(u,c,e)||this.Pq(f,c,e)||this.Pq(f,d,e)||this.Pq(u,d,e))return null;if(0<i&&(this.Pq(u,c,l)||this.Pq(f,c,l)||this.Pq(f,d,l)||this.Pq(u,d,l)))return null}else if(l>=this.B9())return null;let[p,m]=this.UL(u,c,e),[g,y]=this.UL(f,d,e);if(0!==this.SB()||0<i||this.Y9()){const[S,w]=this.UL(f,c,e),[b,v]=this.UL(u,d,e);if(0<i){let[t,s]=this.UL(u,c,l),[e,i]=this.UL(f,c,l),[r,n]=this.UL(f,d,l),[h,o]=this.UL(u,d,l),a=Math.min(p,g,S,b,t,e,r,h);g=Math.max(p,g,S,b,t,e,r,h),p=a,a=Math.min(m,y,w,v,s,i,n,o),y=Math.max(m,y,w,v,s,i,n,o),m=a}else{let t=Math.min(p,g,S,b);g=Math.max(p,g,S,b),p=t,t=Math.min(m,y,w,v),y=Math.max(m,y,w,v),m=t}}return pn.set(p,m,g,y),pn}aq(){return this.oz&&(this.Fq(),this.oz=!1),this.hz}Fq(){const t=this.mf.eb(),s=this.WJ(t),e=this.EJ(t);this.hz.Iy(e,s)}Pq(t,s,e){return this.aq().Ry(t,s,e)}Aq(){const t={d:this.g9(),s:this.fL(),a:this.mL(),v:this.tL(),i:this.rL(),html:this.oL(),bc:this.LH.toJSON(),t:this.ML(),sx:this.KH,sy:this.ZH,hosp:this.QH,px:this.yL(),py:this.wL(),c:this.bb.toJSON(),sr:this.pL(),fx:this.yz.qb(),cg:this.cz};return t}kq(t){this.DH=!!t.d,this.$H=t.s,this.YH=t.a,this.OH=!!t.v,this.BH=!t.hasOwnProperty("i")||t.i,this.FH=!!t.html,this.LH.$a(t.bc),this.NH=!!t.t,t.hasOwnProperty("sx")&&(this.KH=t.sx),t.hasOwnProperty("sy")&&(this.ZH=t.sy),t.hasOwnProperty("hosp")&&(this.QH=!!t.hosp),this.WH=t.px,this.UH=t.py,this.bb.$a(t.c),this.Pz(),this.qH=t.sr,w.qh(this.cz,t.cg),w.qh(this.uz,this.az);let e=new Set(this.cz),i=0;for(let t=0,s=this.uz.length;t<s;++t)e.has(this.uz[t][2])||(this.uz[i]=this.uz[t],++i);w.jh(this.uz,i),this.yz.Xb(t.fx),this.Mz=!0}Dq(){this.s9(!1),this.qD(),this.T9(),this.NJ()}GB(){return this.Ez}rB(t,s=!1){if(this.eH.includes(t))s&&this.eH.sort((t,s)=>{const e=t.UD().Oq(),i=s.UD().Oq();return e-i});else if(t.Bq()){const e=[...t.q4()];e.push(t),e.sort((t,s)=>{const e=t.UD().Oq(),i=s.UD().Oq();return e-i});for(const i of e)if(i.rN())for(const r of i.nN())if(!e.includes(r)){const n=[...r.q4()];n.push(r),n.sort((t,s)=>{const e=t.UD().Oq(),i=s.UD().Oq();return e-i}),n&&n.length&&e.splice(e.length,0,...n)}for(const h of e)h.U5().y5()&&this.Xz(h,!0)}else if(t.U5().y5()&&this.Xz(t,!0),t.rN())for(const o of t.nN()){const a=[...o.q4()];if(a.push(o),a.sort((t,s)=>{const e=t.UD().Oq(),i=s.UD().Oq();return e-i}),a&&a.length)for(const l of a)l.U5().y5()&&this.Xz(l,!0)}}}}{let l=function(t,s,e,i){return t[0]===Math.fround(s)&&t[1]===Math.fround(e)&&t[2]===Math.fround(i)},v=function(t,s){I!==t&&(t.zJ(s),I=t)},x=(l,v,self.Ls),i=self.C3Debugger,r=(x.mn(x.Rect),x.mn(x.Rect),x.mn(x.Rect)),M=x.mn(x.$o),t=self.vs,u=t.Rs,a=[],T=[],G=[],_=[],I=null;x.Lq=class extends x.dn{constructor(t,s,e){super(),this.Nq=t,this.mf=t.oO(),this.wn=e[0],this.Wq=e[1],this.Uq=e[2],this.sg=e[1],this.eg=e[2],this.jq=!!e[3],this.Vq=!!e[4],this.Hq=e[5],this.zq=e[6],this.Jq=e[7],this.qq=null,this.kH=e[8],this.ey=s,this.KH=0,this.ZH=0,this.$H=1,this.YH=0,this.Xq=new Set,this.$q=new Set,this.Yq=new Set,this.Kq=[],this.Zq=[],this.Qq=new Map,this.tX=new Map,this.sX=[],this.eX=!1,this.iX=u.create(),this.rX=u.create(),this.nX=u.create(),this.hX=[],this.aX=[],this.lX=new Map,this.uX=new Map,this.cX=-1;const r=this.mf.$O();this.yz=x.mn(x.Sz,this,e[11]),this.BA=x.mn(x.gy.BP,r.wz(),{_P:(t,s)=>{const e=s.RA(),i=e.AE();t.Z3(),t.UE(i),t.jE(i),r.vz(i)},CP:t=>this.cB().xz(t)}),this.Mz=!0,this.fX=!1,this.XH=null,this.dX={},this.pX=new Map,this.mX=!0,this.gX=new self.uB(this),this.yX=x.mn(x.Event.Xf);for(const i of e[9])this.hX.push(x.RH.kz(this,null,i));this.SX();for(const n of this.CB())n.Dz();for(const h of e[10]){const o=this.mf.Oz(h[1]);if(!o)throw new Error("missing nonworld object class");o.Lz()||o.Nz(h),this.sX.push(h),this.Bz(o)}}gn(){for(const t of this.aX)t.gn();x.Vh(this.aX),this.Yq.clear(),this.qq=null,this.Nq=null,this.mf=null}oO(){return this.mf}nf(){return this.wn}m9(){return this.kH}UA(){return this.ey}cB(){return this.yz}WA(){return this.S9(),this.BA}S9(){const t="low"===this.mf.$O().ZJ();if(this.Mz||this.fX!==t||this.BA.IF()){const s=this.cB().b9();this.BA.CF(s.map(t=>t.TT()),{EP:s.map(t=>t.UA()),FP:t,OP:!0}),this.Mz=!1,this.fX=t}}Q6(){this.cB().Q6(),this.Mz=!0}wX(){let e=this.aX[0].FJ();for(let t=1,s=this.aX.length;t<s;++t){const i=this.aX[t];0===i.yL()&&0===i.wL()||(e=Math.min(e,i.FJ()))}return e}bX(){return.5*this.mf.L9()/this.wX()}vX(){return.5*this.mf.N9()/this.wX()}_9(){return this.xX()?-1/0:this.bX()}I9(){return this.xX()?1/0:this.Sm()-this.bX()}C9(){return this.xX()?-1/0:this.vX()}R9(){return this.xX()?1/0:this.Rm()-this.vX()}wB(t){const s=this._9(),e=this.I9();this.KH!==(t=(t=e<t?e:t)<s?s:t)&&(this.KH=t,this.MX(),this.mf.XD())}bB(){return this.KH}vB(t){const s=this.C9(),e=this.R9();this.ZH!==(t=(t=e<t?e:t)<s?s:t)&&(this.ZH=t,this.MX(),this.mf.XD())}xB(){return this.ZH}xX(){return this.jq}Gq(){this.wB(this.bB()),this.vB(this.xB());for(const t of this.aX)t.G9()&&(t.wB(t.bB()),t.vB(t.xB()))}UB(t,s){this.Hq===t&&this.zq===s||(this.Hq=t,this.zq=s,this.TX()&&(this.GX(),this.MX(),this.mf.XD()))}A9(){return this.JB()?.5:this.Hq}k9(){return this.JB()?.5:this.zq}nq(){const t=this.A9(),s=this.k9();return t<0||1<t||s<0||1<s}HB(){this.Vq&&(this.Vq=!1,this.GX(),this.MX(),this.mf.XD())}zB(){this.Vq||(this.Vq=!0,this.GX(),this.MX(),this.mf.XD())}JB(){return this.Vq}TX(){return!this.JB()}_X(t){this.eX!==(t=!!t)&&(this.eX=t,this.MX(),this.mf.XD())}K9(){return this.eX}IX(t,s,e,i,r,n,h,o,a){l(this.iX,t,s,e)&&l(this.rX,i,r,n)&&l(this.nX,h,o,a)||(u.set(this.iX,t,s,e),u.set(this.rX,i,r,n),u.set(this.nX,h,o,a),this.CX())}CX(){this.MX(),this.mf.XD()}J9(){return this.iX}BJ(){return this.rX}LJ(){return this.nX}gB(){return this.$H}mB(t){this.$H!==t&&(this.$H=t,this.MX(),this.Gq(),this.mf.XD())}yB(t){t=x.xn(t),this.YH!==t&&(this.YH=t,this.MX(),this.mf.XD())}SB(){return this.YH}Sm(){return this.sg}_m(t){!isFinite(t)||t<1||(this.sg=t)}Rm(){return this.eg}wm(t){!isFinite(t)||t<1||(this.eg=t)}RX(){return this.qq}p9(){return this.hX}*CB(){for(const t of this.hX)yield*t.QB()}IB(){return this.aX}EX(){return this.aX.length}jD(t){return"number"==typeof t?this.HD(t):this.l9(t.toString())}HD(t){return t=x.vn(Math.floor(t),0,this.aX.length-1),this.aX[t]}l9(t){return this.lX.get(t.toLowerCase())||null}PX(t){return!!this.l9(t)}FX(t){return this.uX.get(t)||null}GX(){for(const t of this.aX)t.NJ()}MX(){for(const t of this.aX)t.T9()}AB(t,s,e){if(this.PX(t))throw new Error(`layer name '${t}' already in use`);if(!s&&e<2)throw new Error("invalid insert position");const i=2<=e?s:s.XB(),r=x.mn(x.RH,this,i,{name:t,sid:Math.floor(1e15*Math.random()),vH:!0});this.AX(r,s,e),this.oO().XD(),this.f9()}DB(t,s,e){if(!s&&e<2)throw new Error("invalid insert position");t===s&&e<2||(this.kX(t),this.AX(t,s,e),this.oO().XD(),this.f9())}BB(t){if(this.kX(t)){const s=this.mf.xk();s.nB(!0),t.gn(),s.nB(!1),this.oO().XD(),this.f9()}}NB(){const t=new Set;for(const s of this.CB())s.g9()&&!s.y9()&&t.add(s);if(0!==t.size){const e=this.mf.xk();e.nB(!0);for(const i of t)this.kX(i),i.gn();e.nB(!1),this.oO().XD(),this.f9()}}AX(s,e,i){if(2<=i)if(e){if(e===s||e.oJ(s))throw new Error(`cannot move layer '${s.nf()}' to sub-layer of itself`);e.eJ(s,2===i),s.tJ(e)}else 2===i?this.hX.push(s):this.hX.unshift(s),s.tJ(null);else{const t=e.XB();if(t){if(e.oJ(s))throw new Error(`cannot move layer '${s.nf()}' to sub-layer of itself`);t.iJ(s,e,0===i),s.tJ(t)}else{let t=this.hX.indexOf(e);if(-1===t)throw new Error("cannot find layer to insert by");0===i&&++t,this.hX.splice(t,0,s),s.tJ(null)}}}kX(t){const s=t.XB();if(s)return s.rJ(t),!0;if(1<this.hX.length){const e=this.hX.indexOf(t);if(-1===e)throw new Error("cannot find layer to remove");return this.hX.splice(e,1),!0}return!1}SX(){this.aX=[...this.CB()],this.lX.clear(),this.uX.clear();for(let t=0,s=this.aX.length;t<s;++t){const e=this.aX[t];e.u9(t),this.lX.set(e.nf().toLowerCase(),e),this.uX.set(e.m9(),e)}}DX(){let t=0;for(const s of this.hX){for(const e of s.QB())e.c9(t);s.oL()&&t++}}OX(){return this.hX.at(-1).n8()+1}async f9(){this.SX(),this.DX(),this.cX=this.OX()}BX(){return this.cX}LX(){this.cX=-1}mJ(t){const s=[];for(const e of this.hX){const i=e.n8();if(i===t)s.push(e);else if(t<i)break}return s}lJ(){return{scrollX:this.bB(),scrollY:this.xB(),scale:this.gB(),angle:this.SB(),vpX:this.A9(),vpY:this.k9()}}uJ(t){this.wB(t.scrollX),this.vB(t.scrollY),this.mB(t.scale),this.yB(t.angle),this.UB(t.vpX,t.vpY)}NX(){let t=this.hX.filter(t=>t.hJ())[0];for(;t;){if(!t.ML())return M.ua(t.CL()),M.la(1),M;if(t.GJ())return M.ta(0,0,0,0),M;t=t.KB().filter(t=>t.hJ())[0]}return M.ta(0,0,0,0),M}Vz(){return this.mX}WX(){return[...this.Xq]}Bz(t){if(t.rN())for(const s of t.jX().UX())this.Xq.add(s);else this.Xq.add(t)}VX(){return[...this.$q]}HX(t,s){if(t===this||!s)return Promise.resolve();t&&(x.Uo(this.$q,t.$q),t.$q.clear());const e=[];for(const i of this.Xq)this.$q.has(i)||(e.push(i.zX(s)),this.$q.add(i));return Promise.all(e)}async JX(t){if(t.o9())throw new Error("cannot load textures for family");const s=this.mf.eb();if(s&&!s.HC()&&!this.$q.has(t)){this.$q.add(t);const e=t.zX(s);this.qX(e),await e,t.XX(),this.mf.XD()}}qX(t){this.Yq.add(t),t.then(()=>this.Yq.delete(t)).catch(()=>this.Yq.delete(t))}$X(){return Promise.all([...this.Yq])}YX(t){if(t.o9()||0<t.sB())throw new Error("cannot unload textures");const s=this.mf.eb();s&&this.$q.has(t)&&(this.$q.delete(t),t.KX(s))}ZX(t,s){if(t!==this&&s)for(const e of this.$q)e.qz()||t.Xq.has(e)||(e.KX(),this.$q.delete(e))}QX(){this.$q.clear()}async t$(t){const s=this.mf,e=this.Nq,i=s.xk(),r=(this.Jq&&(this.qq=i.s$(this.Jq),this.qq.e$()),e.i$(this),this.sg=this.Wq,this.eg=this.Uq,this.KH=s.ak()/2,this.ZH=s.uk()/2,this.Gq(),this.GX(),this.MX(),this.DX(),await this.mf.$O().r$(this.OX(),!0),this.n$(t),this.mf.h$(!0),this.o$(),this.mX||this.a$(),this.l$(this.Kq),this.l$(this.Zq),this.u$(),e.c$(),s.lB(),this.mf.h$(!1),this.mf.f$());if(await Promise.all(r),x.Vh(r),!s.d$()){for(const n of this.Kq)n.p$();for(const h of this.Zq)h.m$(this.Qq,this.tX);for(const[o,a]of Object.entries(this.dX)){const l=this.mf.q8(parseInt(o,10));l&&!l.o9()&&l.zz()&&x.Vh(a)}for(const u of this.Kq)u.g$();for(const c of this.Zq)c.g$();for(const f of this.Kq)f.Q4()||f.y$();for(const d of this.Zq)d.Q4()||d.y$()}x.Vh(this.Kq),x.Vh(this.Zq),this.Qq.clear(),this.tX.clear(),await Promise.all([...this.Xq].map(t=>t.S$(this.mf.eb()))),t&&(s.Xf().dispatchEvent(new x.Event("beforefirstlayoutstart")),await s.w$(new x.Event("beforeprojectstart"))),await this.b$(new x.Event("beforeanylayoutstart")),s.Xf().dispatchEvent(new x.Event("beforelayoutstart")),await this.w$(new x.Event("beforelayoutstart")),s.d$()||await s.DN(x.T$.M$.x$.v$,null,null),s.Xf().dispatchEvent(new x.Event("afterlayoutstart")),await this.w$(new x.Event("afterlayoutstart")),await this.b$(new x.Event("afteranylayoutstart")),t&&(s.Xf().dispatchEvent(new x.Event("afterfirstlayoutstart")),await s.w$(new x.Event("afterprojectstart"))),i.G$(e),await this.$X(),this.mX=!1}n$(t){for(const s of this.mf.h9())if(!s.o9()&&s.y5())for(const e of s.Z5()){const i=e.UD(),r=i.jD(),n=x.vn(r.UA(),0,this.aX.length-1),h=this.aX[n];i.JD(h,!0),h.$z(e)}if(!t)for(const o of this.aX)o.s9(!1)}o$(){for(const t of this.aX)t.jz(this.Kq),t.i9()}a$(){let s=!1;for(const[t,e]of Object.entries(this.dX)){const i=this.mf.q8(parseInt(t,10));if(i&&!i.o9()&&i.zz())for(const r of e){let t=null;if(!i.y5()||(t=r.hasOwnProperty("instJson")?this.FX(r.instJson.w.l):this.FX(r.w.l))){const n=this.mf.Jz(i,t,!1,0,0,!0);r.hasOwnProperty("instJson")?n.Xb(r.instJson):n.Xb(r),s=!0,this.Zq.push(n),r.hasOwnProperty("instJson")&&(this.Qq.set(n,r),this.tX.set(r.index,n))}}}for(const h of this.aX)h.s9(!0),h.qD();s&&(this.mf.lB(),this.mf._$())}l$(s){for(const e of s)if(e.rN()){const i=e.UD(),t=e.aN();for(const r of e.JL().jX().I$())if(r!==e.JL()){const n=r.Z5();if(n.length>t)e.C$(n[t]);else{let t;t=i?this.mf.Jz(r,i.jD(),!0,i.kb(),i.Bb(),!0):this.mf.Jz(r,null,!0,0,0,!0),this.mf.lB(),r.R$(),e.C$(t),s.push(t)}}}}u$(){for(const t of this.sX){const s=this.mf.Oz(t[1]);s.rN()||this.mf.Jz(t,null,!0)}}E$(){let e=[],i=this.sX,r=0;for(let t=0,s=i.length;t<s;++t){const n=i[t],h=this.mf.Oz(n[1]);h.qz()?h.rN()&&h.jX().P$()||e.push(this.mf.Jz(n,null,!0)):(i[r]=n,++r)}x.jh(i,r),this.mf.lB(),this.l$(e)}n9(t,s,e,i,r,n,h){if(e)return e.n9(t,s,r,n,i,h);{const o=[];for(const a of this.aX)o.push(a.n9(t,s,r,n,i,h));return o.flat()}}async F$(){const t=this.Nq;this.mf.d$()||(await this.b$(new x.Event("beforeanylayoutend")),await this.w$(new x.Event("beforelayoutend")),await this.mf.DN(x.T$.M$.x$.A$,null,null),await this.w$(new x.Event("afterlayoutend")),await this.b$(new x.Event("afteranylayoutend"))),t.k$(!0),this.mf.xk().D$(),this.mX||this.O$();for(const s of this.aX)s.r9();for(const e of this.mf.h9())if(!(e.qz()||e.y5()||e.U5().m5()||e.o9())){for(const i of e.Z5())this.mf.QL(i);this.mf.lB()}t.k$(!1),t.wD()===this&&t.i$(null)}B$(t,s){const e=t.JL().m9().toString(),i=(this.dX.hasOwnProperty(e)||(this.dX[e]=[]),this.dX[e]),r={index:s,instJson:t.qb(),sceneGraphJson:{children:[]}};i.push(r),this.pX.set(t,r)}L$(t){const s=this.pX.get(t);for(const e of t.N$()){const i=this.pX.get(e);i&&s.sceneGraphJson.children.push({index:i.index,flags:x.U$.W$(e.UD())})}}O$(){this.pX.clear();let t=0;for(const s of this.aX){s.fJ();for(const e of s.zD()){const i=e.JL();!i.qz()&&i.zz()&&(this.B$(e,t),t++)}}for(const r of this.aX)for(const n of r.zD()){const h=n.JL();!h.qz()&&h.zz()&&this.L$(n)}this.pX.clear()}j$(){this.dX={},this.mX=!0}AE(){return this.XH}GJ(){const t=this.mf,s=t.eb().G2();return"low"===t.$O().ZJ()||s&&t.KJ()||this.yz._J()||s&&t.X9()}V$(t){const s=this.mf.$O();if(this.GJ()){t.NE(null),t._E(0,0,0,0);const e={Bv:this.mf.ck(),Px:t.kS()||this.mf.KJ()||this.yz._J(),YJ:!!t.kS()&&this.mf.KJ()};"low"===s.ZJ()&&(e.width=s.jJ(),e.height=s.VJ()),this.XH=this.mf.QJ(e)}else this.XH=null}H$(t){this.mf.z$(t)&&(t.RE(!1),t.NE(null),t.jS(),t.WE(this.XH))}J$(t){this.GJ()&&(t.RE(!1),this.q$(t,this.XH))}X$(t){t.NE(this.XH),t.oc(this.NX()),this.mf.X9()&&t.CE();const s=this.mJ(0);this.tq(t,this.XH,s,!0),t.kS()&&t.StartMeasuringRenderPassTime(0,1),this.J$(t),this.XH=null}$$(t,s){let e=null;this.mf.z$(t)&&(e=this.XH),t.NE(e),t._E(0,0,0,0),this.mf.X9()&&t.CE();const i=this.mJ(s);this.tq(t,e,i,!0),this.H$(t),t.g2(),this.mf.$O().Y$(s)}tq(t,i,s,r){const n=s.filter(t=>t.hJ());for(let s=0,e=n.length;s<e;){const h=n[s];if(h.Z9()&&!h.IJ()){a.push(h);for(let t=s+1;t<e;++t){const o=n[t];if(!o.Z9()||o.IJ())break;a.push(n[t])}if(2<=a.length||1===a.length&&a[0].nJ()){this.K$(t,i,a),s+=a.length,x.Vh(a);continue}x.Vh(a)}h._v(t,i,r&&0===s),++s}}q$(t,s){const e=this.yz.b9(),i=this.mf;0===e.length?(t.NE(null),t.jS(),t.WE(s),t.jE(s),i.vz(s)):(r.set(0,0,i.L9(),i.N9()),this.WA().LF(t,null,{NF:this,WF:3,devicePixelRatio:this.mf.vq(),UF:this.mf.Mq()*this.gB(),jF:this.SB(),lA:r,uA:null,RP:!0}))}K$(i,r,t){t[0].ML()||(M.ua(t[0].CL()),M.la(1),i.oc(M)),this.mf.$O(),i.RE(!0);const n=T,h=G,o=_;for(const a of t)a.fJ(),a.z9(n);const s=t[0],e=s.JJ(i);s.$J(i);for(let s=0,e=n.length;s<e;){const l=n[s],u=l.UD(),c=u.jD();if(u.iL()&&u.lq(c.aq())){(!l.uq()||0<u.cq())&&o.push(l);const f=l.UD().g4();h.push(l);let t=s+1;for(;t<e;++t){const d=n[t],p=d.UD();if(p.iL()&&p.lq(p.jD().aq())){if(p.g4()!==f)break;(d.uq()?(0<p.cq()&&o.push(d),h):o).push(d)}}if(1!==h.length||h[0].fq()){this.Z$(i,r,h);for(let t=0,s=o.length;t<s;++t){const m=o[t],g=m.UD(),y=g.jD();g.mq(!0),v(y,i),y.oq(m,g,i,r),g.mq(!1)}}else{v(c,i),c.oq(l,u,i,r);for(let t=0,s=o.length;t<s;++t){const S=o[t];if(S!==l){const w=S.UD(),b=w.jD();v(b,i),b.oq(S,w,i,r)}}}s=t,x.Vh(h),x.Vh(o)}else++s}e&&i.YE(e),x.Vh(n),I=null}Z$(e,i,r){e.HE();for(let t=0,s=r.length;t<s;++t){const n=r[t],h=n.UD(),o=h.jD();h.gq(!0),v(o,e),o.yq(n,h,e)}e.zE();for(let t=0,s=r.length;t<s;++t){const a=r[t],l=a.UD(),u=l.jD();v(u,e),u.oq(a,l,e,i),l.gq(!1)}e.qE()}Aq(){const t={sx:this.bB(),sy:this.xB(),s:this.gB(),a:this.SB(),w:this.Sm(),h:this.Rm(),ortho:this.JB(),vpX:this.A9(),vpY:this.k9(),fv:this.mX,persist:this.dX,fx:this.yz.qb(),layers:{},dynamicLayers:[]};for(const s of this.aX)if(s.g9()){const e=s.XB();t.dynamicLayers.push({sid:s.m9(),name:s.nf(),parentSid:e?e.m9():null,siblingIndex:s.d9(),data:s.Aq()})}else t.layers[s.m9().toString()]=s.Aq();return t}kq(t){this.KH=t.sx,this.ZH=t.sy,this.$H=t.s,this.YH=t.a,this.sg=t.w,this.eg=t.h,this.Vq=!!t.ortho,t.hasOwnProperty("vpX")&&(this.Hq=t.vpX),t.hasOwnProperty("vpY")&&(this.zq=t.vpY),this.mX=!!t.fv,this.dX=t.persist,this.yz.Xb(t.fx),this.Mz=!0;for(const[s,e]of Object.entries(t.layers)){const i=parseInt(s,10),r=this.FX(i);r&&r.kq(e)}if(t.hasOwnProperty("dynamicLayers")){this.NB(),this.mf.lB();const n=new Map,h=t.dynamicLayers;for(let t=h.length-1;0<=t;--t){const o=h[t],a=o.sid,l=o.name,u=o.parentSid,c=o.siblingIndex,f=o.data;if(this.SX(),!this.PX(l)&&!this.FX(a)){let t,s;if(null===u)t=null,s=this.hX;else{if(!(t=this.FX(u)))continue;s=t.KB()}const d=x.mn(x.RH,this,t,{name:l,sid:a,vH:!0});s.push(d);let e=n.get(s);e||(e=[],n.set(s,e)),e.push({a4:d,siblingIndex:c}),d.kq(f)}}for(const[p,m]of n){m.sort((t,s)=>t.siblingIndex-s.siblingIndex);for(const g of m){let t=g.a4,s=g.siblingIndex,e=p.indexOf(t);p.splice(e,1),p.splice(s,0,t)}}}this.f9(),this.GX(),this.MX()}bD(){return this.gX}Sk(){return this.yX}Q$(t){t.layout=this.bD();const s=this.mf,e=s.jN()&&!s.xk().oB();e&&i.StartMeasuringScriptTime(),this.yX.dispatchEvent(t),e&&i.AddScriptTime()}w$(t){return t.layout=this.bD(),this.yX.e0(t)}b$(t){return t.layout=this.bD(),this.mf.w$(t)}tY(){this.sY(this.hX)}sY(t,s=0){const e=t.slice(0);e.reverse();for(const i of e)console.log("\t".repeat(s)+"- "+i.nf()),this.sY(i.KB(),s+1)}}}{const Rn=self.Ls;Rn.eY=class extends Rn.dn{#X8;#iY=[];#rY=new Map;#nY=new Map;#hY=null;#aY=[];#lY=null;#uY=0;#cY=null;constructor(t){super(),this.#X8=t}gn(){this.#X8=null,this.#hY=null,this.#lY=null,this.#cY=null,Rn.Vh(this.#iY),this.#rY.clear(),this.#nY.clear(),Rn.Vh(this.#aY)}GM(t){const s=Rn.mn(Rn.Lq,this,this.#iY.length,t);this.#iY.push(s),this.#rY.set(s.nf().toLowerCase(),s),this.#nY.set(s.m9(),s)}oO(){return this.#X8}fY(t){this.#lY=t}dY(){if(this.#lY)return this.#lY;if(this.#iY.length)return this.#iY[0];throw new Error("no first layout")}pY(t){return this.#rY.get(t.toLowerCase())||null}mY(t){return this.#nY.get(t)||null}gY(t){return t=Rn.vn(Math.floor(t),0,this.#iY.length-1),this.#iY[t]}MD(t){return"number"==typeof t?this.gY(t):this.pY(t.toString())}GD(){return this.#iY}i$(t){this.#hY=t}wD(){return this.#hY}yY(t){if(this.#aY.includes(t))throw new Error("layout already running");this.#aY.push(t)}SY(t){const s=this.#aY.indexOf(t);if(-1===s)throw new Error("layout not running");this.#aY.splice(s,1)}*wY(){this.#hY&&(yield this.#hY),this.#aY.length&&(yield*this.#aY)}bY(t){return this.#hY===t||this.#aY.includes(t)}k$(t){if(t)this.#uY++;else{if(this.#uY<=0)throw new Error("already unset");this.#uY--}}aB(){return 0<this.#uY}CD(t){this.#cY=t}c$(){this.#cY=null}ID(){return!!this.#cY}vY(){return this.#cY}xY(){const t=this.wD();t&&t.GX()}MY(){const t=this.wD();t&&t.MX()}}}{const En=self.Ls,Pn=new RegExp("<(.+?)>","g");En.TY=class extends En.dn{constructor(t){super(),this.mf=t,this.GY=En.mn(En._Y),this.IY=null,this.CY=[],this.RY=new Map,this.EY=new Map,this.PY=new Map,this.FY=[],this.AY=[],this.kY=[],this.DY=!1,this.OY=!1,this.BY=!1,this.LY=()=>this.NY(),this.WY=()=>this.UY(),this.jY=()=>this.VY(),this.HY=()=>this.zY(),this.JY=t=>this.qY(t.z6),this.XY=t=>this.$Y(),this.YY=t=>this.KY(),this.ZY=t=>this.QY(),this.tK=[],this.sK=0}gn(){this.eK(),this.LY=null,this.WY=null,this.jY=null,this.HY=null,this.JY=null,this.YY=null;for(const t of this.CY)t.UW(),t.gn();En.Vh(this.CY),this.CY=null,this.GY.gn(),this.GY=null,En.Vh(this.FY),this.FY=null,En.Vh(this.AY),this.AY=null,En.Vh(this.kY),this.kY=null,this.RY.clear(),this.RY=null,this.EY.clear(),this.EY=null,this.PY.clear(),this.PY=null,En.Vh(this.tK),this.tK=null,this.mf=null}iK(){const t=this.mf.Xf();t.addEventListener("pretick",this.LY),t.addEventListener("tick2",this.WY),t.addEventListener("beforelayoutchange",this.jY),t.addEventListener("layoutchange",this.HY),t.addEventListener("instancedestroy",this.JY),t.addEventListener("beforeload",this.XY),t.addEventListener("afterload",this.YY),t.addEventListener("afterlayoutstart",this.ZY)}eK(){const t=this.mf.Xf();t.removeEventListener("pretick",this.LY),t.removeEventListener("tick2",this.WY),t.removeEventListener("beforelayoutchange",this.jY),t.removeEventListener("layoutchange",this.HY),t.removeEventListener("instancedestroy",this.JY),t.removeEventListener("beforeload",this.XY),t.removeEventListener("afterload",this.YY),t.removeEventListener("afterlayoutstart",this.ZY)}GM(t){this.GY.wc(t);const s=En.nK.rK(t,this);this.wc(s),this.hK(s),this.PY.set(s.nf(),0)}oK(t){const s=this.aK(),e=t.uN(),i=s.re(e),r=En.nK.oK(e+":"+this.PY.get(e),i,this);return this.lK(e),this.wc(r),r}lK(t){this.PY.set(t,this.PY.get(t)+1)}uK(){for(const t of this.CY)if(!t.cK()){const s=t.uN();this.lK(s)}}fK(){for(const t of this.PY.keys())this.PY.set(t,0)}wc(t){this.CY.push(t),this.RY.set(t.nf().toLowerCase(),t)}I0(t){t.dK(),t.cK()||(En.$h(this.CY,t),En.$h(this.FY,t),En.$h(this.AY,t),En.$h(this.kY,t),this.RY.delete(t.nf().toLowerCase()),this.pK(t),t.NW())||t.gn()}AN(t){this.mf.AN(t,this.IY,null)}oO(){return this.mf}aK(){return this.GY}mK(t){this.IY=t}gK(){return this.IY}*yK(){for(const t of this.CY)yield t}*SK(){for(const t of this.AY)yield t}wK(t,s){this.EY.has(t)||this.EY.set(t,new Set),this.EY.get(t).add(s)}hK(t){for(const s of t.bK())this.wK(s,t)}pK(t){for(const[s,e]of this.EY.entries())e.has(t)&&(e.delete(t),0===e.size)&&this.EY.delete(s)}vK(t){if(this.EY.has(t))return this.EY.get(t)}xK(t,s){if(s)for(const e of this.CY){const i=s.every(t=>e.MK(t.z6,t.trackId));if(i&&e.nf().includes(t.nf()))return e}}TK(t){return this.RY.get(t.toLowerCase())||null}GK(t){for(const s of this.FY)if(s.nf()===t)return s;for(const e of this.AY)if(e.nf()===t)return e;return null}*_K(e){if(Pn.test(e)){Pn.lastIndex=0;let t,s=new Set;do{if(t=Pn.exec(e)){const i=t[1].split(",");for(const r of i)s.add(r)}}while(t);for(const n of s.values()){const h=this.TK(n);h&&(yield h)}s.clear()}else{const t=this.TK(e);t&&(yield t)}}*IK(t){for(const s of this.CY)s.VW(t)&&(yield s)}CK(t){this.FY.includes(t)||this.FY.push(t),this.RK()}EK(t){En.$h(this.AY,t),this.PK()}FK(t){this.AY.includes(t)?(t.AK(!0),t.kK(!1),t.DK(!1)):(t.AK(!1),t.kK(!0),t.DK(!1),this.FY.includes(t)||this.FY.push(t)),this.RK()}BK(t){t.AK(!1),t.kK(!1),t.LK(),En.$h(this.FY,t),this.PK()}NK(t){t.AK(!1),t.kK(!1),this.AY.includes(t)&&(t.DK(!0),this.kY.push(t),En.$h(this.AY,t)),this.FY.includes(t)&&t.DK(!0)}WK(t){t.AK(!1),t.kK(!1),t.DK(!1),t.KW(1),En.$h(this.AY,t)}UK(t){this.NK(t),t.LK()}NY(){if(!this.oO().d$()&&this.DY&&!this.OY){for(this.BY=!0;this.FY.length;){const t=this.FY.pop();(t.jK()?(t.VK(),this.kY):(t.HK(),this.AY)).push(t),0!==t.zK()&&(this.sK=1)}const s=this.mf.JK(),e=this.mf.qK(),i=this.mf.Yk();for(let t=this.AY.length-1;0<=t;t--){const r=this.AY[t];r&&r.XK(s,i,e)}this.BY=!1,0!==this.sK&&this.oO().XD()}}UY(){if(!this.oO().d$()&&this.DY&&!this.OY){let e;for(let t=0,s=this.kY.length;t<s;t++){const i=this.kY[t];e=e||new Set,i.dK(),this.$K(i),e.add(i)}if(e){En.Zh(this.kY,e);for(let t=this.sK=0,s=this.AY.length;t<s;t++)if(0!==this.AY[t].zK()){this.sK=1;break}}this.PK()}}$K(t){t.NW()||t.YK()&&t.KK()&&t.ZK()&&t.QK()}RK(){this.DY||(this.DY=!0)}PK(){this.kY.length||this.AY.length||this.FY.length||this.BY||(this.DY=!1)}VY(){for(this.OY=!0;this.FY.length;)this.BK(this.FY.pop());const t=new Set;for(const s of this.AY){const e=s.VY();e&&(s.dK(),t.add(s))}En.Zh(this.AY,t),t.clear();for(const i of this.kY){const r=i.VY();r&&(i.dK(),t.add(i))}En.Zh(this.kY,t),this.PK();for(const n of this.CY)n.tZ()}zY(){this.OY=!1}qY(t){const s=t.JL(),e=this.vK(s);if(e)if(this.mf.d$())this.tK.push(t);else for(const i of e)i.cK()||(i.NW()?this.I0(i):i.YK()||(this.$K(i),this.I0(i)))}$Y(){for(const t of this.FY.map(t=>t))this.$K(t),this.I0(t);for(const s of this.AY.map(t=>t))this.$K(s),this.I0(s)}KY(){for(const t of this.tK)this.qY(t);En.Vh(this.tK);for(const s of this.CY)s.KY()}QY(){const t=this.mf.xD(),s=t.wD();if(s)for(const e of this.CY){const i=e.sZ();i&&s.nf()===i&&this.FK(e)}}Aq(){return{timelinesJson:this.eZ(),scheduledTimelinesJson:this.iZ(),playingTimelinesJson:this.rZ(),markedForRemovalTimelinesJson:this.nZ(),hasRuntimeListeners:this.DY,changingLayout:this.OY,isTickingTimelines:this.BY}}kq(t){t&&(this.fK(),this.hZ(t.timelinesJson),this.oZ(t.scheduledTimelinesJson),this.aZ(t.playingTimelinesJson),this.lZ(t.markedForRemovalTimelinesJson),this.DY=!t.hasRuntimeListeners,this.OY=!!t.changingLayout,this.BY=!!t.isTickingTimelines,this.uK(),this.RK(),this.PK())}eZ(){return this.CY.map(t=>t.Aq())}hZ(t){for(const s of t){let t=this.TK(s.name);if(t)t.kq(s);else{const e=this.uZ(s);if(!e)continue;const i=this.TK(e);(t=this.oK(i)).kq(s)}t.cZ()||this.I0(t)}}uZ(t){const s=t.name,e=s.split(":");return e&&2===e.length?e[0]:null}iZ(){return this.fZ(this.FY)}oZ(t){this.dZ(t,this.FY)}rZ(){return this.fZ(this.AY)}aZ(t){this.dZ(t,this.AY)}nZ(){return this.fZ(this.kY)}lZ(t){this.dZ(t,this.kY)}pZ(t,s){if(s)for(const e of s)if(e===t.nf())return!0;return!1}fZ(t){return t.map(t=>t.nf())}dZ(t,s){const e=new Set;for(const i of s)this.pZ(i,t)||e.add(i);if(En.Zh(s,e),t)for(const r of t){const n=this.TK(r);if(n){const h=s.find((s=>t=>t.nf()===s)(r));h||s.push(n)}}}}}{const Fn=self.Ls,An=[0,0],kn=[0,0],Dn=[0,0],On=[0,0,0,0,0],Bn=new Array(4),Ln=[{x:0,y:0,t:0,Et:0},{x:0,y:0,t:0,Et:0},{x:0,y:0,t:0,Et:0}],Nn={x:0,y:0,t:0,Et:0};Fn.mZ=class{constructor(t,s){this.gZ=!1,this.yZ=t,this.SZ=[];let e=null;if(e=s?this.yZ.wZ(s):Fn.first(this.yZ.bZ())){const i=e.pU("offsetX"),r=e.pU("offsetY");if(i&&r){this.vZ=i,this.xZ=r;const n=i.MZ(),h=r.MZ();for(let t=1,s=Math.min(n.length,h.length);t<s;++t){const o=n[t],a=(o.TZ(),o.GZ()),l=h[t],u=(l.TZ(),l.GZ());a&&"cubic-bezier"===a._Z()&&u&&"cubic-bezier"===u._Z()?this.SZ.push(Fn.mn(Fn.IZ,a,u,o,l,this.SZ.length)):(a&&"line"===a._Z()&&u&&u._Z(),this.SZ.push(Fn.mn(Fn.CZ,o,l,this.SZ.length)))}this.gZ=!0}}}gn(){for(const t of this.SZ)t.gn();Fn.Vh(this.SZ),this.SZ=null,this.yZ=null,this.vZ=null,this.xZ=null}RZ(){return this.gZ}EZ(){return this.SZ}PZ(t){const s="relative"===this.vZ.FZ()?t.kb():0,e="relative"===this.xZ.FZ()?t.Bb():0;for(const i of this.SZ)i.PZ(s,e)}yy(s,e,t){let i=NaN,r=this.SZ.length;for(let t=0;t<r;t++){const n=this.SZ[t];if("cubic-bezier"===n.IT()){const h=n.yy(s,e);(isNaN(i)||h[3]<i)&&(i=h[3],Dn[0]=h[2],Dn[1]=n.UA())}}return Dn}AZ(s,e,t){const i=t.kZ;Fn.fi(i[0])||(i[0]=0),Fn.fi(i[1])||(i[1]=1);let r=NaN,n=this.SZ.length;for(let t=0;t<n;t++){const h=this.SZ[t];if("cubic-bezier"===h.IT()){const o=h.DZ(s,e,i);(isNaN(r)||o[3]<r)&&(r=o[3],Dn[0]=o[2],Dn[1]=h.UA())}}return Dn}OZ(t,s){return this.SZ[s].OZ(t)}BZ(t,s){return this.SZ[s].BZ(t)}},Fn.IZ=class{constructor(t,s,e,i,r){this.ey=r;const n=t.LZ("cubic-bezier"),h=e.LZ("cubic-bezier"),o=s.LZ("cubic-bezier"),a=i.LZ("cubic-bezier");this.NZ=t.WZ(),this.UZ=s.WZ(),this.jZ=t.WZ()+n.VZ(),this.HZ=s.WZ()+o.VZ(),this.zZ=e.WZ()+h.JZ(),this.qZ=i.WZ()+a.JZ(),this.XZ=e.WZ(),this.$Z=i.WZ(),this.YZ=0,this.KZ=0,this.ZZ=0,this.QZ=0,this.tQ=0,this.sQ=0,this.eQ=0,this.iQ=0,this.rQ=0,this.nQ=0,this.hQ=0,this.oQ=0,this.aQ=0,this.lQ=0,this.uQ=0,this.cQ=0,this.fQ=0,this.dQ=0,this.pQ=0,this.mQ=0,this.gQ=NaN,this.gZ=!1,this.yQ=100,this.SQ=new Array(this.yQ+1),this.SQ[0]=0,this.wQ=0,this.bQ=[],this.vQ=[];for(let t=0;t<100;t++)this.vQ.push({x:0,y:0,t:0,Et:0});this.xQ()}gn(){Fn.Vh(this.SQ),this.SQ=null,Fn.Vh(this.bQ),this.bQ=null,Fn.Vh(this.vQ),this.vQ=null}IT(){return"cubic-bezier"}UA(){return this.ey}MQ(){return Math.floor(this.wQ/25)}TQ(){return 1/this.MQ()}PZ(t,s){this.GQ=t,this._Q=s,this.SQ=new Array(this.yQ+1),this.SQ[0]=0,this.xQ(),this.YZ=this.NZ+this.GQ,this.KZ=this.UZ+this._Q,this.ZZ=this.jZ+this.GQ,this.QZ=this.HZ+this._Q,this.tQ=this.zZ+this.GQ,this.sQ=this.qZ+this._Q,this.eQ=this.XZ+this.GQ,this.iQ=this.$Z+this._Q,this.rQ=3*(this.ZZ-this.YZ),this.nQ=3*(this.QZ-this.KZ),this.hQ=3*(this.tQ-this.ZZ),this.oQ=3*(this.sQ-this.QZ),this.aQ=3*(this.eQ-this.tQ),this.lQ=3*(this.iQ-this.sQ),this.uQ=3*(this.ZZ-this.YZ),this.cQ=3*(this.YZ+this.tQ-2*this.ZZ),this.fQ=this.eQ-this.YZ+3*(this.ZZ-this.tQ),this.dQ=3*(this.QZ-this.KZ),this.pQ=3*(this.KZ+this.sQ-2*this.QZ),this.mQ=this.iQ-this.KZ+3*(this.QZ-this.sQ)}Map(t){if(!this.gZ)return NaN;const s=this.IQ(t);return kn[0]=this.CQ(s),kn[1]=this.RQ(s),kn}yy(t,s){const e=this.EQ(100),i=this.PQ(t,s,e),r=this.FQ(t,s,e,i);return On[0]=r.x,On[1]=r.y,On[2]=r.t,On[3]=r.Et,On}DZ(t,s,e){const i=this.EQ(100),r=this.AQ(t,s,i,e),n=this.FQ(t,s,i,r);return On[0]=n.x,On[1]=n.y,On[2]=n.t,On[3]=n.Et,On}OZ(t){const s=1-t,e=s*s,i=2*s*t,r=t*t,n=e*this.rQ+i*this.hQ+r*this.aQ,h=e*this.nQ+i*this.oQ+r*this.lQ,o=Fn.Gn(n,h);return An[0]=n/o,An[1]=h/o,An}BZ(t){const s=1-t,e=s*s,i=2*s*t,r=t*t,n=e*this.rQ+i*this.hQ+r*this.aQ,h=e*this.nQ+i*this.oQ+r*this.lQ;return Math.atan2(h,n)}IQ(r){if(this.gZ){let t=r*this.SQ[this.yQ],s=0,e=this.yQ,i=0;for(;s<e;)i=s+((e-s)/2|0),this.SQ[i]<t?s=i+1:e=i;this.SQ[i]>t&&i--;const n=this.SQ[i];return n===t?i/this.yQ:(i+(t-n)/(this.SQ[i+1]-n))/this.yQ}}CQ(t){return this.gZ?self.Mc.Lc("cubicbezier")(t,this.NZ+this.GQ,this.jZ+this.GQ,this.zZ+this.GQ,this.XZ+this.GQ):NaN}RQ(t){return this.gZ?self.Mc.Lc("cubicbezier")(t,this.UZ+this._Q,this.HZ+this._Q,this.qZ+this._Q,this.$Z+this._Q):NaN}EQ(s){if(!(this.bQ.length>=(s=s||100))){this.bQ=new Array(s),s++;for(let t=0;t<s-1;t++){const e=t/(s-1),i=e**2,r=e**3,n=this.uQ*e,h=this.cQ*i,o=this.fQ*r,a=this.dQ*e,l=this.pQ*i,u=this.mQ*r,c=this.YZ+n+h+o,f=this.KZ+a+l+u;this.vQ[t].x=c,this.vQ[t].y=f,this.vQ[t].t=e,this.vQ[t].Et=0,this.bQ[t]=this.vQ[t]}}return this.bQ}PQ(s,e,i,t=0,r=Number.MAX_SAFE_INTEGER){let n=0;if(isNaN(this.gQ))for(let t=0;t<100;t++){const h=i[t],o=h.x-s,a=h.y-e;h.Et=o*o+a*a,h.Et<r&&(r=h.Et,n=t)}else{for(let t=this.gQ;t<this.gQ+5&&!(t>=i.length);t++){const l=i[t],u=l.x-s,c=l.y-e;l.Et=u*u+c*c,l.Et<r&&(r=l.Et,n=t)}for(let t=this.gQ;t>this.gQ-5&&!(t<0);t--){const f=i[t],d=f.x-s,p=f.y-e;f.Et=d*d+p*p,f.Et<r&&(r=f.Et,n=t)}}return this.gQ=n}AQ(s,e,i,r,n=Number.MAX_SAFE_INTEGER){let h=0;if(isNaN(this.gQ))for(let t=0;t<100;t++){const o=i[t],a=o.x-s,l=o.y-e;o.Et=a*a+l*l,o.t>=r[0]&&o.t<=r[1]&&o.Et<n&&(n=o.Et,h=t)}else{for(let t=this.gQ;t<this.gQ+5&&!(t>=i.length);t++){const u=i[t],c=u.x-s,f=u.y-e;u.Et=c*c+f*f,u.t>=r[0]&&u.t<=r[1]&&u.Et<n&&(n=u.Et,h=t)}for(let t=this.gQ;t>this.gQ-5&&!(t<0);t--){const d=i[t],p=d.x-s,m=d.y-e;d.Et=p*p+m*m,d.t>=r[0]&&d.t<=r[1]&&d.Et<n&&(n=d.Et,h=t)}}return this.gQ=h}FQ(h,o,a,l){let u=a[l],t=1,c=Number.MAX_SAFE_INTEGER;t:do{let t=a.length,s=0===l?0:l-1,e=l===t-1?t-1:l+1,i=a[s].t,r=a[e].t,n=(r-i)/4;if(n<.001)break;Bn[0]=a[s];for(let t=1;t<=2;t++){const f=i+t*n,d=f**2,p=f**3,m=this.uQ*f,g=this.cQ*d,y=this.fQ*p,S=this.dQ*f,w=this.pQ*d,b=this.mQ*p,v=this.YZ+m+g+y,x=this.KZ+S+w+b,M=v-h,T=x-o,G=M*M+T*T;if(G<c){c=G,l=t,Nn.x=v,Nn.y=x,Nn.t=f,Nn.Et=G,u=Nn;break t}const _=Ln[t-1];_.x=v,_.y=x,_.t=f,_.Et=G,Bn[t]=_}Bn[3]=a[e],a=Bn}while(t++<20);return u}xQ(){this.gZ=!0;let s=this.CQ(0),e=this.RQ(0),i=0;for(let t=1;t<=this.yQ;t++){const r=this.CQ(.01*t),n=this.RQ(.01*t),h=s-r,o=e-n;i+=Fn.Gn(h,o),this.SQ[t]=i,s=r,e=n}this.wQ=i}},Fn.CZ=class{constructor(t,s,e){this.ey=e,this.kQ=t.WZ(),this.DQ=s.WZ(),this.GQ=0,this._Q=0}gn(){}IT(){return"line"}UA(){return this.ey}PZ(t,s){this.GQ=t,this._Q=s}kb(){return this.kQ+this.GQ}Bb(){return this.DQ+this._Q}}}{const b=self.Ls;b.nK=class extends b.dn{constructor(t,s,e){super(),this.mf=e.oO(),this.OQ=e,this.BQ=s,this.wn=t,this.LQ=[],this.NQ=0,this.WQ=null,this.UQ=0,this.jQ(),this.VQ=null,this.HQ=null,this.zQ=0,this.JQ=0,this.qQ=1,this.XQ=0,this.$Q=1,this.YQ=!1,this.KQ=!1,this.ZQ=!1,this.QQ=!0,this.ttt=!1,this.stt=!1,this.ett=-1,this.itt=!1,this.ntt=!1,this.htt=!1,this.ott=!1,this.att=NaN,this.ltt=[""],this.utt="",this.ctt=!1,this.sK=0,this.ftt=0,this.dtt=null}static rK(t,s){const e=s.aK(),i=e.ptt(),r=e.re(t[i]),n=b.mn(b.nK,t[i],r,s);return n.mtt(!0),n}static oK(t,s,e){return b.mn(b.nK,t,s,e)}gn(){if(!this.NW()){const t=this.mf.Xf();this.OQ.BK(this),this.OQ.UK(this);for(const s of this.LQ)s.gn();b.Vh(this.LQ),this.LQ=null,this.mf=null,this.OQ=null,this.BQ=null,this.ttt=!0,this.VQ=null,this.HQ=null,this.gtt(t)}}gtt(t){const s=b.mn(b.Event,"timelinestatereleased");s.ytt=this,t.dispatchEvent(s)}IT(){return 0}jQ(){for(const t of this.BQ.wtt().Stt())this.NQ=this.LQ.push(b.btt.GM(this,t))}vtt(){return this.OQ}oO(){return this.mf}bZ(){return this.LQ}xtt(i,r,n,h){if(this.ftt){let e;for(let s=0;s<this.LQ.length;s++){let t=this.LQ[s];if(i===t.aU()){const o=t.pU(n);o&&r.constructor===o.Mtt().constructor&&o.FZ()===h.FZ()&&(e=e||[]).push(o)}}return e}}cZ(){return!!this.LQ.length}wZ(t){for(const s of this.LQ)if(b.br(s.fU(),t))return s;return null}Ttt(t){for(const s of this.LQ)if(!s.Gtt()&&b.br(s.nf(),t))return s;return null}nj(t){this.wn=t}nf(){return this.wn}_tt(){return this.BQ}uN(){return this.BQ.nf()}JW(){return this.BQ.JW()}zW(t){this.BQ.zW(t)}Itt(){return this.BQ.Itt()}Ctt(t){this.BQ.Ctt(t)}Rtt(){return this.BQ.Rtt()}Ett(t){this.BQ.Ett(t)}FZ(){return this.BQ.FZ()}Ptt(t){this.BQ.FZ(t)}oU(t){for(const s of this.bZ())s.oU(t)}XW(){return this.BQ.XW()}qW(t){return this.BQ.qW(t)}YW(){return this.BQ.YW()}$W(t){return this.BQ.$W(t)}nW(){return this.BQ.nW()}Ftt(t){return this.BQ.Ftt(t)}KW(t){return this.qQ=t}ZW(){return this.qQ}sZ(){return this.BQ.sZ()}Att(){return this.BQ.Att()}ktt(){return this.BQ.ktt()}Dtt(){return this.XQ}Ott(){return!this.IsPlaying()||0<this.qQ}tU(){return this.VQ||(this.VQ=new Promise(t=>{this.HQ=t})),this.VQ}LK(){this.VQ&&(this.HQ(),this.VQ=null,this.HQ=null)}Btt(t){this.ltt=b.nK.Ltt(t),this.ctt=!0}QW(){return this.ltt}Ntt(){return this.ctt&&(this.utt=this.ltt.join(" ")),this.ctt=!1,this.utt}VW(t){if(!this.ltt)return!1;if(!this.ltt.length)return!1;const s=b.nK.Ltt(t);return!!s&&!!s.length&&s.every(b.nK.Wtt,this)}Utt(){b.T$.Timeline&&this.constructor===b.nK&&(b.T$.Timeline.x$.PushTriggerTimeline(this),this.OQ.AN(b.T$.Timeline.x$.OnTimelineStarted),this.OQ.AN(b.T$.Timeline.x$.OnTimelineStartedByName),this.OQ.AN(b.T$.Timeline.x$.OnTimelineStartedByTags),this.OQ.AN(b.T$.Timeline.x$.OnAnyTimelineStarted),b.T$.Timeline.x$.PopTriggerTimeline())}jtt(){this.ett=this.mf.Vtt()}QK(){this.htt||(this.htt=!0,b.T$.Timeline&&this.constructor===b.nK&&(b.T$.Timeline.x$.PushTriggerTimeline(this),this.OQ.AN(b.T$.Timeline.x$.OnTimelineFinished),this.OQ.AN(b.T$.Timeline.x$.OnTimelineFinishedByName),this.OQ.AN(b.T$.Timeline.x$.OnTimelineFinishedByTags),this.OQ.AN(b.T$.Timeline.x$.OnAnyTimelineFinished),b.T$.Timeline.x$.PopTriggerTimeline()))}AK(t){this.YQ=t}Htt(){return this.ett===this.mf.Vtt()}IsPlaying(t=!1){return!!this.Htt()||!(!this.ztt()||t)||this.YQ}Jtt(){return this.IsPlaying(!0)}eU(){return this.qtt()}qtt(){return!(this.NW()||this.ztt()||this.Jtt()||this.KK())}kK(t){this.KQ=t}ztt(){return this.KQ}Xtt(t){this.QQ=t;const s=this.TP();(s<=0||s>=this.JW())&&(this.QQ=!0)}KK(){return this.QQ}NW(){return this.ttt}DK(t){this.stt=t}jK(){return this.stt}$tt(t){this.itt=t}Ytt(){return this.itt}mtt(t){this.ntt=!!t}cK(){return this.ntt}ZK(){return this.ZQ}TP(){return this.zQ}HW(t){const s=this.TP();this.Ktt(t),this.Xtt(!1),this.KK()||this.$tt(!0),!this.Jtt()&&!this.ztt()&&this.ZQ||(this.Jtt()||this.ztt()||this.ZQ?this.Jtt()?this.UW():this.ztt()&&(this.OQ.BK(this),this.Ztt()):this.Ztt()),this.Qtt(),this.tst(this.TP(),!1,!0,!0,s),this.sst(),this.sK&&this.oO().XD(),this.est()}Ktt(t){(t=b.fi(t)?t:this.JW())<0?this.zQ=0:t>=this.JW()?this.zQ=this.JW():this.zQ=t}ist(t){(t=b.fi(t)?t:this.JW())<0?this.zQ=0:t>=this.JW()?this.zQ=this.JW():this.zQ=t;for(const s of this.LQ)s.rst()}est(){b.T$.Timeline&&this.constructor===b.nK&&(b.T$.Timeline.x$.PushTriggerTimeline(this),this.OQ.AN(b.T$.Timeline.x$.OnTimeSet),this.OQ.AN(b.T$.Timeline.x$.OnTimeSetByName),this.OQ.AN(b.T$.Timeline.x$.OnTimeSetByTags),b.T$.Timeline.x$.PopTriggerTimeline())}nst(){if(!this.XW())if(this.YW()&&1===this.XQ){if(this.Ott()){if(this.TP()>=this.JW())return!1}else if(this.TP()<=0)return!1}else if(!this.XW()&&!this.YW())if(this.Ott()){if(this.TP()>=this.JW())return!1}else if(this.TP()<=0)return!1;return!0}jW(){this.NW()||this.nst()&&this.Play(!0)}Play(t=!1){return!this.NW()&&!this.ztt()&&(this.Jtt()&&this.Htt()?this.hst():!this.Jtt()&&!!(this.KK()||t||this.Ytt())&&this.ost())}hst(){return this.$tt(!1),this.OQ.EK(this),this.OQ.FK(this),this.tU(),!0}ost(){return this.$tt(!1),this.OQ.FK(this),this.tU(),!0}UW(t=!1){this.NW()||(this.Xtt(t),this.OQ.NK(this),this.KK()&&this.LK())}m0(t=!0,s=!1){if(!this.NW()){if(!this.Jtt()&&this.ztt())return this.OQ.BK(this);if(!this.KK()){this.UW(!0),this.Ott()?this.Ktt(0):this.Ktt(this.JW());const e=this.TP();this.Qtt(),s?this.ast(e):this.tst(e,!1,!1,!0),t&&this.est(),this.sst(),this.sK&&t&&this.oO().XD()}}}lst(){this.m0(!1,!0)}ast(t){this.tst(t,!1,!1,!0,NaN,!1,!0)}VY(){if(!this.NW()){if(!this.oO().d$()&&this.ust())return!1;this.OQ.WK(this),this.oO().d$()||this.lst()}return!0}Ztt(){this.HK(!0)}VK(){this.HK(!1,!0),this.AK(!1),this.kK(!1)}HK(t=!1,s=!1){if(!this.jK()||s){if(t){this.htt=!1,this.ZQ=!0,this.ott=!0,this.Qtt();for(const e of this.LQ)e.HK()}else if(this.AK(!0),this.kK(!1),this.Utt(),this.KK()){this.ett=-1,0!==this.XQ&&(this.qQ=Math.abs(this.qQ)),this.XQ=0,this.$Q=1,this.QQ=!1,this.htt=!1,this.ZQ=!0,this.ott=!0,this.Ott()?this.Ktt(0):this.Ktt(this.JW()),this.Qtt();for(const i of this.LQ)i.HK()}else{this.ott=!0,this.htt=!1,this.Qtt();for(const r of this.LQ)r.cst()}this.sst()}}zK(){return this.sK}Qtt(){this.ftt=0;for(const t of this.LQ)t.fR()&&(this.ftt=1)}sst(){this.sK=0;for(const t of this.LQ)t.fst(),0===this.sK&&1===t.zK()&&(this.sK=1),this.WQ||1!==t.dst()||(this.WQ||(this.WQ=[]),this.UQ=this.WQ.push(t))}XK(t,s,e){if(this.ktt()){if(0===t&&0===this.att)return;this.att=t,t=e}else{if(0===e&&0===this.att)return;t=this.att=e,s=1}const i=this.zQ+this.JQ,r=t*s*this.qQ,n=i+r,h=this.BQ.pst;n<0?(this.zQ=0,this.JQ=-n):h<=n?(this.zQ=h,this.JQ=this.zQ-n):(this.zQ=n,this.JQ=0);let o=!1,a=!1,l=this.XW(),u=this.YW();l||u?l&&!u?0<this.qQ?this.zQ>=h&&(this.ist(0),a=!0):this.zQ<=0&&(this.ist(h),a=!0):!l&&u?0<this.qQ?this.zQ>=h&&(this.Ktt(h),this.KW(-1*this.ZW()),a=!0,1===this.XQ?this.$Q<this.nW()?(this.$Q++,this.XQ=0):o=!0:0===this.XQ&&(this.XQ=1)):this.zQ<=0&&(this.Ktt(0),this.KW(-1*this.ZW()),a=!0,1===this.XQ?this.$Q<this.nW()?(this.$Q++,this.XQ=0):o=!0:0===this.XQ&&(this.XQ=1)):l&&u&&(0<this.qQ?this.zQ>=h&&(this.Ktt(h),this.KW(-1*this.ZW()),a=!0,this.XQ++,b.wrap(this.XQ,0,2)):this.zQ<=0&&(this.Ktt(0),this.KW(-1*this.ZW()),a=!0,this.XQ++,b.wrap(this.XQ,0,2))):0<this.qQ?this.zQ>=h&&(this.$Q<this.nW()?(this.$Q++,this.ist(0),a=!0):(this.Ktt(h),o=!0)):this.zQ<=0&&(this.$Q<this.nW()?(this.$Q++,this.ist(h),a=!0):(this.Ktt(0),o=!0));let c,f=this.NQ;if(o){for(c=0;c<f;c++)this.LQ[c].mst();this.UW(!0),this.jtt()}else{const d=this.UQ;for(c=0;c<d;c++)this.WQ[c].gst();if(1===this.ftt)for(c=0;c<f;c++){const p=this.LQ[c],m=p.yst(),g=this.zQ-m,y=i-m;g<0&&0<y?(this.zQ=m<0?0:h<=m?h:m,p.Xc(m,!0,!1,a,this.ott,!1)):p.Xc(this.zQ,!0,!1,a,this.ott,!1)}else for(c=0;c<f;c++)this.LQ[c].Xc(this.zQ,!0,!1,a,this.ott,!1);for(c=0;c<d;c++)this.WQ[c].Sst();this.ott&&(this.ott=!1)}}tst(s,e=!1,i=!1,r=!1,n=NaN,t=!1,h=!1){for(const o of this.LQ)o.gst();for(const a of this.LQ){let t=s;if("number"==typeof n&&!isNaN(n)){const l=this.TP(),u=l-a.yst(),c=n-a.yst();u<0&&0<c&&(t=a.yst(),this.Ktt(t))}a.Xc(t,e,i,r,this.ott,h)}for(const f of this.LQ)f.Sst();this.ott&&t&&(this.ott=!1)}wst(){const t=this.BQ.wtt().bst(),s=b.btt.GM(this,t);return this.NQ=this.LQ.push(s),s}dK(){if(!this.NW())for(const t of this.LQ)t.vst()}tZ(){for(const t of this.LQ)t.tZ()}xst(){for(const t of this.LQ)t.Mst()}Tst(t,s,e){if(s){if("number"==typeof e&&0<=e){const i=this.LQ[e];return i?(i.Gst(s),void this.OQ.wK(s.JL(),this)):void 0}for(const r of this.LQ)if(r.Gtt())if(t){if(r.fU()===t){r.Gst(s),this.OQ.wK(s.JL(),this);break}}else if(!r._st()){r.Gst(s),this.OQ.wK(s.JL(),this);break}}}MK(t,s){for(const e of this.LQ)if(e.Gtt())if(s){if(s===e.fU()&&t===e.aU())return!0}else if(t===e.aU())return!0;return!1}YK(){return this.LQ.some(t=>!t.Gtt()||t.Ist())}ust(){return this.LQ.some(t=>{if(t.Gtt()){if(!t.Ist())return!1;const s=t.JL();return!!s&&s.qz()}return!1})}pU(t){for(const s of this.bZ())for(const e of s.Cst())if(e.Rst()===t)return e}Est(t){for(const s of this.LQ)if(t===s.aU())return s;return null}Pst(t){let s=t?t.split(" "):[],e=new Set(s.map(t=>t.toLowerCase().trim()));s=[...e.values()];for(const i of this.bZ())for(const r of i.Fst()){const n=s.every(t=>r.Ast(t));if(n)return r}}bK(){const t=[];for(const s of this.bZ())t.push(s.JL());return t.filter(t=>t)}KY(){for(const t of this.bZ())t.KY()}Aq(){return{tracksJson:this.kst(),name:this.wn,playheadTime:this.TP(),playbackRate:this.qQ,pingPongState:this.XQ,currentRepeatCount:this.$Q,isPlaying:this.YQ,isScheduled:this.KQ,initialStateSet:this.ZQ,finishedTriggers:this.htt,complete:this.QQ,released:this.ttt,markedForRemoval:this.stt,completedTick:this.ett,implicitPause:this.itt,isTemplate:this.ntt,tags:this.ltt.join(" "),stringTags:this.utt,tagsChanged:this.ctt,firstTick:this.ott}}kq(t){t&&(this.Dst(t.tracksJson),this.wn=t.name,this.zQ=t.playheadTime,this.qQ=t.playbackRate,this.XQ=t.pingPongState,this.$Q=t.currentRepeatCount,this.YQ=!!t.isPlaying,this.KQ=!!t.isScheduled,this.ZQ=!!t.initialStateSet,this.htt=!!t.hasOwnProperty("finishedTriggers")&&!!t.finishedTriggers,this.QQ=!!t.complete,this.ttt=!!t.released,this.stt=!!t.markedForRemoval,this.ett=t.completedTick,this.itt=!!t.implicitPause,this.ntt=!!t.isTemplate,this.ltt=t.tags.split(" "),this.utt=t.stringTags,this.ctt=!!t.tagsChanged,this.ott=!!t.firstTick)}kst(){return this.LQ.map(t=>t.Aq())}Dst(t){this.xst(),t.forEach((t,s)=>{const e=this.LQ[s];e.kq(t)}),this.LQ.filter(t=>t.Ist())}static Wtt(t){const s=this.QW();return""===t?1===s.length&&""===s[0]:s.map(t=>t.toLowerCase()).includes(t.toLowerCase())}static Ltt(t){if(b.Bi(t))return t.slice(0);if(b.xi(t))return t.split(" ");throw new Error("invalid tags")}Ost(){return this.dtt||(this.dtt=b.mn(self.rU,this)),this.dtt}}}{const Wn=self.Ls;Wn.btt=class extends Wn.dn{constructor(t,s){super(),this.yZ=t,this.Bst=s,this.Lst=s.wtt(),this.Nst=NaN,this.Wst=NaN,this.Ust=null,this.jst=null,this.Vst=!1,this.hR=0<s.yst(),this.Hst=!1,this.zst=!1,this.Jst=NaN,this.qst=null,this.Xst=this.Bst.Yst().$st(),this.Kst=[],this.Zst(),this.Qst=0,this.sK=0,this.tet=0}static GM(t,s){return Wn.mn(Wn.btt,t,s)}gn(){this.Xst=null;for(const t of this.Kst)t.gn();Wn.Vh(this.Kst),this.Kst=null,this.yZ=null,this.Ust=null,this.jst=null,this.Bst=null,this.qst=null}Zst(){for(const t of this.Bst.iet().eet())this.Kst.push(Wn.ret.GM(this,t))}vst(){for(const t of this.Kst)t.vst()}tZ(){for(const t of this.Kst)t.tZ();this.Ust=null,this.jst=null}net(){return this.yZ}oO(){return this.yZ.oO()}Fst(){return this.Xst||(this.Xst=this.Bst.Yst().$st()),this.Xst}Cst(){return this.Kst}pU(s){for(let t=0;t<this.Kst.length;t++){const e=this.Kst[t];if(e.Rst()===s)return e}}het(){this.Ust||this.aU()}oet(){return!!this.Ust&&!this.Ust.f8()}Ist(){if(!this.Gtt())return!1;const t=this.aet(),s=this.oO().OD(t);return!!s&&!s.f8()}JL(){if(this.Gtt()){const t=this.let();if(-1!==t)return this.oO().Oz(t)}}uet(){return this.yZ.bZ().indexOf(this)}Mst(){this.Ust=null,this.Nst=NaN,this.jst=null,this.Wst=NaN,this.Vst=!0}_st(){return!!this.Ust}aU(){if(!this.Vst){if(!this.Ust||!this.oet()){const t=this.aet();this.Ust=this.oO().OD(t)}return this.Ust}}Gst(t){if(this.Vst=!1,this.Ust!==t){this.tZ(),this.Ust=t,this.Wst=t.JL().UA(),this.Nst=t.hN(),this.jst=t.UD();for(const s of this.cet()){const e=s.fet,i=s.det,r=e.pet();switch(r){case"instance-variable":{i.met();const n=t.JL(),h=n.yet(s.name),o=n.wet(h),a=n.bet(h);o===s.name&&a===s.type&&i.vet(h);break}case"behavior":{const l=s.j6,u=this.JL(),c=t.JL(),f=i.H6(c);if(l&&f){const d=l.nf();u.xet(d),c.xet(d),i.met(),i.Met(f.m9())}break}}}}}*cet(){for(const t of this.Kst){const s=t.Mtt(),e=this.JL(),i={fet:t,det:s};switch(t.pet()){case"world-instance":i.property=t.Rst();break;case"instance-variable":{const r=s.met();i.name=e.wet(r),i.type=e.bet(r);break}case"effect":{const n=e.cB(),h=s.Tet(n);i.Get=h;break}case"behavior":{const o=s.H6(e);i.j6=o;break}case"plugin":i.W5=e.U5()}yield i}}UD(){if(!this.jst||!this.oet()){const t=this.aU();t&&(this.jst=t.UD())}return this.jst}_et(){return this.Bst}aet(){return isNaN(this.Nst)?this.Bst.aet():this.Nst}Iet(t){this.Bst.Iet(t)}Rtt(){return this.Bst.Rtt()}Ett(t){this.Bst.Ett(t)}FZ(){return this.Bst.FZ()}fU(){return this.Bst.fU()}yst(){return this.Bst.yst()}Cet(){return this.Bst.Cet()}Ret(t){this.Bst.Ret(t)}Ptt(t){this.Bst.Ptt(t)}oU(t){for(const s of this.Fst())s.oU(t);for(const e of this.Cst())e.oU(t)}Eet(){return this.Bst.Eet()}Pet(t){this.Bst.Pet(t)}let(){return isNaN(this.Wst)?this.Bst.let():this.Wst}Fet(t){this.Bst.Fet(t)}Aet(t){this.Bst.Aet(t)}ket(){const t=this.aU();if(t){const s=t.k6();if(s.Det())return t.k6().ket()}return this.Bst.ket()}Oet(t){this.Bst.Oet(t)}Bet(){const t=this.aU();if(t){const s=t.k6();if(s.Det())return t.k6().Bet()}return this.Bst.Bet()}IT(){return this.Bst.IT()}nf(){return this.Bst.nf()}Gtt(){return 0===this.IT()}Let(){return 1===this.IT()}Net(){return 2===this.IT()}Wet(){return this.Qst}zK(){return this.sK}dst(){return this.tet}fR(){return this.hR}rst(){for(const t of this.Kst)t.rst()}HK(){if(this.het(),this.oet()||!this.Gtt()){const t=this.net(),s=t.Ott(),e=s?0:this.Cet();for(const r of this.Kst)r.HK(e),0===this.Qst&&1===r.Wet()&&(this.Qst=1),0===this.sK&&1===r.zK()&&(this.sK=1);this.tet=0;const i=this.Kst.some(t=>t.dst());i&&(this.tet=1),this.qst=this.Uet(e),this.Hst=!1,this.zst=!1,this.Xc(e),this.jet(this.Uet(e))}}cst(){if(this.het(),this.oet()||!this.Gtt()){this.yZ.Ott();const t=this.yZ.TP()-this.yst();this.qst=this.Uet(t);for(const s of this.Kst)s.cst(t)}}mst(){if(!this.net().KK()&&(this.het(),this.oet()||!this.Gtt())&&!this.hR){const t=this.yZ.TP(),s=this.yst()+this.Cet();s<=t?this.Xc(this.Cet(),!0,!1,!0,!1,!1,!0):t<=0&&this.Xc(0,!0,!1,!0,!1,!1,!0)}}fst(){for(let t=0,s=this.Kst.length;t<s;t++){const e=this.Kst[t];e.fst(),0===this.Qst&&1===e.Wet()&&(this.Qst=1),0===this.sK&&1===e.zK()&&(this.sK=1)}}gst(){const s=this.Kst.length;for(let t=0;t<s;t++)this.Kst[t].gst()}Xc(e,t=!1,i=!1,r=!1,s=!1,n=!1,h=!1){this.Ust||this.aU();const o=this.Ust&&!this.Ust.f8(),a=0===this.Bst.Mf;if((o||!a)&&!(n&&a&&this.JL().qz()||(e-=this.yst())<0)){this.Vet(e,t),this.Het(e,t,s);for(let t=0,s=this.Kst.length;t<s;t++)this.Kst[t].Xc(e,i,r,h);this.zet(e,t),0!==this.Qst&&(this.jst||(this.jst=this.Ust.UD()),this.jst)&&this.jst.l4()}}Sst(){const s=this.Kst.length;for(let t=0;t<s;t++)this.Kst[t].Sst()}Vet(t,s){if(s&&this.hR&&!this.Hst){const e=this.net();if(e.Ott()){if(t<0)return}else if(t>this.Cet())return;for(const i of this.Kst)i.HK();this.Hst=!0}}zet(t,s){if(s&&this.hR&&!this.zst){const e=this.net();if(e.Ott()){if(t>=this.Cet()){for(const i of this.Kst)i.Xc(this.Cet(),!1,!0);this.zst=!0}}else if(t<=0){for(const r of this.Kst)r.Xc(0,!1,!0);this.zst=!0}}}Het(t,s,e){if(!e&&s&&Wn.T$.Timeline){const i=this.net(),r=this.qst.TZ(),n=this.qst.TP(),h=r?r.TP():i.JW();if(t<=n||h<=t)if(this.qst=this.Lst.Jet(t,this.Bst),i.Ott())r&&this.jet(this.qst);else{const o=this.qst.TZ();o&&this.jet(o)}}}Uet(t){const s=this.Lst.qet(t,this.Bst);return s||this.Lst.Jet(t,this.Bst)}jet(t){if(Wn.T$.Timeline){const s=this.net(),e=s.vtt();Wn.T$.Timeline.x$.PushTriggerTimeline(s),Wn.T$.Timeline.x$.PushTriggerKeyframe(t),e.AN(Wn.T$.Timeline.x$.OnAnyKeyframeReached),e.AN(Wn.T$.Timeline.x$.jet),Wn.T$.Timeline.x$.PopTriggerTimeline(s),Wn.T$.Timeline.x$.PopTriggerKeyframe(t)}}Xet(){const t=this.Bst.Yst(),s=t.$et();return s}Yet(){const t=this.Bst.iet(),s=t.Ket(),e=Wn.ret.GM(this,s);return this.Kst.push(e),e}Zet(t){const s=this.Bst.Yst();s.Qet(t)}tit(t){for(const s of this.Kst)s.tit(t)}sit(){for(const t of this.Kst)t.sit()}eit(){if(this.het(),this.oet()||!this.Gtt())for(const t of this.Kst)t.eit()}iit(){if(this.het(),this.oet()||!this.Gtt()){let t=!1;for(const s of this.Kst){const e=s.iit();!t&&e&&(t=!0)}if(t){const i=this.Xet();i.HW(this.net().TP()),i.oU("noease"),i.Pet(!0),i.Btt("")}}}KY(){isNaN(this.Jst)||this.rit(this.Jst),this.Jst=NaN}Aq(){const t=this.aU(),s=t?t.hN():this.aet();return{propertyTracksJson:this.nit(),lastKeyframeDataItemJson:this.hit(),initialStateOfNestedSet:this.Hst,endStateOfNestedSet:this.zst,instanceUid:s,cleared:this.Vst}}kq(t){if(t){this.oit(t.propertyTracksJson),this.ait(t.lastKeyframeDataItemJson),this.Jst=t.instanceUid,this.Hst=!1,t.hasOwnProperty.initialStateOfNestedSet&&(this.Hst=t.initialStateOfNestedSet),this.zst=!1,t.hasOwnProperty.endStateOfNestedSet&&(this.zst=t.endStateOfNestedSet),this.Vst=!!t.hasOwnProperty("cleared")&&t.cleared;for(const s of this.Kst)0===this.Qst&&1===s.Wet()&&(this.Qst=1),0===this.sK&&1===s.zK()&&(this.sK=1);this.tet=0,this.Kst.some(t=>t.dst())&&(this.tet=1)}}hit(){const t=this.Bst.Yst();return t.lit(this.qst)}nit(){return this.Kst.map(t=>t.Aq())}oit(t){t.forEach((t,s)=>{const e=this.Kst[s];e.kq(t)})}rit(t){if(Wn.fi(t)){const s=this.oO().OD(t);if(s){const e=this.net();e.Tst(this.Bst.fU(),s,this.uet())}}}ait(t){const s=this.Bst.Yst();this.qst=s.uit(t)}}}{const Un=self.Ls;Un.ret=class extends Un.dn{constructor(t,s){super(),this.cit=t,this.dit=s,this.pit=s.iet(),this.Qst=0,this.sK=0,this.tet=0,this.mit=this.Mtt(),this.git=this.dit.Sit().yit(),this.wit=null,this.bit=null}static GM(t,s){return Un.mn(Un.ret,t,s)}gn(){this.cit=null,this.mit&&(this.mit.gn(),this.mit=null),this.git=null,this.dit=null,this.pit=null}Wet(){return this.Qst}zK(){return this.sK}dst(){return this.tet}vit(){return!!this.bit}xit(t){this.bit=t}Mit(){return this.bit}Tit(){return this.cit}Git(){return this.dit}iet(){return this.pit}net(){return this.cit.net()}oO(){return this.cit.oO()}aU(){return this.cit.aU()}Mtt(){if(!this.mit){let t=this.dit.pet(),s;switch(t){case"behavior":s=new Un.ret._it(this);break;case"effect":s=new Un.ret.Iit(this),this.sK=1;break;case"instance-variable":s=new Un.ret.Cit(this);break;case"plugin":s=new Un.ret.Rit(this),this.sK=1;break;case"world-instance":s=new Un.ret.Eit(this),this.sK=1,this.Qst=1;break;case"value":s=new Un.ret.Pit(this);break;case"audio":s=new Un.ret.Fit(this)}this.mit=s}return this.mit}pet(){return this.dit.pet()}Ait(t){this.dit.Ait(t)}kit(){return this.dit.Dit()}Oit(t){this.dit.Bit(t)}dU(){return this.Mtt().Lit()}Rst(){return this.dit.Nit()}Wit(t){this.dit.Uit(t)}jit(){return this.dit.IT()}Vit(t){this.dit.Hit(t)}zit(){return this.iet().Jit(this.dit).IT()}qit(){return this.dit.qit()}Xit(t){this.dit.Xit(t)}$it(){return this.dit.$it()}Yit(t){this.dit.Yit(t)}Eet(){return this.dit.Eet()}Pet(t){this.dit.Pet(t)}Rtt(){return this.dit.Rtt()}Ett(t){this.dit.Ett(t)}FZ(){return this.dit.FZ()}Ptt(t){this.dit.Ptt(t)}oU(t){for(const s of this.Kit())s.oU(t)}Zit(){return this.dit.Zit()}Kit(){return this.git||(this.git=this.dit.Sit().yit()),this.git}MZ(){return this.dit.Sit().MZ()}Qit(t){return this.pit.Qit(t,this.dit)}trt(t){return this.pit.trt(t,this.dit)}srt(t){let s=this.pit.Qit(t,this.dit),e;return e=s?this.pit.ert(t,this.dit):(s=this.pit.trt(t,this.dit),this.pit.irt(t,this.dit)),{start:s,end:e}}*rrt(){for(const t of this.Kit())yield t.WZ()}*nrt(){for(const t of this.Kit())yield t.TP()}vst(){this.Mtt().vst()}tZ(){this.Mtt().tZ()}hrt(){return this.Mtt().hrt()}rst(){this.Mtt().rst()}HK(t){this.Mtt().HK(),this.wit=this.ort(t),this.fst()}cst(t){this.Mtt().cst(),this.wit=this.ort(t)}fst(){const t=this.Tit();if(this.tet=0,t.Gtt()){const s=this.net(),e=t.aU(),i=this.Mtt(),r=this.Rst(),n=i.art();if(n){const h=s.xtt(e,i,r,this);h&&h.length&&(this.tet=1)}else this.tet=0}}ort(t){const s=this.net(),e=this.pit.Qit(t,this.dit);return e||(s.Ott()?this.pit.trt(t,this.dit):this.pit.irt(t,this.dit))}gst(){this.mit.gst()}Xc(t,s=!1,e=!1,i=!1){let r,n,h=!1;if(s)r=this.pit.trt(t,this.dit);else{if(this.wit){const o=this.net(),a=this.wit.TZ(),l=this.wit.TP(),u=a?a.TP():o.JW();(t<=l||u<=t)&&(this.wit=this.pit.trt(t,this.dit),h=!0)}else this.wit=this.pit.trt(t,this.dit),h=!0;r=this.wit}r&&(n=r.TZ()),this.mit.Xc(t,r,n,s,e,i,h)}lrt(t){if(this.wit){const i=this.net(),r=this.wit.TZ(),n=this.wit.TP(),h=r?r.TP():i.JW();(t<=n||h<=t)&&(this.wit=this.pit.trt(t,this.dit))}else this.wit=this.pit.trt(t,this.dit);const s=this.wit,e=s.TZ();return this.mit.lrt(t,s,e)}urt(t,s,e){return this.mit.lrt(t,s,e)}Sst(){this.mit.Sst()}static crt(t,s){const e=s.Git(),i=s.pit;return i.trt(t,e)}static frt(t,s){const e=s.Git(),i=s.pit;return i.irt(t,e)}drt(){const t=this.dit.Sit(),s=t.prt();return this.wit=null,s}tit(t){this.wit=null;const s=this.dit.Sit();s.mrt(t)}sit(){this.Mtt().sit()}eit(){const t=this.Mtt().eit();if(t){const s=this.pit.Jit(this.dit),e=this.Mtt().hrt();s.grt(e)}}iit(){const t=this.Mtt().iit();return t&&this.yrt(),this.Mtt().Srt(),t}yrt(){const t=this.net().TP(),s=this.Mtt(),e=Un.ret.crt(t,this),i=this.drt();i.Hit(e.IT()),i.HW(t),i.oU(e.wrt()),i.Pet(!0),i.brt(s.vrt()),i.grt(s.hrt())}Aq(){return{sourceAdapterJson:this.Mtt().Aq()}}kq(t){t&&this.Mtt().kq(t.sourceAdapterJson)}}}{const jn=self.Ls,Vn=jn.ret;Vn.Eit=class{constructor(t){this.xrt=t,this.Mrt=null,this.Trt()}gn(){this.Mrt&&(this.Mrt.gn(),this.Mrt=null),this.xrt=null}art(){return this.Mrt.art()}pU(){return this.xrt}vst(){this.Mrt&&this.Mrt.vst()}tZ(){this.Mrt&&this.Mrt.tZ()}Trt(){return this.Mrt||(this.Mrt=this.Grt()),this.Mrt}met(){}UA(){return this.met()}_rt(){}rst(){this.Trt().rst()}HK(){this.Trt().HK()}cst(){this.Trt().cst()}gst(){this.Mrt.Irt()}Xc(t,s,e,i,r,n,h){let o=this.xrt.zit(),a;switch(o){case"numeric":a=Vn.Crt.Xc(t,s,e,this.xrt);break;case"angle":a=Vn.Rrt.Xc(t,s,e,this.xrt);break;case"boolean":a=Vn.Ert.Xc(t,s,e,this.xrt);break;case"color":a=Vn.Prt.Xc(t,s,e,this.xrt);break;case"text":a=Vn.Frt.Xc(t,s,e,this.xrt)}this.Mrt.Art(t,a,s,e,i,r,n,h)}lrt(t,s,e){switch(this.xrt.zit()){case"numeric":return Vn.Crt.Xc(t,s,e,this.xrt);case"angle":return Vn.Rrt.Xc(t,s,e,this.xrt);case"boolean":return Vn.Ert.Xc(t,s,e,this.xrt);case"color":return Vn.Prt.Xc(t,s,e,this.xrt);case"text":return Vn.Frt.Xc(t,s,e,this.xrt)}}Sst(){this.Mrt.krt()}sit(){this.Trt().Drt()}Srt(){this.Trt().Srt()}hrt(){return this.Trt().hrt()}eit(){return this.Trt().eit()}iit(){return this.Trt().iit()}vrt(){const t=this.xrt,s=t.Tit(),e=s.net().TP(),i=Vn.crt(e,t),r=i.TZ(),n=t.zit();switch(n){case"numeric":return Vn.Crt.Xc(e,i,r,t);case"angle":return Vn.Rrt.Xc(e,i,r,t);case"boolean":return Vn.Ert.Xc(e,i,r,t);case"color":return Vn.Prt.Xc(e,i,r,t);case"text":return Vn.Frt.Xc(e,i,r,t)}}Grt(){const t=this.xrt,s=t.Zit()?t.zit():"";switch(s){case"combo":case"boolean":case"text":case"string":return new Vn.Brt.Ort(this);case"numeric":case"number":case"angle":return new("combo"===this.xrt.jit()?Vn.Brt.Ort:Vn.Brt.Lrt)(this);case"color":case"offsetColor":return new Vn.Brt.Nrt(this);default:return new Vn.Brt.Lrt(this)}}Aq(){return{propertyAdapterJson:this.Trt().Aq()}}kq(t){t&&this.Trt().kq(t.propertyAdapterJson)}}}{const Hn=self.Ls;class zn extends Hn.ret.Eit{constructor(t){super(t),this.Wrt=NaN}met(){return this.xrt.Git().Dit()[0]}UA(){return this.Wrt||super.UA()}_rt(){return this.xrt.Tit().aU()}vet(t){const s=this.xrt.Git().Dit()[0];s!==t&&(this.Wrt=t)}Xc(t,s,e,i,r,n,h){this.Trt().Urt(s.Lit())&&super.Xc(t,s,e,i,r,n,h)}lrt(t,s,e){if(this.Trt().Urt(s.Lit()))return super.lrt(t,s,e)}Aq(){return Object.assign(super.Aq(),{index:this.Wrt})}kq(t){t&&(super.kq(t),this.Wrt=t.index)}}Hn.ret.Cit=zn}{const Jn=self.Ls;class qn extends Jn.ret.Eit{constructor(t){super(t),this.kH=NaN}met(){const t=this.xrt.Git();return t.Dit()[1]}_rt(){const t=this.xrt.Git(),s=this.xrt.Tit(),e=this.kH||t.Dit()[0],i=s.aU(),r=i.jrt(e),n=i.Vrt()[r];return n.k6()}H6(t){const s=this.xrt.Git(),e=s.Dit()[2];return t.Hrt(e)}Met(t){const s=this.xrt.Git();s.Dit()[0]!==t&&(this.kH=t)}Xc(t,s,e,i,r,n,h){const o=this.xrt.Tit(),a=o.aU();this.H6(a.JL())&&super.Xc(t,s,e,i,r,n,h)}lrt(t,s,e){const i=this.xrt.Tit(),r=i.aU();if(this.H6(r.JL()))return super.lrt(t,s,e)}Aq(){return Object.assign(super.Aq(),{sid:this.kH})}kq(t){t&&(super.kq(t),this.kH=t.sid)}}Jn.ret._it=qn}{const Xn=self.Ls;class $n extends Xn.ret.Eit{constructor(t){super(t)}met(){return this.xrt.Git().Dit()[1]}_rt(){const t=this.xrt,s=t.Tit(),e=s.UD(),i=e.o4(),r=i.cB(),n=this.Tet(r),h=n.UA();return i.K6(h)?i.zrt(h):null}Tet(t){const s=this.xrt,e=s.Git().Dit()[0];return t.Jrt(e)}Xc(t,s,e,i,r,n,h){this.qrt()&&super.Xc(t,s,e,i,r,n,h)}lrt(t,s,e){if(this.qrt())return super.lrt(t,s,e)}qrt(){const t=this.xrt,s=t.Tit(),e=s.UD(),i=e.o4(),r=i.cB(),n=this.Tet(r);if(n){const h=n.UA();return i.K6(h)}}}Xn.ret.Iit=$n}{const Yn=self.Ls;class Kn extends Yn.ret.Eit{constructor(t){super(t)}met(){return this.xrt.Git().Dit()[0]}_rt(){return this.xrt.Tit().aU().k6()}Xc(t,s,e,i,r,n,h){const o=this.xrt.Tit(),a=o.JL().U5(),l=o.aU().JL().U5();a===l&&super.Xc(t,s,e,i,r,n,h)}lrt(t,s,e){const i=this.xrt.Tit(),r=i.JL().U5(),n=i.aU().JL().U5();if(r===n)return super.lrt(t,s,e)}Xrt(){const t=this.xrt.Tit(),s=t.JL().U5();if(Yn.T$.$rt&&s instanceof Yn.T$.$rt&&("initial-frame"===this.xrt.Rst()||"initial-animation"===this.xrt.Rst()))switch(this.xrt.FZ()){case"relative":case"absolute":return null}}}Yn.ret.Rit=Kn}{const Zn=self.Ls;class Qn extends Zn.ret.Eit{constructor(t){super(t),this.Yrt=0,this.Krt=!1}art(){return!1}HK(){let t=this.xrt.iet(),s=this.xrt.Git();s=t.Jit(s),this.Yrt=s.WZ()}cst(){}Lit(){return this.Krt||this.xrt.Xc(0),this.Yrt}Xc(t,s,e,i,r,n,h){this.Yrt=Zn.ret.Crt.Xc(t,s,e,this.xrt),this.Krt=!0}sit(){}Srt(){}hrt(){return this.Yrt}eit(){return!1}iit(){return!1}Aq(){return{value:this.Yrt,init:this.Krt}}kq(t){t&&(this.Yrt=t.value,this.Krt=!t.hasOwnProperty("init")||t.init)}}Zn.ret.Pit=Qn}{const th=self.Ls;class sh extends th.ret.Eit{constructor(t){super(t),this.Zrt=!1,this.Qrt=null,this.tnt=null,this.snt=null,this.yZ=this.xrt.net(),this.cit=this.xrt.Tit(),this.ent=this.xrt.kit(),this.int=this.ent[0],this.rnt=this.ent[1],this.ent[3]?this.nnt=this.ent[3]:this.nnt=Math.random().toString(36).slice(2),this.hnt=NaN,this.ont=NaN,this.ant=NaN,this.lnt=null,this.unt()}gn(){super.gn(),this.Qrt=null,this.tnt=null,this.snt=null,this.yZ=null,this.cit=null,this.ent=null,this.int=null,this.lnt=null}unt(){if(self.Ls.T$.Audio){const t=this.xrt.oO(),s=t.cnt(self.Ls.T$.Audio);s&&(this.Qrt=s.L5().k6()),this.tnt=self.Ls.T$.Audio.fnt,this.snt=self.Ls.T$.Audio.dnt}}pnt(){if(!this.lnt){const t=this.xrt.Tit(),s=t.pU("audioSource");s&&(this.lnt=s.Mtt())}}mnt(){const t=this.xrt.Tit(),s=t.pU("volume");return(s?s.Mtt():this).ont}vst(){super.vst(),this.Zrt=!1,this.Qrt&&(this.snt&&(this.hnt=this.snt.gnt.call(this.Qrt,this.nnt),this.ont=this.snt.ynt.call(this.Qrt,this.nnt)),this.tnt)&&this.tnt.UW.call(this.Qrt,this.nnt)}Snt(){return this.nnt}wnt(){return this.ant}bnt(t){this.ant=t}HK(){super.HK(),this.hnt=NaN,this.Zrt=!1}cst(){super.cst();const t=this.xrt.net(),s=t.TP();switch(this.hnt=s-this.rnt,this.xrt.Rst()){case"audioSource":break;case"volume":this.ont=this.xrt.lrt(s)}this.Zrt=!1}Xc(t,s,e,i,r,n,h){if(this.Qrt)switch(this.xrt.Rst()){case"audioSource":{if(!this.yZ.Ott())return;if(i)return void(this.tnt&&this.tnt.UW.call(this.Qrt,this.nnt));if(t<this.rnt)return void(this.Zrt=!1);const o=this.snt.vnt.call(this.Qrt,this.nnt),a=this.yZ.ZW();if(a!==o&&this.tnt.KW.call(this.Qrt,this.nnt,a),this.Zrt)return;if(!this.xrt.net().IsPlaying())return;if(this.Zrt=!0,isNaN(this.hnt)){const l=self.performance.now(),u=t-this.rnt,c=this.Qrt.xnt();if("suspended"===c)return void(this.Zrt=!1);const f=self.performance.now(),d=(f-l)/1e3,p=u+d;if(this.tnt){let t=this.wnt();isNaN(t)?(this.bnt(0),t=0):this.bnt(t),this.tnt.Mnt.call(this.Qrt,this.int,t,this.nnt,p)}}else{const m=this.hnt,g=(this.hnt=NaN,this.mnt()),y=(this.ont=NaN,this.Qrt.xnt());if("suspended"===y)return void(this.Zrt=!1);this.tnt&&(this.bnt(g),this.tnt.Mnt.call(this.Qrt,this.int,g,this.nnt,m))}break}case"volume":this.pnt(),super.Xc(t,s,e,i,r,n,h)}}lrt(t,s,e){if(this.Qrt)switch(this.xrt.Rst()){case"audioSource":return;case"volume":return this.pnt(),super.lrt(t,s,e)}}Tnt(t,s){return this.lnt?this.lnt.wnt():0}Gnt(t,s,e,i){this.lnt&&this.lnt.bnt(this.Tnt()+s),this.tnt&&this.lnt&&this.tnt.bnt.call(this.Qrt,this.lnt.Snt(),this.lnt.wnt())}_nt(t,s,e){this.lnt&&this.lnt.bnt(s),this.tnt&&this.lnt&&this.tnt.bnt.call(this.Qrt,this.lnt.Snt(),this.lnt.wnt())}Int(){return!0}Aq(){return{audioPlaybackStarted:this.Zrt,audioTag:this.nnt,pauseTime:this.hnt,pauseVolume:this.ont,volume:this.ant}}kq(t){t&&(this.Zrt=t.audioPlaybackStarted,this.nnt=t.audioTag,this.hnt=t.pauseTime,this.ont=t.pauseVolume,this.ant=t.volume,this.unt())}}th.ret.Fit=sh}{const eh=self.Ls;eh.ret.Brt=class{constructor(t){this.mit=t,this.xrt=t.pU(),this.jst=this.xrt.Tit().UD(),this.Cnt=this.xrt.Rst(),this.Rnt=!1,this.Ent=null,this.Pnt=null}gn(){this.mit=null,this.xrt=null,this.jst=null,this.Ent=null,this.Pnt=null}art(){return!1}vst(){}tZ(){this.jst=null,this.Ent=null,this.Pnt=null}Mtt(){return this.mit}pU(){return this.xrt}UD(){return this.jst||(this.jst=this.xrt.Tit().UD()),this.jst}Fnt(t){this.Rnt=!!t}Ant(){return this.Rnt}rst(){}HK(){}cst(){}Drt(){this.Ent=this.hrt()}Srt(){this.Ent=null}hrt(){}eit(){}iit(){}Urt(t){const s=typeof this.knt(),e=typeof t;return s==e}Irt(){}Art(t,s,e,i,r,n,h,o){}krt(){}Dnt(){const t=this.Ont(()=>{const t=this.xrt.Git(),s=this.xrt.iet();return s.Jit(t)},()=>{const t=this.xrt.Git(),s=this.xrt.iet();return s.Bnt(t)});return t.Lnt()}Nnt(){const t=this.xrt.net(),i=t.TP()-this.xrt.Tit().yst(),s=this.Ont(()=>{const t=this.xrt.Git(),s=this.xrt.iet();return s.trt(i,t)},()=>{const t=this.xrt.Git(),s=this.xrt.iet(),e=s.irt(i,t);return e||s.Bnt(t)});return s.Lnt()}Ont(t,s){const e=this.xrt.net();return(e.Ott()?t:s)()}Wnt(t,s){const e=this.xrt.FZ();return("relative"===e?t:s)()}Unt(t,s){return(this.Ant()?(this.Fnt(!1),t):s)()}jnt(t){}Vnt(){return this.mit.UA()}Hnt(){return this.Pnt||(this.Pnt=this.mit._rt()),this.Pnt}znt(t,s,e,i,r,n){const h=this.xrt.pet();switch(h){case"behavior":return t();case"effect":return s();case"instance-variable":return e();case"plugin":return i();case"world-instance":return r();case"audio":return n()}}Aq(){return{firstAbsoluteUpdate:this.Rnt,saveState:this.Ent}}kq(t){t&&(this.Rnt=t.firstAbsoluteUpdate,this.Ent=t.saveState)}Jnt(t,s=!1){const e=[];for(const i of t){const r=i.Tit().yst();for(const n of i.Kit())(s&&0===n.TP()||!s)&&e.push({time:r+n.TP(),value:n.Lnt()})}return e.sort((t,s)=>t.time-s.time)}qnt(t,s,e){return this.Xnt(s,e)}Xnt(s,e){for(let t=e.length-1;0<=t;t--){const i=e[t].time;if(i<=s)return e[t]}return null}}}{const ih=self.Ls,rh=new Map,nh=[0,0,0];class hh extends ih.ret.Brt{constructor(t){super(t)}rst(){}HK(){}cst(){}hrt(){const t=this.xrt.pet(),s=this.Hnt(),e=this.Vnt();switch(t){case"behavior":return this.$nt(s.Ynt(e));case"effect":return this.$nt(s[e]);case"plugin":return this.$nt(s.Ynt(e));case"world-instance":return this.$nt(this.knt())}}eit(){const t=this.Dnt();return!this.Knt(t,this.knt())}iit(){return!ih.gi(this.Ent)&&!this.Knt(this.Ent,this.knt())}Knt(t,s){return t=this.Znt(t),s=this.Znt(s),t.xa(s)}Dnt(){const t=super.Dnt();return this.Znt(t)}Nnt(){const t=super.Nnt();return this.Znt(t)}jnt(t){}$nt(t){return(ih.Zi(t,ih.$o)?t.toArray():t).slice(0,3)}Znt(t){return ih.Zi(t,ih.$o)?t:new ih.$o(t[0],t[1],t[2],1)}Urt(t){return!0}art(){return!0}Irt(){const t=this.xrt.net(),s=this.xrt.aU(),e=this.xrt.Mtt(),i=t.xtt(s,e,this.Cnt,this.xrt);if(i&&1<i.length){rh.has(s)||rh.set(s,new Map);const r=rh.get(s),n=this.xrt.pet(),h=(r.has(n)||r.set(n,new Map),r.get(n));h.has(this.Cnt)||h.set(this.Cnt,{Qnt:!1,color:new ih.$o(0,0,0,1)})}}tht(t,s,e){const i=rh.get(t).get(s).get(e);return i.Qnt=!0,i.color}Art(t,s,e,i,r,n,h,o){const a=this.xrt.net(),l=this.xrt.Tit(),u=this.xrt.aU(),c=this.xrt.Mtt(),f=this.xrt.pet(),d=this.Cnt,p=a.xtt(u,c,d,this.xrt);if(p&&1<p.length){const m=this.Jnt(p,!0),g=this.qnt(a,a.TP(),m);if(g){const y=l.yst(),S=g.time-y;if(0==S)this.tht(u,f,this.Cnt).ia(s[0],s[1],s[2]);else if(!(S<0)){const w=s[0],b=s[1],v=s[2],x=this.xrt.Xc(S,!1,!0),M=ih.$o.Qa(w,x[0]),T=ih.$o.Qa(b,x[1]),G=ih.$o.Qa(v,x[2]);this.tht(u,f,this.Cnt).ia(M,T,G)}}}else this.sht(s[0],s[1],s[2])}krt(){const t=this.xrt.aU();if(rh.has(t)){const s=rh.get(t),e=this.xrt.pet();if(s.has(e)){const i=s.get(e);if(i.has(this.Cnt)){const r=i.get(this.Cnt),n=r.Qnt,h=r.color;n&&this.sht(h.ca(),h.fa(),h.ga()),0===i.size&&s.delete(e),0===s.size&&rh.delete(t)}}}}knt(){const t=this.xrt.pet(),s=this.Hnt(),e=this.Vnt();switch(t){case"behavior":return this.Znt(s.Ynt(e));case"effect":return s[e].clone();case"plugin":return this.Znt(s.Ynt(e));case"world-instance":return this.UD().T4().clone()}}sht(t,s,e){const i=this.xrt.pet(),r=this.Hnt(),n=this.Vnt();switch(i){case"behavior":nh[0]=t,nh[1]=s,nh[2]=e,r.eht(n,nh);break;case"effect":r[n].ea(t,s,e);break;case"plugin":nh[0]=t,nh[1]=s,nh[2]=e,r.eht(n,nh);break;case"world-instance":this.UD().iht(t,s,e)}}Aq(){}kq(t){}}ih.ret.Brt.Nrt=hh}{const oh=self.Ls,ah=oh.ret;class lh extends oh.ret.Brt{constructor(t){super(t)}rst(){}HK(){}cst(){}hrt(){return this.knt()}eit(){const t=this.Dnt();return t!==this.hrt()}iit(){return!oh.gi(this.Ent)&&this.Ent!==this.hrt()}art(){return!1}Art(t,s,e,i,r,n,h,o){const a=this.xrt,l=a.Tit(),u=a.pet(),c=a.net(),f=l.aU(),d=a.Mtt(),p=this.Cnt,m=c.xtt(f,d,p,a);if(m&&1<m.length){const y=this.Jnt(m),S=t+l.yst(),w=this.qnt(c,S,y);w&&(s=w.value)}const g=a.zit();switch(g){case"numeric":if(ah.Crt.rht(this.Vnt(),this.Hnt(),s,u))break;return;case"angle":if(ah.Rrt.rht(this.Vnt(),this.Hnt(),s,u))break;return;case"boolean":if(ah.Ert.rht(this.Vnt(),this.Hnt(),s,u))break;return;case"color":if(ah.Prt.rht(this.Vnt(),this.Hnt(),s,u))break;return;case"text":if(!ah.Frt.rht(this.Vnt(),this.Hnt(),s,u))return}this.sht(s)}knt(){const t=this.xrt.pet(),s=this.Hnt(),e=this.Vnt();switch(t){case"behavior":return s.Ynt(e);case"effect":return s[e];case"instance-variable":return s.nht(e);case"plugin":return s.Ynt(e)}}sht(t){const s=this.xrt.pet(),e=this.Hnt(),i=this.Vnt();switch(s){case"behavior":e.eht(i,t);break;case"effect":e[i]=t;break;case"instance-variable":e.hht(i,t);break;case"plugin":e.eht(i,t)}}}oh.ret.Brt.Ort=lh}{const uh=self.Ls,ch=(uh.ret.Brt,new Map),fh=(t,s,e,i,r,n=!1,h=null,o=null)=>{ch.set(t,{oht:s,aht:e,lht:i,round:r,uht:n,init:h,reset:o})};fh("offsetX",(t,s,e,i)=>{"relative"===i.xrt.FZ()?t.cht(s,e.net().Att()):t.cht(s)},(t,s)=>t.Db(s),t=>t.kb(),!0),fh("offsetY",(t,s,e,i)=>{"relative"===i.xrt.FZ()?t.fht(s,e.net().Att()):t.fht(s)},(t,s)=>t.Lb(s),t=>t.Bb(),!0),fh("offsetWidth",(s,t,o,e,i)=>{if(0!==t){const r="relative"===e.xrt.FZ(),l=1===e.dht.IT();if((r||l)&&s.Q4()&&s.h6()){if(isNaN(e.pht)){let i=[],t=s.N4();for(;t;)i.push(t),t=t.N4();i.reverse();let a=(t,s)=>s.net().Est(t.aU()),r=(t,s)=>{const e=a(t,s);if(e)return e.ket();const i=t.aU().k6();return i.Det()?i.ket():t.ght().mht()},n=(t,s,e,i=0)=>{const r=a(t,s);if(!r)return i;const n=r.pU(e);if(!n)return i;const h=n.Git().Sit();if(!h)return i;const o=h.Bnt();return o?o.Lit():i},h;if(l){let t=i[i.length-1];h=t.Sm()}else{let s=i[0],t=s.ght().mht(),e=s.ght().yht();h=t*e,h=(h+=n(s,o,"offsetWidth"))+r(s,o)*n(s,o,"offsetScaleX");for(let t=1;t<i.length;t++){const u=(s=i[t]).ght().yht();h=(h=(h*=u)+n(s,o,"offsetWidth"))+r(s,o)*n(s,o,"offsetScaleX")}}e.pht=0===h?Number.EPSILON:h}i||s.Km(t/e.pht,!0)}else s.Km(t)}},(t,s)=>t._m(s),t=>t.Sm(),!0),fh("offsetHeight",(s,t,o,e,i)=>{if(0!==t){const r="relative"===e.xrt.FZ(),a=1===e.dht.IT();if((r||a)&&s.Q4()&&s.a6()){if(isNaN(e.pht)){let i=[],t=s.N4();for(;t;)i.push(t),t=t.N4();i.reverse();let r=(t,s)=>{i=t;const e=s.net().Est(i.aU());var i;if(e)return e.Bet();const r=t.aU().k6();return r.Det()?r.Bet():t.ght().Sht()},n=(t,s,e,i=0)=>{const r=s.net().Est(t.aU());if(!r)return i;const n=r.pU(e);if(!n)return i;const h=n.Git().Sit();if(!h)return i;const o=h.Bnt();return o?o.Lit():i},h;if(a){let t=i[i.length-1];h=t.Rm()}else{let s=i[0],t=s.ght().Sht(),e=s.ght().wht();h=t*e,h=(h+=n(s,o,"offsetHeight"))+r(s,o)*n(s,o,"offsetScaleY");for(let t=1;t<i.length;t++){const l=(s=i[t]).ght().wht();h=(h=(h*=l)+n(s,o))+r(s,o)*n(s,o,"offsetScaleY")}}e.pht=0===h?Number.EPSILON:h}i||s.bht(t/e.pht,!0)}else s.bht(t)}},(t,s)=>t.wm(s),t=>t.Rm(),!0),fh("offsetAngle",(t,s,e,i,r)=>{t.vht(s)},(t,s)=>t.yB(s),t=>t.SB(),!1,!0),fh("offsetOpacity",(t,s,e,i,r)=>{const n=i.xht||1,h=(s/=n,t.X3()),o=h+s;if(0===i.Mht)1<o?i.Mht+=o-1:o<0&&(i.Mht+=o),t.Tht(s);else{const a=t.X3()+s;0<s&&0<i.Mht?1<a&&(i.Mht+=a-1):0<s&&i.Mht<0?(i.Mht+=s,0<i.Mht&&(t.Tht(i.Mht),i.Mht=0)):s<0&&0<i.Mht?(i.Mht+=s,i.Mht<0&&(t.Tht(i.Mht),i.Mht=0)):s<0&&i.Mht<0&&a<0&&(i.Mht+=a)}},(t,s)=>{t.K3(s)},t=>t.X3(),!1,!0,(n,r,h)=>{switch(n.Mht=0,n.xrt.FZ()){case"relative":{n.xrt.iet();let t=n.xrt.Git(),s=t.Sit(),e=s.yit(),i=n.UD().X3(),r=i;for(const o of e){const a=o.TP(),l=n.xrt.lrt(a);r=i+l,r=uh.vn(r,0,1)}n.Ght=i-r,n.Ght=Math.round(100*(n.Ght+Number.EPSILON))/100,r=i;for(let t=e.length-1;0<=t;t--){const u=e[t].TP(),c=n.xrt.lrt(u);r-=c,r=uh.vn(r,0,1)}n._ht=r,n._ht=Math.round(100*(n._ht+Number.EPSILON))/100;break}}const t="relative"===n.xrt.FZ(),s=1===n.dht.IT();if((t||s)&&r.Q4()&&r.p6()){let s=[],t=r.N4();for(;t;)s.push(t),t=t.N4();s.reverse();let e=(t,s,e)=>{const i=s.net().Est(t.aU());if(!i)return 0;const r=i.pU(e);if(!r)return 0;const n=r.Git().Sit();if(!n)return 0;const h=n.Bnt();return h?h.Lit():0},i=s[0].ght().Iht();i+=e(s[0],h,"offsetOpacity");for(let t=1;t<s.length;t++)i+=e(s[t],h,"offsetOpacity");n.xht=0===i?1:i}},e=>{switch(e.xrt.FZ()){case"relative":{e.Mht=0;let t=e.UD(),s=t.X3();s=Math.round(100*(s+Number.EPSILON))/100,e.xrt.net().Ott()?(t.K3(s+e.Ght),e.mG=0):(t.K3(s-e._ht),e.mG=e.Mtt().vrt());break}}}),fh("offsetOriginX",(t,s)=>t.Cht(s),(t,s)=>t.Rht(s),t=>t.vW(),!1),fh("offsetOriginY",(t,s)=>t.Eht(s),(t,s)=>t.Pht(s),t=>t.MW(),!1),fh("offsetZElevation",(t,s)=>t.Fht(s),(t,s)=>t.Wb(s),t=>t.Nb(),!0),fh("offsetScaleX",(t,s,e,i)=>{if(0!==s){const r=t.Sm()<0?-1:1;if("relative"===i.xrt.FZ()&&t.Q4()&&t.h6()){const n=e.ket()*r*s;isNaN(i.pht)&&ch.get("offsetWidth").oht(t,1,e,i,!0),t.Km(n/i.pht,!0)}else t.Km(e.ket()*r*s)}},(t,s,e)=>{t._m(e.ket()*s)},(i,r)=>{const n=i.Sm()<0?-1:1;if(i.h6()){let t=i.N4(),s=r.net().Est(t.aU()),e=NaN;if(s)e=t.Sm()/s.ket();else{const h=t.aU().k6();e=h.Det()?t.Sm()/h.ket():1}return i.Sm()*n/(r.ket()*e)}return i.Sm()*n/r.ket()},!1),fh("offsetScaleY",(t,s,e,i)=>{if(0!==s){const r=t.Rm()<0?-1:1;if("relative"===i.xrt.FZ()&&t.Q4()&&t.a6()){const n=e.Bet()*r*s;isNaN(i.pht)&&ch.get("offsetHeight").oht(t,1,e,i,!0),t.bht(n/i.pht,!0)}else t.bht(e.Bet()*r*s)}},(t,s,e)=>{t.wm(e.Bet()*s)},(i,r)=>{const n=i.Rm()<0?-1:1;if(i.a6()){let t=i.N4(),s=r.net().Est(t.aU()),e=NaN;if(s)e=t.Rm()/s.Bet();else{const h=t.aU().k6();e=h.Det()?t.Rm()/h.Bet():1}return i.Rm()*n/(r.Bet()*e)}return i.Rm()*n/r.Bet()},!1);class dh extends uh.ret.Brt{constructor(t){super(t),this.mG=0,this.Mht=0,this.Ght=0,this._ht=0,this.xht=NaN,this.pht=NaN,this.Aht=void 0,this.kht=void 0,this.Dht=null,this.Oht=null,this.Bht=null,this.Lht=null,this.Nht=null,this.Wht=null,this.Uht=null,this.jht=null,this.Vht=!1,this.Hht=!1,uh.Zi(this.xrt.net(),uh.zht)?this.dht=new uh.ret.Brt.Jht(this):this.dht=new uh.ret.Brt.qht(this);const s=this.xrt.Rst();switch(this.xrt.pet()){case"world-instance":{const e=ch.get(s);this.Dht=e.lht,this.Oht=e.oht,this.Bht=e.aht,this.Vht=e.round,this.Hht=e.uht,this.Nht=e.init,this.Lht=e.reset;break}case"audio":this.Wht=t.Tnt,this.Uht=t.Gnt,this.jht=t._nt,this.Vht=!!t.Int(),this.Hht=!1}}gn(){this.dht=null,this.Dht=null,this.Oht=null,this.Bht=null,this.Lht=null,this.Nht=null,this.Wht=null,this.Uht=null,this.jht=null,super.gn()}art(){return this.dht.art()}Xht(){return this.mG}$ht(t){this.mG=t}rst(){this.Lht&&this.Lht(this)}HK(){const t=this.dht.HK();if("number"==typeof t&&(this.mG=t),this.Nht){const s=this.UD(),e=this.xrt.Tit();this.Nht(this,s,e)}}cst(){const t=this.dht.cst();"number"==typeof t&&(this.mG=t)}hrt(){return this.knt()}eit(){const t=this.Dnt();return t!==this.hrt()}iit(){return!uh.gi(this.Ent)&&this.Ent!==this.hrt()}Irt(){this.dht.Irt()}Art(t,s,e,i,r,n,h,o){return this.dht.Art(t,s,e,i,r,n,h,o)}krt(){this.dht.krt()}knt(){const t=this.Hnt(),s=this.Vnt(),e=this.UD(),i=this.xrt.Tit(),r=this.xrt.pet();switch(r){case"behavior":return t.Ynt(s);case"effect":return t[s];case"instance-variable":return t.nht(s);case"plugin":return t.Ynt(s);case"world-instance":return this.Dht(e,i);case"audio":return this.Wht.call(this.Mtt(),e,i)}}sht(t,s,e){const i=this.Hnt(),r=this.Vnt(),n=this.UD(),h=this.xrt.Tit(),o=this.xrt.pet();switch(o){case"behavior":i.Yht(r,t);break;case"effect":i[r]+=t;break;case"instance-variable":i.Kht(r,t);break;case"plugin":i.Yht(r,t,this.Mtt().Xrt());break;case"world-instance":this.Oht(n,t,h,this);break;case"audio":this.Uht.call(this.Mtt(),n,t,h,this)}}Zht(t,s,e){let i=this.xrt.Rtt();if("discrete"!==(i="default"===i?"continuous":i)||s){if("discrete"===i&&e){const l=this.xrt.net(),u=l.TP(),c=this.xrt.Qit(u);if(!c)return}const r=this.Hnt(),n=this.Vnt(),h=this.UD(),o=this.xrt.Tit(),a=this.xrt.pet();switch(a){case"behavior":r.eht(n,t);break;case"effect":r[n]=t;break;case"instance-variable":r.hht(n,t);break;case"plugin":r.eht(n,t,this.Mtt().Xrt());break;case"world-instance":this.Bht(h,t,o);break;case"audio":this.jht.call(this.Mtt(),h,t,o)}}}Qht(t,s,e,i,r,n,h,o){this.dht.Qht(t,s,e,i,r,n,h,o)}tot(t,s,e,i,r){let n=(t="angle"===this.xrt.jit()?uh.Tn(t):t).toString(),h=n.split(".")[1]||"",o=h.length,a=this.knt(),l;switch(l=0===o?this.Vht?Math.round(a):this.Hht?"angle"===this.xrt.jit()?uh.Mn(Math.round(uh.Tn(a))):Number(uh.toFixed(a,2)):a:this.Vht?Number(uh.toFixed(a,o)):(this.Hht,a),this.sht(l-a,s,e),this.xrt.Rst()){case"offsetWidth":case"offsetScaleX":{const u=this.UD(),c=u.Sm(),f=Number(uh.toFixed(c,2));u.Km(f-c);break}case"offsetHeight":case"offsetScaleY":{const d=this.UD(),p=d.Rm(),m=Number(uh.toFixed(p,2));d.bht(m-p);break}}}Aq(){return Object.assign(super.Aq(),{v:this.mG,a:this.Mht,fod:this.Ght,bod:this._ht,of:this.xht,sf:this.pht,armorf:this.Aht,armandf:this.kht})}kq(t){t&&(super.kq(t),this.mG=t.v,this.Mht=t.a,this.Ght=uh.fi(t.fod)?t.fod:0,this._ht=uh.fi(t.bod)?t.bod:0,this.xht=uh.fi(t.of)?t.of:NaN,this.pht=uh.fi(t.sf)?t.sf:NaN,this.Aht=uh.fi(t.armorf)?t.armorf:void 0,this.kht=uh.fi(t.armandf)?t.armandf:void 0)}}uh.ret.Brt.Lrt=dh}{const ph=self.Ls;class mh{constructor(t){this.sot=!1,this.Yrt=0,this.eot=!1,this.iot=!1,this.Kst=t;for(let t=0,s=this.Kst.length;t<s;t++)this.Kst[t].xit(this)}Cst(){return this.Kst}rot(){this.sot=!0}not(){return this.sot}brt(t){this.Yrt=t}Lit(){return this.Yrt}hot(t){this.eot=t}oot(){return this.eot}mst(t){this.iot=t}aot(){return this.iot}m0(){this.sot=!1,this.Yrt=0,this.eot=!1,this.iot=!1}}class gh{constructor(t){this.lot=t}gn(){this.lot=null}IT(){return 0}HK(){const t=this.lot;return this.lot.pU(),t.Wnt(()=>t.Ont(()=>0,()=>t.Mtt().vrt()),()=>{})}cst(){}art(){this.lot;const t=this.lot.pU();switch(t.FZ()){case"relative":return!1;case"absolute":return!0}}Irt(){this.lot;const t=this.lot.pU(),s=t.Rst();switch(t.FZ()){case"relative":break;case"absolute":if(t.vit()){const e=t.Mit();e.m0()}else{const i=t.net(),r=t.aU(),n=t.Mtt(),h=i.xtt(r,n,s,t);h&&1<h.length&&new mh(h)}}}Art(t,s,e,i,r,n,h,o){const a=this.lot,l=this.lot.pU();switch(l.FZ()){case"relative":{const u=a.Xht();a.sht(s-u,e,i),n&&this.Qht(t,e,i,r,u,s),a.$ht(s);break}case"absolute":{const c=l.net(),f=l.Tit();if(l.aU(),l.Mtt(),l.vit()){const d=l.Mit(),p=d.Cst(),m=a.Jnt(p,!0),g=a.qnt(c,c.TP(),m);if(g){const y=f.yst(),S=g.time-y;if(0==S)d.mst(h),d.hot(o),d.rot(),d.brt(d.Lit()+s);else{if(S<0)return;const w=l.lrt(S);d.mst(h),d.hot(o),d.rot(),d.brt(d.Lit()+(s-w))}}}else a.Zht(s,o,h);break}}}krt(){const t=this.lot,s=this.lot.pU();switch(s.FZ()){case"relative":break;case"absolute":if(s.vit()){const e=s.Mit();e.not()&&t.Zht(e.Lit(),e.oot(),e.aot())}}}Qht(t,s,e,i,r,n){const h=this.lot;i||(s&&t===s.TP()?h.tot(s.WZ(),s,e):e&&t===e.TP()?h.tot(e.WZ(),s,e):n-r==0&&h.tot(s.WZ(),s,e))}}ph.ret.Brt.qht=gh}{const yh=self.Ls;class Sh{constructor(t){this.lot=t}gn(){this.lot=null}IT(){return 1}HK(){const t=this.lot;return t.Fnt(!0),this.jnt(t.Dnt())}cst(){const t=this.lot;if(t.Dnt()!==t.Nnt())return t.Fnt(!0),this.jnt(t.Nnt())}art(){return!1}Irt(){}Art(t,s,e,i,r,n,h,o){const a=this.lot,l=a.Xht();switch(a.pU().FZ()){case"relative":a.sht(s-l,e,i),n&&this.Qht(t,e,i,r,l,s,!1,h);break;case"absolute":a.Ant()?(a.Fnt(!1),a.sht(l,e,i)):0===t&&0===a.pU().net().JW()?a.Zht(s,!0,!1):(a.sht(s-l,e,i),n&&this.Qht(t,e,i,r,l,s,this.uot(),h))}a.$ht(s)}krt(){}jnt(t){const s=this.lot;return t-s.hrt()}uot(){let t=this.lot,s=t.UD().aU(),e=t.pU().oO(),i=e.vtt(),r=0;for(const n of i.SK())0===n.IT()?n.MK(s)&&r++:1===n.IT()&&n.aU()===s&&r++;return r<=1}Qht(t,s,e,i,r,n,h,o){const a=this.lot;i?s&&t===s.TP()?a.tot(s.WZ(),s,e,h,o):e&&t===e.TP()?a.tot(e.WZ(),s,e,h,o):e||a.tot(s.WZ(),s,e,h,o):s&&t===s.TP()?a.tot(s.WZ(),s,e,h,o):e&&t===e.TP()?a.tot(e.WZ(),s,e,h,o):n-r==0&&a.tot(s.WZ(),s,e,h,o)}}yh.ret.Brt.Jht=Sh}{const wh=self.Ls,bh=self.Mc;wh.ret.Crt=class{constructor(){}static rht(t,s,e,i){let r;switch(i){case"behavior":r=s.Ynt(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.nht(t);break;case"plugin":r=s.Ynt(t)}return r!==e}static Xc(n,h,o,a){if(!o){let t=a.Git(),s=a.iet();return(t=s.Bnt(t)).WZ()}let l=a.Rtt();if("default"===l&&(l="continuous"),"discrete"===(l="combo"===a.jit()?"discrete":l))return h.WZ();if("continuous"===l||"step"===l){const u=a.net().Itt();if("step"===l&&0!==u){const g=1/u;n=Math.floor(n*g)/g}const c=h.WZ(),f=o.WZ(),d=h.LZ("cubic-bezier"),p=o.LZ("cubic-bezier"),m=d&&d.cot()&&p&&p.dot();if(!m&&c===f)return c;let t=h.TP(),s=o.TP(),e=("step"===l&&0!==u&&(n=wh.vn(n,t,s)),wh.normalize(n,t,s)),i=h.wrt(),r;if(m){const y=s-t;r=bh.Lc(i)(y*e,0,1,y),r=bh.Lc("cubicbezier")(r,c,c+d.VZ(),f+p.JZ(),f)}else r=bh.Lc(i)((s-t)*e,c,f-c,s-t);return"integer"===a.jit()?Math.floor(r):r}}}}{const vh=self.Ls;vh.ret.Rrt=class{constructor(){}static rht(t,s,e,i){let r;switch(i){case"behavior":r=s.Ynt(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.nht(t);break;case"plugin":r=s.Ynt(t)}return r!==e}static Xc(t,s,e,i){if(!e){let t=i.Git(),s=i.iet();return(t=s.Bnt(t)).WZ()}let r=i.Rtt();if("default"===r&&(r="continuous"),"discrete"===(r="combo"===i.jit()?"discrete":r))return s.WZ();if("continuous"===r||"step"===r){const n=i.net().Itt();if("step"===r&&0!==n){const c=1/n;t=Math.floor(t*c)/c}const h=s.TP(),o=e.TP(),a=s.WZ(),l=e.WZ(),u=("step"===r&&0!==n&&(t=vh.vn(t,h,o)),s.LZ("angle"));if(!u){if(a===l)return a;const f=vh.normalize(t,h,o),d=self.Mc.Lc(s.wrt());return vh.An(a,l,d(f,0,1,1))}{const p=u.pot();if(a===l&&0===p)return a;const m=vh.normalize(t,h,o),g=self.Mc.Lc(s.wrt()),y=g(m,0,1,1);switch(u.mot()){case"closest":return vh.An(a,l,y,p);case"clockwise":return vh.kn(a,l,y,p);case"anti-clockwise":return vh.Dn(a,l,y,p)}}}}}}{const xh=self.Ls;xh.ret.Ert=class{constructor(){}static rht(t,s,e,i){let r;switch(i){case"behavior":r=s.Ynt(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.nht(t);break;case"plugin":r=s.Ynt(t)}return!!r!=!!e}static Xc(t,s,e,i){if(e)return s.WZ()?1:0;{let t=i.Git(),s=i.iet();return(t=s.Bnt(t)).WZ()?1:0}}}}{const Mh=self.Ls,Th=[0,0,0],Gh=[0,0,0],_h=[0,0,0];Mh.ret.Prt=class{constructor(){}static rht(t,s,e,i){let r;switch(i){case"behavior":r=s.Ynt(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.nht(t);break;case"plugin":r=s.Ynt(t)}return Array.isArray(e)?(Th[0]=e[0],Th[1]=e[1],Th[2]=e[2]):(_h.Ba(e),Th[0]=Math.floor(255*_h.ca()),Th[1]=Math.floor(255*_h.fa()),Th[2]=Math.floor(255*_h.ga())),Array.isArray(r)?(Gh[0]=r[0],Gh[1]=r[1],Gh[2]=r[2]):(_h.Ba(r),Gh[0]=Math.floor(255*_h.ca()),Gh[1]=Math.floor(255*_h.fa()),Gh[2]=Math.floor(255*_h.ga())),Th[0]!==Gh[0]||Th[1]!==Gh[1]||Th[2]!==Gh[2]}static Xc(t,s,e,i){if(!e){let t=i.Git(),s=i.iet(),e=(t=s.Bnt(t)).WZ();return Th[0]=e[0],Th[1]=e[1],Th[2]=e[2],Th}let r=i.Rtt();if("discrete"===(r="default"===r?"continuous":r)){const n=s.WZ();return Th[0]=n[0],Th[1]=n[1],Th[2]=n[2],Th}if("continuous"===r||"step"===r){const h=i.net().Itt();if("step"===r&&0!==h){const x=1/h;t=Math.floor(t*x)/x}const o=s.TP(),a=e.TP(),l=s.WZ(),u=e.WZ(),c=("step"===r&&0!==h&&(t=Mh.vn(t,o,a)),Mh.normalize(t,o,a)),f=s.wrt(),d=l[0],p=l[1],m=l[2],g=u[0],y=u[1],S=u[2],w=self.Mc.Lc(f),b=a-o,v=b*c;return Th[0]=d===g?d:w(v,d,g-d,b),Th[1]=p===y?p:w(v,p,y-p,b),Th[2]=m===S?m:w(v,m,S-m,b),Th}}}}{const Ih=self.Ls;Ih.ret.Frt=class{constructor(){}static rht(t,s,e,i){let r;switch(i){case"behavior":r=s.Ynt(t);break;case"effect":r=s[t];break;case"instance-variable":r=s.nht(t);break;case"plugin":r=s.Ynt(t)}return r!==e}static Xc(t,s,e,i){if(e)return s.WZ();{let t=i.Git(),s=i.iet();return(t=s.Bnt(t)).WZ()}}}}{const Ch=self.Ls;Ch._Y=class{constructor(){this.got=new Map}gn(){for(const t of this.got.values())t.gn();this.got.clear(),this.got=null}wc(t){const s=new Ch.yot(t),e=s.nf();this.got.set(e,s)}re(t){return this.got.get(t)}ptt(){return 0}static Sot(t,s,e,i){if(s)for(const r of s)Ch._Y.wot("create",r,t,e,i)}static bot(t,s,e,i){if(s)for(const r of s)Ch._Y.wot("create-including-disabled",r,t,e,i)}static vot(e,t,s,i){e.length?t.forEach((t,s)=>{e[s].kq(t)}):t.forEach(t=>{Ch._Y.wot("load",t,e,s,i)})}static wot(t,s,e,i,r){let n;if("function"==typeof i)switch(t){case"load":n=new i(null,r);break;case"create":case"create-including-disabled":n=new i(s,r)}else if("object"==typeof i){const h=i.prop,o=s[h],a=i.map.get(o);switch(t){case"load":n=new a(null,r);break;case"create":case"create-including-disabled":n=new a(s,r)}}switch(t){case"load":n.kq(s),e.push(n);break;case"create":if("function"==typeof n.Eet&&!n.Eet())return n.gn();e.push(n);break;case"create-including-disabled":e.push(n)}}}}{const Rh=self.Ls;Rh.yot=class{constructor(t){this.wn="",this.pst=NaN,this.xot=0,this.Mot="default",this.Tot="default",this.Got=!1,this._ot=!1,this.Iot=1,this.Lst=null,this.Cot="",this.Rot=!1,this.Eot=!0,t&&(this.wn=t[0],this.pst=t[1],this.xot=t[2],this.Mot=t[3],this.Tot=t[4],this.Got=!!t[6],this._ot=!!t[7],this.Iot=t[8],this.Cot=t[9],this.Rot=!!t[10],this.Eot=!!t[11],this.Lst=new Rh.Pot(t[5],this))}gn(){this.Lst.gn(),this.Lst=null}wtt(){return this.Lst||(this.Lst=new Rh.Pot(null,this)),this.Lst}nf(){return this.wn}nj(t){this.wn=t}JW(){return this.pst}zW(t){this.pst=t}Itt(){return this.xot}Ctt(t){this.xot=t}Rtt(){return this.Mot}Ett(t){this.Mot=t}FZ(){return this.Tot}Ptt(t){this.Tot=t}XW(){return this.Got}qW(t){this.Got=t}YW(){return this._ot}$W(t){this._ot=t}nW(){return this.Iot}Ftt(t){this.Iot=t}sZ(){return this.Cot}Att(){return this.Rot}ktt(){return this.Eot}Aq(){return{trackDataJson:this.Lst.Aq(),name:this.wn,totalTime:this.pst,step:this.xot,interpolationMode:this.Mot,resultMode:this.Tot,loop:this.Got,pingPong:this._ot,repeatCount:this.Iot,startOnLayout:this.Cot,transformWithSceneGraph:!!this.Rot,useSystemTimescale:this.Eot}}kq(t){t&&(this.wtt().kq(t.trackDataJson),this.wn=t.name,this.pst=t.totalTime,this.xot=t.step,this.Mot=t.interpolationMode,this.Tot=t.resultMode,this.Got=t.loop,this._ot=t.pingPong,this.Iot=t.repeatCount,this.Cot=t.startOnLayout,this.Rot=!!t.transformWithSceneGraph,this.Eot=!!t.useSystemTimescale)}}}{const Eh=self.Ls;class Ph{constructor(t,s){this.Lst=s,this.Fot=null,this.Aot=null,this.Nst=NaN,this.Wst=NaN,this.Mot="default",this.Tot="default",this.Vu=!1,this.kot=null,this.pit=null,this.yf="",this.Dot=null,this.Oot=0,this.Bot=this.Lst._tt().JW(),this.Mf=0,this.wn="",t&&(t[0]&&(this.Fot=t[0],this.Nst=t[0][2],this.Wst=t[0][1]),this.Mot=t[1],this.Tot=t[2],this.Vu=!!t[3],t[6]&&(this.yf=t[6]),t[7]&&(this.Dot=t[7],this.Oot=t[7][0],this.Bot=t[7][1]),t[8]&&(this.Aot=t[8]),t[8]&&(this.Aot=t[8]),t[9]&&(this.Mf=t[9]),t[10]&&(this.wn=t[10]),this.kot=new Eh.Lot(t[4],this),this.pit=new Eh.Not(t[5],this))}gn(){this.Fot=null,this.Lst=null,this.kot&&(this.kot.gn(),this.kot=null),this.pit&&(this.pit.gn(),this.pit=null),this.Dot=null}wtt(){return this.Lst}Yst(){return this.kot||(this.kot=new Eh.Lot(null,this)),this.kot}iet(){return this.pit||(this.pit=new Eh.Not(null,this)),this.pit}Wot(){return this.Fot}let(){return this.Wst}Fet(t){this.Wst=t}aet(){return this.Nst}Iet(t){this.Nst=t}Rtt(){return this.Mot}Ett(t){this.Mot=t}FZ(){return this.Tot}Ptt(t){this.Tot=t}Eet(){return this.Vu}Pet(t){this.Vu=!!t}fU(){return this.yf}yst(){return this.Oot}Cet(){return this.Bot}Ret(t){this.Bot=t}ket(){return this.Aot[0]}Aet(t){this.Aot||(this.Aot=[]),this.Aot[0]=t}Bet(){return this.Aot||(this.Aot=[]),this.Aot[1]}Oet(t){this.Aot||(this.Aot=[]),this.Aot[1]=t}IT(){return this.Mf}nf(){return this.wn}Aq(){return{keyframeDataJson:this.kot.Aq(),propertyTrackDataJson:this.pit.Aq(),instanceData:this.Fot,additionalInstanceData:this.Aot,instanceUid:this.Nst,objectClassIndex:this.Wst,interpolationMode:this.Mot,resultMode:this.Tot,enabled:this.Vu,id:this.yf,nestedData:this.Dot,type:this.Mf,name:this.wn}}kq(t){t&&(this.Fot=t.instanceData,this.Nst=t.instanceUid,this.Wst=t.objectClassIndex,this.Mot=t.interpolationMode,this.Tot=t.resultMode,this.Vu=t.enabled,this.yf=t.id,this.Mf=t.type||0,this.wn=t.name||"",this.Bot=this.Lst._tt().JW(),t.nestedData&&(this.Dot=t.nestedData,this.Oot=this.Dot[0],this.Bot=this.Dot[1]),t.additionalInstanceData&&(this.Aot=t.additionalInstanceData),this.Yst().kq(t.keyframeDataJson),this.iet().kq(t.propertyTrackDataJson))}}Eh.Pot=class{constructor(t,s){this.BQ=s,this.Uot=[],Eh._Y.Sot(this.Uot,t,Ph,this)}gn(){this.BQ=null;for(const t of this.Uot)t.gn();Eh.Vh(this.Uot),this.Uot=null}_tt(){return this.BQ}bst(){const t=new Ph(null,this);return this.Uot.push(t),t}jot(t){return t.Yst().$st()[0]}Vot(t){const s=t.Yst().$st();return s.at(-1)}qet(s,t){const e=t.Yst().$st(),i=e.length;for(let t=0;t<i;t++){const r=e[t];if(r.TP()===s)return r}}Hot(s,t){const e=t.Yst().$st(),i=e.length;for(let t=0;t<i;t++){const r=e[t];if(r.TP()>s)return r}}zot(s,t){const e=t.Yst().$st(),i=e.length;for(let t=0;t<i;t++){const r=e[t];if(r.TP()>=s)return r}}Jet(s,t){const e=t.Yst().$st();for(let t=e.length-1;0<=t;t--){const i=e[t];if(i.TP()<=s)return i}}*Stt(){for(const t of this.Uot)yield t}Aq(){return{trackDataItemsJson:this.Uot.map(t=>t.Aq())}}kq(t){t&&Eh._Y.vot(this.Uot,t.trackDataItemsJson,Ph,this)}}}{const Fh=self.Ls;class Ah{constructor(t,s){this.pit=s,this.Jot="",this.qot=null,this.Cnt=null,this.Mf=null,this.Xot=NaN,this.$ot=NaN,this.Mot="default",this.Tot="default",this.Vu=!1,this.Yot=null,this.Kot=!0,t&&(this.Jot=t[0][0],this.qot=t[0].slice(1),this.Cnt=t[1],this.Mf=t[2],this.Xot=t[3],this.$ot=t[4],this.Mot=t[5],this.Tot=t[6],this.Vu=!!t[7],this.Yot=new Fh.Zot(t[8],this),this.Kot=t[9])}gn(){this.Yot.gn(),this.Yot=null,this.pit=null,this.qot=null}iet(){return this.pit}Sit(){return this.Yot||(this.Yot=new Fh.Zot(null,this)),this.Yot}pet(){return this.Jot}Ait(t){this.Jot=t}Dit(){return this.qot}Bit(t){this.qot=t}Nit(){return this.Cnt}Uit(t){this.Cnt=t}IT(){return this.Mf}Hit(t){this.Mf=t}qit(){return this.Xot}Xit(t){this.Xot=t}$it(){return this.$ot}Yit(t){this.$ot=t}Rtt(){return this.Mot}Ett(t){this.Mot=t}FZ(){return this.Tot}Ptt(t){this.Tot=t}Eet(){return this.Vu}Pet(t){this.Vu=!!t}Zit(){return!!this.Kot}Aq(){return{propertyKeyframeDataJson:this.Yot.Aq(),sourceAdapterId:this.Jot,sourceAdapterArguments:this.qot,property:this.Cnt,type:this.Mf,min:this.Xot,max:this.$ot,interpolationMode:this.Mot,resultMode:this.Tot,enabled:this.Vu,canHavePropertyKeyframes:this.Kot}}kq(t){t&&(this.Jot=t.sourceAdapterId,this.qot=t.sourceAdapterArguments,this.Cnt=t.property,this.Mf=t.type,this.Xot=t.min,this.$ot=t.max,this.Mot=t.interpolationMode,this.Tot=t.resultMode,this.Vu=t.enabled,this.Kot=t.canHavePropertyKeyframes,this.Sit().kq(t.propertyKeyframeDataJson))}}Fh.Not=class{constructor(t,s){this.Bst=s,this.Qot=[],Fh._Y.Sot(this.Qot,t,Ah,this)}gn(){this.Bst=null;for(const t of this.Qot)t.gn();Fh.Vh(this.Qot),this.Qot=null}_et(){return this.Bst}Ket(){const t=new Ah(null,this);return this.Qot.push(t),t}Jit(t){const s=t.Sit();return s.yit()[0]}Bnt(t){const s=t.Sit(),e=s.yit();return e.at(-1)}Qit(s,t){const e=t.Sit(),i=e.yit(),r=i.length;for(let t=0;t<r;t++){const n=i[t];if(n.TP()===s)return n}}ert(s,t){const e=t.Sit(),i=e.yit(),r=i.length;for(let t=0;t<r;t++){const n=i[t];if(n.TP()>s)return n}}irt(s,t){const e=t.Sit(),i=e.yit(),r=i.length;for(let t=0;t<r;t++){const n=i[t];if(n.TP()>=s)return n}}trt(s,t){const e=t.Sit(),i=e.yit();for(let t=i.length-1;0<=t;t--){const r=i[t];if(r.TP()<=s)return r}}*eet(){for(const t of this.Qot)yield t}Aq(){return{propertyTrackDataItemsJson:this.Qot.map(t=>t.Aq())}}kq(t){t&&Fh._Y.vot(this.Qot,t.propertyTrackDataItemsJson,Ah,this)}}}{const kh=self.Ls;class Dh{constructor(t,s){if(this.kot=s,this.bF=-1,this.tat="noease",this.sat=!1,this.ltt=null,this.eat=null,t){this.bF=t[0],this.tat=t[1],this.sat=!!t[2];const e=t[3];this.ltt=e?e.split(" "):[],this.eat=new Set(this.ltt.map(t=>t.toLowerCase())),this.iat=null}}gn(){this.kot=null,kh.Vh(this.ltt),this.ltt=null,this.eat.clear(),this.eat=null,this.iat=null}Yst(){return this.kot}TZ(){return this.iat}rat(t){this.iat=t}TP(){return this.bF}HW(t){this.bF=t,this.kot.nat()}wrt(){return this.tat}oU(t){this.tat=t}Eet(){return this.sat}Pet(t){this.sat=!!t}QW(){return this.ltt}Btt(t){this.ltt=t?t.split(" "):[],this.eat=new Set(this.ltt.map(t=>t.toLowerCase()))}hat(){return this.eat}Ast(t){return this.eat.has(t.toLowerCase())}Aq(){return{time:this.bF,ease:this.tat,enable:this.sat,tags:this.ltt}}kq(t){t&&(this.bF=t.time,this.tat=t.ease,this.sat=t.enable,this.ltt=t.tags,this.eat=new Set(this.ltt.map(t=>t.toLowerCase())))}}kh.Lot=class{constructor(t,s){this.Bst=s,this.Xst=[],kh._Y.Sot(this.Xst,t,Dh,this),this.nat()}gn(){this.Bst=null;for(const t of this.Xst)t.gn();kh.Vh(this.Xst),this.Xst=null}nat(){this.Xst.sort((t,s)=>t.TP()-s.TP());for(let t=0;t<this.Xst.length;t++){const s=this.Xst[t];s.rat(this.Xst[t+1])}}_et(){return this.Bst}oat(){return this.Xst.length}$st(){return this.Xst}$et(){const t=new Dh(null,this);return this.Xst.push(t),this.nat(),t}Qet(t){for(const s of this.Xst)if(t(s)){const e=this.Xst.indexOf(s);-1!==e&&(s.gn(),this.Xst.splice(e,1))}this.aat(),this.nat()}aat(){this.Xst.sort((t,s)=>t.TP()-s.TP())}lit(t){return this.Xst.indexOf(t)}uit(t){return this.Xst[t]}*lat(){for(const t of this.Xst)yield t}*uat(){for(let t=this.Xst.length-1;0<=t;t--)yield this.Xst[t]}Aq(){return{keyframeDataItemsJson:this.Xst.map(t=>t.Aq())}}kq(t){t&&(kh._Y.vot(this.Xst,t.keyframeDataItemsJson,Dh,this),this.nat())}}}{const Oh=self.Ls;class Bh{constructor(t,s){this.Yot=s,this.Yrt=null,this.cat=null,this.Mf="",this.bF=NaN,this.tat="noease",this.sat=!1,this.fat=null,this.dat=void 0,this.pat="line",t&&(this.Yrt=t[0][0],this.cat=t[0][1],this.Mf=t[0][2],this.bF=t[1],this.tat=t[2],this.sat=!!t[3],this.pat=t[5],this.fat=null,t[4]&&(this.fat=new Oh.mat(t[4],this)),this.iat=null,this.gat=null)}gn(){this.Yot=null,this.fat&&(this.fat.gn(),this.fat=null),this.iat=null,this.gat=null}yat(){return this.fat}rat(t){this.iat=t}TZ(){return this.iat}Sat(t){this.gat=t}GZ(){return this.gat}Lit(){return this.Yrt}brt(t){"color"===this.Mf&&Oh.fi(t)?(this.Yrt[0]=Oh.Kn(t),this.Yrt[1]=Oh.Zn(t),this.Yrt[2]=Oh.Qn(t)):this.Yrt=t}Lnt(){return this.cat}grt(t){"color"===this.Mf&&Oh.fi(t)?(this.cat[0]=Oh.Kn(t),this.cat[1]=Oh.Zn(t),this.cat[2]=Oh.Qn(t)):this.cat=t}WZ(){const t=this.Yot.Git().FZ();return"relative"===t?this.Lit():"absolute"===t?this.Lnt():void 0}IT(){return this.Mf}Hit(t){this.Mf=t}TP(){return this.bF}HW(t){this.bF=t,this.Yot.wat()}wrt(){return this.tat}oU(t){this.tat=t}Eet(){return this.sat}Pet(t){this.sat=!!t}_Z(){return this.pat}LZ(s){if(this.fat){if(!this.dat&&null!==this.dat){const e=this.fat.bat();if(e){const i=e.length;for(let t=0;t<i;t++){const r=e[t];if(r.fU()===s)return this.dat=r,this.dat}}this.dat=null}return this.dat}}Aq(){const t=this.fat;return{addonDataJson:t&&t.Aq(),value:this.Yrt,aValue:this.cat,type:this.Mf,time:this.bF,ease:this.tat,enable:this.sat}}kq(t){t&&(t.addonDataJson&&this.fat._SetFromJson(t.addonDataJson),this.Yrt=t.value,this.cat=t.aValue,this.Mf=t.type,this.bF=t.time,this.tat=t.ease,this.sat=t.enable)}}Oh.Zot=class{constructor(t,s){this.dit=s,this.git=[],this.vat=[],Oh._Y.Sot(this.git,t,Bh,this),Oh._Y.bot(this.vat,t,Bh,this),this.wat()}gn(){this.dit=null;for(const t of this.git)t.gn();Oh.Vh(this.git),this.git=null;for(const s of this.vat)s.gn();Oh.Vh(this.vat),this.vat=null}wat(){let s=this.git;s.sort((t,s)=>t.TP()-s.TP());for(let t=0;t<s.length;t++){const e=s[t];t+1<s.length&&e.rat(s[t+1]),0<=t-1&&e.Sat(s[t-1])}(s=this.vat).sort((t,s)=>t.TP()-s.TP());for(let t=0;t<s.length;t++){const i=s[t];t+1<s.length&&i.rat(s[t+1]),0<=t-1&&i.Sat(s[t-1])}}prt(){const t=new Bh(null,this);return this.git.push(t),this.wat(),t}mrt(t){for(const s of this.git)if(t(s)){const e=this.git.indexOf(s);-1!==e&&(s.gn(),this.git.splice(e,1))}this.xat(),this.wat()}xat(){this.git.sort((t,s)=>t.TP()-s.TP())}Git(){return this.dit}Mat(){return this.git.length}Bnt(){return this.git[this.git.length-1]}yit(){return this.git}MZ(){return this.vat}*Tat(){for(const t of this.git)yield t}*Gat(){for(let t=this.git.length-1;0<=t;t--)yield this.git[t]}Aq(){const t=this.git,s=this.vat;return{propertyKeyframeDataItemsJson:t.map(t=>t.Aq()),propertyKeyframeDataItemsIncludingDisabledJson:s.map(t=>t.Aq())}}kq(t){t&&(Oh._Y.vot(this.git,t.propertyKeyframeDataItemsJson,Bh,this),Oh._Y.vot(this.vat,t.propertyKeyframeDataItemsIncludingDisabledJson,Bh,this),this.wat())}}}{const Lh=self.Ls;class Nh{constructor(t,s){this.fat=s,this.yf=t[0],this._at=t[1]}gn(){this.fat=null,this._at=null}yat(){return this.fat}fU(){return this.yf}Aq(){return{id:this.yf,data:this._at}}kq(t){t&&(this.yf=t.id,this._at=t.data)}}class Wh extends Nh{constructor(t,s){super(t,s),this.Iat=this._at[0],this.Cat=!!this._at[1],this.Rat=this._at[2],this.Eat=!!this._at[3]}gn(){super.gn()}VZ(){return this.Iat}cot(){return this.Cat}JZ(){return this.Rat}dot(){return this.Eat}Aq(){return Object.assign(super.Aq(),{startAnchor:this.Iat,startEnable:!!this.Cat,endAnchor:this.Rat,endEnable:!!this.Eat})}kq(t){t&&(super.kq(t),this.Iat=t.startAnchor,this.Cat=!!t.startEnable,this.Rat=t.endAnchor,this.Eat=!!t.endEnable)}}class Uh extends Nh{constructor(t,s){super(t,s),this.Pat=this._at[0],this.Fat=this._at[1]}gn(){super.gn()}mot(){return this.Pat}pot(){return this.Fat}Aq(){return Object.assign(super.Aq(),{direction:this.Pat,revolutions:this.Fat})}kq(t){t&&(super.kq(t),this.Pat=t.direction,this.Fat=t.revolutions)}}Lh.mat=class{constructor(t,s){this.Aat=s,this.kat=[],Lh._Y.Sot(this.kat,t,{prop:0,map:new Map([["cubic-bezier",Wh],["angle",Uh]])},this)}gn(){this.Aat=null;for(const t of this.kat)t.gn();Lh.Vh(this.kat),this.kat=null}Dat(){return this.Aat}bat(){return this.kat}*Oat(){for(const t of this.kat)yield t}Aq(){return{addonDataItemsJson:this.kat.map(t=>t.Aq())}}kq(t){t&&Lh._Y.vot(this.kat,t.addonDataItemsJson,{prop:"id",map:new Map([["cubic-bezier",Wh],["angle",Uh]])},this)}}}{let m=self.Ls,e=0;m.zht=class extends m.nK{constructor(t,s){super("tween-"+e++,t,s),this.yf="",this.Bat=!1,this.Lat="start-value",this.Ust=null,this.Nat=null,this.Wat=null,this.cit=null,this.Uat=null}gtt(t){const s=m.mn(m.Event,"tweenstatereleased");s.jat=this,t.dispatchEvent(s)}IT(){return 1}jQ(){for(const t of this.BQ.wtt().Stt())this.LQ.push(m.Vat.GM(this,t));this.cit=this.LQ[0]}wst(){const t=this.BQ.wtt().bst(),s=m.Vat.GM(this,t);return this.LQ.push(s),this.Hat(),s}Hat(){this.cit=this.LQ[0]}pU(t){return this.cit.Cst()[0]}Vit(t){this.zat=t}aU(){const t=this.bZ();if(t&&t.length){const s=t[0];if(this.cit=s){const e=s.aU();return s.oet()?e:void 0}}}Jat(t){this.Wat||(this.Wat=[]),this.Wat.push(t)}qat(t){this.Nat||(this.Nat=[]),this.Nat.push(t)}Xat(t){if(this.Wat){const s=this.Wat.indexOf(t);-1!==s&&this.Wat.splice(s,1)}}$at(t){if(this.Nat){const s=this.Nat.indexOf(t);-1!==s&&this.Nat.splice(s,1)}}Yat(t,s){for(const e of this.LQ)for(const i of e.Kst)if(i.Rst()===s){const r=i.iet(),n=i.Git(),h=r.Jit(n);h.brt(t),h.grt(t)}}Kat(t){for(const s of this.LQ)for(const e of s.Kst)if(e.Rst()===t)return e}Zat(t){for(const s of t){const e=this.Kat(s);this.Yat(e.hrt(),s)}if(this.Ott()){const i=this.JW()-this.TP();this.zW(i);for(const r of this.LQ)r.Ret(i);this.Ktt(0)}else{const n=this.TP();this.zW(n);for(const h of this.LQ)h.Ret(n);this.Ktt(n)}this.Ztt()}Qat(t,s){const e=this.Kat(s),i=e.iet(),r=e.Git(),n=i.Bnt(r);n.HW(this.JW()),n.brt(t),n.grt(t)}tlt(t){this.yf=t}fU(){return this.yf}slt(t){this.Lat=t}elt(){return this.Lat}cU(t){this.Bat=t}uU(){return this.Bat}Utt(){if(this.Wat)for(const t of this.Wat)t(this);if(!this.KK())for(const s of this.LQ)s.iit()}jtt(){this.ett=this.mf.Vtt()}QK(){if(!this.htt&&(this.htt=!0,this.Nat))for(const t of this.Nat)t(this)}HW(t){this.ilt(),super.HW(t)}ist(t){(t=m.fi(t)?t:this.JW())<0?this.zQ=0:t>=this.JW()?this.zQ=this.JW():this.zQ=t,this.cit.rst()}HK(t){if(!this.ZK()&&"current-state"===this.elt())for(const s of this.LQ)s.eit();super.HK(t)}UW(t=!1){if(super.UW(t),!this.KK())for(const s of this.LQ)s.sit()}m0(t=!0,s=!1){this.ilt(),super.m0(t,s)}ilt(){for(const t of this.LQ){const s=t=>{const s=t.TP(),e=this.JW();return 0!==s&&s!==e};t.Zet(s),t.tit(s)}}VY(){if(!this.NW()){const t=this.aU();if(t&&t.JL().qz())return!1;this.OQ.WK(this),this.lst()}return!0}XK(r,t,s){if(this.Ust||(this.Ust=this.aU()),!this.Ust||this.Ust.f8())this.UW(!0),this.jtt();else{const e=this.Ust.Yk();if(0!==(r=-1!==e?s*e:r)||0!==this.att){this.att=r;const n=this.zQ+this.JQ,h=r*this.qQ,o=n+h,a=this.BQ.pst;o<0?(this.zQ=0,this.JQ=-o):a<=o?(this.zQ=a,this.JQ=this.zQ-o):(this.zQ=o,this.JQ=0);let t=!1,s=!1,e=this.XW(),i=this.YW();e||i?e&&!i?0<this.qQ?this.zQ>=a&&(this.ist(0),this.rlt(m.nlt.Tween.x$.OnAnyTweenLoop),this.rlt(m.nlt.Tween.x$.OnTweensLoop),s=!0):this.zQ<=0&&(this.ist(a),this.rlt(m.nlt.Tween.x$.OnAnyTweenLoop),this.rlt(m.nlt.Tween.x$.OnTweensLoop),s=!0):!e&&i?0<this.qQ?this.zQ>=a&&(this.Ktt(a),this.KW(-1*this.ZW()),s=!0,1===this.XQ?this.$Q<this.nW()?(this.$Q++,this.rlt(m.nlt.Tween.x$.OnAnyTweenLoop),this.rlt(m.nlt.Tween.x$.OnTweensLoop),this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong),this.XQ=0):(this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong),t=!0):0===this.XQ&&(this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong),this.XQ=1)):this.zQ<=0&&(this.Ktt(0),this.KW(-1*this.ZW()),s=!0,1===this.XQ?this.$Q<this.nW()?(this.$Q++,this.rlt(m.nlt.Tween.x$.OnAnyTweenLoop),this.rlt(m.nlt.Tween.x$.OnTweensLoop),this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong),this.XQ=0):(t=!0,this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong)):0===this.XQ&&(this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong),this.XQ=1)):e&&i&&(0<this.qQ?this.zQ>=a&&(this.Ktt(a),this.KW(-1*this.ZW()),s=!0,0===this.XQ&&(this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong)),1===this.XQ&&(this.rlt(m.nlt.Tween.x$.OnAnyTweenLoop),this.rlt(m.nlt.Tween.x$.OnTweensLoop),this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong)),this.XQ++,this.XQ=m.wrap(this.XQ,0,2)):this.zQ<=0&&(this.Ktt(0),this.KW(-1*this.ZW()),s=!0,0===this.XQ&&(this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong)),1===this.XQ&&(this.rlt(m.nlt.Tween.x$.OnAnyTweenLoop),this.rlt(m.nlt.Tween.x$.OnTweensLoop),this.rlt(m.nlt.Tween.x$.OnAnyTweenPingPong),this.rlt(m.nlt.Tween.x$.OnTweensPingPong)),this.XQ++,this.XQ=m.wrap(this.XQ,0,2))):0<this.qQ?this.zQ>=a&&(this.$Q<this.nW()?(this.$Q++,this.ist(0),this.rlt(m.nlt.Tween.x$.OnAnyTweenLoop),this.rlt(m.nlt.Tween.x$.OnTweensLoop),s=!0):(this.Ktt(a),t=!0)):this.zQ<=0&&(this.$Q<this.nW()?(this.$Q++,this.ist(a),this.rlt(m.nlt.Tween.x$.OnAnyTweenLoop),this.rlt(m.nlt.Tween.x$.OnTweensLoop),s=!0):(this.Ktt(0),t=!0)),t?(this.cit.mst(),this.UW(!0),this.jtt()):(this.cit.Xc(this.zQ,!0,!1,s,this.ott,!1),this.ott&&(this.ott=!1))}}}rlt(t){const s=this.aU(),e=s.hlt(m.nlt.Tween);e.PushTriggerTween(this),this.mf.AN(t,s,e.H6()),e.PopTriggerTween()}Aq(){const t=super.Aq(),s=this._tt();return Object.assign(t,{tweenDataItemJson:s.Aq(),id:this.yf,destroyInstanceOnComplete:this.Bat,initialValueMode:this.Lat})}kq(t){if(t){const s=this._tt();s.kq(t.tweenDataItemJson),super.kq(t),this.yf=t.id,this.Bat=t.destroyInstanceOnComplete,this.Lat=t.initialValueMode,this.Hat()}}static IsPlaying(t){return t.IsPlaying()}static eU(t){return t.eU()}static olt(t){return!!t.YW()&&0===t.Dtt()}static llt(t){return!!t.YW()&&1===t.Dtt()}static ult(t){const s=t.runtime.vtt(),e=new m.yot;if(t.json){e.kq(t.json.tweenDataItemJson);const i=new m.zht(e,s);return i.kq(t.json),i}{const r=new m.zht(e,s),n=(m.Bi(t.clt)||(t.clt=[t.clt]),r.tlt(t.id),r.Btt(t.tags),r.slt(t.initialValueMode),r.cU(t.releaseOnComplete),r.qW(t.loop),r.$W(t.pingPong),r.zW(t.time),r.Ctt(0),r.Ett("default"),r.Ptt(t.clt[0].resultMode),r.Ftt(t.repeatCount),r.wst()),h=(n.Iet(t.z6.hN()),n.Ett("default"),n.Ptt(t.clt[0].resultMode),n.Pet(!0),n.Fet(t.z6.JL().UA()),t.z6.k6()),o=h.Det()?h.ket():t.z6.UD().Sm(),a=h.Det()?h.Bet():t.z6.UD().Rm(),l=(n.Aet(o),n.Oet(a),n.Xet()),u=(l.HW(0),l.oU("noease"),l.Pet(!0),l.Btt(""),n.Xet());u.HW(t.time),u.oU("noease"),u.Pet(!0),u.Btt("");for(const c of t.clt){const f=n.Yet(),d=(f.Ait(c.sourceId),f.Oit(c.sourceArgs),f.Wit(c.property),f.Vit(c.type),f.Xit(NaN),f.Yit(NaN),f.Ett("default"),f.Ptt(c.resultMode),f.Pet(!0),f.drt()),p=(d.Hit(c.valueType),d.HW(0),d.oU(c.ease),d.Pet(!0),d.brt(c.startValue),d.grt(c.startValue),f.drt());p.Hit(c.valueType),p.HW(t.time),p.oU(c.ease),p.Pet(!0),p.brt(c.endValue),p.grt(c.endValue),f.Mtt()}return r}}static Iet(t,s){if(!isNaN(s))for(const e of t.bZ())e.Iet(s)}flt(t,s){return this.Uat||(this.Uat=m.mn(self.nU,this,t,s)),this.Uat}}}{const jh=self.Ls;jh.Vat=class extends jh.btt{constructor(t,s){super(t,s),this.dlt=null,this.plt=null}static GM(t,s){return jh.mn(jh.Vat,t,s)}mlt(){1===this.Kst.length?this.dlt=this.Kst[0]:(this.dlt=this.Kst[0],this.plt=this.Kst[1])}Zst(){for(const t of this.Bst.iet().eet())this.Kst.push(jh.glt.GM(this,t));this.mlt()}Yet(){const t=this.Bst.iet(),s=t.Ket(),e=jh.glt.GM(this,s);return this.Kst.push(e),this.mlt(),e}HK(){if(this.het(),this.oet()||!this.Gtt()){const t=this.net(),s=t.Ott(),e=s?0:this.Cet();for(const r of this.Kst)r.HK(e),0===this.Qst&&1===r.Wet()&&(this.Qst=1),0===this.sK&&1===r.zK()&&(this.sK=1);this.tet=0;const i=this.Kst.some(t=>t.dst());i&&(this.tet=1),this.qst=this.Uet(e),this.Hst=!1,this.zst=!1,this.Xc(e)}}gst(){}Xc(t,s=0,e=!1,i=!1,r,n=!1,h=!1){if(this.Ust||this.aU(),this.Ust){const o=!this.Ust.f8();return o&&(!n||!this.JL().qz())&&((this.plt?(this.dlt.Xc(t,e,i,h),this.plt):this.dlt).Xc(t,e,i,h),void(0!==this.dlt.Wet()&&(this.jst||(this.jst=this.Ust.UD()),this.jst)&&this.jst.l4()))}}Sst(){}kq(t){super.kq(t),this.mlt()}}}{const Vh=self.Ls;Vh.glt=class extends Vh.ret{constructor(t,s){super(t,s),this.ylt=!1}static GM(t,s){return Vh.mn(Vh.glt,t,s)}Xc(t,s=!1,e=!1,i=!1){let r,n;if(this.ylt)r=this.git[0],n=this.git[1];else{if(s)r=this.pit.trt(t,this.dit);else{if(this.wit){const h=this.net(),o=this.wit.TZ(),a=this.wit.TP(),l=o?o.TP():h.JW();(t<=a||l<=t)&&(this.wit=this.pit.trt(t,this.dit))}else this.wit=this.pit.trt(t,this.dit);r=this.wit}n=r.TZ()}this.mit.Xc(t,r,n,s,e,i)}drt(){const t=this.dit.Sit(),s=t.prt();return this.wit=null,this.ylt=this.Kit().length<=2,s}tit(t){this.wit=null;const s=this.dit.Sit();s.mrt(t),this.ylt=this.Kit().length<=2}Aq(){return{sourceAdapterJson:this.Mtt().Aq(),basic:this.ylt}}kq(t){t&&(this.Mtt().kq(t.sourceAdapterJson),this.ylt=t.basic)}}}{const Hh=self.Ls,zh=self.Mc;Hh.$c=class extends Hh.dn{constructor(t,s=!0){super(),this.wn=t[0],this.Slt=t[2],this.wlt=[];for(const e of t[1]){const i=Hh.blt.GM(this,e);this.wlt.push(i)}for(let t=0;t<this.wlt.length;t++){const r=this.wlt[t],n=this.wlt[t+1],h=this.wlt[t-1];r.rat(n),r.Sat(h)}this.vlt=new Map,this.xlt=new Map,this.Mlt(),s&&zh.Kc(this.wn,(t,s,e,i)=>this.Xc(t,s,e,i),null,{transition:this})}static GM(t){return Hh.mn(Hh.$c,t)}gn(){for(const t of this.wlt)t.gn();Hh.Vh(this.wlt),this.wlt=null,this.vlt.clear(),this.vlt=null,this.xlt.clear(),this.xlt=null}Yc(t){this.Slt=!!t}Tlt(t){const s=this.xlt.get(t);if(s)return s;for(const e of this.wlt)if(e.Glt()===t)return this.xlt.set(t,e),e}_lt(s){for(let t=this.wlt.length-1;0<=t;t--){const e=this.wlt[t],i=e.Glt();if(i<=s){let t=e;if(i<s)return t;if(i===s){for(;t;){const r=t.GZ();if(!r)break;if(r.Glt()!==t.Glt())break;t=r}return t}}}}Xc(t,s,e,i){let r=t/i;if(this.Slt){const S=this.Tlt(0),w=this.Tlt(1),b=s+(s+e)*S.Ilt(),v=(s+e)*w.Ilt(),x=v-b;return 0===i?b+x:zh.Qc(t,b,x,i)}0===i&&(r=1);let n=this._lt(r),h=n.TZ();if(!h){const M=n.GZ(),T=n;n=M,h=T}const o=h.Glt()-n.Glt(),a=Hh.bn(r,n.Glt(),h.Glt(),0,o);if(n.Clt()||0==o){const G=s+(s+e)*n.Ilt(),_=(s+e)*h.Ilt(),I=_-G;return 0==o?1===a?G+I:G:zh.Qc(a,G,I,o)}let l=n.Glt(),u=n.Ilt(),c=n.Glt()+n.Rlt(),f=n.Ilt()+n.Elt(),d=h.Glt()+h.Plt(),p=h.Ilt()+h.Flt(),m=h.Glt(),g=h.Ilt(),y=zh.Lc("spline")(a,l,u,c,f,d,p,m,g,this.vlt.get(n));return(1-(y+=n.Ilt()))*s+y*(s+e)}Mlt(){this.vlt.clear();for(let t=0;t<this.wlt.length-1;t++){const s=this.wlt[t];if(s.cot()){const e=s,i=this.wlt[t+1];if(i.dot()){const r=e.Glt(),n=e.Glt()+e.Rlt(),h=i.Glt()+i.Plt(),o=i.Glt();this.vlt.set(e,zh.tf(r,n,h,o))}}}}}}{const Jh=self.Ls;Jh.blt=class extends Jh.dn{constructor(t,s){super(),this.Alt=t,this.klt=s[0],this.Dlt=s[1],this.Olt=s[2],this.Blt=s[3],this.Llt=s[4],this.Nlt=s[5],this.Cat=s[6],this.Eat=s[7],this.Wlt=s[8],this.iat=null,this.gat=null}gn(){this.Alt=null}static GM(t,s){return Jh.mn(Jh.blt,t,s)}rat(t){this.iat=t}TZ(){return this.iat}Sat(t){this.gat=t}GZ(){return this.gat}Glt(){return this.klt}Ilt(){return this.Dlt}Rlt(){return this.Olt}Elt(){return this.Blt}Plt(){return this.Llt}Flt(){return this.Nlt}cot(){return this.Cat}dot(){return this.Eat}Clt(){return"linear"===this.Wlt}Ult(){return"cubic"===this.Wlt}}}{const qh=self.Ls;qh.jlt=class extends qh.dn{constructor(t){super(),this.mf=t,this.Vlt=[]}gn(){for(const t of this.Vlt)t.gn();qh.Vh(this.Vlt),this.Vlt=null}GM(t){this.Vlt.push(qh.$c.GM(t))}}}{const Xh=self.Ls;Xh.Hlt=class extends Xh.dn{constructor(t){super(),this.mf=t,this.zlt=null,this.Jlt=null,this.JY=t=>this.qY(t.z6)}gn(){if(this.eK(),this.zlt){for(const t of this.zlt.values())t.clear();this.zlt.clear()}this.zlt=null,this.mf=null}GM(t){if(this.zlt||(this.zlt=new Map),t){const s=t[0][16],e=s[0],i=t[1],r=(this.zlt.has(i)||this.zlt.set(i,new Map),this.zlt.get(i));r.set(e,t)}}iK(){const t=this.mf.Xf();t&&t.addEventListener("instancedestroy",this.JY)}eK(){const t=this.mf.Xf();t&&t.removeEventListener("instancedestroy",this.JY)}qlt(){return!!this.zlt&&0!==this.zlt.size}Xlt(t,s){let e;if(e=t instanceof Xh.$lt?t.UA():t,this.zlt.has(e)){const i=this.zlt.get(e).get(s);return i?JSON.parse(JSON.stringify(i)):void 0}}Ylt(t,s){this.Jlt||(this.Jlt=new WeakMap),this.Jlt.has(t)||this.Jlt.set(t,s)}Klt(t){if(!this.Jlt)return"";const s=this.Jlt.get(t);return s||""}qY(t){this.Jlt&&this.Jlt.has(t)&&this.Jlt.delete(t)}}}{const $h=self.Ls;$h.Zlt=class{constructor(t){this.mf=t,this.Qlt=new $h.tut}gn(){this.Qlt.gn(),this.Qlt=null,this.mf=null}oO(){return this.mf}GM(t){this.Qlt.wc(t)}sut(t){return this.Qlt.re(t)}eut(){return this.Qlt.eut()}}}{const g=self.Ls;g.iut=class{constructor(t,s,e,i,r,n,h){this.mf=r.oO(),this.rut=r,this.nut=t,this.hut=e,this.out=i,this.iy=s,this.IY=n,this.aut=h??n.aU().hN(),this.lut(),this.uut=this.fut?.cut()??-1,this.dut=[],this.mut=null,this.gut=NaN,this.yut=null,this.Sut=null,this.wut=null,this.but="",this.vut=null,this.xut="",this.Mut="",this.Tut=0,this.Gut=!1,this.ttt=!1}gn(){this.ttt||(g.Vh(this.dut),this.dut=null,this.mf=null,this.rut=null,this.out=null,this.IY=null,this.mut=null,this.gut=NaN,this.yut&&this.yut.clear(),this.yut=null,this.Sut=null,this.wut=null,this.but="",this.vut=null,this.xut="",this.Mut="",this.ttt=!0)}yn(){return this.ttt}_ut(){return this.rut}oO(){return this.mf}nf(){return this.nut}Iut(){return this.out}LW(){return this.iy}gK(){return this.IY||(this.IY=this.mf.OD(this.aut).k6()),this.IY}Cut(){return this.Rut(this.uut)}Eut(){const t=this.Cut();return t?t.LW():""}Put(){const t=this.Cut();return t?t.QW():[]}Fut(t){const s=this.Put();if(!s)return!1;if(!s.length)return!1;const e=g.iut.Ltt(t);return!(!e||!e.length)&&e.every(g.iut.Wtt,s)}Aut(t,s){const e=this.Put();if(!e)return!1;if(!e.length)return!1;const i=g.iut.Ltt(t);return!(!i||!i.length)&&i.every(t=>g.iut.kut.call(e,t,s))}static Wtt(t){return""===t?1===this.length&&""===this[0]:this.map(t=>t.trim().toLowerCase()).includes(t.trim().toLowerCase())}static Ltt(t){return t.trim().split(" ")}static kut(s,e){return""===s?1===this.length&&""===this[0]:this.some(t=>g.compare(t.trim(),e,s.trim()))}Dut(t){const s=this.Cut();if(s){if(g.fi(t)){const e=s.Out(),i=e?e[t]:void 0;if(g.fi(i))return this.Rut(i)}if("string"==typeof t)for(const r of s.Out()){const n=this.Rut(r);if(n.VW(t))return this.Rut(n.cut())}}}But(t){const s=this.Dut(t);return s?s.LW():""}Lut(t){const s=this.Dut(t);return s?s.QW():""}Nut(t){const s=this.Cut();if(!s)return-1;const e=s.Out();if(!e)return-1;const i=this.Dut(t);return i?e.indexOf(i.cut()):-1}Wut(){const t=this.Cut();if(!t)return 0;const s=t.Out();return s?s.length:0}Rut(t){return this.out.Rut(t)}m0(){const t=this.Uut();t.jut(!0)}jut(t){if(this.Vut()){for(const[s,e]of this.Vut().entries())e.jut(!1);this.Vut().clear()}if(this.yut=null,this.mut=null,this.Hut=null,this.Sut=null,this.but="",this.vut=null,this.xut="",this.Mut="",this.dut=[],t){this.rut.zut(this);const i=this.fut.cut();i!==this.uut&&this.Jut(i)}else this.uut=this.fut.cut()}qut(){const t=this.out.Rut(this.uut);return t?t.$ut().Xut():0}Yut(t){const s=this.Kut(t);return s?s.nf():""}Zut(t){let s;return g.fi(t)&&(s=this.Kut(t)),"string"==typeof t&&(s=this.Qut(t)),"number"!=typeof t&&"string"!=typeof t&&console.warn("[Flowcharts] unexpected argument type in GetCurrentNodeOutputValueAt expression"),s?s.Lit():""}tct(t){let s;if(g.fi(t)&&(s=this.Kut(t)),s="string"==typeof t?this.Qut(t):s){const e=s.sct();g.fi(e)&&(this.dut.push(this.uut),this.Jut(e))}}ect(t){const s=this.out.ict(t);if(s){const e=this.out.Rut(s.cut());e&&(this.dut.push(this.uut),this.Jut(e.cut()))}}rct(){const t=this.dut.pop();g.fi(t)?this.Jut(t):this.nct()&&(this.rut.zut(this.nct(),!0,!1,!1),this.nct().Jut(this.hct()),this.Uut().oct(this.nct()))}lct(t){const s=this.Cut();if(s){s.cut();const e=this.Dut(t);e&&(this.dut.push(this.uut),this.Jut(e.cut()))}}uct(s){if(g.fi(s)){const t=this.out.Rut(this.uut),e=t.$ut().cct();return!!e[s]}if("string"==typeof s){const i=this.out.Rut(this.uut),r=i.$ut().cct();for(let t=0;t<r.length;t++)if(r[t].nf()===s)return!0}return!1}fct(){this.Gut=!0}dct(){return 0<this.Tut}pct(){this.Tut++}mct(){this.Tut--,0===this.Tut&&this.Gut&&this.rut.gct(this)}Jut(t){const e=this.uut,s=this.gK().aU();if(this.pct(),this.rut.yct(this),this.mf.AN(g.T$.Flowchart.x$.OnBeforeAnyNodeChange,s),this.mf.AN(g.T$.Flowchart.x$.OnBeforeTaggedNodeChange,s),this.mf.AN(g.T$.Flowchart.x$.OnBeforeAnyNodeChangeInFlowchart,s),this.mf.AN(g.T$.Flowchart.x$.OnBeforeTaggedNodeChangeInFlowchart,s),this.uut=t,this.mf.AN(g.T$.Flowchart.x$.OnAnyNodeChange,s),this.mf.AN(g.T$.Flowchart.x$.OnTaggedNodeChange,s),this.mf.AN(g.T$.Flowchart.x$.OnAnyNodeChangeInFlowchart,s),this.mf.AN(g.T$.Flowchart.x$.OnTaggedNodeChangeInFlowchart,s),this.rut.Sct(),this.mct(),!this.yn()){const i=this.Rut(this.uut);if("reference"===i.IT()){const r=i.wct();if(this.bct(i)){this.dut.pop();const n=this.vct(i),h=(this.rut.zut(n,!0,!0,!1),n.xct(this,e),this.Uut());h.oct(n)}else{const o=i.Mct();if(r){this.dut.pop();let s=i.Tct();if(s){let t=this.rut.Gct(s);for(;t;)s=g.ep(s),t=this.rut.Gct(s)}else{s=r+"-ref";let t=this.rut.Gct(s);for(;t;)s=g.ep(s),t=this.rut.Gct(s)}const a=this.rut._ct(r,o,s,this.IY,!0),l=(a.xct(this,e),this.Ict(i,a),this.Uut());a.Cct(l),l.oct(a)}}}}}Kut(t){const s=this.out.Rut(this.uut);if(!s)return null;const e=s.$ut().cct();if(!e)return null;const i=e[t];return i||null}Qut(t){const s=this.out.Rut(this.uut);if(!s)return null;const e=s.$ut().Rct(t);return e||null}lut(s){if("number"==typeof s){let t=this.Rut(s);t=t||this.out.Ect(),this.fut=t}else{let t=this.out.ict(this.hut);t=t||this.out.Ect(),this.fut=t}}Aq(){return this.Gut?null:{flowchartName:this.nut,flowchartTag:this.iy,startNodeTag:this.hut,currentNodeId:this.uut,previousNodeIds:this.dut,pluginUID:this.IY.aU().hN(),reference:{previousFlowchartTag:this.nct()?this.nct().LW():"",previousStartNodeId:g.fi(this.hct())?this.hct():NaN,referencesJson:this.Pct(),currentReferenceFlowchartTag:this.Fct()?this.Fct().LW():"",rootFlowchartTag:this.Uut()?this.Uut().LW():""}}}Pct(){if(!this.Act())return null;const t=[];for(const[s,e]of this.Vut().entries())t.push({flowchartElementId:s.cut(),flowchartStateTag:e.LW()});return t.length?t:null}kq(t){if(t){if(this.nut=t.flowchartName,this.iy=t.flowchartTag,this.hut=t.startNodeTag,this.uut=t.currentNodeId,this.dut=t.previousNodeIds,this.aut=t.pluginUID,t.hasOwnProperty("reference")){const s=t.reference;this.but=s.previousFlowchartTag,this.gut=s.previousStartNodeId,this.vut=s.referencesJson,this.xut=s.currentReferenceFlowchartTag,this.Mut=s.rootFlowchartTag}this.lut()}}nct(){return"string"==typeof this.but&&this.but&&(this.mut=this.rut.Gct(this.but),this.but=""),this.mut}hct(){return this.gut}xct(t,s){this.mut=t,this.gut=s}Fct(){return"string"==typeof this.xut&&this.xut&&(this.Sut=this.rut.Gct(this.xut),this.xut=""),this.Sut}oct(t){this.Sut=t,this.Sut===this&&(this.Sut=null)}Uut(){return"string"==typeof this.Mut&&this.Mut&&(this.wut=this.rut.Gct(this.Mut),this.Mut=""),this.wut||this}Cct(t){this.wut=t}Act(){return this.kct(),!!this.yut}bct(t){return this.kct(),this.yut&&this.yut.has(t)}kct(){if(this.vut){this.yut&&this.yut.clear(),this.yut||(this.yut=new Map);for(const t of this.vut){const s=this.rut.Gct(t.flowchartStateTag),e=s.Rut(t.flowchartElementId);this.yut.set(e,s)}this.vut=null}}Vut(){return this.kct(),this.yut}vct(t){return this.kct(),this.yut.get(t)}Ict(t,s){this.yut||(this.yut=new Map),this.yut.set(t,s)}}}{const Yh=self.Ls;Yh.Dct=class{constructor(t){this.mf=t,this.Oct=new Map,this.Bct=null,this.Lct=[],this.Nct=()=>this.KY(),this.Wct=null}gn(){Yh.Vh(this.Lct),this.Lct=null,this.Oct.clear(),this.Oct=null,this.Bct=null,this.mf=null,this.Wct=null}oO(){return this.mf}_ct(t,s,e,i,r,n){const h=this.mf._ut().sut(t);if(h){if(!this.Oct.has(e)){const o=new Yh.iut(t,e,s,h,this,i,n);return this.Oct.set(e,o),r&&this.zut(o,!0),o}{const a=this.Oct.get(e);a&&this.gct(a)}}else console.warn(`[Flowcharts] no flowchart found with name '${t}'`)}gct(t){if(t.fct(),!t.dct()){const s=t.LW();this.Oct.delete(s),t.gn(),this.Bct===t&&(this.Bct=null)}}Uct(t){t.m0()}Gct(t){return this.Oct.get(t)}yct(t){this.Lct.push(t)}Sct(){this.Lct.pop()}zut(t,s=!1,e=!1,i=!0){if(i){const r=t.Fct();t=r||t}t!==this.Bct&&(this.jct(),this.Vct(t,s,e))}Hct(t){return"string"==typeof t?this.Gct(t):this.Lct.length?this.Lct[this.Lct.length-1]:this.Bct}jct(){if(this.Bct&&!this.Bct.yn()){const t=this.Bct.gK().aU();this.Bct.pct(),this.yct(this.Bct),this.mf.AN(Yh.T$.Flowchart.x$.OnBeforeFlowchartChange,t),this.Sct(),this.Bct.mct()}}Vct(t,s=!1,e=!1){if(this.Bct=t,this.Bct&&!this.Bct.yn()){const i=this.Bct.gK().aU();this.Bct.pct(),this.yct(this.Bct),this.mf.AN(Yh.T$.Flowchart.x$.OnFlowchartChange,i),!0!==e&&"number"!=typeof e||this.Bct.lut(e),s&&(this.mf.AN(Yh.T$.Flowchart.x$.OnAnyNodeChange,i),this.mf.AN(Yh.T$.Flowchart.x$.OnTaggedNodeChange,i)),this.Sct(),this.Bct.mct()}}Aq(){return{flowchartJsonObjects:[...this.Oct.values()].map(t=>t.Aq()),currentFlowchartTag:this.Bct?this.Bct.LW():null}}kq(t){if(t){this.Wct=t;const s=new Map;for(const e of this.Wct.flowchartJsonObjects){const i=e.flowchartTag;if(this.Oct.has(i)){const r=this.Oct.get(i);r.kq(e),s.set(i,r)}else{const n=this._ct(e.flowchartName,e.startNodeTag,e.flowchartTag,null,!1,e.pluginUID);n.kq(e),s.set(e.flowchartTag,n)}}for(const[h,o]of this.Oct.entries())s.has(h)||o.gn();this.Oct.clear(),this.Oct=s,this.mf.d$()?this.mf.Xf().addEventListener("afterload",this.Nct):this.KY()}}KY(){this.mf.Xf().removeEventListener("afterload",this.Nct);const t=this.Oct.get(this.Wct.currentFlowchartTag);t&&this.zut(t,!0),this.Wct=null}}}{const Kh=self.Ls;Kh.tut=class{constructor(){this.zct=new Map}gn(){for(const t of this.zct.values())t.gn();this.zct.clear(),this.zct=null}wc(t){const s=new Kh.Jct(t),e=s.nf();this.zct.set(e,s)}re(t){return this.zct.get(t)}eut(){return!!this.zct.size}static qct(t,s,e,i){if(s)for(const r of s){const n=new e(r,i);t.push(n)}}}}{const Zh=self.Ls;Zh.Jct=class{constructor(t){this.wn=t[0],this.Xct=new Zh.$ct(t[1],this)}gn(){this.Xct.gn(),this.Xct=null}Yct(){return this.Xct}Rut(t){return this.Xct.Rut(t)}ict(t){return this.Xct.ict(t)}Ect(){return this.Xct.Ect()}nf(){return this.wn}}}{const Qh=self.Ls;class to{constructor(t,s){this.Xct=s,this.Mf=t[7],this.Kct=t[0],this.iy=t[1],this.iy?this.ltt=this.iy.trim().split(" ").map(t=>t.trim()):this.ltt=[],this.Zct=t[2],this.Qct=null,this.tft=null,"dictionary"===this.Mf&&(this.Qct=t[3],this.tft=t[4]),this.eft=t[6],this.ift=null,this.rft=null,this.nft=null,"reference"===this.Mf&&(this.ift=t[8],this.rft=t[9],this.nft=t[10]),this.hft=new Qh.oft(t[5],this)}gn(){this.Xct=null}Yct(){return this.Xct}$ut(){return this.hft}cut(){return this.Kct}LW(){return this.iy}QW(){return this.ltt}VW(t){if(!this.ltt)return!1;if(!this.ltt.length)return!1;const s=Qh.iut.Ltt(t);return!(!s||!s.length)&&s.every(Qh.iut.Wtt,this.ltt)}aft(){return this.eft}lft(t){this.eft=!!t}uft(){if("dictionary"===this.Mf)return!0;if("reference"===this.Mf)return!1;throw new Error("unexpected flowchart node type: "+this.Mf)}Out(){return this.Zct}cft(){return this.Qct}fft(){return this.tft}IT(){return this.Mf}wct(){return this.ift}Mct(){return this.rft}Tct(){return this.nft}}Qh.$ct=class{constructor(t,s){this.out=s,this.dft=[],this.pft=new Map,this.mft=new Map,this.gft=null,Qh.tut.qct(this.dft,t,to,this);for(const e of this.dft){const i=e.cut(),r=e.LW(),n=e.QW(),h=e.aft();if(this.pft.set(i,e),r)for(const a of n)this.mft.has(a)||this.mft.set(a,new Set),this.mft.get(a).add(e);h&&(this.gft=e);const o=e.$ut();for(const l of o.yft()){const u=l.cut();this.pft.set(u,l)}}this.gft||this.Sft()}gn(){this.out=null;for(const t of this.dft)t.gn();Qh.Vh(this.dft),this.dft=null}Iut(){return this.out}Rut(t){return this.pft.get(t)}ict(t){if(!t||!t.length)return null;const e=[];for(const i of t.trim().split(" ")){let t=this.mft.get(i.trim())??new Set;if(0===t.size)return null;e.push(t)}const s=e.reduce((t,s)=>s.size<t.size?s:t);return[...s].filter(s=>e.every(t=>t.has(s)))[0]}Ect(){return this.gft}*wft(){for(const t of this.dft)yield t}Sft(){let t=0;for(const s of this.wft())s.aft()&&t++;if(0===t){for(const e of this.wft())if(e.uft()&&!e.aft())return void e.lft(!0)}else{if(1===t)return;if(1<t){let t=!0;for(const i of this.wft())i.uft()&&(i.aft()&&t?t=!1:i.aft()&&!t&&i.lft(!1))}}for(const r of this.wft())if(r.uft()&&r.aft())return void(this.gft=r)}}}{const so=self.Ls;class eo{constructor(t,s){this.hft=s,this.Kct=t[0],this.wn=t[1],this.Yrt=t[2],this.bft=t[3]}gn(){this.hft=null}$ut(){return this.hft}cut(){return this.Kct}nf(){return this.wn}Lit(){return this.Yrt}sct(){return this.bft}}so.oft=class{constructor(t,s){this.vft=s,this.xft=[],this.Mft=new Map,so.tut.qct(this.xft,t,eo,this);for(const e of this.xft)this.Mft.set(e.nf(),e)}gn(){this.vft=null;for(const t of this.xft)t.gn();so.Vh(this.xft),this.xft=null}Tft(){return this.vft}Xut(){return this.xft.length}cct(){return this.xft}Rct(t){return this.Mft.get(t)}*yft(){for(const t of this.xft)yield t}}}{const io=self.Ls;io.Gft=class extends io.dn{constructor(t){super(),this._ft=t,this.Ift=[],this.Ift.push(io.mn(io.Cft,this)),this.ey=0,this.Rft=this.Ift[0]}gn(){for(const t of this.Ift)t.gn();io.Vh(this.Ift),this.Rft=null,this._ft=null}JL(){return this._ft}Q5(){return this.Rft}Eft(){return this.Ift[this.ey-1]}oc(){this.Q5().oc()}Pft(){const t=this.Ift,s=++this.ey;if(s===t.length){const e=io.mn(io.Cft,this);t.push(e),this.Rft=e}else{const i=t[s];i.m0(),this.Rft=i}}Fft(){const t=this.Ift,s=++this.ey,e=(s===t.length&&t.push(io.mn(io.Cft,this)),t[s]);e.k0(t[s-1]),this.Rft=e}pj(){this.Rft=this.Ift[--this.ey]}Aft(e){const i=this.Ift;for(let t=0,s=i.length;t<s;++t)i[t].Aft(e)}}}{const ro=self.Ls;ro.Cft=class extends ro.dn{constructor(t){super(),this.Ift=t,this._ft=this.Ift.JL(),this.kft=this._ft.oO().Dk(),this.Dft=!0,this.eH=[],this.Oft=[]}gn(){this.Bft(),this.Ift=null,this._ft=null,this.kft=null}Bft(){ro.Vh(this.eH),ro.Vh(this.Oft)}JL(){return this._ft}Lft(){return this.Dft}Nft(){return this.Dft?!!this._ft.sB():!!this.eH.length}Z5(){return this.Dft?this._ft.Z5():this.eH}Wft(){return!!this.Oft.length}Uft(){return this.Oft}jft(){const t=this.Z5();return t.length?t:this.Oft}m0(){this.Dft=!0,ro.Vh(this.Oft)}oc(){this.Dft=!0}k0(t){t.Lft()?this.m0():(this.Dft=!1,ro.qh(this.eH,t.eH),ro.Vh(this.Oft))}Vft(t){this.eH.push(t)}Hft(t){this.Oft.push(t)}zft(t){this.Dft=!!t}Jft(){return this.eH}qft(){return this.Oft}Xft(t){this.Dft=!1,ro.Vh(this.eH),this.eH.push(t)}$ft(t){this.Dft=!1,ro.qh(this.eH,t)}Yft(t){this.Dft=!1,ro.Vh(this.eH);for(const s of t)this.eH.push(s)}Kft(t,s){for(const e of s)t.has(e)||this.Oft.push(e)}Zft(t){for(const s of t)this.eH.push(s);ro.Zh(this.Oft,t)}Qft(){ro.Vh(this.Oft)}t0t(t){if(t)if(this.kft.ej().Ck().s0t()){this.Lft()&&(ro.Vh(this.eH),ro.qh(this.Oft,t.JL().Z5()),this.Dft=!1);const s=this.Oft.indexOf(t);-1!==s&&(this.eH.push(this.Oft[s]),this.Oft.splice(s,1))}else this.Xft(t)}Aft(t){ro.Zh(this.eH,t),ro.Zh(this.Oft,t)}}}{const no=self.Ls;no.e0t=class extends no.dn{constructor(t){super(),this.i0t=t,this.mf=this.i0t.oO(),this.Ift=[],this.Ift.push(no.mn(no.r0t,this,null)),this.ey=0,this.n0t=[]}gn(){for(const t of this.Ift)t.gn();no.Vh(this.Ift),no.Vh(this.n0t),this.i0t=null,this.mf=null}xk(){return this.i0t}oO(){return this.mf}ej(){return this.Ift[this.ey]}h0t(){return this.Ift}o0t(){return this.ey}ij(t){const s=this.Ift,e=++this.ey;if(e===s.length){const i=no.mn(no.r0t,this,t);return s.push(i),i}{const r=s[e];return r.m0(t),r}}pj(){--this.ey}a0t(t){this.n0t.push(t)}l0t(){this.n0t.pop()}kk(){const t=this.n0t;return 0===t.length?null:t.at(-1)}}}{const ho=self.Ls;ho.r0t=class extends ho.dn{constructor(t,s){super(),this.Ift=t,this.mf=this.Ift.oO(),this.u0t=s,this.c0t=0,this.f0t=0,this.d0t=!1,this.p0t=!1,this.m0t=null,this.g0t=0,this.y0t=0,this.S0t=null}gn(){this.m0(null),this.Ift=null,this.mf=null}m0(t){this.u0t=t,this.c0t=0,this.f0t=0,this.d0t=!1,this.p0t=!1,this.S0t=null}w0t(t,s){this.u0t=t,this.c0t=0,this.f0t=s}b0t(){this.c0t=0,this.f0t=0}Ck(){return this.u0t}v0t(t){this.u0t=t}x0t(){return this.c0t}M0t(t){this.c0t=t}T0t(){return this.f0t}G0t(t){this.f0t=t}_0t(t){this.d0t=!!t}I0t(){return this.d0t}C0t(t){this.p0t=!!t}R0t(){return this.p0t}E0t(t){this.m0t=t}P0t(){return this.m0t}F0t(t,s){this.g0t=t,this.y0t=s}Ok(){return this.g0t}Bk(t){this.y0t=t}A0t(){return this.y0t}k0t(){const t=this.u0t;return!!t.D0t()||this.c0t<t.O0t()-1&&!!t.sj().length}B0t(t){this.S0t=t}L0t(){return this.S0t}}}{const oo=self.Ls;oo.N0t=class extends oo.dn{constructor(t){super(),this.i0t=t,this.mf=this.i0t.oO(),this.Ift=[],this.ey=-1,this.Rft=null,this.W0t=[]}gn(){oo.Vh(this.Ift),this.i0t=null,this.mf=null}U0t(t){this.W0t=t;const s=this.W0t.slice(0);this.Ift.push(s),this.ey=0,this.Rft=s}xk(){return this.i0t}oO(){return this.mf}j0t(){return this.Rft}ij(){const t=++this.ey,s=this.Ift;t===s.length?s.push(this.W0t.slice(0)):oo.qh(s[t],this.W0t),this.Rft=s[t]}pj(){this.Rft=this.Ift[--this.ey]}}}{const ao=self.Ls;ao.V0t=class extends ao.dn{constructor(t){super(),this.i0t=t,this.mf=this.i0t.oO(),this.Ift=[],this.ey=-1}gn(){ao.Vh(this.Ift),this.i0t=null,this.mf=null}xk(){return this.i0t}oO(){return this.mf}H0t(){return 0<=this.ey}j0t(){return this.Ift[this.ey]}ij(){if(++this.ey,this.ey===this.Ift.length){const t=ao.mn(ao.z0t,this);return this.Ift.push(t),t}{const s=this.Ift[this.ey];return s.m0(),s}}pj(){--this.ey}J0t(s){const e=this.Ift;for(let t=this.ey;0<=t;--t){const i=e[t];if(i.nf()===s)return i}return null}q0t(){return this.Ift.slice(0,this.ey+1)}}}{const lo=self.Ls;lo.z0t=class extends lo.dn{constructor(t){super(),this.X0t=t,this.wn="",this.ey=0,this.$0t=!1,this.Y0t=NaN}m0(){this.wn="",this.ey=0,this.$0t=!1,this.Y0t=NaN}nj(t){this.wn=t}nf(){return this.wn}cj(t){this.ey=t}UA(){return this.ey}UW(){this.$0t=!0}dj(){return this.$0t}K0t(t){this.Y0t=t}Z0t(){return this.Y0t}}}{const uo=self.Ls;uo.Q0t=class extends uo.dn{constructor(){super(),this.Ift=[],this.ey=-1}gn(){uo.Vh(this.Ift)}j0t(){return this.Ift[this.ey]}ij(){if(++this.ey,this.ey!==this.Ift.length)return this.Ift[this.ey];{const t=[];return this.Ift.push(t),t}}pj(){--this.ey}}}{let t=function(t,s){return t.UA()-s.UA()},n=function(e,i){for(let t=0,s=e.length;t<s;++t)if(e[t]!==i[t])return!1;return!0};t,n;const co=self.Ls;co.tdt=class extends co.dn{constructor(t){super(),this.mf=t,this.sdt=[],this.edt=new Map,this.idt=[],this.rdt=new Map,this.ndt=new Map,this.hdt=new Map,this.odt=new Map,this.adt=new Map,this.ldt=new Map,this.udt=0,this.cdt=[],this.fdt=[],this.ddt=[],this.pdt=new Map,this.mdt=new Map,this.kft=co.mn(co.e0t,this),this.gdt=co.mn(co.N0t,this),this.X0t=co.mn(co.V0t,this),this.ydt=[],this.Sdt=[],this.wdt=[],this.bdt=0,this.vdt=0,this.xdt=0,this.Mdt=[],this.Tdt=[],this.Gdt=[],this._dt=new Map,this.Idt=new Map,self.c3_callFunction=(t,s)=>this.Cdt(t,s)}gn(){this.D$(),this.kft.gn(),this.kft=null,this.gdt.gn(),this.gdt=null,co.Vh(this.Sdt),co.Vh(this.wdt),this.mf=null,co.Vh(this.sdt),this.edt.clear()}GM(t){const s=co.mn(co.Rdt,this,t);this.sdt.push(s),this.edt.set(s.nf().toLowerCase(),s)}Edt(t){this.ydt.push(t)}Pdt(){for(const t of this.mdt.values())t.Fdt();for(const s of this.pdt.values())s.Pdt();for(const e of this.mdt.values())e.Pdt();for(const i of this.sdt)i.Pdt();for(const r of this.sdt)r.e$();for(const n of this.ydt)n.Pdt(!1);co.Vh(this.ydt),this.gdt.U0t(this.ddt)}oO(){return this.mf}s$(t){return this.edt.get(t.toLowerCase())||null}Adt(t){this.idt.push(t),this.rdt.set(t.kdt(),t)}Ddt(t){this.ndt.set(t.m9(),t)}Odt(t){this.hdt.set(t.m9(),t)}Bdt(t){this.odt.set(t.m9(),t)}Ldt(t){switch(t.Ndt()){case 0:this.pdt.set(t.Wdt().toLowerCase(),t);break;case 1:this.mdt.set(t.Wdt().toLowerCase(),t)}}Udt(t){this.ldt.set(t.m9(),t),(t.qz()?this.cdt:this.fdt).push(t)}jdt(e){2<=e.length&&e.sort(t);let i=this.adt.get(e.length);i||(i=[],this.adt.set(e.length,i));for(let t=0,s=i.length;t<s;++t){const r=i[t];if(n(e,r))return r}return i.push(e),e}Vdt(t){return this.ddt.push(t.Hdt()),this.udt++}Dk(){return this.kft}zdt(){return this.Dk().ej()}Ck(){return this.zdt().Ck()}Jdt(){const t=this.zdt(),s=t.Ck();return s.qdt(t.x0t())}Xdt(){const t=this.zdt(),s=t.Ck();return s.$dt(t.T0t())}Ydt(){return this.gdt}rj(){return this.X0t}Kdt(t){const s=[];for(t=t.Zdt();t;)co.tn(s,t.Qdt()),t=t.Zdt();return s}t1t(t){const s={};for(const e of this.Kdt(t))s[e.s1t()]=e.e1t();return Object.create(Object.prototype,s)}i1t(t){return this.ldt.get(t)||null}r1t(t){return this.ndt.get(t)||null}n1t(t){return this.hdt.get(t)||null}h1t(t){return this.odt.get(t)||null}Mk(t){return this.pdt.get(t.toLowerCase())||null}o1t(t,s){let e=this.mdt.get((t.nf()+"."+s).toLowerCase());if(e)return e;if(!t.o9())for(const i of t.a1t())if(e=this.mdt.get((i.nf()+"."+s).toLowerCase()))return e;return null}l1t(){return this.cdt}u1t(){return this.fdt}c1t(t){for(const s of this.cdt)s.f1t();if(t)for(const e of this.fdt)e.Cx()&&e.f1t()}d1t(t){return this.rdt.get(t.toLowerCase())||null}p1t(t){const s=this.ndt.get(t);return s&&s.m1t()?s:null}g1t(){return this.idt}y1t(){for(const t of this.idt)t.S1t()}w1t(){for(const t of this.sdt)t.b1t()}v1t(t){this.w1t(),this.bdt++;for(const s of t.wY()){const e=s.RX();e&&(this.mf.x1t(s),e.H_(),this.mf.M1t())}this.bdt--}async T1t(t){this.w1t(),this.bdt++;for(const s of this.G1t(t))await this.mf._1t(s);this.bdt--}*G1t(t){for(const s of t.wY()){const e=s.RX();e&&(this.mf.x1t(s),yield*e.I1t(),this.mf.M1t())}}C1t(t,s,e,i){let r=!1;if(!t.wD())return this.R1t(s,e,i);this.vdt++;for(const n of t.wY()){const h=n.RX();if(h){this.mf.x1t(n);for(const a of h.E1t()){const l=a.C1t(s,e,i);r=r||l}const o=h.C1t(s,e,i);r=r||o,this.mf.M1t()}}return this.vdt--,r}*P1t(t,s,e,i){let r=!1;if(!t.wD())return this.R1t(s,e,i);this.vdt++;for(const n of t.wY()){const h=n.RX();if(h){this.mf.x1t(n);for(const a of h.E1t()){const l=yield*a.P1t(s,e,i);r=r||l}const o=yield*h.P1t(s,e,i);r=r||o,this.mf.M1t()}}return this.vdt--,r}R1t(t,s,e){return this.Sdt.push([t,s,e]),!1}F1t(t,s,e){let i=null,r=new Promise(t=>i=t);return this.wdt.push([t,s,e,i]),r}*A1t(){if(this.mf.k1t())throw new Error("should not be in breakpoint");const t=this.mf.xD();for(;this.wdt.length;){const[s,e,i,r]=this.wdt.shift(),n=yield*this.P1t(t,s,e,i);r(n)}}async D1t(){for(const t of this.A1t())await this.mf._1t(t)}O1t(t,e,i,r){let n=!1,s=t.wD(),h=s.RX();if(h){this.vdt++,this.mf.x1t(s);const o=h.E1t();for(let t=0,s=o.length;t<s;++t){const l=o[t].O1t(e,i,r);n=n||l}const a=h.O1t(e,i,r);return n=n||a,this.mf.M1t(),this.vdt--,n}}*B1t(t,e,i,r){let n=!1,s=t.wD(),h=s.RX();if(h){this.vdt++,this.mf.x1t(s);const o=h.E1t();for(let t=0,s=o.length;t<s;++t){const l=yield*o[t].B1t(e,i,r);n=n||l}const a=yield*h.B1t(e,i,r);return n=n||a,this.mf.M1t(),this.vdt--,n}}L1t(){return this.vdt}N1t(){return 0<this.L1t()}W1t(){return++this.vdt}U1t(){--this.vdt}j1t(){return 0<this.bdt}oB(){return this.j1t()||this.N1t()}G$(t){for(const[s,e,i]of this.Sdt)this.C1t(t,s,e,i);co.Vh(this.Sdt)}nB(t){t?this.xdt++:this.xdt--}tN(){return 0<this.xdt}V1t(e){for(let t=0,s=e.length;t<s;++t)e[t].H1t().oc()}z1t(e){for(let t=0,s=e.length;t<s;++t)e[t].H1t().Pft()}aj(e){for(let t=0,s=e.length;t<s;++t)e[t].H1t().Fft()}uj(e){for(let t=0,s=e.length;t<s;++t)e[t].H1t().pj()}Rk(s){const e=new Set,i=this.kft.h0t(),r=this.kft.o0t();for(let t=0;t<=r;++t){const n=i[t].L0t();if(n)for(const h of n)s&&s.has(h)||e.add(h)}return e}J1t(t){const s=new Set([...t]),e=this.Rk(s);if(0<e.size){for(const i of e)i.H1t().Pft();return[...e]}return null}q1t(){const t=co.mn(co.X1t,this);return this.Mdt.push(t),t}$1t(){return this.Mdt}Y1t(){if(this.Mdt.length){let e=this.zdt(),i=!1;this.bdt++;for(let t=0,s=this.Mdt.length;t<s;++t){const r=this.Mdt[t];r.K1t()&&r.Z1t(e),r.Q1t()&&(i=!0)}i&&(this.tpt(),e.m0(null)),this.bdt--}}async spt(){if(this.Mdt.length){let e=this.zdt(),i=!1;this.bdt++;for(let t=0,s=this.Mdt.length;t<s;++t){const r=this.Mdt[t];r.K1t()&&await r.ept(e),r.Q1t()&&(i=!0)}i&&(this.tpt(),e.m0(null)),this.bdt--}}tpt(){const t=co.Kh(this.Mdt,t=>t.Q1t());for(const s of t)s.gn()}D$(){for(const t of this.Mdt)t.gn();co.Vh(this.Mdt)}ipt(t){for(const s of this.Mdt)s.Aft(t);for(const e of t){const i=this.Idt.get(e);if(this.Idt.delete(e),i)for(const{resolve:r}of i.rpt.values())r(!0)}}npt(t){this.Tdt.push({promise:t,hpt:this.L1t()})}opt(){co.Vh(this.Tdt)}apt(){const s=this.L1t();this.Tdt=this.Tdt.filter(t=>t.hpt<=s)}lpt(){const t=Promise.all(this.Tdt.map(t=>t.promise));return this.Tdt=[],t}Lk(t){const s=t.toLowerCase();this.Gdt.push(s),this.mf.AN(co.T$.M$.x$.upt,null),this.Gdt.pop();for(const i of this.mf.xk().$1t())i.cpt()&&i.fpt()===s&&i.dpt();const e=this._dt.get(s);e&&(e.resolve(),this._dt.delete(s))}Wk(t){const e=t.toLowerCase(),s=this._dt.get(e);if(s)return s.promise;{let s=null,t=new Promise(t=>s=t);return this._dt.set(e,{promise:t,resolve:s}),t}}ppt(){if(0===this.Gdt.length)throw new Error("not in a signal");return this.Gdt.at(-1)}mpt(t){let s=this.Idt.get(t);return s||(s={gpt:[],rpt:new Map},this.Idt.set(t,s)),s}wN(t,s){const e=this.mpt(t),i=s.toLowerCase();e.gpt.push(i),this.mf.AN(t.U5().Spt().x$.ypt,t),e.gpt.pop();for(const n of this.mf.xk().$1t())n.wpt()&&n.fpt()===i&&n.bpt(t);const r=e.rpt.get(i);r&&(r.resolve(!1),e.rpt.delete(i)),0===e.gpt.length&&0===e.rpt.size&&this.Idt.delete(t)}bN(t,s){const e=this.mpt(t),i=s.toLowerCase(),r=e.rpt.get(i);if(r)return r.promise;{let s=null,t=new Promise(t=>s=t);return e.rpt.set(i,{promise:t,resolve:s}),t}}vpt(t){const s=this.mpt(t);if(s&&0!==s.gpt.length)return s.gpt.at(-1);throw new Error("not in a signal")}Aq(){return{groups:this.xpt(),cnds:this.Mpt(),acts:this.Tpt(),vars:this.Gpt(),waits:this._pt()}}kq(t){this.Ipt(t.groups),this.Cpt(t.cnds),this.Rpt(t.acts),this.Ept(t.vars),this.Ppt(t.waits)}xpt(){const t={};for(const s of this.g1t())t[s.m9().toString()]=s.Fpt();return t}Ipt(t){for(const[s,e]of Object.entries(t)){const i=parseInt(s,10),r=this.p1t(i);r&&r.Apt(e)}}Mpt(){const t={};for(const[s,e]of this.hdt){const i=e.Aq();i&&(t[s.toString()]=i)}return t}Cpt(t){const s=new Map;for(const[e,i]of Object.entries(t))s.set(parseInt(e,10),i);for(const[r,n]of this.hdt)n.kq(s.get(r)||null)}Tpt(){const t={};for(const[s,e]of this.odt){const i=e.Aq();i&&(t[s.toString()]=i)}return t}Rpt(t){const s=new Map;for(const[e,i]of Object.entries(t))s.set(parseInt(e,10),i);for(const[r,n]of this.odt)n.kq(s.get(r)||null)}Gpt(){const t={};for(const[s,e]of this.ldt)e.kpt()||!e.qz()&&!e.Cx()||(t[s.toString()]=e.Lit());return t}Ept(t){for(const[s,e]of Object.entries(t)){const i=parseInt(s,10),r=this.i1t(i);r&&r.brt(e)}}_pt(){return this.Mdt.filter(t=>!t.Dpt()).map(t=>t.Aq())}Ppt(t){this.D$();for(const s of t){const e=co.X1t.Opt(this,s);e&&this.Mdt.push(e)}}Bpt(){return[...this.mf.xD().wY()].map(t=>t.RX()).filter(t=>t).map(t=>t.Lpt())}Npt(t){for(;t;){const s=t.Zdt();if(s instanceof co.Wpt)return s;t=s}return null}Cdt(t,s){Array.isArray(s)||(s=[]);const e=this.Mk(t.toLowerCase());if(!e)return null;if(!e.rc())return e.Tk();const i=e.Upt();if(s.length<i.length)for(s=s.slice(0);s.push(i[s.length].Hdt()),s.length<i.length;);const r=e._k();return r.Ek(r.Ik(),!1,e.Fk(),e.Tk(),...s)}}}{const fo=self.Ls;fo.Rdt=class extends fo.dn{constructor(t,s){super(),this.i0t=t,this.mf=t.oO(),this.wn=s[0],this.jpt=[],this.Vpt=new Map,this.Hpt=new Map,this.zpt=new Map,this.Jpt=!1,this.qpt=[],this.Xpt=[],this.$pt=new Set;for(const e of s[1])this.Ypt(e,null,this.jpt);this.Kpt=this.mf.jN()?{type:"sheet",name:this.wn,Zpt:0,children:[]}:null}gn(){this.i0t=null,this.mf=null}Ypt(t,s,e){switch(t[0]){case 0:case 3:this.Qpt(t,s,e);break;case 1:this.tmt(t,s,e);break;case 2:this.smt(t,s,e);break;case 4:this.emt(t,s);break;case 5:this.imt(t,s,e);break;case 6:this.rmt(t,s);break;default:throw new Error("invalid event type")}}Qpt(t,s,e){const i=fo.nmt.GM(this,s,t);if(i.s0t()){e.push(i);const r=i.hmt();for(let t=0,s=r.length;t<s;++t)r[t].omt()&&this.amt(i,t)}else i.omt()?this.amt(i,0):e.push(i)}emt(t,s){const e=fo.Wpt.lmt(this,s,t);this.i0t.Ldt(e)}rmt(t,s){const e=fo.Wpt.umt(this,s,t);this.i0t.Ldt(e)}tmt(t,s,e){const i=fo.cmt.GM(this,s,t);e.push(i)}smt(t,s,e){const i=fo.fmt.GM(this,s,t);e.push(i)}imt(t,s,e){const i=fo.dmt.GM(this,s,t);e.push(i)}amt(r,n){r.s0t()||this.i0t.Edt(r);const h=r.qdt(n),o=h.pmt(),a=h.JL();if(h.mmt()){let t=this.Hpt.get(a),s=(t||(t=new Map,this.Hpt.set(a,t)),h.gmt().toLowerCase()),e=t.get(o),i=(e||(e=new Map,t.set(o,e)),e.get(s));i||(i=[],e.set(s,i)),i.push([r,n])}else{let t=this.Vpt.get(a),s=(t||(t={ymt:new Map,Smt:new Map},this.Vpt.set(a,t)),h.H6()),e,i=(s?(e=t.Smt.get(s))||(e=new Map,t.Smt.set(s,e)):e=t.ymt,e.get(o));i||(i=[],e.set(o,i)),i.push([r,n])}}Pdt(){const e=this.jpt;for(let t=0,s=e.length;t<s;++t){const i=t<s-1&&e[t+1]instanceof fo.nmt&&e[t+1].wmt();e[t].Pdt(i)}}bmt(t){this.qpt.push(t)}e$(){fo.Vh(this.Xpt),this.vmt(this),this.$pt.clear()}vmt(t){const s=t.Xpt,e=t.$pt;for(const i of this.qpt){const r=i.xmt();i.Mmt()&&t!==r&&!e.has(r)&&(e.add(r),r.vmt(t),s.push(r))}}E1t(){return this.Xpt}xk(){return this.i0t}oO(){return this.mf}nf(){return this.wn}Tmt(t,s){this.zpt.set(s,t)}Gmt(t){return this.zpt.get(t)||null}b1t(){this.Jpt=!1}H_(){if(!this.Jpt){const t=this.mf,s=t._mt(),e=s?performance.now():0,i=(this.Jpt=!0,this.xk()),r=i.zdt();for(const n of this.jpt)n.H_(r),i.V1t(n.sj()),i.opt(),t.lB();r.m0(null),s&&(this.Kpt.Zpt+=performance.now()-e)}}*I1t(){if(!this.Jpt){this.Jpt=!0;const t=this.mf,s=this.xk(),e=s.zdt();for(const i of this.jpt)yield*i.I1t(e),s.V1t(i.sj()),s.opt(),t.lB();e.m0(null)}}C1t(i,r,n){if(!r)return this.Imt(i,r,null,null);{let t=r.JL(),s=!1,e=this.Imt(i,r,t,n);s=s||e;for(const h of t.a1t())e=this.Imt(i,r,h,n),s=s||e}}Imt(t,s,e,i){const r=this.Vpt.get(e);if(!r)return!1;const n=i?r.Smt.get(i):r.ymt;if(!n)return!1;const h=n.get(t);if(!h)return!1;let o=!1;for(const[a,l]of h){const u=this.Cmt(s,a,l);o=o||u}return o}*P1t(i,r,n){if(!r)return yield*this.Rmt(i,r,null,null);{let t=r.JL(),s=!1,e=yield*this.Rmt(i,r,t,n);s=s||e;for(const h of t.a1t())e=yield*this.Rmt(i,r,h,n),s=s||e}}*Rmt(t,s,e,i){const r=this.Vpt.get(e);if(!r)return!1;const n=i?r.Smt.get(i):r.ymt;if(!n)return!1;const h=n.get(t);if(!h)return!1;let o=!1;for(const[a,l]of h){let t;t=a.Emt()?this.Cmt(s,a,l):yield*this.Pmt(s,a,l),o=o||t}return o}O1t(t,s,e){const i=s.JL(),r=this.Hpt.get(i);if(!r)return!1;const n=r.get(t);if(!n)return!1;const h=n.get(e);if(!h)return!1;let o=!1;for(let t=0,s=h.length;t<s;++t){const a=h[t],l=this.Cmt(null,a[0],a[1]);o=o||l}return o}*B1t(t,s,e){const i=s.JL(),r=this.Hpt.get(i);if(!r)return!1;const n=r.get(t);if(!n)return!1;const h=n.get(e);if(!h)return!1;let o=!1;for(let r=0,t=h.length;r<t;++r){let t=h[r],s=t[0],e=t[1],i;i=s.Emt()?this.Cmt(null,s,e):yield*this.Pmt(null,s,e),o=o||i}return o}Cmt(t,s,e){let i=this.mf,r=this.i0t,n=r.Ck(),h=r.Dk(),o=r.L1t(),a=!1;n&&r.z1t(n.Ik()),r.z1t(s.Ik());const l=1<o,u=(l&&r.Ydt().ij(),h.ij(s));if(t){const f=s.hmt()[e].JL(),d=f.Q5();d.Xft(t),t.rN()&&t.Fmt()}let c=!0;if(s.N4()){const p=s.Amt();for(let t=0,s=p.length;t<s;++t)if(!p[t].kmt(u)){c=!1;break}}return c&&(s.s0t()?s.Dmt(u,e):s.H_(u),a=u.I0t()),h.pj(),l&&r.Ydt().pj(),r.uj(s.Ik()),n&&r.uj(n.Ik()),n||1!==o||(r.opt(),r.tN())||i.lB(),a}*Pmt(t,s,e){let i=this.mf,r=this.i0t,n=r.Ck(),h=r.Dk(),o=r.L1t(),a=!1;n&&r.z1t(n.Ik()),r.z1t(s.Ik());const l=1<o,u=(l&&r.Ydt().ij(),h.ij(s));if(t){const f=s.hmt()[e].JL(),d=f.Q5();d.Xft(t),t.rN()&&t.Fmt()}let c=!0;if(s.N4()){const p=s.Amt();for(let t=0,s=p.length;t<s;++t)if(!(yield*p[t].Omt(u))){c=!1;break}}return c&&(s.s0t()?yield*s.Bmt(u,e):yield*s.I1t(u),a=u.I0t()),h.pj(),l&&r.Ydt().pj(),r.uj(s.Ik()),n&&r.uj(n.Ik()),n||1!==o||(r.opt(),r.tN())||i.lB(),a}Lpt(){return this.Kpt}}}{let u=function(t,s){return!0};u;const po=self.Ls,mo=[];function*N(t,s){return!0}po.nmt=class extends po.dn{constructor(t,s,e){super(),this.qq=t,this.mf=t.oO(),this.Lmt=s,this.Nmt=null,this.kft=this.mf.xk().Dk(),this.Wmt=[],this.Umt=[],this.jmt=!1,this.Vmt=!1,this.Hmt=!1,this.zmt=!1,this.Jmt=!!e[2],this.qmt=!1,this.Xmt=null,this.$mt=[],this.tnt=[],this.Ymt=[],this.Kmt=u,this.Zmt=N,this.Qmt=!1,this.tgt=!1,this.sgt="",this.egt=!1,this.igt=null,this.Kpt=null,this.kH=e[4],this.rgt=e[5],this.qq.Tmt(this,this.rgt),this.ngt=this.mf.jN()?{hgt:e[3][0],ogt:e[3][1],agt:!1,lgt:!1,ugt:!1,cgt:!1}:null,this.xk().Ddt(this),3===e[0]&&this.fgt(e[1]);let i=0;for(const r of e[6]){const n=po.dgt.GM(this,r,i++);this.$mt.push(n),this.pgt(n.JL())}i=0;for(const h of e[7]){const o=po.mgt.GM(this,h,i++);this.tnt.push(o)}if(9===e.length){const a=e[8];for(const l of a)this.qq.Ypt(l,this,this.Ymt)}this.$mt.length&&(this.qmt=null===this.$mt[0].JL()&&this.$mt[0].pmt()===po.T$.M$.x$.ggt),0===this.$mt.length&&(this.$mt=mo),0===this.tnt.length&&(this.tnt=mo),0===this.Ymt.length&&(this.Ymt=mo)}static GM(t,s,e){return po.mn(po.nmt,t,s,e)}fgt(t){this.Qmt=!0,this.tgt=!!t[0],this.egt=this.tgt,this.sgt=t[1].toLowerCase(),this.igt=[],this.xk().Adt(this),this.mf.jN()&&(this.Kpt={type:"group",name:t[1],Zpt:0,children:[]})}ygt(t){this.igt.push(t)}Sgt(t,s){for(const e of t.jX().I$())s.includes(e)||s.push(e)}wgt(t,s){if(t)if(s.includes(t)||s.push(t),t.o9())for(const e of t.bgt())e.rN()&&this.Sgt(e,s);else t.rN()&&this.Sgt(t,s)}pgt(t){this.wgt(t,this.Wmt)}vgt(t){this.wgt(t,this.Umt)}xgt(){this.Wmt=this.mf.h9()}Pdt(t){this.zmt=!!t,this.Mgt(),this.Tgt();for(const s of this.$mt)s.Pdt();if(0<this.tnt.length){let t=!1;for(const i of this.tnt)i.Pdt(),i.Ggt()&&(t=!0);t?(this.Kmt=this._gt,this.Zmt=this.Igt):(this.Kmt=this.Cgt,this.Zmt=this.Rgt)}const e=this.Ymt;for(let t=0,s=e.length;t<s;++t){const r=t<s-1&&e[t+1]instanceof po.nmt&&e[t+1].wmt();e[t].Pdt(r)}this.ngt&&this.Egt(),this.Kpt&&this.Pgt().Lpt().children.push(this.Kpt)}Lpt(){return this.Kpt}Pgt(){let t=this.N4();for(;t;){if(t.m1t())return t;t=t.N4()}return this.qq}Egt(){const t=this.ngt;t.agt=this.$mt.every(t=>t.Emt()),t.lgt=this.tnt.every(t=>t.Emt()),t.ugt=this.Ymt.every(t=>t.Emt()),t.cgt=t.agt&&t.lgt&&t.ugt}Fgt(){let t=this;for(;t.Egt(),t=t.N4(););}Mgt(){if(this.m1t()){let t=this.N4();for(this.Hmt=!0;t;){if(!t.m1t()){this.Hmt=!1;break}t=t.N4()}}}Agt(){const t=this.mf.h9();if(this.Wmt===t)this.Umt=t;else{this.Umt=po.ro(this.Wmt);let t=this.N4();for(;t;){for(const e of t.Wmt)this.vgt(e);t=t.N4()}const s=this.xk();this.Wmt=s.jdt(this.Wmt),this.Umt=s.jdt(this.Umt)}}Tgt(){if(this.kgt()){this.Xmt=[];let t=this.N4();for(;t;)this.Xmt.push(t),t=t.N4();this.Xmt.reverse()}}Dgt(){this.Vmt=!0,this.Lmt&&this.Lmt.Dgt()}D0t(){return this.Vmt}sj(){return this.Wmt}Ik(){return this.jmt||(this.jmt=!0,this.Agt()),this.Umt}Ogt(t){return this.Wmt.includes(t)}Amt(){return this.Xmt}RX(){return this.qq}xk(){return this.qq.xk()}oO(){return this.mf}N4(){return this.Lmt}Bgt(t){this.Nmt=t}Zdt(){return this.Nmt||this.Lmt}Lgt(){return this.rgt}Ngt(){return this.ngt&&this.ngt.ogt}Wgt(){return this.Ngt()&&this.ngt.hgt}Ugt(t){this.ngt.hgt=!!t,this.Fgt()}m1t(){return this.Qmt}jgt(){return this.Hmt}wmt(){return this.qmt}Vgt(){return this.zmt}kdt(){return this.sgt}Fpt(){return this.egt}S1t(){this.Apt(this.tgt)}Apt(t){if(t=!!t,!this.Qmt)throw new Error("not a group");if(this.egt!==t){this.egt=t;for(const s of this.igt)s.Hgt();if(this.igt.length){const e=this.mf.ND(),i=e.RX();i&&i.e$()}}}m9(){return this.kH}s0t(){return this.Jmt}omt(){return this.$mt.length&&this.$mt[0].omt()}zgt(){return this.Nmt&&this.Nmt instanceof po.Wpt}kgt(){return this.zgt()||this.$mt.some(t=>t.omt())}hmt(){return this.$mt}O0t(){return this.$mt.length}qdt(t){if((t=Math.floor(t))<0||t>=this.$mt.length)throw new RangeError("invalid condition index");return this.$mt[t]}Jgt(t){return this.qdt(t)}qgt(t){let s=t.UA();if(0!==s){--s;const e=t.Xgt()?t.$gt():t.JL();for(;0<=s;--s){const i=this.$mt[s];if(e===i.JL()||i.Xgt()&&i.$gt()===e)return!1}}return!0}Ygt(){return this.tnt}Kgt(){return this.tnt.length}$dt(t){if((t=Math.floor(t))<0||t>=this.tnt.length)throw new RangeError("invalid action index");return this.tnt[t]}Zgt(s){s=Math.floor(s);const t=this.tnt.find(t=>t.Qgt()===s);if(t)return t;throw new RangeError("invalid action debug index")}tyt(t){return 0<=(t=Math.floor(t))&&t<this.tnt.length}syt(){return this.Ymt}Qdt(){return this.Ymt.filter(t=>t instanceof po.cmt)}kmt(e){e.v0t(this);let i=this.$mt,r=0===i.length;for(let t=0,s=i.length;t<s;++t){const n=i[t];if(e.M0t(t),n.rW())throw new Error("trigger cannot be used as sub-event to a loop");if(n.H_())r=!0;else if(!this.Jmt)return!1}return!this.Jmt||r}Dmt(t,s){t.v0t(this),t.M0t(s),this.$mt[s].H_()&&(this.Kmt(t,0)&&this.eyt(t),t._0t(!0))}*Omt(e){e.v0t(this);let i=this.$mt,r=0===i.length;for(let t=0,s=i.length;t<s;++t){const n=i[t];if(e.M0t(t),n.rW())throw new Error("trigger cannot be used as sub-event to a loop");if(n.Emt()?n.H_():yield*n.I1t())r=!0;else if(!this.Jmt)return!1}return!this.Jmt||r}*Bmt(t,s){t.v0t(this),t.M0t(s);let e=this.$mt[s];if(e.Emt()?e.H_():yield*e.I1t())(this.iyt()?this.Kmt(t,0):yield*this.Zmt(t,0))&&(this.ryt()?this.eyt():yield*this.nyt()),t._0t(!0)}H_(t){t.v0t(this),this.qmt||t.C0t(!1),this.Jmt?this.hyt(t):this.oyt(t)}*I1t(t){(this.Wgt()||this.mf.ayt())&&(yield this),t.v0t(this),this.qmt||t.C0t(!1),this.Jmt?yield*this.lyt(t):yield*this.uyt(t)}hyt(e){let i=this.$mt,r=0===i.length;for(let t=0,s=i.length;t<s;++t){const n=i[t];if(!n.omt()){e.M0t(t);const h=n.H_();r=r||h}}e._0t(r),r&&(this.Kmt(e,0)&&this.eyt(e),this.zmt)&&e.C0t(!0)}*lyt(e){let i=this.$mt,r=0===i.length;for(let s=0,t=i.length;s<t;++s){const n=i[s];if(!n.omt()){e.M0t(s);let t;t=n.Emt()?n.H_():yield*n.I1t(),r=r||t}}if(e._0t(r),r)(this.iyt()?this.Kmt(e,0):yield*this.Zmt(e,0))&&(this.ryt()?this.eyt():yield*this.nyt()),this.zmt&&e.C0t(!0)}oyt(e){const i=this.$mt;for(let t=0,s=i.length;t<s;++t){const r=i[t],n=(e.M0t(t),r.H_());if(!n)return void e._0t(!1)}e._0t(!0),this.Kmt(e,0)&&this.eyt(e),e.I0t()&&this.zmt&&e.C0t(!0)}*uyt(e){const i=this.$mt;for(let t=0,s=i.length;t<s;++t){const r=i[t];e.M0t(t);if(!(r.Emt()?r.H_():yield*r.I1t()))return void e._0t(!1)}e._0t(!0);(this.iyt()?this.Kmt(e,0):yield*this.Zmt(e,0))&&(this.ryt()?this.eyt():yield*this.nyt()),e.I0t()&&this.zmt&&e.C0t(!0)}Cgt(e,i){const r=this.tnt;for(let t=i,s=r.length;t<s;++t){const n=r[t];e.G0t(t),n.H_()}return!0}*Rgt(e,i){const r=this.tnt;for(let t=i,s=r.length;t<s;++t){const n=r[t];e.G0t(t),n.Emt()?n.H_():yield*n.I1t()}return!0}_gt(e,i){const r=this.xk(),n=this.tnt;for(let t=i,s=n.length;t<s;++t){const h=n[t],o=(e.G0t(t),h.H_());if(h.cyt()&&!0===o)return!1;h.fyt()&&o instanceof Promise&&r.npt(o)}return!0}*Igt(e,i){const r=this.xk(),n=this.tnt;for(let s=i,t=n.length;s<t;++s){const h=n[s];e.G0t(s);let t;if(t=h.Emt()?h.H_():yield*h.I1t(),h.cyt()&&!0===t)return!1;h.fyt()&&t instanceof Promise&&r.npt(t)}return!0}dyt(t){this.Kmt(t,t.T0t())&&this.eyt()}*pyt(t){(yield*this.Zmt(t,t.T0t()))&&(yield*this.nyt())}eyt(){if(this.Ymt.length){const t=this.m1t()&&this.mf._mt(),s=t?performance.now():0,e=this.kft,i=e.ij(this);this.Vmt?this.myt(i):this.gyt(i),e.pj(),t&&(this.Kpt.Zpt+=performance.now()-s)}}myt(i){const r=this.Qmt,n=this.Hmt,h=this.xk(),o=this.Ymt;for(let t=0,s=o.length,e=s-1;t<s;++t){const a=o[t],l=a.sj(),u=!n||!r&&t<e;u&&h.aj(l),a.H_(i),u?h.uj(l):h.V1t(l)}}gyt(e){const i=this.Ymt;for(let t=0,s=i.length;t<s;++t)i[t].H_(e)}*nyt(){if(this.Ymt.length){const t=this.kft,s=t.ij(this);this.Vmt?yield*this.yyt(s):yield*this.Syt(s),t.pj()}}*yyt(i){const r=this.Qmt,n=this.Hmt,h=this.xk(),o=this.Ymt;for(let t=0,s=o.length,e=s-1;t<s;++t){const a=o[t],l=a.sj(),u=!n||!r&&t<e;u&&h.aj(l),yield*a.I1t(i),u?h.uj(l):h.V1t(l)}}*Syt(e){const i=this.Ymt;for(let t=0,s=i.length;t<s;++t)yield*i[t].I1t(e)}lj(e,i){i.b0t();const r=this.$mt;if(!this.s0t())for(let t=e.x0t()+1,s=r.length;t<s;++t){const n=r[t],h=(i.M0t(t),n.H_());if(!h)return!1}return this.Kmt(i,0)&&this.eyt(i),!0}*wyt(e,i){i.b0t();const r=this.$mt;if(!this.s0t())for(let t=e.x0t()+1,s=r.length;t<s;++t){const n=r[t];i.M0t(t);if(!(n.Emt()?n.H_():yield*n.I1t()))return!1}return(this.iyt()?this.Kmt(i,0):yield*this.Zmt(i,0))&&(this.ryt()?this.eyt():yield*this.nyt()),!0}Emt(){return!this.Wgt()&&!this.mf.ayt()&&this.ngt.cgt}iyt(){return!this.mf.ayt()&&this.ngt.lgt}ryt(){return!this.mf.ayt()&&this.ngt.ugt}byt(e){if(this.N4()){const i=this.Amt();for(let t=0,s=i.length;t<s;++t)if(!i[t].kmt(e))return!1}return!0}*vyt(e){if(this.N4()){const i=this.Amt();for(let t=0,s=i.length;t<s;++t)if(!(yield*i[t].Omt(e)))return!1}return!0}xyt(t,s,e){if(0<s.length)if(e){const i=s.map(t=>t.re(0));t.Ydt().ij(),this.Nmt.Myt(i)}else this.Nmt.Tyt(s);else e&&t.Ydt().ij()}Gyt(t,s,e,i){let r,n,h=0<t.length,o=null,a=this.mf,l=this.kft,u=a.xk(),c=this.Nmt,f=c.fyt(),d=u.W1t(),p=1<d;if(this.xyt(u,s,p),h&&(e?u.aj(t):u.z1t(t)),null!==i){if(i._yt){const g=e?i._yt.Q5():i._yt.H1t().Eft(),y=i.Iyt.Q5();y.$ft(g.Z5()),y.Qft(),e||i.Iyt.Cyt()}else if(i.Ryt){const S=i.Ryt.Q5();S.$ft(i.Eyt),S.Qft()}i.Pyt&&(o=u.J1t(t))}const m=l.ij(this);return e&&m.B0t(t),this.byt(m)&&(m.v0t(this),f&&([n,r]=c.Fyt()),this.oyt(m),f)&&c.Ayt(n),l.pj(),p&&u.Ydt().pj(),null!==o&&u.uj(o),h&&u.uj(t),u.U1t(),f||u.apt(),r}*kyt(t,s,e,i){let r,n,h=((this.Wgt()||this.mf.ayt())&&(yield this),0<t.length),o=null,a=this.mf,l=this.kft,u=a.xk(),c=this.Nmt,f=c.fyt(),d=u.W1t(),p=1<d;if(this.xyt(u,s,p),h&&(e?u.aj(t):u.z1t(t)),null!==i){if(i._yt){const g=e?i._yt.Q5():i._yt.H1t().Eft(),y=i.Iyt.Q5();y.$ft(g.Z5()),y.Qft(),e||i.Iyt.Cyt()}else if(i.Ryt){const S=i.Ryt.Q5();S.$ft(i.Eyt),S.Qft()}i.Pyt&&(o=u.J1t(t))}const m=l.ij(this);return e&&m.B0t(t),(yield*this.vyt(m))&&(m.v0t(this),f&&([n,r]=c.Fyt()),yield*this.uyt(m),f)&&c.Ayt(n),l.pj(),p&&u.Ydt().pj(),null!==o&&u.uj(o),h&&u.uj(t),u.U1t(),f||u.apt(),r}Dyt(t,s){const e=this.Ik(),i=0<e.length,r=this.mf,n=this.kft,h=r.xk(),o=h.W1t(),a=1<o,l=(a&&h.Ydt().ij(),this.Nmt.Myt(t),i&&(s?h.aj(e):h.z1t(e)),n.ij(this));this.byt(l)&&(l.v0t(this),this.oyt(l)),n.pj(),a&&h.Ydt().pj(),i&&h.uj(e),h.U1t(),h.apt()}*Oyt(t,s){(this.Wgt()||this.mf.ayt())&&(yield this);const e=this.Ik(),i=0<e.length,r=this.mf,n=this.kft,h=r.xk(),o=h.W1t(),a=1<o,l=(a&&h.Ydt().ij(),this.Nmt.Myt(t),i&&(s?h.aj(e):h.z1t(e)),n.ij(this));(yield*this.vyt(l))&&(l.v0t(this),yield*this.uyt(l)),n.pj(),a&&h.Ydt().pj(),i&&h.uj(e),h.U1t(),h.apt()}Ek(t,s,e,i,...r){let n,h,o=0<t.length,a=this.mf,l=this.kft,u=a.xk(),c=this.Nmt,f=c.fyt(),d=u.W1t(),p=1<d,m=(p&&u.Ydt().ij(),0<r.length&&this.Nmt.Myt(r),o&&(s?u.aj(t):u.z1t(t)),l.ij(this));return m.F0t(e,i),l.a0t(m),a.hj(!1),this.byt(m)&&(m.v0t(this),f&&([h,n]=c.Fyt()),this.oyt(m),f)&&c.Ayt(h),a.hj(!0),l.pj(),l.l0t(),p&&u.Ydt().pj(),o&&u.uj(t),u.U1t(),f||u.apt(),n||m.A0t()}}}{let i=self.Ls,t=[],s=!1;i.dmt=class extends i.dn{constructor(t,s,e){super();const i=t.oO(),r=t.xk(),n=(this.qq=t,this.i0t=r,this.mf=t.oO(),this.Lmt=s,i.Byt(e[1]));this.Lyt=n,this.rgt=e[2],this.qq.Tmt(this,this.rgt),this.ngt=i.jN()?{hgt:e[3][0],ogt:e[3][1]}:null}static GM(t,s,e){return i.mn(i.dmt,t,s,e)}Pdt(){const t=this.Lyt,s=this.mf.xk().t1t(this);this.Lyt=t.bind(null,this.mf.d5(),s)}N4(){return this.Lmt}Zdt(){return this.Lmt}RX(){return this.qq}Lgt(){return this.rgt}Ngt(){return this.ngt&&this.ngt.ogt}Wgt(){return this.Ngt()&&this.ngt.hgt}Ugt(t){this.ngt.hgt=!!t}wmt(){return!1}sj(){return t}Ik(){return this.Lmt?this.Lmt.Ik():t}H_(t){t.v0t(this),this.i0t.npt(this.Nyt())}async Nyt(){try{await this.Lyt()}catch(t){console.error(`Unhandled exception running script %c${this.RX().nf()}, event ${this.Lgt()}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),s||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),s=!0)}}*I1t(t){t.v0t(this),(this.Wgt()||this.mf.ayt())&&(yield this),this.H_(t)}Emt(){return!this.Wgt()&&!this.mf.ayt()}static Wyt(){return s}static Uyt(){s=!0}}}{const go=self.Ls;go.Wpt=class extends go.dn{constructor(t,s,e){super(),this.qq=t,this.mf=t.oO(),this.Lmt=s,this.jyt=0,this.Vyt="",this.Hyt=0,this.zyt=[],this.Jyt=!0,this.qyt="",this._ft=null,this.Xyt=!1,this.$yt=[],this.Yyt=!1,this.Kyt=!1,this.Zyt=0,this.Qyt=-1,this.tSt=new Map,this.sSt=go.nmt.GM(t,s,e),this.sSt.Bgt(this)}eSt(t){this.jyt=0,this.Vyt=t[0],this.Hyt=t[1],this.zyt=t[2].map(t=>go.cmt.GM(this.qq,this,t)),this.Jyt=t[3],this.Kyt=t[4],this.Yyt=t[5]}iSt(t){this.jyt=1,this.qyt=t[1],this._ft=this.mf.Oz(t[2]),this.sSt.pgt(this._ft),this.Vyt=this._ft.nf()+"."+this.qyt,this.Hyt=t[3],this.zyt=t[4].map(t=>go.cmt.GM(this.qq,this,t)),this.Jyt=t[5],this.Kyt=t[6],this.Yyt=t[7],this._ft.rSt(this)}static lmt(t,s,e){const i=go.mn(go.Wpt,t,s,e),r=e[1];return i.eSt(r),i}static umt(t,s,e){const i=go.mn(go.Wpt,t,s,e),r=e[1];return i.iSt(r),i}Fdt(){if(this._ft&&this._ft.o9())for(const t of this._ft.bgt())if(t.nSt(this.qyt)){this.Xyt=!0;break}}Pdt(){for(const t of this.zyt)t.Pdt();this.sSt.Pdt(!1)}Ndt(){return this.jyt}Qdt(){return this.zyt}Upt(){return this.zyt}Gk(){return this.zyt.length}hSt(t){this.$yt.push(t)}oSt(){return this.$yt}Tyt(e){const i=this.zyt;for(let t=0,s=i.length;t<s;++t)i[t].brt(e[t].re(0))}Myt(e){const i=this.zyt;for(let t=0,s=i.length;t<s;++t)i[t].brt(e[t])}aSt(){return this.zyt.map(t=>t.Lit())}N4(){return this.Lmt}Zdt(){return this.Lmt}Wdt(){return this.Vyt}lSt(){return this.qyt}uSt(){return this.Xyt}Fk(){return this.Hyt}JL(){return this._ft}rc(){return this.Jyt}Tk(){switch(this.Hyt){case 0:return null;case 2:return"";default:return 0}}_k(){return this.sSt}Pk(){return this.Yyt}fyt(){return this.Kyt}Fyt(){const t=this.Zyt++;this.Qyt=t;let s,e=new Promise(t=>s=t);return this.tSt.set(t,{resolve:s,cSt:0}),[t,e]}Ayt(t){const s=this.tSt.get(t);0===s.cSt&&(s.resolve(),this.tSt.delete(t)),this.Qyt=-1}fSt(){const t=this.tSt.get(this.Qyt);return t.cSt++,this.Qyt}dSt(t){this.Qyt=t;const s=this.tSt.get(t);s.cSt--}pSt(t,s){const e=new Map,i=[];for(const r of this._ft.Q5().Z5()){const n=r.JL();if(n.nSt(this.qyt)){const h=e.get(n);Array.isArray(h)?h.push(r):e.set(n,[r])}else i.push(r)}if(0<i.length&&this.sSt.Gyt(t,s,this.Yyt,{Ryt:this._ft,Eyt:i}),0<e.size)for(const[o,a]of e){const l=o.mSt(this.qyt)._k(),u=[...new Set([...t,...l.sj()])];l.Gyt(u,s,this.Yyt,{Ryt:o,Eyt:a})}}*gSt(t,s){const e=new Map,i=[];for(const r of this._ft.Q5().Z5()){const n=r.JL();if(n.nSt(this.qyt)){const h=e.get(n);Array.isArray(h)?h.push(r):e.set(n,[r])}else i.push(r)}if(0<i.length&&(yield*this.sSt.kyt(t,s,this.Yyt,{Ryt:this._ft,Eyt:i})),0<e.size)for(const[o,a]of e){const l=o.mSt(this.qyt)._k(),u=[...new Set([...t,...l.sj()])];yield*l.kyt(u,s,this.Yyt,{Ryt:o,Eyt:a})}}}}{const yo=self.Ls,So=[];yo.cmt=class extends yo.dn{constructor(t,s,e){super();const i=t.xk();this.qq=t,this.i0t=i,this.mf=t.oO(),this.Lmt=s,this.gdt=i.Ydt(),this.wn=e[1],this.Mf=e[2],this.ySt=e[3],this.zv=!!e[4],this.SSt=!!e[5],this.wSt=s instanceof yo.Wpt,this.kH=e[6],this.bSt=this.mf.s1t(e[8]),this.vSt=t=>this.brt(t),this.xSt=()=>this.Lit(),this.MSt=!this.Lmt||this.zv||this.SSt,this.Yrt=this.ySt,this.TSt=-1,this.GSt()&&(this.Yrt=this.Yrt?1:0),!this._St()||this.Cx()||this.kpt()||(this.TSt=i.Vdt(this)),i.Udt(this)}static GM(t,s,e){return yo.mn(yo.cmt,t,s,e)}Pdt(){if(this._St()&&!this.Cx()&&!this.kpt()&&!this.ISt()){const t=this.i0t.Npt(this);t&&t.hSt(this)}}nf(){return this.wn}s1t(){return this.bSt}N4(){return this.Lmt}Zdt(){return this.N4()}qz(){return!this.N4()}_St(){return!this.qz()}ISt(){return this.wSt}Cx(){return this.zv}kpt(){return this.SSt}ci(){return 0===this.Mf}xi(){return 1===this.Mf}GSt(){return 2===this.Mf}wmt(){return!1}m9(){return this.kH}Hdt(){return this.ySt}sj(){return So}H_(t){!this._St()||this.Cx()||this.kpt()||this.brt(this.Hdt())}Emt(){return!0}*I1t(t){this.H_(t)}brt(t){this.ci()?"number"!=typeof t&&(t=parseFloat(t)):this.xi()?"string"!=typeof t&&(t=t.toString()):this.GSt()&&(t=t?1:0),this.MSt?this.Yrt=t:this.gdt.j0t()[this.TSt]=t}Lit(){return this.MSt?this.Yrt:this.gdt.j0t()[this.TSt]}CSt(){let t=this.Lit();return this.GSt()?!!t:t}f1t(){this.Yrt=this.ySt}e1t(){return{configurable:!1,enumerable:!0,get:this.xSt,set:this.vSt}}}}{const wo=self.Ls,bo=[];wo.fmt=class extends wo.dn{constructor(t,s,e){super();const i=t.xk();this.qq=t,this.i0t=i,this.mf=t.oO(),this.Lmt=s,this.RSt=null,this.ESt=e[1],this.p0=!0}static GM(t,s,e){return wo.mn(wo.fmt,t,s,e)}Pdt(){this.RSt=this.i0t.s$(this.ESt),this.qq.bmt(this);let t=this.N4();for(;t;)t instanceof wo.nmt&&t.m1t()&&t.ygt(this),t=t.N4();this.Hgt(),this.mf.jN()&&this.qq.Lpt().children.push(this.RSt.Lpt())}N4(){return this.Lmt}sj(){return bo}xmt(){return this.RSt}H_(t){const s=!!this.N4(),e=this.mf.h9();s&&this.i0t.z1t(e),this.RSt.H_(),s&&this.i0t.uj(e)}*I1t(t){const s=!!this.N4(),e=this.mf.h9();s&&this.i0t.z1t(e),yield*this.RSt.I1t(),s&&this.i0t.uj(e)}Emt(){return!1}Mmt(){return this.p0}Hgt(){let t=this.N4();for(;t;){if(t instanceof wo.nmt&&t.m1t()&&!t.Fpt())return void(this.p0=!1);t=t.N4()}this.p0=!0}}}{let a=function(t,s){return s<=t?t%s:(t<0&&(t<=-s&&(t%=s),t<0)&&(t+=s),t)};a;const vo=self.Ls;vo.PSt=class extends vo.dn{constructor(t){super(),this.sv=t,this.mf=t.oO()}Pdt(){}static FSt(t,s){const e=s[0],i=[_o,To,Go,Io,xo,Mo];return vo.mn(i[e],t,s)}};class xo extends vo.PSt{constructor(t,s){super(t),this.ASt=this.mf.v7(),this.Lyt=this.mf.Byt(s[1]),this.Lyt!==vo.T$.M$.dnt.random&&this.Lyt!==vo.T$.M$.dnt.kSt||this.sv.DSt()}OSt(){return this.ASt.BSt(this.Lyt,this.ASt)}}class Mo extends vo.PSt{constructor(t,s){super(t),this.LSt=null,this.Vyt=s[1],this.sv.DSt()}Pdt(){const t=this.mf.xk(),s=(this.LSt=t.Mk(this.Vyt),this.Vyt=null,this.sv._k()),e=this.LSt._k();this.NSt=[...new Set([...s.Ik(),...e.Ik()])],this.NSt=t.jdt(this.NSt)}OSt(){const t=this.LSt;if(t.rc()){const s=t._k();return vo.nmt.prototype.Ek.bind(s,this.NSt,t.Pk(),t.Fk(),t.Tk())}{const e=t.Tk();return()=>e}}}class To extends vo.PSt{constructor(t,s){super(t),this._ft=this.mf.Oz(s[1]),this.Lyt=this.mf.Byt(s[2]),this.WSt=!!s[3],this.kft=this.mf.xk().Dk(),this.sv.USt(this._ft)}OSt(){return this._ft.U5().BSt(this.Lyt,this._ft.L5().k6())}jSt(...t){const s=this._ft,e=s.Q5().jft(),i=e.length;if(0===i)return this.WSt?"":0;const r=a(this.sv.VSt(),i);return this.kft.ej().E0t(s),this.Lyt.apply(e[r].k6(),t)}HSt(t,...s){const e=this._ft,i=e.Z5(),r=i.length;if(0===r||"number"!=typeof t)return this.WSt?"":0;const n=a(t,r);return this.kft.ej().E0t(e),this.Lyt.apply(i[n].k6(),s)}}class Go extends vo.PSt{constructor(t,s){super(t),this._ft=this.mf.Oz(s[1]),this.zSt=s[3],this.WSt=!!s[2],this.sv.USt(this._ft)}JSt(){const t=this._ft.Q5().jft(),s=t.length;if(0===s)return this.WSt?"":0;const e=a(this.sv.VSt(),s);return t[e].qSt(this.zSt)}XSt(){const t=this._ft,s=t.Q5().jft(),e=s.length;if(0===e)return this.WSt?"":0;const i=a(this.sv.VSt(),e),r=s[i],n=r.JL().$St(t.YSt());return r.qSt(this.zSt+n)}KSt(t){const s=this._ft,e=s.Z5(),i=e.length;if(0===i||"number"!=typeof t)return this.WSt?"":0;let r=a(t,i),n=e[r],h=0;return s.o9()&&(h=n.JL().$St(s.YSt())),n.qSt(this.zSt+h)}}class _o extends vo.PSt{constructor(t,s){super(t),this._ft=this.mf.Oz(s[1]),this.ZSt=this._ft.Hrt(s[2]),this.QSt=this._ft.xet(s[2]),this.Lyt=this.mf.Byt(s[3]),this.WSt=!!s[4],this.kft=this.mf.xk().Dk(),this.sv.USt(this._ft)}twt(...t){const s=this._ft,e=s.Q5().jft(),i=e.length;if(0===i)return this.WSt?"":0;let r=a(this.sv.VSt(),i),n=(this.kft.ej().E0t(s),e[r]),h=0;return s.o9()&&(h=n.JL().swt(s.YSt())),this.Lyt.apply(n.Vrt()[this.QSt+h].k6(),t)}ewt(t,...s){const e=this._ft,i=e.Z5(),r=i.length;if(0===r||"number"!=typeof t)return this.WSt?"":0;let n=a(t,r),h=(this.kft.ej().E0t(e),i[n]),o=0;return e.o9()&&(o=h.JL().swt(e.YSt())),this.Lyt.apply(h.Vrt()[this.QSt+o].k6(),s)}}class Io extends vo.PSt{constructor(t,s){super(t),this.iwt=null,this.rwt=s[1]}Pdt(){this.iwt=this.mf.xk().i1t(this.rwt)}nwt(){return this.iwt}}}{let n=function(t){const s=self.hwt[t];if(s)return s;throw new Error("invalid expression number")};n;const Co=self.Ls;Co.owt=class extends Co.dn{constructor(t,s,e){super(),this.sv=t,this.ey=e,this.Mf=s,this.re=null,this.awt=!1,this.SSt=!1}static GM(t,s,e){const i=s[0],r=[Ro,Eo,Bo,Fo,ko,Po,Do,Ro,Fo,Fo,Lo,No,Bo,Uo,Eo,Oo,Ao,Wo,jo,Vo,Ho,zo];return Co.mn(r[i],t,i,e,s)}Pdt(){}DSt(){this.awt=!0}USt(t){this.awt||!t||t.U5().m5()||(this.awt=!0)}lwt(){return this.awt}UA(){return this.ey}oO(){return this.sv.oO()}_k(){return this.sv._k()}kpt(){return this.SSt}uwt(){return 4===this.Mf}};class Ro extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.cwt=0;const r=i[1];this.fwt=r[0],this.dwt=[],this.pwt=null;for(let t=1,s=r.length;t<s;++t)this.dwt.push(Co.PSt.FSt(this,r[t]));this.dwt.length?this.re=this.mwt:(this.re=n(this.fwt),this.SSt=!0)}gwt(t){if(t<0||t>=this.dwt.length)throw new RangeError("invalid numbered node");return this.dwt[t]}Pdt(){for(const s of this.dwt)s.Pdt();const t=n(this.fwt);this.dwt.length?this.pwt=t(this):this.pwt=t}VSt(){return this.cwt}mwt(t){return this.cwt=t,this.pwt()}}class Eo extends Ro{constructor(t,s,e,i){super(t,s,e,i),this.re=this.ywt,14===s&&(this._k().xgt(),this.sv instanceof Co.mgt)&&this._k().Dgt()}ywt(t){this.cwt=t;const s=this.pwt();return"string"==typeof s?s:""}Swt(){return n(this.fwt)()}}class Po extends Ro{constructor(t,s,e,i){super(t,s,e,i),2<=t.wwt()?this.re=this.GB:this.re=this.jD,this.SSt=!1}jD(t){this.cwt=t;const s=this.pwt(),e=this.oO().ND();return e.jD(s)}GB(t){const s=this.jD(t);return s?s.GB():null}}class Fo extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.bwt=i[1],this.re=this.vwt,this.SSt=!0}vwt(){return this.bwt}}class Ao extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.xwt=i[1],this.re=this.Mwt,this.SSt=!0}Mwt(){return this.xwt}}class ko extends Co.owt{constructor(t,s,e,i){super(t,s,e),this._ft=this.oO().Oz(i[1]),2<=t.wwt()?this.re=this.D5:this.re=this.JL;const r=this._k();r.pgt(this._ft),this.sv instanceof Co.mgt?r.Dgt():r.N4()&&r.N4().Dgt(),this.SSt=!0}JL(){return this._ft}D5(){return this._ft?this._ft.D5():null}}class Do extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.EH=this.oO().xD().pY(i[1]),2<=t.wwt()?this.re=this.bD:this.re=this.MD,this.SSt=!0}MD(){return this.EH}bD(){return this.EH?this.EH.bD():null}}class Oo extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.yZ=this.oO().vtt().TK(i[1]),2<=t.wwt()?this.re=this.Ost:this.re=this.net,this.SSt=!0}net(){return this.yZ}Ost(){return this.yZ?this.yZ.Ost():null}}class Bo extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.Twt=i[1],this.re=this.Gwt,this.SSt=!0}Gwt(){return this.Twt}}class Lo extends Co.owt{constructor(t,s,e,i){super(t,s,e),this._wt=i[1];const r=this.sv.JL();this.sv instanceof Co.dgt&&this.sv.Cx()||!r||!r.o9()?(this.re=this.Iwt,this.SSt=!0):(this.re=this.Cwt,this.DSt())}Iwt(){return this._wt}Cwt(t){t=t||0;let s=this.sv.JL(),e=s.Q5(),i=e.Z5(),r=null;if(i.length)r=i[t%i.length].JL();else if(e.Wft()){const n=e.Uft();r=n[t%n.length].JL()}else{if(!(0<s.sB()))return 0;{const h=s.Z5();r=h[t%h.length].JL()}}return this._wt+r.$St(s.YSt())}}class No extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.rwt=i[1],this.iwt=null,2<=t.wwt()?this.re=this.Rwt:this.re=this.Ewt,this.SSt=!0}Pdt(){this.iwt=this.oO().xk().i1t(this.rwt)}Ewt(){return this.iwt}Rwt(){return null}}class Wo extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.Pwt=i[1],this.LSt=null,2<=t.wwt()?this.re=this.Fwt:this.re=this.Awt,this.SSt=!0}Pdt(){this.LSt=this.oO().xk().Mk(this.Pwt),this.Pwt=null}Awt(){return this.LSt}Fwt(){return null}}class Uo extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.kwt=[],this.Dwt=[],this.SSt=!0;for(let t=1,s=i.length;t<s;++t){const r=Co.owt.GM(this.sv,i[t],0);this.kwt.push(r),this.Dwt.push(0),r.kpt()||(this.SSt=!1)}this.re=this.Owt}Pdt(){for(const t of this.kwt)t.Pdt()}Owt(){const e=this.kwt,i=this.Dwt;for(let t=0,s=e.length;t<s;++t)i[t]=e[t].re(0);return i}}class jo extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.Bwt=i[1],this.re=this.wrt,this.SSt=!0}wrt(){return this.Bwt}}class Vo extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.Lwt=i[1],this.re=this.Nwt,this.SSt=!0}Nwt(){return this.Lwt}}class Ho extends Ro{constructor(t,s,e,i){super(t,s,e,i),this.re=this.uN,this.SSt=!1}uN(){return this.pwt()}}class zo extends Co.owt{constructor(t,s,e,i){super(t,s,e),this.out=this.oO()._ut().sut(i[1]),this.re=this.Wwt,this.SSt=!0}Wwt(){return this.out.nf()}}}{let i=function(e,i){for(let t=0,s=e.length;t<s;++t)i[t]=e[t].re(0)};i;const Jo=self.Ls,qo=[],Xo=function(){};Jo.dgt=class extends Jo.dn{constructor(t,e,s){if(super(),this.sSt=t,this.mf=t.oO(),this.ey=s,this.Lyt=this.mf.Byt(e[1]),this.Uwt=0<e[3],this.jwt=2===e[3],this.Vwt=!!e[4],this.Hwt=!!e[5],this.zv=!!e[6],this.kH=e[7],this.zwt=this.sSt.s0t(),this._ft=null,this.ZSt=null,this.QSt=-1,this.ASt=null,this.H_=Xo,this.I1t=Xo,this.Ks=[],this.Jwt=[],this.qwt=!1,this.Xwt=null,this.$wt=null,this.ngt=this.mf.jN()?{hgt:e[8][0],Ywt:e[8][1]}:null,-1===e[0]?this.ASt=this.mf.v7():(this._ft=this.mf.Oz(e[0]),e[2]&&(this.ZSt=this._ft.Hrt(e[2]),this.QSt=this._ft.xet(e[2])),this.sSt.N4()&&this.sSt.N4().Dgt()),10===e.length){let s=e[9];for(let t of s)this.Ks.push(Jo.owt.GM(this,t,this.Ks.length)),this.Jwt.push(0)}0===this.Ks.length&&(this.Ks=qo,this.Jwt=qo),this.sSt.xk().Odt(this)}static GM(t,s,e){return Jo.mn(Jo.dgt,t,s,e)}Pdt(){for(const t of this.Ks)t.Pdt(),t.lwt()&&(this.qwt=!0);this.jwt?(this.H_=this.Kwt,this.I1t=this.Zwt):this.ASt?(this.Qwt(),this.I1t=this.t2t):this._ft.U5().m5()?(this.s2t(),this.I1t=this.e2t):this.zv?(this.H_=this.i2t,this.I1t=this.r2t):(this.H_=this.n2t,this.I1t=this.h2t)}Qwt(){const t=this.ASt,s=this.ASt;this.o2t(t,s,this.a2t)}s2t(){const t=this._ft.U5(),s=this._ft.L5().k6();this.o2t(t,s,this.l2t)}o2t(t,s,e){const i=this.Lyt,r=this.Hwt,n=this.Ks;if(0===n.length){const h=t.BSt(i,s);r?this.H_=function(){return Jo.xor(h(),r)}:this.H_=h}else if(1===n.length){const o=n[0];if(!r&&o.kpt())this.H_=t.u2t(i,s,o.re(0));else{const a=t.BSt(i,s);this.H_=function(){return Jo.xor(a(o.re(0)),r)}}}else if(2===n.length){const l=n[0],u=n[1];if(!r&&l.kpt()&&u.kpt())this.H_=t.c2t(i,s,l.re(0),u.re(0));else{const c=t.BSt(i,s);this.H_=function(){return Jo.xor(c(l.re(0),u.re(0)),r)}}}else if(3===n.length){const f=n[0],d=n[1],p=n[2];if(!r&&f.kpt()&&d.kpt()&&p.kpt())this.H_=t.f2t(i,s,f.re(0),d.re(0),p.re(0));else{const m=t.BSt(i,s);this.H_=function(){return Jo.xor(m(f.re(0),d.re(0),p.re(0)),r)}}}else this.H_=e}m9(){return this.kH}pmt(){return this.Lyt}JL(){return this._ft}H6(){return this.ZSt}d2t(){return this.ZSt?this.ZSt.U6():this._ft?this._ft.U5():null}wwt(){const t=this.d2t();return t?t.p2t():1}_k(){return this.sSt}oO(){return this.mf}UA(){return this.ey}Qgt(){return this.UA()}omt(){return this.Uwt}mmt(){return this.jwt}m2t(){return this.Hwt}rW(){return this.Vwt}Cx(){return this.zv}g2t(){return this.ngt.hgt}y2t(){return!!this.ASt}Xgt(){return this.y2t()||this._ft.U5().m5()}$gt(){for(const t of this.Ks)if(t.uwt())return t.JL();return null}S2t(t){this.ngt.hgt=!!t,this.sSt.Fgt()}w2t(){return this.ngt.Ywt}Emt(){return!this.g2t()&&!this.mf.ayt()&&!this.w2t()}b2t(){return this.Xwt||(this.Xwt=new Map),this.Xwt}v2t(){return this.$wt||(this.$wt=new Map),this.$wt}a2t(){const t=this.Jwt;return i(this.Ks,t),Jo.xor(this.Lyt.apply(this.ASt,t),this.Hwt)}*t2t(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const s=this.Jwt;i(this.Ks,s);let t=this.Lyt.apply(this.ASt,s);return Jo.qo(t)&&(t=yield*t),Jo.xor(t,this.Hwt)}return this.H_()}l2t(){const t=this.Jwt,s=(i(this.Ks,t),this._ft.L5().k6());return Jo.xor(this.Lyt.apply(s,t),this.Hwt)}*e2t(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){let t=this.Jwt,s=(i(this.Ks,t),this._ft.L5().k6()),e=this.Lyt.apply(s,t);return Jo.qo(e)&&(e=yield*e),Jo.xor(e,this.Hwt)}return this.H_()}Kwt(){return!0}*Zwt(){return(this.g2t()||this.mf.ayt())&&(yield this),!0}x2t(){return this.ZSt?2<=this.ZSt.U6().p2t()?this.ZSt.V6():this.ZSt:2<=this._ft.U5().p2t()?this._ft.D5():this._ft}i2t(){const t=this.Jwt,s=(i(this.Ks,t),this.Lyt.apply(this.x2t(),t));return this._ft.Cyt(),s}*r2t(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const s=this.Jwt;i(this.Ks,s);let t=this.Lyt.apply(this.x2t(),s);return Jo.qo(t)&&(t=yield*t),this._ft.Cyt(),t}return this.H_()}n2t(){const e=this.Ks,i=this.Jwt,t=this._ft.Q5();for(let t=0,s=e.length;t<s;++t){const r=e[t];r.lwt()||(i[t]=r.re(0))}return t.Lft()?this.M2t(t):this.T2t(t)}*h2t(){return(this.g2t()||this.mf.ayt())&&(yield this),this.n2t()}G2t(e){const i=this.Ks,r=this.Jwt;for(let t=0,s=i.length;t<s;++t){const n=i[t];n.lwt()&&(r[t]=n.re(e))}}M2t(e){const t=this._ft,i=t.o9(),r=t.YSt(),n=this.QSt,h=0<=n,o=t.Z5(),a=this.qwt,l=this.Jwt,u=this.Lyt,c=this.Hwt,f=this.zwt&&!this.Uwt;e.Bft();for(let s=0,t=o.length;s<t;++s){const d=o[s];a&&this.G2t(s);let t;if(h){const p=i?d.JL().swt(r):0;t=u.apply(d.Vrt()[n+p].k6(),l)}else t=u.apply(d.k6(),l);Jo.xor(t,c)?e.Vft(d):f&&e.Hft(d)}return t._2t(!0),e.zft(!1),t.Cyt(),e.Nft()}T2t(t){let s=this._ft,e=s.o9(),i=s.YSt(),r=s.rN(),n=this.QSt,h=0<=n,o=this.qwt,a=this.Jwt,l=this.Lyt,u=this.Hwt,c=this.zwt&&!this.Uwt,f=t.Jft(),d=t.qft(),p=c&&!this.sSt.qgt(this),m=p?d:f,g=0,y=!1;for(let s=0,t=m.length;s<t;++s){const w=m[s];o&&this.G2t(s);let t;if(h){const b=e?w.JL().swt(i):0;t=l.apply(w.Vrt()[n+b].k6(),a)}else t=l.apply(w.k6(),a);Jo.xor(t,u)?(y=!0,p?(f.push(w),r&&w.I2t()):(m[g]=w,r&&w.C2t(g),++g)):p?(m[g]=w,r&&w.R2t(g),++g):c&&(d.push(w),r)&&w.E2t()}Jo.jh(m,g),r&&s.P2t(p,g);const S=y;return p&&!y&&(y=this.F2t(f)),s._2t(S||c),c?y:t.Nft()}F2t(e){const t=this._ft,i=t.o9(),r=t.YSt(),n=this.qwt,h=this.QSt,o=0<=h,a=this.Jwt,l=this.Lyt,u=this.Hwt;for(let s=0,t=e.length;s<t;++s){const c=e[s];n&&this.G2t(s);let t;if(o){const f=i?c.JL().swt(r):0;t=l.apply(c.Vrt()[h+f].k6(),a)}else t=l.apply(c.k6(),a);if(Jo.xor(t,u))return!0}return!1}A2t(t,s){return this.Ks[t].re(s)}gmt(){const t=this.Ks;if(t.length)return t[0].Swt();throw new Error("no parameters")}Aq(){if(!this.Xwt||!this.Xwt.size)return null;const s={};for(const[e,i]of this.Xwt.entries()){let t=i;"collmemory"===e&&(t=[...i.entries()].map(t=>[t[0].hN(),t[1].hN(),t[2]])),s[e]=t}return{ex:s}}kq(t){if(this.Xwt&&(this.Xwt.clear(),this.Xwt=null),t){const s=this.mf,e=t.ex;if(e){const i=this.b2t();i.clear();for(const[r,n]of Object.entries(e)){let t=n;"collmemory"===r&&(t=Jo.mn(Jo.nc,n.map(t=>[s.OD(t[0]),s.OD(t[1]),t[2]]).filter(t=>t[0]&&t[1]))),i.set(r,t)}}}}}}{let r=function(e,i){for(let t=0,s=e.length;t<s;++t)i[t]=e[t].re(0)};r;const $o=self.Ls,Yo=[],Ko=function(){},Zo=function*(){};$o.mgt=class extends $o.dn{constructor(t,s,e){super();const i=(this.sSt=t).oO(),r=(this.mf=i,this.ey=e,this.kH=4<=s.length?s[3]:-1,this.k2t=5<=s.length?255&s[4]:0,this.D2t=5<=s.length?s[4]>>8:0,this.Lyt=null,this._ft=null,this.ZSt=null,this.QSt=-1,this.ASt=null,this.O2t="",this.B2t=null,this.L2t=null,this.H_=Ko,this.I1t=Ko,this.Ks=[],this.Jwt=[],this.qwt=!1,this.Xwt=null,this.$wt=null,-3===s[0]),n=r?s[2]:s[5];if(this.ngt=i.jN()||r?{hgt:n[0],Ywt:n[1],index:n[2]}:null,-1===s[0])this.ASt=i.v7(),this.Lyt=i.Byt(s[1]);else if(-2===s[0])this.O2t=s[1];else if(r){const h=i.Byt(s[1]);this.Lyt=h,this.H_=this.N2t,this.I1t=this.W2t,this.D2t|=8}else this._ft=i.Oz(s[0]),4&this.D2t?(this.O2t=s[1],this.B2t=i.Oz(s[2])):(s[2]&&(this.ZSt=this._ft.Hrt(s[2]),this.QSt=this._ft.xet(s[2])),this.Lyt=i.Byt(s[1]));if(7===s.length){const o=s[6];for(const a of o)this.Ks.push($o.owt.GM(this,a,this.Ks.length)),this.Jwt.push(0)}0===this.Ks.length&&(this.Ks=Yo,this.Jwt=Yo),this.U2t()&&(this.sSt.xgt(),this.sSt.Dgt()),this.sSt.xk().Bdt(this)}static GM(t,s,e){return $o.mn($o.mgt,t,s,e)}Pdt(){for(const t of this.Ks)t.Pdt(),t.lwt()&&(this.qwt=!0);if(this.ASt)this.Qwt(),this.I1t=this.t2t;else if(this.O2t)4&this.D2t?this.j2t():this.V2t(),this.O2t="",this.B2t=null;else if(this.H_===this.N2t){const s=this.Lyt,e=this.mf.xk().t1t(this.sSt);this.Lyt=s.bind(null,this.mf.d5(),e)}else this.ZSt?this.fyt()?(this.H_=this.H2t,this.I1t=this.z2t):(this.H_=this.J2t,this.I1t=this.q2t):this._ft.U5().m5()?(this.s2t(),this.I1t=this.e2t):this.Cx()?(this.H_=this.X2t,this.I1t=this.$2t):this.fyt()?(this.H_=this.Y2t,this.I1t=this.K2t):this.Z2t()?(this.H_=this.Q2t,this.I1t=this.tbt):this.Ks.length?this.Ks.every(t=>t.lwt())?(this.H_=this.sbt,this.I1t=this.ebt):this.qwt?(this.H_=this.ibt,this.I1t=this.rbt):this.Ks.every(t=>t.kpt())?(r(this.Ks,this.Jwt),this.H_=this.nbt,this.I1t=this.hbt):(this.H_=this.obt,this.I1t=this.abt):(this.H_=this.nbt,this.I1t=this.hbt)}Qwt(){const t=this.ASt,s=this.ASt;this.o2t(t,s,this.a2t)}s2t(){const t=this._ft.U5(),s=this._ft.L5().k6();this.o2t(t,s,this.l2t)}V2t(){const t=this.sSt.xk(),e=t.Mk(this.O2t);if(e.rc()){const i=0!=(2&this.D2t);this.L2t=e._k();let s=[...new Set([...this.sSt.Ik(),...this.L2t.Ik()])];s=t.jdt(s);const r=!e.Pk()&&this.lbt()?{Pyt:!0}:null;if(this.H_=$o.nmt.prototype.Gyt.bind(this.L2t,s,this.Ks,i,r),this.mf.jN()){const n=this;this.I1t=function*(){(n.g2t()||n.mf.ayt())&&(yield n);const t=yield*n.L2t.kyt(s,n.Ks,i,r);return t}}else this.I1t=Zo}else this.H_=Ko,this.I1t=Zo}j2t(){const n=this.sSt.xk(),h=n.o1t(this.B2t,this.O2t);if(h.rc()){const o=0!=(2&this.D2t);this.L2t=h._k();let s=[...new Set([...this.sSt.Ik(),...this.L2t.Ik(),this._ft,h.JL()])],t=(s=n.jdt(s),!this._ft.o9()&&!h.JL().o9()),e=!this._ft.o9()&&h.JL().o9(),i=this._ft.o9(),r=null;if(!h.Pk()&&this.lbt()&&((r=r||{}).Pyt=!0),!e&&o||((r=r||{})._yt=this._ft,r.Iyt=h.JL()),t||e||i&&!h.uSt()?this.H_=$o.nmt.prototype.Gyt.bind(this.L2t,s,this.Ks,o,r):i&&(this.H_=$o.Wpt.prototype.pSt.bind(h,s,this.Ks)),this.mf.jN()){const a=this;t||e||i&&!h.uSt()?this.I1t=function*(){(a.g2t()||a.mf.ayt())&&(yield a);const t=yield*a.L2t.kyt(s,a.Ks,o,r);return t}:i&&(this.I1t=function*(){(a.g2t()||a.mf.ayt())&&(yield a);const t=yield*h.gSt(s,a.Ks);return t})}else this.I1t=Zo}else this.H_=Ko,this.I1t=Zo}o2t(t,s,e){const i=this.Lyt,r=this.Ks;if(0===r.length)this.H_=t.BSt(i,s);else if(1===r.length){const n=r[0];if(n.kpt())this.H_=t.u2t(i,s,n.re(0));else{const h=t.BSt(i,s);this.H_=function(){return h(n.re(0))}}}else if(2===r.length){const o=r[0],a=r[1];if(o.kpt()&&a.kpt())this.H_=t.c2t(i,s,o.re(0),a.re(0));else{const l=t.BSt(i,s);this.H_=function(){return l(o.re(0),a.re(0))}}}else if(3===r.length){const u=r[0],c=r[1],f=r[2];if(u.kpt()&&c.kpt()&&f.kpt())this.H_=t.f2t(i,s,u.re(0),c.re(0),f.re(0));else{const d=t.BSt(i,s);this.H_=function(){return d(u.re(0),c.re(0),f.re(0))}}}else this.H_=e}m9(){return this.kH}fyt(){return 0!=(8&this.D2t)}cyt(){return 0!=(16&this.D2t)}Z2t(){return 1===this.k2t}Cx(){return 2===this.k2t}U2t(){return 0!=(1&this.D2t)}Ggt(){return this.fyt()||this.cyt()}JL(){return this._ft}d2t(){return this.ZSt?this.ZSt.U6():this._ft?this._ft.U5():null}wwt(){const t=this.d2t();return t?t.p2t():1}_k(){return this.sSt}lbt(){let t=this.sSt;do{if(t instanceof $o.Wpt&&t.Pk())return!0}while(t=t.Zdt());return!1}oO(){return this.mf}UA(){return this.ey}Qgt(){return this.ngt.index}g2t(){return this.ngt.hgt}S2t(t){this.ngt.hgt=!!t,this.sSt.Fgt()}w2t(){return this.ngt.Ywt}Emt(){return!this.g2t()&&!this.mf.ayt()&&!this.w2t()}b2t(){return this.Xwt||(this.Xwt=new Map),this.Xwt}v2t(){return this.$wt||(this.$wt=new Map),this.$wt}a2t(){const t=this.Jwt;return r(this.Ks,t),this.Lyt.apply(this.ASt,t)}*t2t(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const t=this.Jwt,s=(r(this.Ks,t),yield*this.Lyt.apply(this.ASt,t));return s}return this.H_()}l2t(){const t=this.Jwt;return r(this.Ks,t),this.Lyt.apply(this._ft.L5().k6(),t)}*e2t(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const t=this.Jwt,s=(r(this.Ks,t),yield*this.Lyt.apply(this._ft.L5().k6(),t));return s}return this.H_()}nbt(){const e=this.Jwt,i=this._ft.Q5().Z5();for(let t=0,s=i.length;t<s;++t)this.Lyt.apply(i[t].k6(),e)}*hbt(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const e=this.Jwt,i=this._ft.Q5().Z5();for(let t=0,s=i.length;t<s;++t)yield*this.Lyt.apply(i[t].k6(),e)}else this.nbt()}obt(){const e=this.Jwt,i=(r(this.Ks,e),this._ft.Q5().Z5());for(let t=0,s=i.length;t<s;++t)this.Lyt.apply(i[t].k6(),e)}*abt(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const e=this.Jwt,i=(r(this.Ks,e),this._ft.Q5().Z5());for(let t=0,s=i.length;t<s;++t)yield*this.Lyt.apply(i[t].k6(),e)}else this.obt()}sbt(){const i=this.Ks,r=this.Jwt,s=this.Lyt,n=this._ft.Q5().Z5();for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);s.apply(h.k6(),r)}}*ebt(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const i=this.Ks,r=this.Jwt,s=this.Lyt,n=this._ft.Q5().Z5();for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);yield*s.apply(h.k6(),r)}}else this.sbt()}ibt(){const i=this.Ks,r=this.Jwt,s=this.Lyt,n=this._ft.Q5().Z5();for(let t=0,s=i.length;t<s;++t){const e=i[t];e.lwt()||(r[t]=e.re(0))}for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t){const o=i[t];o.lwt()&&(r[t]=o.re(e))}s.apply(h.k6(),r)}}*rbt(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const i=this.Ks,r=this.Jwt,s=this.Lyt,n=this._ft.Q5().Z5();for(let t=0,s=i.length;t<s;++t){const e=i[t];e.lwt()||(r[t]=e.re(0))}for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t){const o=i[t];o.lwt()&&(r[t]=o.re(e))}yield*s.apply(h.k6(),r)}}else this.ibt()}Q2t(){const i=this.Ks,r=this.Jwt,s=this.Lyt,t=this._ft,e=t.ubt(),n=t.Q5().Z5();e.cbt(s);for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);s.apply(h.k6(),r)}e.fbt(s)}*tbt(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const i=this.Ks,r=this.Jwt,s=this.Lyt,t=this._ft,e=t.ubt(),n=t.Q5().Z5();e.cbt(s);for(let e=0,t=n.length;e<t;++e){const h=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);yield*s.apply(h.k6(),r)}e.fbt(s)}else this.Q2t()}dbt(){return this.ZSt?2<=this.ZSt.U6().p2t()?this.ZSt.V6():this.ZSt:2<=this._ft.U5().p2t()?this._ft.D5():this._ft}X2t(){const t=this.Jwt;return r(this.Ks,t),this.Lyt.apply(this.dbt(),t)}*$2t(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const s=this.Jwt;r(this.Ks,s);let t=this.Lyt.apply(this.dbt(),s);return $o.qo(t)?yield*t:t}return this.X2t()}J2t(){const t=this._ft,s=t.o9(),i=t.YSt(),r=this.Ks,n=this.qwt,h=this.Jwt,o=this.Lyt,a=this.QSt,l=t.Q5().Z5();for(let t=0,s=r.length;t<s;++t){const e=r[t];e.lwt()||(h[t]=e.re(0))}for(let e=0,t=l.length;e<t;++e){const u=l[e];if(n)for(let t=0,s=r.length;t<s;++t){const f=r[t];f.lwt()&&(h[t]=f.re(e))}const c=s?u.JL().swt(i):0;o.apply(u.Vrt()[a+c].k6(),h)}}*q2t(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const t=this._ft,s=t.o9(),i=t.YSt(),r=this.Ks,n=this.qwt,h=this.Jwt,o=this.Lyt,a=this.QSt,l=t.Q5().Z5();for(let t=0,s=r.length;t<s;++t){const e=r[t];e.lwt()||(h[t]=e.re(0))}for(let e=0,t=l.length;e<t;++e){const u=l[e];if(n)for(let t=0,s=r.length;t<s;++t){const f=r[t];f.lwt()&&(h[t]=f.re(e))}const c=s?u.JL().swt(i):0;yield*o.apply(u.Vrt()[a+c].k6(),h)}}else this.J2t()}Y2t(){const i=this.Ks,r=this.Jwt,s=this.Lyt,n=this._ft.Q5().Z5(),h=[];for(let e=0,t=n.length;e<t;++e){const o=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);h.push(s.apply(o.k6(),r))}return Promise.all(h)}*K2t(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const i=this.Ks,r=this.Jwt,s=this.Lyt,n=this._ft.Q5().Z5(),h=[];for(let e=0,t=n.length;e<t;++e){const o=n[e];for(let t=0,s=i.length;t<s;++t)r[t]=i[t].re(e);h.push(yield*s.apply(o.k6(),r))}return Promise.all(h)}return this.Y2t()}H2t(){const t=this._ft,s=t.o9(),i=t.YSt(),r=this.Ks,n=this.Jwt,h=this.Lyt,o=this.QSt,a=t.Q5().Z5(),l=[];for(let e=0,t=a.length;e<t;++e){const u=a[e];for(let t=0,s=r.length;t<s;++t)n[t]=r[t].re(e);const c=s?u.JL().swt(i):0;l.push(h.apply(u.Vrt()[o+c].k6(),n))}return Promise.all(l)}*z2t(){if((this.g2t()||this.mf.ayt())&&(yield this),this.w2t()){const t=this._ft,s=t.o9(),i=t.YSt(),r=this.Ks,n=this.Jwt,h=this.Lyt,o=this.QSt,a=t.Q5().Z5(),l=[];for(let e=0,t=a.length;e<t;++e){const u=a[e];for(let t=0,s=r.length;t<s;++t)n[t]=r[t].re(e);const c=s?u.JL().swt(i):0;l.push(yield*h.apply(u.Vrt()[o+c].k6(),n))}return Promise.all(l)}return this.H2t()}async N2t(){try{await this.Lyt()}catch(t){console.error(`Unhandled exception running script %c${this.sSt.RX().nf()}, event ${this.sSt.Lgt()}, action ${this.Qgt()+1}:`,"font-size: 1.2em; font-weight: bold;",t),self.C3Debugger&&self.C3Debugger._SetLastErrorScript(this),$o.dmt.Wyt()||(console.info("%cTip:%c run this to highlight in Construct the last script that had an error: %cgoToLastErrorScript()","font-weight: bold; text-decoration: underline","","font-weight: bold"),$o.dmt.Uyt())}}*W2t(){return(this.g2t()||this.mf.ayt())&&(yield this),this.N2t()}Aq(){return this.Xwt&&this.Xwt.size?{ex:$o.Ho(this.Xwt)}:null}kq(t){if(this.Xwt&&(this.Xwt.clear(),this.Xwt=null),t){const s=t.ex;s&&(this.Xwt=$o.zo(s))}}}}{let d=function(t){return t instanceof o?S.PB(t):t.aU()},u=function(t){return d(t).UD()},r=function(t){return S.PB(t)},m=function(t){return t instanceof a?S.PB(t):t},s=function(t){return t instanceof c?S.PB(t):t},C=function(t,s,e,i){const r=s.hN(),n=e.hN();r<n?t.Set(s,e,i):t.Set(e,s,i)},R=function(t,s,e){const i=s.hN(),r=e.hN();i<r?t.lc(s,e):t.lc(e,s)},E=function(t,s){t.uc(s)},P=function(t,s,e){const i=s.hN(),r=e.hN();return i<r?t.re(s,e):t.re(e,s)},i=function(t,s,e,i){if(!s)return!1;const r=0!==e||0!==i,n=t.UD(),h=S.XA(),o=S.Jdt(),a=o._k().s0t(),l=o.JL(),u=o.m2t(),c=s.Q5(),f=l!==s;_=s,G=f&&!u;let d,p=0,m=0,g=I=!1;c.Lft()?(w.I(n.S4()),w.offset(e,i),h.pbt(n.jD(),s,w,b),d=b):!a||S.mbt()&&!c.qft().length&&c.Jft().length?d=c.Jft():(d=c.qft(),I=!0),r&&(p=n.kb(),m=n.Bb(),n.d4(e,i),n.l4());for(const y of d)if(h.CO(t,y)){if(g=!0,u)break;f&&k.add(y)}return r&&(n.u4(p,m),n.l4()),F.Vh(b),g},e=function(t){const s=S.Ck().s0t(),e=_.Q5(),i=e.Jft(),r=e.qft();e.Lft()?(e.Yft(k),s&&(F.Vh(r),e.Kft(k,_.Z5()))):s?I?e.Zft(k):(e.Kft(k,i),e.Yft(k)):e.Yft(k),_.Cyt()},v=function(t,s){G&&(s&&e(),k.clear(),_=null,G=!1)},n=function(t,s){const e=S.OD(s);if(e){const i=t.Q5();if(i.Lft()||i.Jft().includes(e))if(t.o9()){if(e.JL().gbt(t))return i.t0t(e),t.Cyt(),!0}else if(e.JL()===t)return i.t0t(e),t.Cyt(),!0}return!1},h=function(t,r){const n=t.Q5();if(n.Lft()){n.zft(!1),n.Bft();const e=t.Z5();for(let t=0,s=e.length;t<s;++t){const i=e[t];i.hN()===r?n.Hft(i):n.Vft(i)}return t.Cyt(),!!n.Jft().length}{let e=n.Jft(),i=0;for(let t=0,s=e.length;t<s;++t){const h=e[t];(e[i]=h).hN()===r?n.Hft(h):++i}return F.jh(e,i),t.Cyt(),!!e.length}},F=(d,u,r,m,s,C,R,E,P,i,e,v,n,h,self.Ls),l=new F.$o,x={},M={},T={},S=null,o=(F.ybt=function(t){S=t},self.HL),a=self.N5,c=self.EB,w=(M.Sbt=function(t,s){return F.compare(this.UD().kb(),t,s)},T.Sbt=function(t,s){return F.compare(this.x,t,s)},M.wbt=function(t,s){return F.compare(this.UD().Bb(),t,s)},T.wbt=function(t,s){return F.compare(this.y,t,s)},M.bbt=function(){return this.UD().x4()},T.bbt=function(){return this.v4()},x.vbt=function(){const t=u(this),s=t.MD(),e=t.S4();return e.Pl()<0||e.Fl()<0||e.Rl()>s.Sm()||e.El()>s.Rm()},x.xbt=function(e,i,r){const t=m(this),s=t.Q5(),n=s.Z5();if(!n.length)return!1;let h=n[0],o=h.UD(),a=h,l=F.Cn(o.kb(),o.Bb(),i,r);for(let t=1,s=n.length;t<s;++t){h=n[t],o=h.UD();const u=F.Cn(o.kb(),o.Bb(),i,r);(0===e&&u<l||1===e&&u>l)&&(l=u,a=h)}return s.t0t(a),!0},M.Db=function(t){const s=this.UD();s.kb()!==t&&(s.Db(t),s.l4())},T.Db=function(t){this.x=+t},M.Lb=function(t){const s=this.UD();s.Bb()!==t&&(s.Lb(t),s.l4())},T.Lb=function(t){this.y=+t},M.Mbt=function(t,s){const e=this.UD();e.Tbt(t,s)||(e.u4(t,s),e.l4())},T.Mbt=function(t,s){this.setPosition(t,s)},x.Gbt=function(t,s){if(t=m(t)){const e=d(this),i=t.Y5(e);if(i){const[r,n]=i._bt(s),h=e.UD();h.kb()===r&&h.Bb()===n||(h.u4(r,n),h.l4())}}},x.Ibt=function(t){if(0!==t){const s=u(this);s.d4(s.Cbt()*t,s.Rbt()*t),s.l4()}},M.Ebt=function(t,s){if(0!==s){const e=this.UD();t=F.Mn(t),e.d4(Math.cos(t)*s,Math.sin(t)*s),e.l4()}},T.Ebt=function(t,s){0!==s&&(t=F.Mn(t),this.f4(Math.cos(t)*s,Math.sin(t)*s))},M.kb=function(){return this.UD().kb()},T.kb=function(){return this.x},M.Bb=function(){return this.UD().Bb()},T.Bb=function(){return this.y},x.Hk=function(){return S.Hk(d(this))},M.Pbt=function(t,s){return F.compare(this.UD().Sm(),t,s)},T.Pbt=function(t,s){return F.compare(this.width,t,s)},M.Fbt=function(t,s){return F.compare(this.UD().Rm(),t,s)},T.Fbt=function(t,s){return F.compare(this.height,t,s)},M._m=function(t){const s=this.UD();s.Sm()!==t&&(s._m(t),s.l4())},T._m=function(t){this.width=t},M.wm=function(t){const s=this.UD();s.Rm()!==t&&(s.wm(t),s.l4())},T.wm=function(t){this.height=t},M.mC=function(t,s){const e=u(this);e.Sm()===t&&e.Rm()===s||(e.mC(t,s),e.l4())},T.mC=function(t,s){this.pB(t,s)},M.Sm=function(){return this.UD().Sm()},T.Sm=function(){return this.width},M.Rm=function(){return this.UD().Rm()},T.Rm=function(){return this.height},x.Abt=function(){return u(this).S4().Rl()},x.kbt=function(){return u(this).S4().El()},x.Dbt=function(){return u(this).S4().Pl()},x.Obt=function(){return u(this).S4().Fl()},x.Bbt=function(){const t=u(this).S4();return(t.Rl()+t.Pl())/2},x.Lbt=function(){const t=u(this).S4();return(t.El()+t.Fl())/2},x.Nbt=function(t,s){return F.En(u(this).SB(),F.Mn(s))<=F.Mn(t)},x.Wbt=function(t){return F.Fn(u(this).SB(),F.Mn(t))},x.Ubt=function(t,s){const e=F.Mn(t),i=F.Mn(s),r=u(this).SB(),n=!F.Fn(i,e);return n?!(!F.Fn(r,e)&&F.Fn(r,i)):F.Fn(r,e)&&!F.Fn(r,i)},M.yB=function(t){const s=this.UD(),e=F.xn(F.Mn(t));isNaN(e)||s.SB()===e||(s.yB(e),s.l4())},T.yB=function(t){this.y4=t},x.jbt=function(t){if(!isNaN(t)&&0!==t){const s=u(this);s.yB(s.SB()+F.Mn(t)),s.l4()}},x.Vbt=function(t){if(!isNaN(t)&&0!==t){const s=u(this);s.yB(s.SB()-F.Mn(t)),s.l4()}},x.Hbt=function(t,s){const e=u(this),i=e.SB(),r=F.Pn(i,F.Mn(s),F.Mn(t));isNaN(r)||i===r||(e.yB(r),e.l4())},x.zbt=function(t,s,e){const i=u(this),r=i.SB(),n=s-i.kb(),h=e-i.Bb(),o=Math.atan2(h,n),a=F.Pn(r,o,F.Mn(t));isNaN(a)||r===a||(i.yB(a),i.l4())},x.Jbt=function(t,s){const e=u(this),i=e.SB(),r=t-e.kb(),n=s-e.Bb(),h=Math.atan2(n,r);isNaN(h)||i===h||(e.yB(h),e.l4())},M.SB=function(){return F.Tn(this.UD().SB())},T.SB=function(){return this.y4},x.qbt=function(t,s){return F.compare(F.Jn(100*u(this).X3(),6),t,s)},M.iL=function(){return this.UD().iL()},T.iL=function(){return this.isVisible},x.sL=function(t){const s=u(this);t=2===t?!s.iL():0!==t,s.iL()!==t&&(s.sL(t),S.XD())},x.K3=function(t){const s=F.vn(t/100,0,1),e=u(this);if(e.p6()){if(e.ght().Xbt()===s)return}else if(e.X3()===s)return;e.K3(s),S.XD()},x.$bt=function(t){l.Ea(t);const s=u(this);s.T4().xa(l)||(s.G4(l),S.XD())},x.Q3=function(){const t=u(this).T4();return F.$n(t.ca(),t.fa(),t.ga(),t.ya())},x.X3=function(){return F.Jn(100*u(this).X3(),6)},x.Ybt=function(t){return!!(t=s(t))&&u(this).jD()===t},x.Kbt=function(e){const t=m(this),s=t.Q5(),i=s.Z5();if(!i.length)return!1;let r=i[0],n=r;for(let t=1,s=i.length;t<s;++t){const h=i[t],o=h.UD(),a=n.UD(),l=o.jD().UA(),u=a.jD().UA();0===e?(u<l||l===u&&o.VD()>a.VD())&&(n=h):(l<u||l===u&&o.VD()<a.VD())&&(n=h)}return s.t0t(n),!0},M.Zbt=function(t,s,e){const i=this.UD(),r=0===t?i.Nb():i.g4();return F.compare(r,s,e)},T.Zbt=function(t,s,e){const i=0===t?this.bL:this.m4;return F.compare(i,s,e)},M.Qbt=function(){this.UD().I4()},T.Qbt=function(){this._4()},M.tvt=function(){this.UD().R4()},T.tvt=function(){this.C4()},x.svt=function(t){(t=s(t))&&u(this).P4(t)},x.evt=function(t,s){const e=0===t;if(s=m(s)){const i=d(this),r=s.ivt(i);r&&i.UD().A4(r,e)}},M.Wb=function(t){const s=this.UD();s.Nb()!==t&&(s.Wb(t),S.XD())},T.Wb=function(t){this.bL=t},x.rvt=function(){return u(this).jD().UA()},x.nvt=function(){return u(this).jD().nf()},M.hvt=function(){return this.UD().VD()},T.hvt=function(){return this.zIndex},M.ovt=function(){return this.UD().Nb()},T.ovt=function(){return this.bL},M.avt=function(){return this.UD().g4()},T.avt=function(){return this.m4},x.lvt=function(t){const s=d(this),e=s.JL().cB().Jrt(t);if(e){const i=e.UA(),r=s.UD().o4();return r.K6(i)}},x.uvt=function(t,s){const e=d(this),i=e.JL().cB().Jrt(s);if(i){const r=i.UA(),n=1===t,h=e.UD().o4();h.K6(r)!==n&&(h.Z6(r,n),h.Q6(),S.XD())}},x.cvt=function(t,s,e){const i=d(this),r=i.JL().cB().Jrt(t);if(r){s=Math.floor(s);const n=r.TT()._T(s);if(n){"color"===n?(l.Ea(e),e=l):"percent"===n&&(e/=100);const h=r.UA(),o=i.UD().o4(),a=o.sW(h,s,e);a&&o.K6(h)&&S.XD()}}},F.mn(F.Rect)),A=[],b=[],G=!1,_=null,I=!1,k=new Set;x.fvt=function(y){const t=m(this),S=(y=m(y),t.oO());if(S.dvt())return function*(S){if(S){let t=this.oO(),s=t.XA(),i=t.xk(),e=i.Dk(),r=i.Jdt(),n=r.JL(),h=r.b2t(),o=r.v2t(),a=e.ej(),l=t.Vtt(),u=l-1,c=a.Ck(),f=e.ij(c),d=h.get("collmemory"),p=(d||(d=F.mn(F.nc),h.set("collmemory",d)),o.get("collisionCreatedDestroyCallback")||(o.set("collisionCreatedDestroyCallback",!0),t.Xf().addEventListener("instancedestroy",t=>E(d,t.z6))),n.Q5()),m=S.Q5(),g=p.Z5(),y=null;for(let t=0;t<g.length;++t){const w=g[t];m.Lft()?(s.pbt(w.UD().jD(),S,w.UD().S4(),A),y=A,s.pvt(w,S,y)):y=m.Z5();for(let t=0;t<y.length;++t){const b=y[t];if(s.CO(w,b)||s.mvt(w,b)){let t=P(d,w,b),s=!1,e=-2;"number"==typeof t&&(s=!0,e=t);const v=!s||e<u;if(C(d,w,b,l),v){const x=c.sj(),M=(i.aj(x),n.Q5()),T=S.Q5();if(M.zft(!1),T.zft(!1),n===S){const G=M.Jft();F.Vh(G),G.push(w),G.push(b),n.Cyt()}else{const _=M.Jft(),I=T.Jft();F.Vh(_),F.Vh(I),_.push(w),I.push(b),n.Cyt(),S.Cyt()}yield*c.wyt(a,f),i.uj(x)}}else R(d,w,b)}F.Vh(A)}e.pj()}return!1}.call(t,y);if(y){let s=S.XA(),i=S.xk(),t=i.Dk(),e=i.Jdt(),r=e.JL(),n=e.b2t(),h=e.v2t(),o=t.ej(),a=S.Vtt(),l=a-1,u=o.Ck(),c=t.ij(u),f=n.get("collmemory"),d=(f||(f=F.mn(F.nc),n.set("collmemory",f)),h.get("collisionCreatedDestroyCallback")||(h.set("collisionCreatedDestroyCallback",!0),S.Xf().addEventListener("instancedestroy",t=>E(f,t.z6))),r.Q5()),p=y.Q5(),m=d.Z5(),g=null;for(let t=0;t<m.length;++t){const w=m[t];p.Lft()?(s.pbt(w.UD().jD(),y,w.UD().S4(),A),g=A,s.pvt(w,y,g)):g=p.Z5();for(let t=0;t<g.length;++t){const b=g[t];if(s.CO(w,b)||s.mvt(w,b)){let t=P(f,w,b),s=!1,e=-2;"number"==typeof t&&(s=!0,e=t);const v=!s||e<l;if(C(f,w,b,a),v){const x=u.sj(),M=(i.aj(x),r.Q5()),T=y.Q5();if(M.zft(!1),T.zft(!1),r===y){const G=M.Jft();F.Vh(G),G.push(w),G.push(b),r.Cyt()}else{const _=M.Jft(),I=T.Jft();F.Vh(_),F.Vh(I),_.push(w),I.push(b),r.Cyt(),y.Cyt()}u.lj(o,c),i.uj(x)}}else R(f,w,b)}F.Vh(A)}t.pj()}return!1},x.gvt=function(t){return t=m(t),i(d(this),t,0,0)},x.yvt=function(t,s,e){return t=m(t),i(d(this),t,s,e)},x.Svt=function(){return!0},x.Q4=function(){return u(this).Q4()},x.Bq=function(){return u(this).Bq()},x.wvt=function(e,i){const t=m(this),s=(e=m(e),t.oO()),r=this.Q5(),n=r.Z5();if(0===n.length)return!1;let h=e.Q5(),o=h.Z5();if(h.Lft()){const u=[...s.bvt(e)];0<u.length&&(o=o.concat(u))}if(0===o.length)return!1;const a=h.Lft()?null:new Set(o),l=new Set;for(let t=0,s=n.length;t<s;++t){const c=n[t];if(1===i)for(const f of c.j4())f.vvt(e)&&(null===a||a.has(f))&&l.add(f);else{let t;if(0===i){if(null===(t=c.N4()))continue}else t=c.U4();t.vvt(e)&&(null===a||a.has(t))&&l.add(t)}}return 0!==l.size&&(h.Yft(l),e.Cyt(),!0)},x.xvt=function(e,i){const t=m(this),s=(e=m(e),t.oO()),r=t.Q5(),n=r.Z5();if(0===n.length)return!1;let h=e.Q5(),o=h.Z5();if(h.Lft()){const u=[...s.bvt(e)];0<u.length&&(o=o.concat(u))}if(0===o.length)return!1;const a=h.Lft()?null:new Set(o),l=new Set;for(let t=0,s=n.length;t<s;++t){const c=n[t];2!==i||c.Bq()||!c.vvt(e)||null!==a&&!a.has(c)||l.add(c);for(const f of 0===i?c.children():c.q4())2===i&&f.Bq()||f.vvt(e)&&(null===a||a.has(f))&&l.add(f)}return 0!==l.size&&(h.Yft(l),e.Cyt(),!0)},x.Mvt=function(e,i,r){const t=m(this),s=(e=m(e),t.oO()),n=t.Q5(),h=n.Z5();if(0===h.length)return!1;let o=e.Q5(),a=o.Z5();if(o.Lft()){const c=[...s.bvt(e)];0<c.length&&(a=a.concat(c))}if(0===a.length)return!1;const l=o.Lft()?null:new Set(a),u=[];for(let t=0,s=h.length;t<s;++t){const f=h[t];if(0===i){const d=f.J4(r);null!==d&&d.vvt(e)&&(null===l||l.has(d))&&u.push(d)}else if(1===i)for(const p of f.children())if(p.vvt(e)){if(0===r){null!==l&&!l.has(p)||u.push(p);break}--r}}return 0!==u.length&&(o.$ft(u),e.Cyt(),!0)},x.Tvt=function(t,s,e){const i=d(this);switch(t){case 0:default:return F.compare(i.H4(),s,e);case 1:return F.compare(i.Gvt(),s,e)}},x.Y4=function(t,s,e,i,r,n,h,o,a,l){t=m(t);const u=d(this),c=S.Xdt().JL();for(const f of t._vt(u,c)){if(!f.U5().I5())return;u.Y4(f,{s6:s,i6:e,n6:i,o6:r,l6:n,d6:h,c6:o,m6:a,y6:l})}},x.K4=function(t){t=m(t);const s=d(this),e=S.Xdt().JL();for(const i of t._vt(s,e))s.K4(i)},x.Ivt=function(){const t=d(this);if(t.Q4()){const s=t.N4();s.K4(t)}},x.Cvt=function(){const t=d(this).N4();return t?t.hN():-1},x.Rvt=function(){return d(this).H4()},x.Evt=function(){return d(this).Gvt()},x.Pvt=function(t,s){t=Math.floor(t),s=Math.floor(s);const e=u(this);t<2||s<2||!isFinite(t)||!isFinite(s)?(e.x6(),e.l4()):e.b6(t,s)},x.T6=function(t,s,e,i,r,n,h,o){const a=u(this),l=a.T6(t,s,{mode:0===e?"absolute":"relative",x:i,y:r,bL:n,u:h,v:o});l&&a.l4()},x.Fvt=function(){const t=u(this);return t._6()?t.I6().cv():0},x.Avt=function(){const t=u(this);return t._6()?t.I6().dv():0},x.kvt=function(t){const s=u(this);t=2===t?!s.iL():0!==t,s.iL()!==t&&s.sL(t)},x.L6=function(t,s){this instanceof self.HL?this.y8(t,s):this.L6(t,s)},x.Dvt=function(t,s){this instanceof self.HL?this.S8(t,""+s):this.Dvt(t,""+s)},x.Ovt=function(t){this instanceof self.HL?this.w8(t):this.Ovt(t)},x.Bvt=function(){this instanceof self.HL?this.p8():this.D6()},x.Lvt=function(){this instanceof self.HL?this.m8():this.O6()},x.Nvt=function(){return this instanceof self.HL?this.g8():this.Nvt()},x.Wvt=function(t){this instanceof self.HL?this._setEnabled(0!==t):this.Uvt(0!==t)},x.jvt=function(){return this instanceof self.HL?this.Jyt():this.Vvt()},M.Hvt=function(t,s,e){return F.compare(this.aU().nht(t),s,e)},T.Hvt=function(t,s,e){return F.compare(r(this).nht(t),s,e)},M.zvt=function(t){return!!this.aU().nht(t)},T.zvt=function(t){return!!r(this).nht(t)},x.Jvt=function(e,i){const r=m(this),t=r.Q5(),n=t.Z5();if(!n.length)return!1;let h=r.o9(),o=null,a=0;for(let t=0,s=n.length;t<s;++t){const l=n[t],u=h?l.JL().$St(r.YSt()):0,c=l.nht(u+i);(null===o||0===e&&c<a||1===e&&c>a)&&(a=c,o=l)}return t.t0t(o),!0},x.qvt=function(t){const s=m(this);return(s.oO().Jdt().m2t()?h:n)(s,t)},x.VW=function(t){const s=new Set(F.ao(t)),e=d(this).mN();return s.isSubsetOf(e)},x.Xvt=function(){return d(this).$vt()},x.Yvt=function(){return d(this).mN().size},x.Kvt=function(t){return d(this).Zvt(t)},x.Qvt=function(t,s){const e=F.ao(s);if(0!==e.length){const i=d(this),r=new Set(i.mN());if(0===t)for(const n of e)r.add(n);else if(1===t)for(const h of e)r.delete(h);i.yN(r)}},x.txt=function(){S.QL(d(this))},x.sxt=function(){return!0},x.ixt=function(){return!0},M.rxt=function(t,s){this.aU().hht(t,s)},T.rxt=function(t,s){r(this).hht(t,s)},M.nxt=function(t,s){const e=this.aU(),i=e.nht(t);"number"==typeof i&&"number"!=typeof s?s=parseFloat(s):"string"==typeof i&&"string"!=typeof s&&(s=s.toString()),e.hht(t,i+s)},T.nxt=function(t,s){const e=r(this),i=e.nht(t);"number"==typeof i&&"number"!=typeof s?s=parseFloat(s):"string"==typeof i&&"string"!=typeof s&&(s=s.toString()),e.hht(t,i+s)},M.hxt=function(t,s){const e=this.aU(),i=e.nht(t);"number"==typeof i&&("number"!=typeof s&&(s=parseFloat(s)),e.hht(t,i-s))},T.hxt=function(t,s){const e=r(this),i=e.nht(t);"number"==typeof i&&("number"!=typeof s&&(s=parseFloat(s)),e.hht(t,i-s))},M.oxt=function(t,s){this.aU().hht(t,s?1:0)},T.oxt=function(t,s){r(this).hht(t,s?1:0)},M.axt=function(t){const s=this.aU();s.hht(t,0===s.nht(t)?1:0)},T.axt=function(t){const s=r(this);s.hht(t,0===s.nht(t)?1:0)},x.lxt=function(t){let s;try{s=JSON.parse(t)}catch(t){return void console.error("Failed to load from JSON string: ",t)}const e=d(this);S.uxt(),e.$Y("state"),e.Xb(s,"state"),S.cxt("state",{fxt:!0})},x.dxt=function(){return JSON.stringify(d(this).qb("state"))},x.pxt=function(){return d(this).JL().nf()},x.mxt=function(){let t=S.zdt().P0t(),s=t.sB();for(const e of S.bvt(t))++s;return s},x.gxt=function(){return S.zdt().P0t().Q5().Z5().length},M.aN=function(){return this.aU().aN()},T.aN=function(){return r(this).aN()},M.hN=function(){return this.aU().hN()},T.hN=function(){return r(this).hN()},x.ypt=function(t){const s=d(this);return t.toLowerCase()===S.xk().vpt(s)},x.wN=function(t){const s=d(this);S.xk().wN(s,t)},x.yxt=function(t){const s=m(this);return S.xk().q1t().Sxt(s.Q5().Z5(),t),!0},x.wxt=function(){return d(this).uN()},F.bxt=function(t,s,e){const i=t[1],r=t[3],n=t[4],h=t[5],o=t[6],a=t[7],l=t[8],u=t[10],c=t[11],f=t[12],d=t[13],p=t[14],m=t[15],g=t[16],y=s.x$,S=s.fnt,w=s.dnt,b=Object.assign({},x,2<=e?T:M);r&&(y.Sbt=b.Sbt,y.wbt=b.wbt,y.bbt=b.bbt,y.vbt=b.vbt,y.xbt=b.xbt,S.Db=b.Db,S.Lb=b.Lb,S.Mbt=b.Mbt,S.Gbt=b.Gbt,S.Ibt=b.Ibt,S.Ebt=b.Ebt,w.vxt=b.kb,w.xxt=b.Bb,w.Vk=b.Hk),n&&(y.Pbt=b.Pbt,y.Fbt=b.Fbt,S._m=b._m,S.wm=b.wm,S.mC=b.mC,w.Mxt=b.Sm,w.Txt=b.Rm,w.Gxt=b.Abt,w._xt=b.kbt,w.Ixt=b.Dbt,w.Cxt=b.Obt,w.Rxt=b.Bbt,w.Ext=b.Lbt),h&&(y.Pxt=b.Nbt,y.Fxt=b.Wbt,y.Ubt=b.Ubt,S.yB=b.yB,S.jbt=b.jbt,S.Vbt=b.Vbt,S.Hbt=b.Hbt,S.zbt=b.zbt,S.Jbt=b.Jbt,w.Axt=b.SB),o&&(y.iL=b.iL,y.qbt=b.qbt,S.sL=b.sL,S.K3=b.K3,S.$bt=b.$bt,w.Opacity=b.X3,w.kxt=b.Q3),a&&(y.Ybt=b.Ybt,y.Kbt=b.Kbt,y.Zbt=b.Zbt,S.Qbt=b.Qbt,S.tvt=b.tvt,S.svt=b.svt,S.evt=b.evt,S.Wb=b.Wb,w.rvt=b.rvt,w.nvt=b.nvt,w.hvt=b.hvt,w.ovt=b.ovt,w.avt=b.avt),l&&(y.lvt=b.lvt,S.uvt=b.uvt,S.cvt=b.cvt),d&&(y.Svt=b.Svt,y.Q4=b.Q4,y.Bq=b.Bq,y.wvt=b.wvt,y.xvt=b.xvt,y.Mvt=b.Mvt,y.Tvt=b.Tvt,S.Y4=b.Y4,S.K4=b.K4,S.Ivt=b.Ivt,w.Cvt=b.Cvt,w.Rvt=b.Rvt,w.Evt=b.Evt),p&&(S.Pvt=b.Pvt,S.T6=b.T6,w.Fvt=b.Fvt,w.Avt=b.Avt),u&&(y.iL=b.iL,S.sL=b.kvt,S.Dxt=b.L6,S.Oxt=b.Dvt,S.Bxt=b.Ovt),c&&(y.Lxt=b.Nvt,S.Nxt=b.Bvt,S.Wxt=b.Lvt),f&&(y.rc=b.jvt,S.Uxt=b.Wvt),m&&(y.fvt=b.fvt,y.gvt=b.gvt,y.yvt=b.yvt,s.jxt=v),i||(y.Hvt=b.Hvt,y.zvt=b.zvt,y.Jvt=b.Jvt,y.qvt=b.qvt,y.VW=b.VW,S.rxt=b.rxt,S.nxt=b.nxt,S.hxt=b.hxt,S.oxt=b.oxt,S.axt=b.axt,S.Qvt=b.Qvt,y.sxt=b.sxt,y.ixt=b.ixt,S.txt=b.txt,S.lxt||(S.lxt=b.lxt),w.dxt||(w.dxt=b.dxt),w.mxt=b.mxt,w.gxt=b.gxt,w.Vxt=b.aN,w.Hxt=b.hN,w.pxt=b.pxt,w.Xvt=b.Xvt,w.Yvt=b.Yvt,w.Kvt=b.Kvt,y.ypt=b.ypt,S.wN=b.wN,S.yxt=b.yxt),g&&(w.wxt=b.wxt)}}{const Qo=self.Ls;Qo.X1t=class extends Qo.dn{constructor(t){super(),this.i0t=t,this.Mf="",this.bF=-1,this.zxt="",this.Jxt=!1,this.qxt=null,this.f0t=0,this.Wmt=[],this.S0t=null,this.Xxt=new Map,this.$xt=null,this.Yxt=null,this.Kxt=-1,this.zyt=null,this.Zxt=null,this.Qxt=!1}gn(){this.Mf="",this.bF=-1,this.zxt="",this.qxt=null,this.Yxt=null,this.zyt=null,this.Zxt=null,this.Kxt=-1,Qo.Vh(this.Wmt),this.S0t&&(this.S0t.clear(),this.S0t=null);for(const t of this.Xxt.values())t.gn();this.Xxt.clear(),this.$xt=null}Ab(){const t=this.i0t,s=t.oO().h9(),e=t.zdt(),i=(this.qxt=e.Ck(),this.f0t=e.T0t()+1,t.Npt(this.qxt));i&&(this.Yxt=i,this.zyt=i.aSt(),this.Zxt=i.oSt().map(t=>t.Lit()),i.fyt())&&(this.Kxt=i.fSt());for(const n of s){const h=n.Q5();h.Lft()&&!this.qxt.Ogt(n)||(this.Wmt.push(n),this.Xxt.set(n,Qo.mn(Qo.tMt,h)))}const r=t.Rk();this.S0t=0<r.size?r:null}sMt(t){this.Mf="timer",this.Ab(),this.bF=this.i0t.oO().qk()+t}eMt(t){this.Mf="walltimer",this.Ab(),this.bF=this.i0t.oO().$k()+t}iMt(t){this.Mf="signal",this.Ab(),this.zxt=t.toLowerCase()}Sxt(t,s){this.Mf="instance-signals",this.Ab(),this.zxt=s.toLowerCase(),this.$xt=new Set(t)}rMt(t){this.Mf="promise",this.Ab(),t.then(()=>this.dpt()).catch(t=>{console.warn("[C3 runtime] Promise rejected in 'Wait for previous actions to complete': ",t),this.dpt()})}nMt(){return"timer"===this.Mf}hMt(){return"walltimer"===this.Mf}cpt(){return"signal"===this.Mf}wpt(){return"instance-signals"===this.Mf}Dpt(){return"promise"===this.Mf}fpt(){return this.zxt}oMt(){return this.Jxt}dpt(){this.Jxt=!0}bpt(t){this.$xt.delete(t),0===this.$xt.size&&this.dpt()}K1t(){return this.nMt()?this.bF<=this.i0t.oO().qk():this.hMt()?this.bF<=this.i0t.oO().$k():this.oMt()}aMt(t){t.w0t(this.qxt,this.f0t);for(const[e,i]of this.Xxt.entries()){const r=e.Q5();i.w0t(r)}this.S0t&&t.B0t([...this.S0t]);const s=this.Yxt;s&&(s.Myt(this.zyt),s.oSt().map((t,s)=>t.brt(this.Zxt[s])),s.fyt())&&s.dSt(this.Kxt)}Z1t(t){this.aMt(t),this.qxt.dyt(t),this.Yxt&&this.Yxt.fyt()&&this.Yxt.Ayt(this.Kxt),this.i0t.V1t(this.Wmt),this.Qxt=!0}async ept(t){this.aMt(t);for(const s of this.qxt.pyt(t))await this.i0t.oO()._1t(s);this.Yxt&&this.Yxt.fyt()&&this.Yxt.Ayt(this.Kxt),this.i0t.V1t(this.Wmt),this.Qxt=!0}Q1t(){return this.Qxt}Aft(t){for(const s of this.Xxt.values())s.Aft(t);if("instance-signals"===this.Mf){for(const e of t)this.$xt.delete(e);0===this.$xt.size&&this.dpt()}}Aq(){const t={},s={wt:this.Mf,t:this.bF,st:this.zxt,s:this.Jxt,ev:this.qxt.m9(),sm:this.Wmt.map(t=>t.m9()),dsm:this.S0t?[...this.S0t].map(t=>t.m9()):null,sols:t};this.qxt.tyt(this.f0t)&&(s.act=this.qxt.$dt(this.f0t).m9());for(const[e,i]of this.Xxt)t[e.m9().toString()]=i.Aq();return"instance-signals"===this.Mf&&(s.pi=[...this.$xt].map(t=>t.hN())),s}static Opt(t,s){const e=t.oO(),i=t.r1t(s.ev);if(!i)return null;let r=0;if(s.hasOwnProperty("act")){const h=t.h1t(s.act);if(!h)return null;r=h.UA()}const n=Qo.mn(Qo.X1t,t);n.bF=s.t,s.hasOwnProperty("wt")?n.Mf=s.wt:n.Mf=-1===n.bF?"signal":"timer",n.zxt=s.st,n.Jxt=s.s,n.qxt=i,n.f0t=r;for(const o of s.sm){const a=e.q8(o);a&&n.Wmt.push(a)}if(Array.isArray(s.dsm))for(const l of s.dsm){const u=e.q8(l);u&&(n.S0t||(n.S0t=new Set),n.S0t.add(u))}for(const[c,f]of Object.entries(s.sols)){const d=parseInt(c,10),p=e.q8(d);if(p){const m=Qo.mn(Qo.tMt,null);m.kq(t,f),n.Xxt.set(p,m)}}if("instance-signals"===n.Mf){n.$xt=new Set;for(const g of s.pi){const y=e.OD(g);y&&n.$xt.add(y)}}return n}}}{const ta=self.Ls;ta.tMt=class extends ta.dn{constructor(t){super(),this._ft=null,this.lMt=!0,this.eH=[],t&&(this._ft=t.JL(),this.lMt=t.Lft(),ta.qh(this.eH,t.Jft()))}gn(){this._ft=null,ta.Vh(this.eH)}w0t(t){t.zft(this.lMt),ta.qh(t.Jft(),this.eH)}Aft(t){ta.Zh(this.eH,t)}Aq(){return{sa:this.lMt,insts:this.eH.map(t=>t.hN())}}kq(t,s){const e=t.oO();this.lMt=!!s.sa,ta.Vh(this.eH);for(const i of s.insts){const r=e.OD(i);r&&this.eH.push(r)}}}}{let l=function(t,s){let e=t.get(s);return e||(e=new Map,t.set(s,e)),e};l;const sa=self.Ls;sa.uMt=class extends sa.dn{constructor(t){super(),this.mf=t.runtime,this.wn=t.name??"",this.cMt=!!t.p5,this.fMt=!!t.dMt,this.pMt=!!t.b5,this.mMt=!!t.gMt,this.yMt=!!t.x5,this.SMt=!!t.wMt,this.bMt=!!t.C5,this.vMt=!!t.S5,this.xMt=!!t.T5,this.MMt=t.TMt,this.GMt=null,this._Mt=new Map,this.IMt=new Map,this.CMt=new Map,this.RMt=new Map,this.EMt=t.PMt,this.FMt=null}gn(){this.mf=null}oO(){return this.mf}nf(){return this.wn}AMt(){}Spt(){return(2<=this.p2t()?this.FMt:this).constructor}p2t(){return this.MMt}kMt(t=!1){let s=this.EMt;return t&&"function"!=typeof s&&2<=this.p2t()?globalThis.mU:s}m5(){return this.cMt}y5(){return this.fMt}w5(){return this.vMt}G5(){return this.xMt}v5(){return this.pMt}ob(){return this.mMt}M5(){return this.yMt}I5(){return this.SMt}R5(){return this.bMt}BSt(t,s){if(!s)throw new Error("missing 'this' binding");let e=this._Mt.get(t);return e||(e=t.bind(s),this._Mt.set(t,e)),e}u2t(t,s,e){if(!s)throw new Error("missing 'this' binding");let i=l(this.IMt,t),r=i.get(e);return r||(r=t.bind(s,e),i.set(e,r)),r}c2t(t,s,e,i){if(!s)throw new Error("missing 'this' binding");let r=l(this.CMt,t),n=l(r,e),h=n.get(i);return h||(h=t.bind(s,e,i),n.set(i,h)),h}f2t(t,s,e,i,r){if(!s)throw new Error("missing 'this' binding");let n=l(this.RMt,t),h=l(n,e),o=l(h,i),a=o.get(r);return a||(a=t.bind(s,e,i,r),o.set(r,a)),a}DMt(t){if(!this.m5())throw new Error("must be single-global plugin");this.GMt=t}O5(){if(this.m5())return this.GMt;throw new Error("must be single-global plugin")}L5(){if(this.m5())return this.GMt.L5();throw new Error("must be single-global plugin")}OMt(){const t=this.p2t(),s=(sa.f5.BMt(this,t),this.kMt(!0));if(s){if(this.FMt=new s,!(this.FMt instanceof self.l5))throw new TypeError("plugin class must derive from IPlugin")}else this.FMt=new self.l5;sa.f5.LMt(t)}A5(){return this.FMt}}}{const ea=self.Ls;ea.NMt=class extends ea.uMt{constructor(t,s){super(t),this.WMt=s,this.UMt=0,this.jMt=new Map,this.VMt("elem-focused",t=>t.HMt()),this.VMt("elem-blurred",t=>{t&&t.zMt()})}gn(){super.gn()}JMt(t){const s=this.UMt++;return this.jMt.set(s,t),s}qMt(t){this.jMt.delete(t)}VMt(t,e){this.mf.BN(this.WMt,t,t=>{const s=this.jMt.get(t.elementId);e(s,t)})}}}{const ia=self.Ls;ia.XMt=class extends ia.dn{constructor(t){super(),this._ft=t,this.mf=t.oO(),this.$Mt=t.U5()}gn(){this._ft=null,this.mf=null,this.$Mt=null}JL(){return this._ft}oO(){return this.mf}U5(){return this.$Mt}SW(){return this._ft.SW()}AMt(){}_2t(t){}cbt(t){}fbt(t){}zX(t){}KX(){}XX(){}S$(t){}YMt(){}kMt(){return null}KMt(t,s,e){const i=ia.mn(ia.Event,t,s);i.ZMt=this,e&&Object.assign(i,e),this.JL().Q$(i)}}}{const ra=self.Ls;ra.QMt=class extends ra.dn{constructor(t,s){super(),this._e=t,this.WMt=s,this.tTt=null,this.mf=t.oO(),this._ft=this._e.JL(),this.sTt=this._ft.ubt(),this.LY=null,this.WY=null,this.HN=!1,this.JN=!1,this._0=null,this.WI=!1}gn(){this.WI=!0,this.eTt(),this.iTt(),this.LY=null,this.WY=null,this._0&&(this._0.gn(),this._0=null),this._e=null,this.mf=null,this._ft=null,this.sTt=null}yn(){return this.WI}aU(){return this._e}oO(){return this.mf}JL(){return this._ft}U5(){return this.sTt.U5()}ubt(){return this.sTt}rTt(){return this._e.BD()}AN(t){return this.mf.AN(t,this._e,null)}nTt(t){return this.mf.nTt(t,this._e,null)}DN(t){return this.mf.DN(t,this._e,null)}hTt(t,s){return this.mf.hTt(t,this._e,s)}oTt(t,s){return this.mf.oTt(t,this._e,s)}aTt(t){return this.mf.aTt(t)}lTt(t,s){this.mf.BN(this.WMt,t,s)}uTt(t){for(const[s,e]of t)this.lTt(s,e)}cTt(t,s){this.mf.Sf(this.WMt,t,s)}fTt(t,s){return this.mf.YD(this.WMt,t,s)}dTt(t,s){if(!this.mf.nk())return window.c3_runtimeInterface._OnMessageFromRuntime({type:"event",component:this.WMt,handler:t,data:s,responseId:null});this.cTt(t,s)}pTt(t){if(!t)throw new Error("cannot set empty component id");this.tTt=t}mTt(){if(this.tTt)return this.mf.KN(this.tTt);throw new Error("wrapper extension component id not set")}QN(t,s){if(!this.tTt)throw new Error("wrapper extension component id not set");this.mf.QN(this.tTt,t,s)}gTt(t){for(const[s,e]of t)this.QN(s,e)}B8(t,s){if(!this.tTt)throw new Error("wrapper extension component id not set");this.mf.B8(this.tTt,t,s)}L8(t,s){if(this.tTt)return this.mf.L8(this.tTt,t,s);throw new Error("wrapper extension component id not set")}XK(){}yTt(){}STt(){if(!this.HN){if(!this.LY)if(this.mf.jN()){const s=globalThis.C3Debugger,e=this.U5();this.LY=()=>{const t=performance.now();this.XK(),s.AddIndividualPluginTickTime(e,performance.now()-t)}}else this.LY=()=>this.XK();this.mf.Xf().addEventListener("tick",this.LY),this.HN=!0}}eTt(){this.HN&&(this.mf.Xf().removeEventListener("tick",this.LY),this.HN=!1)}wTt(){return this.HN}bTt(){if(!this.JN){if(!this.WY)if(this.mf.jN()){const s=globalThis.C3Debugger,e=this.U5();this.WY=()=>{const t=performance.now();this.yTt(),s.AddIndividualPluginTickTime(e,performance.now()-t)}}else this.WY=()=>this.yTt();this.mf.Xf().addEventListener("tick2",this.WY),this.JN=!0}}iTt(){this.JN&&(this.mf.Xf().removeEventListener("tick2",this.WY),this.JN=!1)}vTt(){return this.JN}xTt(){return[]}qb(){return null}Xb(t){}Ynt(t){}eht(t,s){}Yht(t,s,e){if(0!==s){const i=this.Ynt(t);if("number"!=typeof i)throw new Error("expected number");this.eht(t,i+s,e)}}MTt(t,s,e,i){}TTt(t,...s){t.call(this,...s)}GTt(t,...s){return t.call(this,...s)}kMt(){return null}KMt(t,s,e){if(this._e._Tt()){const i=this.rTt(),r=ra.mn(ra.Event,t,s);r.z6=i,e&&Object.assign(r,e),i.dispatchEvent(r)}}ob(){return!1}}}{const na=self.Ls;na.ITt=class extends na.QMt{constructor(t,s){super(t,s),this.jst=t.UD(),this.CTt=null,this.RTt=null}gn(){if(this.CTt){const t=this.mf.Xf();t.removeEventListener("renderercontextlost",this.CTt),t.removeEventListener("renderercontextrestored",this.RTt),this.CTt=null,this.RTt=null}this.jst=null,super.gn()}ETt(){this.PTt()}FTt(){}ATt(){}PTt(){if(!this.CTt){this.CTt=()=>this.q7(),this.RTt=()=>this.kTt();const t=this.mf.Xf();t.addEventListener("renderercontextlost",this.CTt),t.addEventListener("renderercontextrestored",this.RTt)}}q7(){this.FTt()}kTt(){this.ATt()}UD(){return this.jst}Det(){return!1}ket(){if(!this.Det())throw new Error("original size not known");const t=this.DTt();if(t)return t.Sm()}Bet(){if(!this.Det())throw new Error("original size not known");const t=this.DTt();if(t)return t.Rm()}DTt(){return null}OTt(){const t=this.DTt();if(t){const s=t.nM();if(s)return[s.Sm(),s.Rm()]}return[100,100]}BTt(){const t=this.DTt();return t?t.JC():null}LTt(){const t=this.DTt();return t?t.NTt():null}WTt(){const t=this.DTt();return!!t&&t.UTt()}_bt(t){const s=this._e.UD();return[s.kb(),s.Bb(),s.g4()]}YMt(t,s,e){}jTt(t,s){}uq(){return!0}}}{const ha=self.Ls,oa=ha.mn(ha.Rect);ha.VTt=class extends ha.ITt{constructor(t,s){super(t,s),this.HTt=this.U5().JMt(this),this.zTt=!0,this.JTt=!1,this.qTt=!1,this.XTt=-.2,this.$Tt=ha.mn(ha.Rect,0,0,-1,-1);const e=this.mf.$O();this.YTt=e.ZU(),this.KTt=e.QU(),this.ZTt=-1,this.QTt=-1,this.tGt=!1,this.STt()}gn(){this.U5().qMt(this.HTt),this.sGt("destroy"),this.HTt=-1,super.gn()}A6(){if(this.mf.nk())throw new Error("not valid in worker mode");return this.eGt("get-element")}sGt(t,s){(s=s||{}).elementId=this.HTt,this.cTt(t,s)}eGt(t,s){return(s=s||{}).elementId=this.HTt,this.dTt(t,s)}iGt(t,s){return(s=s||{}).elementId=this.HTt,this.fTt(t,s)}rGt(t){t=t||{};const s=this.UD();t.elementId=this.HTt,t.isVisible=s.iL(),t.htmlIndex=s.jD().n8(),t.htmlZIndex=s.h8(),Object.assign(t,this.nGt()),this.zTt=!!t.isVisible,this.dTt("create",t),this.hGt(!0)}kvt(t){this.zTt!==(t=!!t)&&(this.zTt=t,this.sGt("set-visible",{isVisible:t}))}XK(){this.hGt(!1)}oGt(){const t=this.mf.$O().c8();return"Android"===ha.ue.fe&&("scale-inner"===t||"scale-outer"===t||"crop"===t)}hGt(u){if(!this.aU().f8()){let t=this.UD(),s=t.jD(),e=t.S4(),[i,r]=s.BL(e.Rl(),e.El()),[n,h]=s.BL(e.Pl(),e.Fl()),o=this.mf.$O(),a=o.QO(),l=o.s5();if(t.iL()&&s.iL())if(!this.oGt()&&(n<=0||h<=0||a<=i||l<=r))this.kvt(!1);else{oa.set(i,r,n,h);const c=o.ZU(),f=o.QU(),d=s.n8(),p=t.h8();if(!u&&oa.equals(this.$Tt)&&this.YTt===c&&this.KTt===f&&this.ZTt===d&&this.QTt===p)this.kvt(!0);else{this.$Tt.I(oa),this.YTt=c,this.KTt=f,this.ZTt=d,this.QTt=p,this.kvt(!0);let t=null;this.qTt&&(t=s.d8()+this.XTt),this.sGt("update-position",{left:Math.round(this.$Tt.Rl()),top:Math.round(this.$Tt.El()),width:Math.round(this.$Tt.width()),height:Math.round(this.$Tt.height()),htmlIndex:d,htmlZIndex:p,fontSize:t})}}else this.kvt(!1)}}D6(){this.eGt("focus",{focus:!0})}O6(){this.eGt("focus",{focus:!1})}HMt(){this.JTt=!0}zMt(){this.JTt=!1}Nvt(){return this.JTt}L6(t,s){this.sGt("set-css-style",{prop:ha.Jo(t),val:s})}Dvt(t,s){this.sGt("set-attribute",{name:t,val:s})}Ovt(t){this.sGt("remove-attribute",{name:t})}aGt(){this.tGt||(this.tGt=!0,Promise.resolve().then(()=>{this.tGt=!1,this.sGt("update-state",this.nGt())}))}nGt(){}lGt(){return this.HTt}}}{const aa=self.Ls,la=self.X6;aa.uGt=class extends aa.dn{constructor(t){super(),this.mf=t.runtime,this.wn=t.name??"",this.cGt=aa.mn(aa.dc),this.fGt=aa.mn(aa.dc),this.MMt=t.TMt,this.EMt=t.PMt,this.dGt=null}gn(){this.fGt.gn(),this.cGt.gn(),this.mf=null}oO(){return this.mf}nf(){return this.wn}AMt(){}p2t(){return this.MMt}kMt(t=!1){let s=this.EMt;return t&&"function"!=typeof s&&2<=this.p2t()?globalThis.x8:s}pGt(t){this.cGt.wc(t)}bK(){return this.cGt.vc()}Xz(t){this.fGt.wc(t)}Kz(t){this.fGt.lc(t)}Z5(){return this.fGt.vc()}OMt(){const t=this.p2t(),s=(aa.f5.BMt(this,t),this.kMt(!0));if(s){if(this.dGt=new s,!(this.dGt instanceof la))throw new TypeError("behavior class must derive from IBehavior")}else this.dGt=new la;aa.f5.LMt(t)}W6(){return this.dGt}}}{const ua=self.Ls;ua.mGt=class extends ua.dn{constructor(t){super(),this.mf=t.oO(),this.ZSt=t,this._ft=t.JL(),this.gGt=t.U6(),this.gGt.pGt(this._ft)}gn(){this.mf=null,this.ZSt=null,this._ft=null,this.gGt=null}AMt(){}H6(){return this.ZSt}JL(){return this._ft}oO(){return this.mf}U6(){return this.gGt}}}{const ca=self.Ls;ca.yGt=class extends ca.dn{constructor(t,s){super(),this.SGt=t,this.WMt=s,this._e=t.J6(),this.mf=t.oO(),this.ZSt=t.H6(),this.sTt=this.ZSt.ubt(),this.HN=!1,this.JN=!1,this.D8=!1,this._0=null}gn(){this.eTt(),this.iTt(),this.wGt(),this._0&&(this._0.gn(),this._0=null),this.SGt=null,this._e=null,this.mf=null,this.ZSt=null,this.sTt=null}U6(){return this.ZSt.U6()}bGt(){return this.SGt}J6(){return this._e}JL(){return this._e.JL()}UD(){return this._e.UD()}oO(){return this.mf}H6(){return this.ZSt}ubt(){return this.sTt}rTt(){return this.SGt.rTt()}AN(t){return this.mf.AN(t,this._e,this.ZSt)}nTt(t){return this.mf.nTt(t,this._e,this.ZSt)}DN(t){return this.mf.DN(t,this._e,this.ZSt)}vGt(){}XK(){}yTt(){}xGt(){}STt(){this.HN||(this.mf.C8(this),this.HN=!0)}eTt(){this.HN&&(this.mf.E8(this),this.HN=!1)}wTt(){return this.HN}bTt(){this.JN||(this.mf.P8(this),this.JN=!0)}iTt(){this.JN&&(this.mf.F8(this),this.JN=!1)}vTt(){return this.JN}MGt(){this.D8||(this.mf.A8(this),this.D8=!0)}wGt(){this.D8&&(this.mf.k8(this),this.D8=!1)}TGt(){return this.D8}xTt(){return[]}lTt(t,s){this.mf.BN(this.WMt,t,s)}GGt(t,s){}qb(){return null}Xb(t){}Ynt(t){}eht(t,s){}Yht(t,s){if(0!==s){const e=this.Ynt(t);if("number"!=typeof e)throw new Error("expected number");this.eht(t,e+s)}}MTt(t,s,e,i){}TTt(t,...s){t.call(this,...s)}GTt(t,...s){return t.call(this,...s)}kMt(){return null}KMt(t,s,e){if(this.SGt._Tt()){const i=this.rTt(),r=ca.mn(ca.Event,t,s);r._Gt=i,r.z6=i.z6,e&&Object.assign(r,e),i.dispatchEvent(r)}}}}{let s=function(t){if(t!==e)throw new Error("invalid internal API token")},n=(s,self.Ls),e=(n.T$={},n.nlt={},n.Ns()),i=[],r=[],h=[],o=null,a=null,t=null,l=null,u=new Map,c=new Map;n.f5=class extends n.dn{constructor(t,s){super(),this.mf=t,this.IGt=[],this.ASt=null,this.CGt=[],this.RGt=new Map,this.EGt=null,this.PGt=null,this.FGt=new Set(s)}AGt(t){const s=t[19],e=this.mf.Byt(t[0]);if(!e)throw new Error("missing plugin");n.bxt(t,e,s);const i=2<=s?n.uMt:e,r=n.mn(i,{runtime:this.mf,p5:t[1],dMt:t[2],b5:t[5],x5:t[8],gMt:t[9],wMt:t[13],C5:t[14],S5:t[17],T5:t[18],TMt:s,name:t[20],PMt:2<=s?e:null});r.AMt(),this.IGt.push(r),u.set(e,r)}kGt(){this.ASt=n.mn(n.T$.M$,{runtime:this.mf,p5:!0}),this.ASt.AMt()}DGt(t){const e=t[1],i=t[2],r=this.mf.Byt(t[0]);if(!r)throw new Error("missing behavior");this.RGt.set(r,()=>{const t=2<=e?n.uGt:r,s=n.mn(t,{runtime:this.mf,name:i,TMt:e,PMt:2<=e?r:null});s.AMt(),this.CGt.push(s),c.set(r,s),!this.EGt&&n.nlt.solid&&s instanceof n.nlt.solid?this.EGt=s:!this.PGt&&n.nlt.jumpthru&&s instanceof n.nlt.jumpthru&&(this.PGt=s),s.OMt()})}OGt(t){const s=this.RGt.get(t);s&&(s(),this.RGt.delete(t))}static BMt(t,s=1){if(n.f5.BMt!==o)throw new Error("invalid method");1===s&&i.push(t),r.push(t)}static LMt(t=1){if(n.f5.LMt!==a)throw new Error("invalid method");1===t&&i.pop(),r.pop()}static YL(){if(n.f5.YL!==t)throw new Error("invalid method");if(0===i.length)throw new Error("no init object set");return i.at(-1)}static c5(t){if(n.f5.c5!==l)throw new Error("invalid method");if(s(t),0===r.length)throw new Error("no init object set");return r.at(-1)}static BGt(t){h.push(t)}static LGt(){h.pop()}static PN(){if(0===h.length)throw new Error("no init properties set");return h.at(-1)}NGt(){for(const t of this.IGt)t.OMt()}static F5(t){return u.get(t)||null}static Y6(t){return c.get(t)||null}v7(){return this.ASt}WGt(){return this.EGt}UGt(){return this.PGt}KN(t){return this.FGt.has(t)}},o=n.f5.BMt,a=n.f5.LMt,t=n.f5.YL,l=n.f5.c5}{const fa=self.Ls,da=new Set;fa.jGt=class extends fa.dn{constructor(){super(),this.VGt=0,this.O7="",this.B7=0,this.HGt=0,this.zGt=0,this.sg=0,this.eg=0,this.JGt=!1,this.qGt=!1,this.XGt=null,this.$Gt="",this.kI=fa.mn(fa.Rect),this.YGt=fa.mn(fa.nu),this.KGt="",this.ZGt=new self.nO(this),da.add(this)}gn(){this.BI(),this.XGt&&0===this.XGt.K7()&&this.XGt.gn(),this.XGt=null,da.delete(this),this.QGt()}static q7(){for(const t of da)t.$Gt="",t.kI.set(0,0,0,0),t.YGt._u(t.kI)}t_t(t){this.O7=t[0],this.B7=t[1],this.HGt=t[2],this.zGt=t[3],this.sg=t[4],this.eg=t[5],this.JGt=t[6],this.qGt=!0}s_t(t,s){if(this.XGt)throw new Error("already loaded asset");this.O7=s;const e={};return fa.To(s)&&(e.c7="remote"),this.hO(t,e),this.XGt.p7()}e_t(t,s){if(this.XGt)throw new Error("already loaded asset");this.O7="",this.B7=s.size,this.XGt=fa.mn(fa.f7,t.zA(),{blob:s,size:this.B7,c7:"local"})}i_t(t){if(t===this)throw new Error("cannot replace with self");this.VGt++,this.BI(),this.O7=t.O7,this.B7=t.B7,this.HGt=t.HGt,this.zGt=t.zGt,this.sg=t.sg,this.eg=t.eg,this.JGt=t.JGt,this.qGt=t.qGt,this.XGt=t.XGt,this.$Gt=t.$Gt,this.kI=t.kI,this.YGt=t.YGt,this.QGt()}d7(){return this.O7}cc(){return this.B7}r_t(){return this.HGt}n_t(){return this.zGt}UTt(){return this.JGt}Sm(){return this.sg}Rm(){return this.eg}h_t(){return this.XGt.Sm()}o_t(){return this.XGt.Rm()}hO(t,s){if(this.XGt)throw new Error("already got asset");s=Object.assign({},s,{url:this.d7(),size:this.cc()}),this.XGt=t.u7(s)}U7(){return this.XGt&&this.XGt.U7()}async Jj(t,s){if(!this.XGt)throw new Error("no asset");if(this.$Gt)throw new Error("already loaded texture");const e=this.VGt,i=(this.$Gt="loading",await this.XGt.Jj(t,s));if(this.VGt!==e)return null;if(!i)return this.$Gt="",null;this.$Gt="loaded",this.qGt||(this.sg=i.Sm(),this.eg=i.Rm(),this.qGt=!0);const r=this.JGt?this.eg:this.sg,n=this.JGt?this.sg:this.eg;return this.kI.set(this.HGt,this.zGt,this.HGt+r,this.zGt+n),this.kI.Ct(i.Sm(),i.Rm()),this.YGt._u(this.kI),this.JGt&&this.YGt.Fu(),i}BI(){this.$Gt&&(this.XGt&&this.XGt.BI(),this.$Gt="",this.kI.set(0,0,0,0),this.YGt._u(this.kI))}nM(){return this.XGt&&"loaded"===this.$Gt?this.XGt.nM():null}JC(){return this.kI}NTt(){return this.YGt}CU(){return this.ZGt}a_t(){return this.XGt}async l_t(t){t=t||await this.XGt.Z7();const s=fa.Bo(this.sg,this.eg),e=s.getContext("2d");return this.JGt?(e.rotate(Math.PI/-2),e.translate(-this.eg,0),e.drawImage(t,this.HGt,this.zGt,this.eg,this.sg,0,0,this.eg,this.sg)):e.drawImage(t,this.HGt,this.zGt,this.sg,this.eg,0,0,this.sg,this.eg),s}async u_t(t){if(!this.KGt){const s=await this.l_t(t),e=await fa.Lo(s);this.KGt=URL.createObjectURL(e)}return this.KGt}QGt(){this.KGt&&(URL.revokeObjectURL(this.KGt),this.KGt="")}}}{const pa=self.Ls;pa.c_t=class extends pa.dn{constructor(t){super(),this.wn=t[0],this.f_t=t[1],this.Vwt=!!t[2],this.Iot=t[3],this.d_t=t[4],this.p_t=!!t[5],this.kH=t[6],this.m_t=t[7].map(t=>pa.mn(pa.g_t,t)),this.y_t=new self.eW(this)}static S_t(t,s){const e=pa.mn(pa.c_t,[s,0,!1,0,0,!1,Math.floor(1e15*Math.random()),[]]);return e.m_t.push(pa.g_t.S_t(t)),e}gn(){for(const t of this.m_t)t.gn();pa.Vh(this.m_t)}w_t(t){for(const s of this.m_t)s.SW().hO(t)}b_t(s,e){return Promise.all(this.m_t.map(t=>t.SW().Jj(s,e)))}v_t(){for(const t of this.m_t)t.SW().BI()}nf(){return this.wn}m9(){return this.kH}uW(){return this.m_t.length}fW(){return this.m_t}x_t(t){if((t=Math.floor(t))<0||t>=this.m_t.length)throw new RangeError("invalid frame");return this.m_t[t]}M_t(t,s){(s=Math.floor(s))<0?this.m_t.unshift(t):s>=this.m_t.length?this.m_t.push(t):this.m_t.splice(s,0,t)}T_t(t){if((t=Math.floor(t))<0||t>=this.m_t.length)throw new RangeError("invalid frame");this.m_t[t].gn(),this.m_t.splice(t,1)}G_t(e){for(let t=0,s=this.m_t.length;t<s;++t)if(pa.br(this.m_t[t].LW(),e))return t;return-1}__t(t){if("string"!=typeof t)return t;{const s=this.G_t(t);if(-1===s)throw new Error("cannot find animation frame with tag "+t);return s}}iW(){return this.f_t}rW(){return this.Vwt}nW(){return this.Iot}oW(){return this.d_t}lW(){return this.p_t}I_t(){return this.y_t}}}{const ma=self.Ls,ga=(()=>{const e=atob("iVBORw0KGgoAAAANSUhEUgAAAGQAAABkAQMAAABKLAcXAAAAAXNSR0IArs4c6QAAAANQTFRFAAAAp3o92gAAAAF0Uk5TAEDm2GYAAAATSURBVBgZYxgFo2AUjIJRQFcAAAV4AAHcRQIbAAAAAElFTkSuQmCC"),i=new Uint8Array(e.length);for(let t=0,s=e.length;t<s;++t)i[t]=e.charCodeAt(t);return new Blob([i],{type:"image/png"})})();ma.g_t=class extends ma.dn{constructor(t){super(),this.C_t=ma.mn(ma.jGt),this.C_t.t_t(t),this.R_t=t[7],this.E_t=ma.mn(ma.nl,t[8],t[9]),this.P_t=t[10].map(t=>ma.mn(ma.F_t,this,t)),this.A_t=new Map;for(const e of this.P_t)this.A_t.set(e.nf().toLowerCase(),e);this.k_t=null;const s=t[11];6<=s.length&&(this.k_t=ma.mn(ma.Nu,s)),this.iy=t[12]||"",this.D_t=new self.yW(this)}static S_t(t){const s=ma.mn(ma.g_t,["",0,0,0,100,100,!1,1,0,0,[],[],""]);return s.C_t.e_t(t,ga),s}gn(){this.k_t&&(this.k_t.gn(),this.k_t=null),this.C_t.gn(),this.C_t=null}SW(){return this.C_t}wW(){return this.R_t}vW(){return this.E_t.ul()}MW(){return this.E_t.fl()}kW(){return this.k_t}FW(t){return this.A_t.get(t.toLowerCase())||null}PW(t){return(t=Math.floor(t))<0||t>=this.P_t.length?null:this.P_t[t]}_W(){return this.P_t.length}LW(){return this.iy}dW(){return this.D_t}}}{const ya=self.Ls;ya.F_t=class extends ya.dn{constructor(t,s){super(),this.O_t=t,this.wn=s[0],this.B_t=ya.mn(ya.nl,s[1],s[2])}gn(){}nf(){return this.wn}kb(){return this.B_t.ul()}Bb(){return this.B_t.fl()}L_t(){return this.B_t}}}{const v=self.Ls,Sa=self.C3Debugger,wa=self.N5;v.$lt=class extends v.dn{constructor(s,t,e){super();const i=s.Byt(e[1]),[r,n]=(this.mf=s,this.$Mt=v.f5.F5(i),this.sTt=null,this.N_t=i.Instance,this.ey=t,this.kH=e[11],this.wn=e[0],this.bSt=this.mf.s1t(e[14]),this.W_t=!!e[9],this.U_t=!!e[2],this.j_t=!!e[10],this.V_t=e[3].map(t=>({sid:t[0],type:t[1],name:t[2],H_t:s.s1t(t[3])})),this.z_t=e[4],this.J_t=e[5],this.fMt=this.$Mt.y5(),this.q_t=v.mn(v.Event.Xf),this.yz=null,s.XA().DO());if(this.X_t=v.mn(v.$_t,r,n),this.Y_t=!0,this.K_t=null,this.Z_t=null,this.Q_t=-1,this.tIt=null,this.sIt=null,this.eIt=null,this.iIt=null,this.rIt=null,this.nIt=!1,this.hIt=null,this.oIt=e[8].map(t=>v.aIt.GM(this,t)),this.lIt=[],this.uIt=new Map,this.cIt=new Map,this.fIt=new Set,this.dIt=new Map,this.pIt=v.mn(v.Gft,this),this.mIt=null,this.gIt=0,this.yIt=!1,this.hIt=null,this.C_t=null,this.SIt=null,this.wIt=null,this.bIt=null,this.vIt=0,this.Xwt=new Map,this.$wt=new Map,this.eH=[],this.xIt=new Map,this.MIt=!0,this.$Mt.M5()&&(this.yz=v.mn(v.Sz,this,e[12])),e[6]&&(this.C_t=v.mn(v.jGt),this.C_t.t_t(e[6])),e[7]){this.SIt=e[7].map(t=>v.mn(v.c_t,t)),this.wIt=new Map,this.bIt=new Map;for(const a of this.SIt)this.wIt.set(a.nf().toLowerCase(),a),this.bIt.set(a.m9(),a)}this.U_t?(this.K_t=[],this.Z_t=new Set,this.Q_t=this.mf.TIt()):(this.tIt=[],this.sIt=new Set,this.eIt=[],this.iIt=[],this.rIt=[]);const h=this.$Mt.p2t();if(h<2&&(this.sTt=v.mn(i.GIt,this,e[15]),!(this.sTt instanceof v.XMt)))throw new Error("v1 sdk type must derive from SDKTypeBase");this._It=null,this.IIt=null,this.yX=v.mn(v.Event.Xf),v.f5.BMt(this,h);let o;if(o=2<=h?(o=i.GIt)||globalThis.GU:this.sTt.kMt()){if(this._It=new o(h<2?this:null),h<2&&!(this._It instanceof wa))throw new TypeError("script interface class must derive from IObjectClass");if(2<=h&&!(this._It instanceof globalThis.GU))throw new TypeError("script interface class must derive from ISDKObjectTypeBase")}else this._It=new wa;if(v.f5.LMt(h),e[13]){const l=e[13];if(l){const u=l[0],c=l[1],f=l[2];this.sTt.YMt(u,c,f)}}this.mf.CIt()&&!this.U_t&&!this.j_t&&this.fMt||this.AMt(),this.$Mt.m5()&&(this.$Mt.DMt(this),this.RIt(e)),this.EIt=null}static GM(t,s,e){return v.mn(v.$lt,t,s,e)}gn(){if(this.q_t.gn(),this.q_t=null,this.C_t&&(this.C_t.gn(),this.C_t=null),this.SIt){for(const t of this.SIt)t.gn();v.Vh(this.SIt),this.wIt.clear(),this.bIt.clear()}this.EIt=null,this.pIt.gn(),this.pIt=null,this.Xwt.clear(),this.$wt.clear(),this.hIt=null,this.mf=null}PIt(e){for(let t=1,s=e.length;t<s;++t){const i=this.mf.Oz(e[t]);this.K_t.push(i),this.Z_t.add(i),i.tIt.push(this),i.sIt.add(this)}}FIt(t){this.nIt=!0,this.hIt=t}rN(){return this.nIt}jX(){return this.hIt}AIt(){let t=0;if(!this.U_t)for(const s of this.tIt)for(const e of s.kIt()){const i=e.nf().toLowerCase();this.uIt.set(i,e),this.cIt.set(i,t),this.lIt.push(e),++t}for(const r of this.kIt()){const n=r.nf().toLowerCase();this.uIt.set(n,r),this.cIt.set(n,t),this.lIt.push(r),++t}for(const h of this.lIt)this.fIt.add(h.U6().constructor);if(!this.U_t&&this.tIt.length){let t=this.mf.DIt(),s=(v.zh(this.eIt,t,0),v.zh(this.iIt,t,0),v.zh(this.rIt,t,0),[]),e=0,i=0,r=0;for(const o of this.tIt){const a=o.YSt(),l=(this.eIt[a]=e,e+=o.OIt(),this.iIt[a]=i,i+=o.BIt(),this.rIt[a]=r,r+=o.LIt(),o.cB());if(l&&this.yz)for(const u of l.fB())s.push(u.NIt(this.yz))}this.yz&&this.yz.WIt(s)}}RIt(t){const s=this.mf.UIt(),e=v.mn(v.Instance,{runtime:this.mf,zL:this,uid:s});e.jIt(t[16],[]),this.mf.VIt(s,e),this.eH.push(e)}ubt(){return this.sTt}HIt(){return this.j_t}Xf(){return this.q_t}AMt(){this.U_t||(this.sTt?this.sTt.AMt():this._It._U())}zIt(){return 0<this.vIt}async zX(t){this.U_t||(this.vIt++,1===this.vIt&&(this.sTt?await this.sTt.zX(t):await this._It.RU(this.mf.$O().JIt())))}KX(){if(!this.U_t){if(this.vIt--,this.vIt<0)throw new Error("released textures too many times");0===this.vIt&&(this.sTt?this.sTt.KX():this._It.EU(this.mf.$O().JIt()))}}XX(){if(this.U_t)throw new Error("not applicable to family");this.sTt?this.sTt.XX():this._It.PU()}async S$(t){this.U_t||(this.sTt?await this.sTt.S$(t):await this._It.FU(this.mf.$O().JIt()))}oO(){return this.mf}U5(){return this.$Mt}qIt(){return this.N_t}nf(){return this.wn}s1t(){return this.bSt}UA(){return this.ey}m9(){return this.kH}o9(){return this.U_t}qz(){return this.W_t}y5(){return this.fMt}YSt(){return this.Q_t}kIt(){return this.oIt}BIt(){return this.z_t}XIt(t){return t&&this.fIt.has(t)}OIt(){return this.V_t.length}$It(){return this.V_t.map(t=>t.sid)}YIt(s){return this.V_t.findIndex(t=>t.sid===s)}yet(s){return this.V_t.findIndex(t=>t.name===s)}KIt(){return this.V_t.map(t=>t.name)}ZIt(){return this.V_t.map(t=>t.H_t)}bet(t){if((t=Math.floor(t))<0||t>=this.V_t.length)throw new RangeError("invalid instance variable index");return this.V_t[t].type}wet(t){if((t=Math.floor(t))<0||t>=this.V_t.length)throw new RangeError("invalid instance variable index");return this.V_t[t].name}LIt(){return this.J_t}QIt(){return this.lIt}Hrt(t){return this.uIt.get(t.toLowerCase())||null}xet(t){const s=this.cIt.get(t.toLowerCase());return void 0===s?-1:s}cB(){return this.yz}M5(){return this.$Mt.M5()}tCt(){return this.yz&&this.yz.sCt()}H1t(){return this.pIt}Q5(){return this.pIt.Q5()}SW(){return this.C_t}Nz(t){this.mIt=t}Lz(){return this.mIt}Wz(t){this.gIt=t}eCt(){return this.gIt}iCt(){return this.SIt}rCt(){return this.SIt.length}a1t(){return this.tIt}gbt(t){return this.sIt.has(t)}bgt(){return this.K_t}a9(t){return this.Z_t.has(t)}swt(t){return this.iIt[t]}$St(t){return this.eIt[t]}rSt(t){this.dIt.set(t.lSt().toLowerCase(),t)}nSt(t){return!!this.mSt(t)}mSt(t){const s=this.dIt.get(t.toLowerCase());return s&&s.rc()?s:null}nCt(){return this.SIt}hCt(t){if(this.SIt)return this.wIt.get(t.toLowerCase())||null;throw new Error("no animations")}oCt(t){if(this.SIt)return this.bIt.get(t)||null;throw new Error("no animations")}aCt(t){if(this.hCt(t))throw new Error(`animation name '${t}' already exists`);const s=v.c_t.S_t(this.oO(),t);return this.SIt.push(s),this.wIt.set(s.nf().toLowerCase(),s),this.bIt.set(s.m9(),s),s}lCt(t){const s=this.hCt(t);if(!s)throw new Error(`animation name '${t}' does not exist`);if(1===this.SIt.length)throw new Error("cannot remove last animation");const e=this.SIt.indexOf(s);this.SIt.splice(e,1),this.wIt.delete(s.nf().toLowerCase()),this.bIt.delete(s.m9()),s.gn()}uCt(){if(this.SIt)return this.SIt[0];throw new Error("no animations")}cCt(){return this.uCt().x_t(0)}fCt(){if(this.SIt){const t=this.cCt().SW();return[t.Sm(),t.Rm()]}return this.C_t?[this.C_t.Sm(),this.C_t.Rm()]:[100,100]}L5(){if(this.$Mt.m5())return this.eH[0];throw new Error("not a single-global plugin")}Z5(){return this.eH}*instances(){yield*this.eH}*K5(){yield*this.eH,yield*this.mf.bvt(this)}sB(){return this.eH.length}Xz(t){this.eH.push(t)}dCt(){this.MIt=!0}R$(){if(this.MIt&&!this.U_t){let s=this.eH,e=0;for(let t=s.length;e<t;++e)s[e].pCt(e);const t=this.mf.mCt();for(const i of t)i.JL()===this&&i.pCt(e++);this.MIt=!1}}gCt(t){const s=this.eH;if(t<s.length)return s[t];t-=s.length;const e=this.mf.mCt();for(const i of e)if(i.JL()===this){if(0===t)return i;--t}return null}ivt(t){if(t&&t.rN()&&t.JL()!==this)for(const e of t.nN())if(e.JL()===this)return e;const s=this.Q5().Z5();return s.length?s[0]:null}Y5(t){const s=this.Q5().Z5();return 0<s.length?s[t.aN()%s.length]:null}*_vt(t,s){let e=this.Q5().Z5(),i=e.length,r=s.Q5(),n=s.Q5().Z5(),h=n.length,o=t.aN(),a=(!s.o9()&&r.Lft()||(o=n.indexOf(t)),Math.ceil(i/h)),l=i%h,u=0,c;c=0==l||o<l?(u=o*a,a):(u=l*a+(o-l)*(a-1),a-1);for(let t=u,s=u+c;t<s;++t)yield e[t]}_2t(t){this.sTt?._2t(t)}Cyt(){if(this.nIt&&!this.U_t){this.R$();const t=this.Q5(),s=t.Jft(),e=t.Lft(),i=this.mf.zdt(),r=i&&i.Ck()&&i.Ck().s0t();for(const n of this.hIt.I$())if(n!==this){n.R$();const h=n.Q5();if(h.zft(e),!e){const o=h.Jft();v.Vh(o);for(const a of s)o.push(n.gCt(a.aN()));if(r){const l=t.qft(),u=h.qft();v.Vh(u);for(const c of l)u.push(n.gCt(c.aN()))}}}}}P2t(t,s){for(const e of this.jX().I$()){const i=e.Q5();t?v.jh(i.qft(),s):v.jh(i.Jft(),s)}}yCt(){return this.X_t}SCt(t){this.Y_t=!!t}wCt(){if(this.Y_t&&this.fMt){for(const t of this.eH)t.UD().bCt();for(const s of this.mf.mCt())s.JL()===this&&s.UD().bCt();this.Y_t=!1}}vCt(s,t,e){if(t){const i=this.xIt.get(t);i&&(i.delete(s),0===i.size)&&this.xIt.delete(t)}if(e){let t=this.xIt.get(e);t||(t=new Set,this.xIt.set(e,t)),t.add(s)}}xCt(){if(this.o9()){const t=new Set;for(const s of this.K_t)for(const e of s.xCt())t.add(e);return t.values()}return this.xIt.keys()}b2t(){return this.Xwt||(this.Xwt=new Map),this.Xwt}v2t(){return this.$wt||(this.$wt=new Map),this.$wt}MCt(){return this.XIt(v.nlt.solid)}TCt(){return this.XIt(v.nlt.jumpthru)}GCt(){return this.XIt(v.nlt.NoSave)}zz(){return this.XIt(v.nlt.Persist)}Aq(){const t={instances:this.eH.map(t=>t.qb())};return this.Xwt&&this.Xwt.size&&(t.ex=v.Ho(this.Xwt)),t}kq(t,i){this.Xwt&&(this.Xwt.clear(),this.Xwt=null);const s=t.ex,r=(s&&(this.Xwt=v.zo(s)),this.eH),n=t.instances;for(let t=0,s=Math.min(r.length,n.length);t<s;++t)r[t].Xb(n[t]);for(let t=n.length,s=r.length;t<s;++t)this.mf.QL(r[t]);for(let e=r.length,t=n.length;e<t;++e){let t=n[e],s=null;if(!this.y5()||(s=this.mf.wD().FX(t.w.l))){const h=this.mf.Jz(this.mIt||this,s,!1,0,0,!0);h.Xb(t),i&&i.add(h)}}this.EIt=n,this.dCt()}_Ct(){return this.EIt}ICt(){this.EIt=null}CCt(){for(let t=0,s=this.eH;t<s;++t)this.eH[t].CCt()}D5(){return this._It}Sk(){return this.yX}RCt(){return this.IIt}eB(t){this.IIt=t}Q$(t){const s=this.mf,e=s.jN()&&!s.xk().oB();e&&Sa.StartMeasuringScriptTime(),this.yX.dispatchEvent(t),e&&Sa.AddScriptTime()}}}{const ba=self.Ls;ba.ECt=class extends ba.dn{constructor(t,s){super(),this.mf=t,this.PCt=s;for(const e of this.PCt)e.FIt(this)}gn(){this.mf=null}oO(){return this.mf}UX(){return this.PCt}I$(){return this.PCt}P$(){return this.PCt.some(t=>t.y5())}}}{let w=self.Ls,r=self.C3Debugger,h=w.f5,o=[],a=0,b=new WeakMap,i=new WeakMap;w.Instance=class extends w.dn{constructor(t){if(w.f5!==h)throw new Error("invalid addon manager");super(),this.mf=t.runtime,this.FCt=t.zL,this.jst=null,this.ACt=null,this.kCt=null,this.DCt=0,this.OCt=t.uid,this.BCt=a++,this.D2t=0,this.LCt=null;const s=w.ao(t.tags),e=(0<s.length&&(this.LCt=new Set(s)),this.NCt=o,this.WCt=o,this.FCt.QIt()),i=(0<e.length&&(this.WCt=e.map((t,s)=>w.mn(w.UCt,{runtime:this.mf,j6:t,z6:this,index:s}))),this.jCt=this.FCt.rN()?[]:null,this.VCt=-1,this.q_t=null,this.U5());if(i.ob()&&(this.D2t|=4),i.y5())if(this.jst=w.mn(w.HCt,this,t.a4),t.zCt)this.jst.JCt(t.zCt);else{this.jst.qCt();const[r,n]=this.FCt.fCt();this.jst.mC(r,n),this.JL().tCt()&&this.jst.o4().XCt()}t.$Ct?this.YCt(t.$Ct):this.KCt()}gn(){if(this.kCt&&(this.kCt.KL(),this.kCt=null),0<this.WCt.length){for(const e of this.WCt)e.gn();w.Vh(this.WCt)}this.ACt&&(this.ACt.gn(),this.ACt=null);const t=b.get(this),s=(t&&(t.clear(),b.delete(this)),i.get(this));s&&(s.clear(),i.delete(this)),this.jCt&&w.Vh(this.jCt),this.q_t&&(this.q_t.gn(),this.q_t=null),this.LCt&&this.LCt.clear(),this.LCt=null,this.mf=null,this.FCt=null,0<this.NCt.length&&w.Vh(this.NCt),this.jst&&(this.jst.gn(),this.jst=null)}YCt(t){0<t.length&&(this.NCt=[],w.qh(this.NCt,t))}KCt(){const s=this.FCt.OIt();if(0!==s){this.NCt=[];const e=[0,0,""];for(let t=0;t<s;++t)this.NCt.push(e[this.FCt.bet(t)])}}jIt(t,e){if(this.ACt)throw new Error("already got sdk instance");for(let t=0,s=this.WCt.length;t<s;++t){const i=this.WCt[t];i.jIt(e?e[t]:null)}const s=this.U5().p2t();if(s<2){if(this.ACt=w.mn(this.FCt.qIt(),this,t),!(this.ACt instanceof w.QMt))throw new Error("sdk type must derive from SDKInstanceBase");!this.U5().y5()&&this.FCt.RCt()&&this.BD()}else{const r=this.U5().kMt();this.ZCt(r.Instance,t)}}k6(){return this.ACt??this.kCt}UD(){return this.jst}oO(){return this.mf}Yk(){return this.VCt}cN(){const t=this.VCt;return-1===t?this.oO().Yk():t}Kk(t){((t=+t)<0||!isFinite(t))&&(t=0),this.VCt=t,this.JL().tCt()&&this.mf.QCt(this,!0)}dN(){this.VCt=-1,this.JL().tCt()&&this.mf.QCt(this,!1)}xq(){return this.mf.tRt(this)}Xf(){return this.q_t||(this.q_t=w.mn(w.Event.Xf)),this.q_t}_v(t){this.ACt?this.ACt._v(t):this.kCt.NU(this.mf.$O().JIt())}AMt(t){this.ACt.AMt(t)}sRt(){this.D2t|=2}eRt(){return 0!=(2&this.D2t)}iRt(){this.D2t|=1}f8(){return 0!=(1&this.D2t)}ob(){return 0!=(4&this.D2t)||this.ACt.ob()}rRt(){this.D2t|=32}fq(){return 0!=(32&this.D2t)}nRt(){return 0!=(8&this.D2t)}hRt(t){t?this.D2t|=8:this.D2t&=-9}oRt(){return 0!=(16&this.D2t)}aRt(t){t?this.D2t|=16:this.D2t&=-17}lRt(){return 0!=(64&this.D2t)}uRt(t){t?this.D2t|=64:this.D2t&=-65}cRt(t,s){t<<=16,s?this.D2t|=t:this.D2t&=~t}fRt(t){return 0!=(this.D2t&t<<16)}DTt(){return this.ACt.DTt()}OTt(){return this.ACt.OTt()}BTt(){return this.ACt.BTt()}LTt(){return this.ACt.LTt()}WTt(){return this.ACt.WTt()}_bt(t){return this.ACt._bt(t)}JL(){return this.FCt}uq(){return this.ACt.uq()}vvt(t){return t.o9()?t.a9(this.JL()):this.JL()===t}dRt(r,t,s){const e=(t,s)=>{const e=s||t.JL(),i=r.get(e);i?i.add(t):r.set(e,new Set([t]))};if(e(this,t),this.rN())for(const i of this.nN())e(i);if(s)for(const n of this.q4())e(n)}pRt(){if(!this.U5().I5())throw new Error("object does not support scene graph")}Q4(){return null!==this.N4()}N4(){const t=this.UD();if(!t)return null;const s=t.N4();return s?s.aU():null}U4(){const t=this.UD();if(!t)return null;const s=t.U4();return s?s.aU():null}*j4(){const t=this.UD();if(t)for(const s of t.j4())yield s.aU()}mRt(t){if(t)for(const s of this.children())if(s===t)return!0;return!1}Bq(){const t=this.UD();return!!t&&t.Bq()}gRt(t){const s=this.UD();if(!s)return[];const e=t.nf();return s.N$().map(t=>t.aU()).filter(t=>t.JL().nf()===e)}N$(){const t=this.UD();return t?t.N$().map(t=>t.aU()):[]}*children(){const t=this.UD();if(t)for(const s of t.children())yield s.aU()}*q4(){const t=this.UD();if(t)for(const s of t.q4())yield s.aU()}H4(){const t=this.UD();return t?t.H4():0}yRt(){return[...this.j4()].length}Gvt(){const t=this.UD();return t?t.Gvt():0}J4(t){const s=this.UD();if(!s)return null;const e=s.J4(t);return e?e.aU():null}SRt(){const t=this.UD();if(!t)return NaN;const s=t.N4();return s?s.wRt(t):NaN}bRt(t){for(const s of this.UD().N$())if(s.aU().hN()===t)return!0;return!1}Y4(t,s){this.pRt(),t.pRt(),this.UD().Y4(t.UD(),s||{})}K4(t){const s=this.UD();s&&s.K4(t.UD())}S6(){const t=this.UD();return!!t&&t.S6()}p$(){const t=this.UD();if(t){const s=t.vRt();if(s)for(const e of s){const i=this.mf.OD(e[2]);if(i){const r=e[3];this.Y4(i,{s6:!!(r>>0&1),i6:!!(r>>1&1),n6:!!(r>>2&1),o6:!!(r>>3&1),l6:!!(r>>4&1),y6:!!(r>>5&1),c6:!!(r>>6&1),d6:!!(r>>7&1),m6:!!(r>>8&1)})}}}}m$(t,s){const e=t.get(this);if(e)for(const i of e.sceneGraphJson.children){const r=s.get(i.index);if(r){const n=i.flags;this.Y4(r,{s6:!!(n>>0&1),i6:!!(n>>1&1),n6:!!(n>>2&1),o6:!!(n>>3&1),l6:!!(n>>4&1),y6:!!(n>>5&1),c6:!!(n>>6&1),d6:!!(n>>7&1),m6:!!(n>>8&1)})}}}uN(){const t=this.mf.xRt();return t?t.Klt(this):""}rN(){return null!==this.jCt}C$(t){this.jCt.push(t)}eN(){return this.jCt}MRt(t){return!!this.TRt(t)}TRt(t){const s=this.nN();if(null===s||0===s.length)return!1;for(const e of s)if(e.JL()===t)return e;return null}nN(){return this.jCt}Fmt(){for(const t of this.nN())t.JL().Q5().Xft(t)}I2t(){for(const t of this.nN())t.JL().Q5().Vft(t)}C2t(t){for(const s of this.nN())s.JL().Q5().Jft()[t]=s}E2t(){for(const t of this.nN())t.JL().Q5().Hft(t)}R2t(t){for(const s of this.nN())s.JL().Q5().qft()[t]=s}U5(){return this.FCt.U5()}pCt(t){this.DCt=t}aN(){return this.FCt.R$(),this.DCt}hN(){return this.OCt}GRt(){return this.BCt}_Rt(t){t?this.yN(new Set(t)):this.LCt=null}yN(t){if(0===t.size)this.LCt=null;else{this.LCt?this.LCt.clear():this.LCt=new Set;for(const s of t)this.LCt.add(s)}}mN(){return this.LCt??new Set}$vt(){return Array.from(this.mN()).join(" ")}Zvt(t){t=Math.floor(t);for(const s of this.mN()){if(0===t)return s;--t}return""}Vrt(){return this.WCt}IRt(t){if(t)for(const s of this.WCt)if(s.U6()instanceof t)return s;return null}hlt(t){if(!t)return null;const s=this.IRt(t);return s?s.k6():null}jrt(e){const i=this.WCt;for(let t=0,s=i.length;t<s;++t)if(i[t].H6().m9()===e)return t;return-1}CRt(){return this.NCt}KIt(){return this.FCt.KIt()}RRt(){return this.NCt.length}nht(t){const s=this.NCt;if((t|=0)<0||t>=s.length)throw new RangeError("invalid instance variable");return s[t]}qSt(t){return this.NCt[t]}ERt(t){const s=this.NCt[t];return 0===this.FCt.bet(t)?!!s:s}hht(t,s){const e=this.NCt;if((t|=0)<0||t>=e.length)throw new RangeError("invalid instance variable");const i=this.FCt.bet(t);switch(i){case 0:e[t]=s?1:0;break;case 1:e[t]="number"==typeof s?s:parseFloat(s);break;case 2:e[t]="string"==typeof s?s:s.toString();break;default:throw new Error("unknown instance variable type")}}Kht(t,s){if(0!==s){const e=this.NCt;if((t|=0)<0||t>=e.length)throw new RangeError("invalid instance variable");const i=e[t];if("number"!=typeof i)throw"boolean"==typeof i?new Error("can not set offset of boolean variable"):"string"==typeof i?new Error("can not set offset of string variable"):new Error("unknown instance variable type");e[t]+="number"==typeof s?s:parseFloat(s)}}b2t(){let t=b.get(this);return t||(t=new Map,b.set(this,t)),t}v2t(){let t=i.get(this);return t||(t=new Map,i.set(this,t)),t}PRt(t){const s=this.JL();if(s.Sk().Qf(t))return!0;for(const e of s.a1t())if(e.Sk().Qf(t))return!0;return!!this.mf.Sk().Qf(t)}hB(){const t=new Set,s=(t.add(this),this.UD());if(s&&s.Bq())for(const e of this.q4())if(t.add(e),e.rN())for(const i of e.nN())t.add(i);if(this.rN())for(const r of this.nN())t.add(r);for(const n of t.values())n.g$();this.y$()}FRt(){this.FCt.RCt()&&this.BD();for(const t of this.WCt)t.vGt()}ARt(){this.FRt()}g$(){if(this.FRt(),this.PRt("instancecreate")){const t=this.JL(),s=new w.Event("instancecreate");s.z6=this.BD(),t.Q$(s);for(const e of t.a1t())e.Q$(s);this.mf.Q$(s)}this.mf.AN(this.U5().Spt().x$.sxt,this,null)}y$(){if(this.U5().I5()){if(this.Q$(new w.Event("hierarchyready")),this.PRt("hierarchyready")){const t=this.JL(),s=new w.Event("hierarchyready");s.z6=this.BD(),t.Q$(s);for(const e of t.a1t())e.Q$(s);this.mf.Q$(s)}this.mf.AN(this.U5().Spt().x$.Svt,this,null)}}kRt(){this.mf.AN(this.U5().Spt().x$.ixt,this,null)}DRt(t){if(this.kCt){const s=new w.Event("destroy");s.ORt=t,this.Q$(s)}if(this.PRt("instancedestroy")){const e=this.JL(),i=new w.Event("instancedestroy");i.z6=this.BD(),i.ORt=t,e.Q$(i);for(const r of e.a1t())r.Q$(i);this.mf.Q$(i)}}BRt(){return this.ACt?this.ACt.xTt():this.kCt.qN()}qb(t="full",s=null){const e={},i=("full"===t?e.uid=this.hN():e.c3=!0,this.mN());if(0<i.size&&(e.tags=Array.from(i)),"visual-state"!==t){const n=b.get(this);if(n&&n.size&&(e.ex=w.Ho(n)),-1!==this.Yk()&&(e.mts=this.Yk()),0<this.FCt.OIt()){const h={},o=this.FCt.$It();for(let t=0,s=this.NCt.length;t<s;++t)h[o[t].toString()]=this.NCt[t];e.ivs=h}if(this.WCt.length){const a={};for(const l of this.WCt){const u=l.qb(t);u&&(a[l.H6().m9().toString()]=u)}e.behs=a}}this.jst&&(e.w=this.jst.Aq(t,s));const r=this.ACt?this.ACt.qb():this.kCt.XN();return r&&(e.data=r),e}$Y(t="full",s){this.jst&&this.jst.$Y(t)}KY(t,s="full",e=null){this.jst&&this.jst.KY(t,s,e)}LRt(t,s="full",e=null){this.jst&&this.jst.LRt(t,s,e)}CCt(){this.U5().y5()&&this.jst.CCt()}Xb(s,t="full",e){if("full"===t)this.OCt=s.uid;else if(!s.c3)return;if(this._Rt(s.tags),"visual-state"!==t){let t=b.get(this);t&&(t.clear(),b.delete(this));const r=s.ex,n=(r&&(t=w.zo(r),b.set(this,t)),this.VCt=s.hasOwnProperty("mts")?s.mts:-1,s.ivs);if(n)for(const[h,o]of Object.entries(n)){const a=parseInt(h,10),l=this.FCt.YIt(a);if(!(l<0||l>=this.NCt.length)){let t=o;null===t&&(t=NaN),this.NCt[l]=t}}}if(this.U5().y5()){const u=s.w;if(u){const c=u.l;if(this.jst.jD().m9()!==c){const f=this.jst.jD(),d=f.MD().FX(c);d?(this.jst.JD(d),f.Kz(this,!0),d.Xz(this,!0),d.qD(this),this.jst.l4()):"full"===t&&this.mf.QL(this)}this.jst.kq(u,t)}}if("visual-state"!==t){const p=s.behs;if(p)for(const[m,g]of Object.entries(p)){const y=parseInt(m,10),S=this.jrt(y);S<0||S>=this.WCt.length||this.WCt[S].Xb(g,t)}}const i=s.data;i&&(this.ACt?this.ACt.Xb(i,t):this.kCt.$N(i))}BD(){return this.kCt||this.ZCt()}_Tt(){return!!this.kCt}ZCt(t,s){const e=this.jst?t?self.AU:self.R6:t?self.vN:self.HL,i=t||this.ACt.kMt(),r=this.FCt.RCt(),n=r||i||e,h=this.U5().p2t();if(w.f5.BMt(this,h),w.f5.BGt(s),this.kCt=new n,w.f5.LGt(),w.f5.LMt(h),i&&!(this.kCt instanceof e))throw new TypeError(`script interface class '${i.name}' does not extend the right base class '${e.name}'`);if(r){const o=i||e;if(!(this.kCt instanceof o))throw new TypeError(`setInstanceClass(): class '${r.name}' does not extend the right base class - check it extends the right class, e.g. globalThis.InstanceType.MyObjectName`)}return this.kCt}qL(t){if(0!==this.NCt.length){const e={},i=this.FCt.ZIt();for(let t=0,s=i.length;t<s;++t)e[i[t]]={configurable:!1,enumerable:!0,get:w.Instance.prototype.ERt.bind(this,t),set:w.Instance.prototype.hht.bind(this,t)};const s=Object.create(Object.prototype,e);t.NRt={value:s,writable:!1}}}XL(t){const s=this.WCt;if(0!==s.length){const e={};for(const r of s)e[r.H6().s1t()]={value:r.rTt(),writable:!1};const i=Object.create(Object.prototype,e);t.Smt={value:i,writable:!1}}}Q$(t){if(this._Tt()){const s=this.BD(),e=(t.z6=s,this.mf),i=e.jN()&&!e.xk().oB();i&&r.StartMeasuringScriptTime(),s.dispatchEvent(t),i&&r.AddScriptTime()}}}}{const va=self.Ls;va.U$=class extends va.dn{constructor(i){super(),this.sv=i,this.Lmt=null,this.WRt=[],this.URt=i.Sm(),this.jRt=i.Rm(),this.VRt=1,this.HRt=1,this.zRt=0,this.JRt=1,this.qRt=i.X3(),this.XRt=null,this.$Rt=null,this.YRt=NaN,this.KRt=!1,this.Wq=NaN,this.Uq=NaN,this.ZRt=t=>{if(t.z6===this.Lmt.aU()){const s=i.oO(),e=(s.Xf().removeEventListener("instancecreate",this.ZRt),this.Lmt.aU().k6());this.KRt=!!e.Det(),this.Wq=this.KRt?e.ket():NaN,this.Uq=this.KRt?e.Bet():NaN}}}gn(){this.Lmt=null,this.XRt=null,this.$Rt=null,this.YRt=NaN,this.KRt=!1,this.Wq=NaN,this.Uq=NaN,va.Vh(this.WRt)}QRt(t){if(this.JRt=this.sv.X3(),this.qRt=this.JRt,this.Lmt=t,this.zRt=t?t.SB():0,this.Lmt){const s=this.sv,e=s.oO(),i=this.Lmt.aU().U5().p2t();if(i<2){const r=this.Lmt.aU().k6();r?(this.KRt=!!r.Det(),this.Wq=this.KRt?r.ket():NaN,this.Uq=this.KRt?r.Bet():NaN):this.Lmt.aU().f8()||e.Xf().addEventListener("instancecreate",this.ZRt)}else this.KRt=!1,this.Wq=NaN,this.Uq=NaN}else this.KRt=!1,this.Wq=NaN,this.Uq=NaN}N4(){return this.Lmt}Bq(){return 0<this.WRt.length}N$(){return this.WRt}t3t(){this.Bq()&&1!==this.WRt.length&&(this.$Rt?this.WRt.sort((t,s)=>{const e=this.$Rt.get(t.aU()),i=this.$Rt.get(s.aU());return va.fi(e)&&va.fi(i)?e-i:0}):this.WRt.sort((t,s)=>{const e=t.ght().s3t(),i=s.ght().s3t();return va.fi(e)&&va.fi(i)?e-i:0}))}s3t(){return this.YRt}yht(){return this.VRt}e3t(t){this.VRt=t}wht(){return this.HRt}i3t(t){this.HRt=t}Iht(){return this.qRt}Xbt(){return this.JRt}r3t(t){this.JRt=t}mht(){return 0===this.URt?Number.EPSILON:this.URt}Sht(){return 0===this.jRt?Number.EPSILON:this.jRt}n3t(){if(this.sv.h6()){let t=this.Lmt,s=t.Sm(),e=t.ght().mht();return 0===s&&(s=Number.EPSILON),e===Number.EPSILON&&s===Number.EPSILON?1:e===Number.EPSILON&&s!==Number.EPSILON&&this.KRt?1+s/this.Wq:s/e}return 1}h3t(){if(this.sv.a6()){let t=this.Lmt,s=t.Rm(),e=t.ght().Sht();return 0===s&&(s=Number.EPSILON),e===Number.EPSILON&&s===Number.EPSILON?1:e===Number.EPSILON&&s!==Number.EPSILON&&this.KRt?1+s/this.Uq:s/e}return 1}o3t(){return 0}a3t(){return{sw:this.URt,sh:this.jRt,sx:this.VRt,sy:this.HRt,psa:this.zRt,oo:this.JRt,so:this.qRt,pi:this.sv.aU().SRt()}}Aq(t,s=null){const e=this.a3t();return s&&s.selfOnly?Object.assign(e,{p:null,c:[]}):Object.assign(e,{p:this.l3t(t),c:this.u3t(t)})}c3t(t){let s="";return t.e6()&&(s+="x"),t.r6()&&(s+="y"),t.h6()&&(s+="w"),t.a6()&&(s+="h"),t.u6()&&(s+="a"),t.f6()&&(s+="z"),t.S6()&&(s+="d"),t.p6()&&(s+="o"),t.g6()&&(s+="v"),s}l3t(t){return this.Lmt&&this.Lmt.aU()&&!this.Lmt.aU().f8()?this.f3t(this.Lmt,this.sv,t):null}u3t(s){return this.WRt.map(t=>this.f3t(t,t,s)).filter(t=>t)}f3t(t,s,e){const i=t.aU();if(i&&i.f8())return null;const r={};return r.uid=i.hN(),r.f=this.c3t(s),r.offsets=s.d3t(),r.data=va.U$.p3t(i),r.oci=i.JL().UA(),"state"===e?(r.inst=i.qb("full",{selfOnly:!0}),r.instIndex=NaN):(r.instIndex=i.JL().Z5().indexOf(i),r.inst=null),r}kq(t){this.URt=t.sw,this.jRt=t.sh,this.VRt=t.sx,this.HRt=t.sy,this.zRt=t.psa,this.JRt=t.oo,this.qRt=t.so,this.YRt=va.fi(t.pi)?t.pi:NaN}m3t(t,s){if(!t&&!s&&this.XRt)for(const e of this.XRt)e.f8()||e.Q4()||e.oO().QL(e);this.XRt=t,this.$Rt=s}KY(t,s){const e=this.sv,i=e.oO(),r=new Set;if(t.p&&!this.Lmt){const o=t.p.uid,a=i.OD(o);if(s?.fxt,a){const l=a.UD();if(a.mRt(e.aU()))this.Lmt=l;else{a.bRt(e.aU().hN())?i.QL(e.aU()):a.Y4(e.aU(),this.g3t(t.p.f)),r.has(e)||(e.y3t(t.p.offsets),this.S3t(a,t.p,s)),r.add(e);const u=a.UD();u.ght().t3t()}}else if(va.fi(t.p.oci)){const c=i.Oz(t.p.oci),f=(i.v7(),i.iB(c,e.jD(),0,0,!0));if(s?.fxt,f){const d=this.w3t(t.p,i),p=(d&&f.Xb(d),f.UD()),m=(p.jD().rB(f),f.Y4(e.aU(),this.g3t(t.p.f)),f.UD());m.ght().t3t()}}}const n=[];for(const g of t.c){const y=g.uid,S=i.OD(y);S&&n.push(S)}let h=0;for(const w of t.c){const b=w.uid,v=i.OD(b);if(s?.fxt,v){if(this.XRt){if(this.XRt.includes(v)){const G=v;if(G.JL()!==v.JL()){h++;continue}if(G.f8()){h++;continue}const _=t.c[h];if(!s?.fxt&&this.b3t(G,n,e)){this.v3t(h,_,e,r,s),h++;continue}if(G.Q4()&&G.N4()!==e.aU()){const I=this.x3t(_,s);this.M3t(I,_,r,s),h++;continue}this.M3t(G.UD(),_,r,s,!0),h++;continue}if(this.XRt[h]){const C=this.XRt[h];if(C.JL()!==v.JL()){h++;continue}if(C.f8()){h++;continue}const R=t.c[h];if(!s?.fxt&&this.b3t(C,n,e)){this.v3t(h,R,e,r,s),h++;continue}if(C.Q4()&&C.N4()!==e.aU()){const E=this.x3t(R,s);this.M3t(E,R,r,s),h++;continue}this.M3t(C.UD(),R,r,s,!0),h++;continue}}const x=v.JL(),M=this.T3t(n,x),T=e.aU().gRt(x).length;if(M===T){const P=e.aU().J4(h);if(P){const F=P.UD();F&&(r.has(F)||(F.y3t(w.offsets),this.S3t(P,w,s)),r.add(F))}h++;continue}if(v.Q4()&&v.N4()!==e.aU()){const A=this.x3t(w,s);this.M3t(A,w,r,s),h++;continue}this.M3t(v.UD(),w,r,s)}else if(this.XRt&&this.XRt[h]){const k=this.XRt[h],O=i.Oz(this.G3t(w));if(k.JL()!==O){h++;continue}if(k.f8()){h++;continue}const D=t.c[h];if(!s?.fxt&&this.b3t(k,n,e)){this.v3t(h,D,e,r,s),h++;continue}if(k.Q4()&&k.N4()!==e.aU()){const B=this.x3t(D,s);this.M3t(B,D,r,s),h++;continue}this.M3t(k.UD(),D,r,s)}else{const L=this.x3t(w,s);this.M3t(L,w,r,s)}h++}}b3t(t,s,e){const i=t.JL(),r=this.T3t(s,i),n=e.aU().gRt(i).length;return r===n}v3t(t,s,e,i,r){const n=e.aU().J4(t,s);if(n){const h=n.UD();h&&(i.has(h)||(h.y3t(s.offsets),this.S3t(n,s,r)),i.add(h))}}g3t(t){const s={};return s.s6=t.includes("x"),s.i6=t.includes("y"),s.n6=t.includes("w"),s.o6=t.includes("h"),s.l6=t.includes("a"),s.c6=t.includes("z"),s.y6=t.includes("d"),s.d6=t.includes("o"),s.m6=t.includes("v"),s}G3t(t){return va.fi(t.oci)?t.oci:t[1]}x3t(i,r){if(va.fi(i.oci)){let t=this.sv,s=t.oO(),e;if(i.data)e=s.Jz(i.data,t.jD(),!1,0,0,!1,!0);else{const n=s.Oz(i.oci);e=s.iB(n,t.jD(),0,0,!0)}if(r?.fxt,e){const h=this.w3t(i,s),o=(h&&e.Xb(h),e.UD());return o.jD().rB(e,!0),o}}}M3t(t,s,e,i,r=!0){const n=this.sv,h=n.Y4(t,this.g3t(s.f));h&&r&&(e.has(t)||(t.y3t(s.offsets),this.S3t(t.aU(),s,i)),e.add(t)),this.t3t()}S3t(t,s,e){let i=this.w3t(s,this.sv.oO());i&&((i=JSON.parse(JSON.stringify(i))).w=null,t.Xb(i))}T3t(t,s){return t.filter(t=>t.JL().nf()===s.nf()).length}w3t(t,s){if(va.fi(t.instIndex)){const e=s.Oz(t.oci),i=e._Ct();return i?i[t.instIndex]:null}return va.xi(t.inst)?JSON.parse(t.inst):t.inst||void 0}static p3t(t){let s=t.UD().jD().Uz(t.hN());if(!s)return null;s=JSON.parse(JSON.stringify(s));const e=[];for(const i of[...t.N$()]){const r=i.UD();e.push([r.MD().m9(),r.jD().UA(),i.hN(),va.U$.W$(r),i.JL().rN()?1:0,r.VD(),va.U$.p3t(i)])}return va.Bi(s[0][14])?s[0][14][1]=e:(s[0][14]=[],s[0][14][0]=va.U$._3t(),s[0][14][1]=e,s[0][14][2]=t.UD().VD()),s}static W$(t){let s=0;return(s|=Number(t.g6())<<8)|Number(t.p6())<<7|Number(t.f6())<<6|Number(t.S6())<<5|Number(t.u6())<<4|Number(t.a6())<<3|Number(t.h6())<<2|Number(t.r6())<<1|Number(t.e6())<<0}static _3t(t){let s=0;return s,511}}}{let d=self.Ls,t=self.vs,n=(t.Rs,d.mn(d.Rect)),h=d.mn(d.nu),s=d.mn(d.Event,"bboxchange",!1),f=d.mn(d.$o,0,0,0,0),u=d.mn(d.Nu),e=d.mn(d.$o,1,1,1,1),o=d.mn(d.Rect,0,0,-1,-1),r=d.mn(d.Rect,0,0,-1,-1),p=new Set(["absolute","relative"]),i=[],m=!0,g=new WeakMap,a=new WeakMap;d.HCt=class extends d.dn{constructor(t,s){super(),this._e=t,this._ft=t.JL(),this.mf=t.oO(),this.I3t=s,this._ft.vCt(this,null,s),this.C3t=-1,this.R3t=-1,this.D2t=196635,this._ft.U5().v5()&&(this.D2t|=128),this.hl=NaN,this.ol=NaN,this.vb=NaN,this.E3t=NaN,this.P3t=NaN,this.Wx=NaN,this.Qo=NaN,this.F3t=NaN,this.A3t=NaN,this.k3t=NaN,this.D3t=NaN,this.O3t=d.mn(d.Rect),this.B3t=d.mn(d.nu),this.L3t=r,this.N3t=o,this.W3t=null,this.U3t=null,this.j3t=null,this.bb=e,this.V3t=e,this.H3t=null,this.z3t=null,this._e.JL().tCt()&&(this.z3t=d.mn(d.J3t,this._e,this)),this.q3t=null,this.XRt=null,this.$Rt=null,this.X3t=-1,this.$3t=null}iRt(){this.D2t|=256}gn(){if(this._ft.vCt(this,this.I3t,null),this.H3t&&(this.mf.eb().cw(this.H3t),this.H3t=null),this.W3t=null,this.U3t&&(this.U3t.Y3t.gn(),this.U3t=null),this.j3t&&(this.j3t.clear(),this.j3t=null),this.x6(),this.z3t&&this.z3t.gn(),this.Q4()&&this.N4().K4(this),this.Bq()){const t=[...this.N$()];for(const s of t)this.K4(s)}this.K3t(),this.Z3t(),g.delete(this),a.delete(this),this._e=null,this._ft=null,this.mf=null,this.I3t=null}JCt(t){if(m=!1,this.u4(t[0],t[1]),this.Wb(t[2]),this.mC(t[3],t[4]),this.Wx=0,this.v5()?this.yB(t[6]):this.Qo=0,f.$a(t[7]),this.Q3t(f),this.Rht(t[8]),this.Pht(t[9]),this.Mb(t[10]),this.z3t&&this.z3t.tEt(t[12]),t[14]&&g.set(this,{sEt:t[14][1],eEt:t[14][2]}),t[15]){const s=t[15],i=(this.b6(s[0],s[1]),this.I6()),r=s[2];for(let e=0,t=r.length;e<t;++e){const n=r[e];for(let t=0,s=n.length;t<s;++t){const h=n[t],o=i.Tv(t,e);o.Db(h[0]),o.Lb(h[1]),o.Wb(h[2]),o.jb(h[3]),o.Hb(h[4])}}}if(t[16]){const e=t[16][0],a=t[16][1],l=!!a,u=!l,c=this.mf.xRt();l&&c&&c.Ylt(this.aU(),a),u&&c&&c.Ylt(this.aU(),e)}m=!0,this.iEt()}qCt(){this.hl=0,this.ol=0,this.vb=0,this.E3t=0,this.P3t=0,this.Wx=0,this.Qo=0,this.F3t=0,this.A3t=1,this.k3t=0,this.D3t=0,this.iEt()}oO(){return this.mf}JL(){return this._ft}aU(){return this._e}rEt(){return this.u6()?this.nEt(this.N4().hEt()-this.q3t.o3t()):0}Db(t){if(t=+t,this.e6()){const s=this.q3t,e=t-this.kb(),i=-this.rEt();0==i?this.hl+=e/s.n3t():(this.hl+=Math.cos(i)*e/s.n3t(),this.r6()&&(this.ol+=Math.sin(i)*e/s.h3t()))}else this.hl=t}cht(t,s=!1){t=+t,!s&&this.e6()?this.Db(this.kb()+t):this.hl+=t}kb(){if(this.e6()){let t=this.hl,s=this.q3t,e=this.N4(),i=this.rEt();return 0===i?t*=s.n3t():(t=t*s.n3t()*Math.cos(i),this.r6()&&(t-=this.ol*s.h3t()*Math.sin(i))),e.kb()+t}return this.hl}Lb(t){if(t=+t,this.r6()){const s=this.q3t,e=t-this.Bb(),i=-this.rEt();0==i?this.ol+=e/s.h3t():(this.e6()&&(this.hl-=Math.sin(i)*e/s.n3t()),this.ol+=Math.cos(i)*e/s.h3t())}else this.ol=t}fht(t,s=!1){t=+t,!s&&this.r6()?this.Lb(this.Bb()+t):this.ol+=t}Bb(){if(this.r6()){let t=this.ol,s=this.q3t,e=this.N4(),i=this.rEt();return 0===i?t*=s.h3t():(t=t*s.h3t()*Math.cos(i),this.e6()&&(t+=this.hl*s.n3t()*Math.sin(i))),e.Bb()+t}return this.ol}u4(t,s){if(t=+t,s=+s,this.oEt()){const e=this.e6(),i=this.r6(),r=this.q3t,n=t-this.kb(),h=s-this.Bb(),o=-this.rEt();if(0==o)e?this.hl+=n/r.n3t():this.hl=t,i?this.ol+=h/r.h3t():this.ol=s;else{const a=Math.sin(o),l=Math.cos(o);e?this.hl+=i?(l*n-a*h)/r.n3t():l*n/r.n3t():this.hl=t,i?this.ol+=e?(a*n+l*h)/r.h3t():l*h/r.h3t():this.ol=s}}else this.hl=t,this.ol=s}aEt(){return[this.kb(),this.Bb()]}d4(t,s){t=+t,s=+s,this.oEt()?this.u4(this.kb()+t,this.Bb()+s):(this.hl+=t,this.ol+=s)}Tbt(t,s){return this.kb()===t&&this.Bb()===s}Wb(t){if(t=+t,this.f6()&&(t-=this.N4().Nb()),this.vb!==t){this.vb=t,this.lEt();const s=this.jD();0!==this.vb&&s.t9(),s.qD(this)}}lEt(){if(this.iEt(),this.Bq()){const e=this.N$();for(let t=0,s=e.length;t<s;t++){const i=e[t];i.f6()&&i.lEt()}}}Fht(t){this.Wb(this.Nb()+t)}Nb(){return this.f6()?this.N4().Nb()+this.vb:this.vb}g4(){return this.jD().Nb()+this.Nb()}Det(){const t=this.aU().U5().p2t();return t<2&&this.aU().k6().Det()}_m(t){if(t=+t,this.h6()){const s=this.Sm();0===s?this.E3t=Number.EPSILON:this.E3t*=t/s}else this.E3t=t;this.uEt()}Km(t,s){t=+t,!s&&this.h6()?this._m(this.Sm()+t):this.E3t+=t,this.uEt()}Sm(){if(this.h6()){const t=this.N4(),s=t.Sm(),e=t.ght().mht();return e===Number.EPSILON?(this.ght().mht()+s)*this.E3t:s*this.E3t}return this.E3t}wm(t){if(t=+t,this.a6()){const s=this.Rm();0===s?this.P3t=Number.EPSILON:this.P3t*=t/s}else this.P3t=t;this.uEt()}bht(t,s){t=+t,!s&&this.a6()?this.wm(this.Rm()+t):this.P3t+=t,this.uEt()}Rm(){if(this.a6()){const t=this.N4(),s=t.Rm(),e=t.ght().Sht();return e===Number.EPSILON?(this.ght().Sht()+s)*this.P3t:s*this.P3t}return this.P3t}mC(t,s){if(t=+t,s=+s,this.h6()){const e=this.Sm();0===e?this.E3t=Number.EPSILON:this.E3t*=t/e}else this.E3t=t;if(this.a6()){const i=this.Rm();0===i?this.P3t=Number.EPSILON:this.P3t*=s/i}else this.P3t=s;this.uEt()}cc(){return[this.Sm(),this.Rm()]}cq(){return this.Wx}cEt(t){if(t<0)throw new RangeError("invalid depth");this.Wx=t}fEt(){if(this.Q4()){const t=this.q3t;return Math.min(t.n3t(),t.h3t())}return 1}v5(){return 0!=(128&this.D2t)}yB(t){t=+t,this.v5()&&(this.u6()&&(t-=this.N4().SB()),t=d.xn(t),this.Qo!==t)&&(this.Qo=t,this.uEt())}vht(t){0!=(t=+t)&&this.v5()&&(this.Qo=d.xn(this.Qo+t),this.uEt())}uEt(){if(this.D2t|=1<<18,this.Bq()){const e=this.N$();for(let t=0,s=e.length;t<s;t++)e[t].uEt()}}SB(){return this.u6()&&this.v5()?this.nEt(d.xn(this.N4().hEt()+this.Qo)):this.Qo}hEt(){return this.u6()&&this.v5()?d.xn(this.N4().hEt()+this.Qo):this.Qo}nEt(t){return this.h6()&&this.U4().Sm()<0&&(t=d.xn(d.On(t,this.U4().SB()+Math.PI))),this.a6()&&this.U4().Rm()<0?d.On(t,this.U4().SB()):t}dEt(){const t=this.N4();return!!(this.h6()&&t.Sm()<0)||!!(this.a6()&&t.Rm()<0)}pEt(){const t=this.N4();return!!(this.h6()&&t.Sm()<0&&this.a6()&&t.Rm()<0)}mEt(){const t=this.D2t;if(0!=(t&1<<18)){const s=this.SB();this.F3t=Math.sin(s),this.A3t=Math.cos(s),this.D2t=-262145&t}}Rbt(){return this.mEt(),this.F3t}Cbt(){return this.mEt(),this.A3t}Rht(t){this.k3t=+t}Cht(t){this.k3t+=+t}vW(){return this.k3t}Pht(t){this.D3t=+t}Eht(t){this.D3t+=+t}MW(){return this.D3t}Q3t(t){this.bb.equals(t)||(this.bb===e?(this.bb=d.mn(d.$o,t),this.V3t=d.mn(d.$o,t),this.V3t.Ca()):t.Ta(1,1,1,1)?(this.bb=e,this.V3t=e):(this.bb.set(t),this.V3t.set(t),this.V3t.Ca()),this.iEt())}K3(t){if(t=d.vn(+t,0,1),this.p6()){if(this.ght().Xbt()===t)return;this.ght().r3t(t),t=this.X3()}else if(this.bb.a===t)return;this.gEt(t)}yEt(){if(this.Bq()){const e=this.N$();for(let t=0,s=e.length;t<s;t++){const i=e[t];i.gEt(i.X3())}}}gEt(t){f.ua(this.bb),f.a=t,this.Q3t(f),this.yEt()}Tht(t){this.p6()?this.K3(this.ght().Xbt()+t):this.K3(this.X3()+t)}X3(){return this.p6()?this.N4().X3()*this.ght().Xbt():this.bb.a}G4(t){this.bb.xa(t)||(f.ua(t),f.a=this.X3(),this.Q3t(f))}iht(t,s,e){f.ea(t,s,e),this.G4(f)}SEt(t,s,e){0===t&&0===s&&0===e||(f.ua(this.bb),f.r+=t,f.g+=s,f.b+=e,this.G4(f))}T4(){return this.bb}bz(){return this.V3t}S6(){return 0!=(512&this.D2t)}wEt(t){this.bEt(512,t)}e6(){return 0!=(1024&this.D2t)}vEt(t){this.bEt(1024,t)}r6(){return 0!=(2048&this.D2t)}oEt(){return 0!=(3072&this.D2t)}xEt(t){this.bEt(2048,t)}h6(){return 0!=(4096&this.D2t)}MEt(t){this.bEt(4096,t)}a6(){return 0!=(8192&this.D2t)}TEt(t){this.bEt(8192,t)}u6(){return 0!=(16384&this.D2t)}GEt(t){this.bEt(16384,t)}f6(){return 0!=(32768&this.D2t)}_Et(t){this.bEt(32768,t)}p6(){return 0!=(this.D2t&1<<22)}IEt(t){this.bEt(1<<22,t)}g6(){return 0!=(this.D2t&1<<23)}CEt(t){this.bEt(1<<23,t)}REt(){this.D2t&=-12647937}Y4(t,s){if(t===this)return!1;if(t.Q4())return!1;if(this.EEt(t))return!1;if(this.PEt(t))return!1;const e=t.kb(),i=t.Bb(),r=t.Sm(),n=t.Rm(),h=t.SB(),o=t.Nb(),a=t.X3(),l=(t.FEt(this),t.vEt(s.s6),t.xEt(s.i6),t.MEt(s.n6),t.TEt(s.o6),t.GEt(s.l6),t._Et(s.c6),t.IEt(s.d6),t.CEt(s.m6),t.wEt(s.y6),e-this.kb()),u=i-this.Bb(),c=-this.SB(),f=Math.cos(c),d=Math.sin(c);if(s.s6&&(s.l6?t.hl=l*f-u*d:t.hl=l,s.n6)){const p=this.Sm()/this.q3t.mht();0!=p&&(t.hl/=p)}if(s.i6&&(s.l6?t.ol=l*d+u*f:t.ol=u,s.o6)){const m=this.Rm()/this.q3t.Sht();0!=m&&(t.ol/=m)}if(s.n6){const g=this.Sm();0===g||g===Number.EPSILON?(t.E3t=1,t.q3t.e3t(1)):(t.E3t=r/this.Sm(),t.q3t.e3t(t.E3t))}if(s.o6){const y=this.Rm();0===y||y===Number.EPSILON?(t.P3t=1,t.q3t.i3t(1)):(t.P3t=n/this.Rm(),t.q3t.i3t(t.P3t))}return s.l6&&(t.Qo=h-this.SB()),s.c6&&(t.vb=o-this.Nb()),s.d6&&t.q3t.r3t(a),s.m6&&t.sL(this.iL()),this.AEt(t),this.l4(),this.yEt(),!0}K4(t){if(t.N4()===this){const s=t.kb(),e=t.Bb(),i=t.Sm(),r=t.Rm(),n=t.SB(),h=t.Nb(),o=t.X3();t.FEt(null),t.REt(),t.u4(s,e),t.mC(i,r),t.yB(n),t.Wb(h),t.K3(o),this.kEt(t),this.l4()}}DEt(){return this.X3t}OEt(){this.BEt();const t=[...this.children()];for(const e of t)this.K4(e);const s=this.N4();s&&s.K4(this),this.REt()}BEt(){if(this.LEt(),!this.XRt){const s=[...this.children()];s.length&&(this.XRt=[],this.$Rt=new WeakMap);let t=0;for(const e of s){const i=e.aU();this.XRt.push(i),this.$Rt.set(i,t),t++}}const t=this.N4();t&&t.BEt()}LEt(){if(-1===this.X3t){const t=[...this.j4()];this.X3t=t.length;for(const e of t)e.LEt();const s=[...this.children()];for(const i of s)i.LEt()}}Z3t(){this.XRt&&(this.XRt.length=0),this.XRt=null,this.$Rt=null;const t=this.N4();t&&t.Z3t(),this.X3t=-1}Q4(){return null!==this.N4()}N4(){const t=this.q3t;return null!==t?t.N4():null}U4(){let t=this;for(;t.Q4();)t=t.N4();return t}*j4(){let t=this.N4();for(;t;)yield t,t=t.N4()}mRt(t){return this.N$().includes(t)}Bq(){const t=this.q3t;return null!==t&&t.Bq()}N$(){const t=this.q3t;return null!==t?t.N$():i}children(){return this.N$()}*q4(){for(const t of this.children())yield t,yield*t.q4()}H4(){return this.N$().length}Gvt(){return[...this.q4()].length}J4(t){const s=this.N$();return(t=Math.floor(+t))<0||t>=s.length?null:s[t]}wRt(s){if(s){const e=this.N$();if(e)for(let t=0;t<e.length;t++)if(s===e[t])return t}return NaN}NEt(t){this.q3t||(this.q3t=d.mn(d.U$,this)),t&&this.q3t.QRt(t)}ght(){return this.q3t}K3t(){this.q3t&&(this.q3t.gn(),this.q3t=null)}FEt(t){t?(t.NEt(null),this.NEt(t)):(this.q3t&&this.q3t.QRt(null),this.Bq()||this.K3t())}PEt(t){if(!this.Q4())return!1;const s=this.N4();return s===t||s.PEt(t)}EEt(t){if(this.mRt(t))return!0;for(const s of this.N$())if(s.EEt(t))return!0;return!1}AEt(t){this.q3t.N$().push(t)}kEt(t){const s=this.q3t.N$(),e=s.indexOf(t);-1!==e&&s.splice(e,1),0!==s.length||this.Q4()||this.K3t(),t.Bq()||t.K3t()}vRt(){const t=g.get(this);return t?t.sEt:null}WEt(){const t=g.get(this);return t?t.eEt:NaN}Oq(){const t=a.get(this);return d.fi(t)?t:NaN}UEt(t){a.set(this,t)}jEt(){this.bEt(1<<19,!0),this.iEt()}iEt(){if(m){const s=this.mf.eb();this.H3t&&s.cw(this.H3t);let t;t=0!=(this.D2t&1<<19)?s.HS()||"<point>":s.US()||"<default>",this.H3t=s.ow(t,this.IL(),this.V3t,this.Nb())}}wq(){return this.H3t}w9(){return this.bb===e}Mb(t){if((t|=0)<0||31<t)throw new RangeError("invalid blend mode");this.IL()!==t&&(this.D2t=this.D2t&~(31<<26)|t<<26,this.iEt())}IL(){return(this.D2t&31<<26)>>26}JD(t,s){const e=s&&this.I3t!==t;e&&this.Zz(),this._ft.vCt(this,this.I3t,t),this.I3t=t,e&&this.VEt(),0!==this.Nb()&&this.I3t.t9()}jD(){return this.I3t}MD(){return this.jD().MD()}e9(t){this.C3t=0|t}VD(){return this.I3t.fJ(),this.C3t}gJ(t){this.R3t=0|t}h8(){return this.I3t.pJ(),this.R3t}Q7(){return this.C3t}bEt(t,s){s?this.D2t|=t:this.D2t&=~t}iL(){return 0!=(1&this.D2t)}sL(t){if(this.bEt(1,t),this.Bq())for(const s of this.N$())s.g6()&&s.sL(t)}O4(){return 0!=(8&this.D2t)}B4(t){t=!!t,this.O4()!==t&&(this.bEt(8,t),t?this.l4():this.HEt())}zEt(t,s){if(this.bEt(32,t),this.j3t&&this.j3t.clear(),s.trim()){this.j3t||(this.j3t=new Set);for(const e of s.split(" "))e&&this.j3t.add(e.toLowerCase())}else this.j3t=null}JEt(t){const s=0!=(32&this.D2t),e=this.j3t;if(t&&e)for(const i of e)if(t.has(i))return s;return!s}l4(){if(this.D2t|=65554,this._ft.SCt(!0),this.mf.XD(),this.I3t.Fz()&&(this.qEt(this.O3t,this.B3t,!0),this.D2t&=-3,this.VEt()),0!=(4&this.D2t)&&this._e.Xf().dispatchEvent(s),null!==this.q3t){const e=this.q3t.N$();for(let t=0,s=e.length;t<s;++t)e[t].l4()}}qEt(t,s,e){const i=this.kb(),r=this.Bb(),n=this.Sm(),h=this.Rm(),o=this.SB();t.vl(i-this.k3t*n,r-this.D3t*h,n,h),e&&this._6()&&this.XEt(t),0===o?s._u(t):(t.offset(-i,-r),s.Cu(t,this.Rbt(),this.Cbt()),s.offset(i,r),s.Ru(t)),t.normalize()}$Et(){const t=this.D2t;0!=(2&t)&&(this.qEt(this.O3t,this.B3t,!0),this.D2t=-3&t)}S4(){return this.$Et(),this.O3t}b4(){return this.$Et(),this.B3t}YEt(t){const s=this.kb(),e=this.Bb(),i=Math.round(s)-s,r=Math.round(e)-e;return 0==i&&0==r?t:(h.I(t),h.offset(i,r),h)}KEt(t){this.O3t.I(t),this.B3t._u(this.O3t),this.D2t&=-3,this.bCt(),this.VEt()}ZEt(t){this.bEt(4,t)}QEt(){return 0!=(4&this.D2t)}hq(t,s,e){return s&&0!==this.cq()?this.lq(this.jD().aq()):0===this.Nb()||e?t.Ql(this.S4()):this.tPt()}tPt(){const t=this.jD(),s=this.g4();return!(s>=t.B9())&&(t.D9(s,n),n.Ql(this.S4()))}lq(t){const s=this.S4(),e=s.Rl(),i=s.Pl(),r=s.El(),n=s.Fl(),h=this.g4(),o=h+this.cq();return t.Cy(e,r,h,i,n,o)}x4(){const t=this.jD();if(t.Y9())return this.lq(t.aq());{const s=t.MD();return this.hq(t.PL(),s.nq(),s.JB())}}gq(t){this.bEt(1<<20,t)}mq(t){this.bEt(1<<21,t)}sPt(){return 0!=(this.D2t&1<<20)}ePt(){return 0!=(this.D2t&1<<21)}iPt(t){this.W3t=t,this.rPt(),this._6()&&(this.$3t.nPt=null)}hPt(){return this.W3t}oPt(){return null!==this.W3t||this._6()}aPt(){return this.lPt(this.Sm(),this.Rm(),this.SB(),this.Rbt(),this.Cbt())}uPt(t,s,e){let i=0,r=1;return 0!==e&&(i=Math.sin(e),r=Math.cos(e)),this.lPt(t,s,e,i,r)}lPt(r,n,t,h,o){let s=this.U3t;null===s&&(s={Y3t:d.mn(d.Nu),width:NaN,height:NaN,angle:NaN},this.U3t=s);const a=s.Y3t;if(s.width!==r||s.height!==n||s.angle!==t){const l=this.W3t;if(this._6()){let t=this.vW(),s=this.MW(),e=this.I6(),i=this.$3t.nPt;i||(l?(u.I(l),u.offset(t,s)):u.qu(),i=e.Cv(u),this.$3t.nPt=i),e.Rv(i,a),a.offset(-t,-s),a.Ku(r,n,h,o)}else l?(a.I(l),a.Ku(r,n,h,o)):a.Yu(this.b4(),-this.kb(),-this.Bb());s.width=r,s.height=n,s.angle=t}return a}rPt(){this.cPt(!0);const t=this.U3t;null!==t&&(t.width=NaN)}b6(t,s){if(t=Math.floor(t),s=Math.floor(s),!this.aU().U5().R5())throw new Error("object does not support mesh");this.x6(),this.$3t={fPt:d.mn(d.gy.Zb,t,s),dPt:d.mn(d.gy.Zb,t,s),nPt:null}}_6(){return null!==this.$3t}I6(){if(this._6())return this.$3t.fPt;throw new Error("no mesh")}pPt(){if(this._6())return this.$3t.dPt;throw new Error("no mesh")}mPt(t){this.bEt(65536,t)}gPt(){return 0!=(65536&this.D2t)}cPt(t){this.bEt(1<<17,t)}yPt(){return 0!=(this.D2t&1<<17)}XEt(t){const s=this.$3t.fPt,e=Math.min(s.Sv(),0),i=Math.min(s.wv(),0),r=Math.max(s.bv(),1),n=Math.max(s.vv(),1),h=t.width(),o=t.height();t.offsetLeft(e*h),t.offsetTop(i*o),t.Nl((r-1)*h),t.Wl((n-1)*o),this.Wx=s.xv()}x6(){this.$3t&&(this.$3t.fPt.gn(),this.$3t.dPt.gn(),this.$3t=null,this.rPt())}T6(t,s,e){t=Math.floor(t),s=Math.floor(s);const i=e.mode||"absolute";if(!p.has(i))throw new Error("invalid mode");let r="relative"===i,n=e.x,h=e.y,o=e.bL,a="number"==typeof e.u?e.u:r?0:-1,l="number"==typeof e.v?e.v:r?0:-1;if(!this._6())return!1;const u=this.I6(),c=u.Tv(t,s);if(null===c)return!1;let f=!1;return"number"==typeof o&&c.Nb()!==o&&(c.Wb(o),f=!0),r&&(n+=t/(u.cv()-1),h+=s/(u.dv()-1)),a=-1!==a||r?(r&&(a+=t/(u.cv()-1)),d.vn(a,0,1)):c.Ub(),l=-1!==l||r?(r&&(l+=s/(u.dv()-1)),d.vn(l,0,1)):c.Vb(),c.kb()===n&&c.Bb()===h&&c.Ub()===a&&c.Vb()===l?f:(c.Db(n),c.Lb(h),c.jb(a),c.Hb(l),this.rPt(),!0)}eRt(){return this._e.eRt()}L4(t,s){return!!this.S4().su(t,s)&&!!this.b4().su(t,s)&&(this.eRt()?this._e.k6().jTt(t,s):!this.oPt()||this.aPt().su(t-this.kb(),s-this.Bb()))}SPt(){return 0!=(16&this.D2t)}bCt(){if(this.SPt()&&this.O4()&&0==(256&this.D2t)){const t=this.S4(),s=this._ft.yCt(),e=this.L3t;if(n.set(s.gH(t.Rl()),s.yH(t.El()),s.gH(t.Pl()),s.yH(t.Fl())),!e.equals(n)){const i=this._e;e===r?(s.SH(i,null,n),this.L3t=d.mn(d.Rect,n)):(s.SH(i,e,n),e.I(n)),this.D2t&=-17}}}wPt(){this.D2t|=16}HEt(){const t=this.L3t;t!==r&&(this._ft.yCt().SH(this._e,t,null),this.L3t=r)}VEt(){const t=this.jD();if(t.Fz()&&0==(256&this.D2t)){const s=t.v9(),e=this.S4(),i=this.N3t;if(n.set(s.gH(e.Rl()),s.yH(e.El()),s.gH(e.Pl()),s.yH(e.Fl())),!i.equals(n)){const r=this._e;i===o?(s.SH(r,null,n),this.N3t=d.mn(d.Rect,n)):(s.SH(r,i,n),i.I(n)),t.x9()}}}Zz(){const t=this.N3t;t!==o&&(this.jD().v9().SH(this._e,t,null),this.N3t=o)}dJ(){return this.N3t}I4(){const t=this._e,s=this.I3t,e=s.zD();e.length&&e.at(-1)===t||(s.Kz(t,!1),s.Xz(t,!1),this.mf.XD())}R4(){const t=this._e,s=this.I3t,e=s.zD();e.length&&e[0]===t||(s.Kz(t,!1),s.Yz(t,!1),this.mf.XD())}P4(t){const s=this._e,e=this.I3t;if(e.MD()!==t.MD())throw new Error("layer from different layout");t!==e&&(e.Kz(s,!0),this.JD(t),t.Xz(s,!0),this.mf.XD())}A4(t,s){let e=this._e,i=!1,r=this.I3t;if(t.hN()!==e.hN()){const n=t.UD();if(!n)throw new Error("expected world instance");const h=n.jD(),o=(r.UA()!==h.UA()&&(r.Kz(e,!0),this.JD(h),h.Xz(e,!0),i=!0),h.wJ(e,t,!!s));(i||o)&&this.mf.XD()}}o4(){return this.z3t}bPt(t){this.bEt(64,t)}_J(){return 0!=(64&this.D2t)}Aq(t,s=null){const e={x:this.kb(),y:this.Bb(),w:this.Sm(),h:this.Rm(),l:this.jD().m9(),zi:this.VD()},i=(0!==this.Nb()&&(e.ze=this.Nb()),0!==this.SB()&&(e.a=this.hEt()),this.w9()||(e.c=this.bb.toJSON()),.5!==this.vW()&&(e.oX=this.vW()),.5!==this.MW()&&(e.oY=this.MW()),0!==this.IL()&&(e.bm=this.IL()),this.iL()||(e.v=this.iL()),this.O4()||(e.ce=this.O4()),this.QEt()&&(e.be=this.QEt()),this.z3t&&(e.fx=this.z3t.Aq()),0!=(32&this.D2t));return i&&(e.sfi=i),this.j3t&&(e.sft=[...this.j3t].join(" ")),this.q3t&&"visual-state"!==t&&(e.sgi=this.q3t.Aq(t,s),g.has(this))&&(e.sgcd=g.get(this).sEt,e.sgzid=g.get(this).eEt),this._6()&&(e.mesh=this.I6().qb()),e}d3t(){return{x:this.hl,y:this.ol,z:this.vb,w:this.E3t,h:this.P3t,a:this.Qo,sgi:this.ght()?this.ght().a3t():null}}y3t(t){t&&(this.hl=t.x,this.ol=t.y,this.vb=t.z,this.E3t=t.w,this.P3t=t.h,this.Qo=t.a,t.sgi&&this.ght()&&this.ght().kq(t.sgi),this.uEt(),this.l4())}CCt(){this.Z3t(),this.OEt(),this.NEt(null),this.q3t&&this.q3t.m3t(this.XRt,this.$Rt)}$Y(t){"visual-state"!==t&&this.OEt()}KY(t,s="full",e=null){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.D2t)&&this.q3t.KY(t.sgi,e)}LRt(t,s="full",e){t.hasOwnProperty("sgi")&&"visual-state"!==s&&0==(256&this.D2t)&&(this.q3t.m3t(null,null),this.Z3t(),this.l4())}kq(t,s){if(m=!1,this.Db(t.x),this.Lb(t.y),this._m(t.w),this.wm(t.h),this.e9(t.zi),this.Wb(t.hasOwnProperty("ze")?t.ze:0),this.yB(t.hasOwnProperty("a")?t.a:0),t.hasOwnProperty("c")?f.$a(t.c):t.hasOwnProperty("o")?(f.ua(this.bb),f.a=t.o):f.ta(1,1,1,1),this.Q3t(f),this.Rht(t.hasOwnProperty("oX")?t.oX:.5),this.Pht(t.hasOwnProperty("oY")?t.oY:.5),this.Mb(t.hasOwnProperty("bm")?t.bm:0),this.sL(!t.hasOwnProperty("v")||t.v),this.B4(!t.hasOwnProperty("ce")||t.ce),this.ZEt(!!t.hasOwnProperty("be")&&t.be),this.zEt(!!t.hasOwnProperty("sfi")&&t.sfi,t.hasOwnProperty("sft")?t.sft:""),this.z3t&&t.hasOwnProperty("fx")&&this.z3t.kq(t.fx),!t.hasOwnProperty("sgi")&&"visual-state"!==s&&this.XRt)for(const e of this.XRt)e.f8()||this.mf.QL(e);if(t.hasOwnProperty("sgi")&&"visual-state"!==s){this.NEt(null);const i=this.q3t,r=t.sgi;i.kq(r),i.m3t(this.XRt,this.$Rt),t.sgcd&&d.fi(t.sgzid)&&g.set(this,{sEt:t.sgcd,eEt:t.sgzid})}if(t.hasOwnProperty("mesh")){const n=t.mesh;this.b6(n.cols,n.rows),this.I6().Xb(n)}else this.x6();this.l4(),m=!0,this.iEt(),"visual-state"!==s&&this.mf.vPt(this.aU(),t)}}}{const xa=self.Ls;xa.aIt=class extends xa.dn{constructor(t,s){super();const e=t.oO(),i=e.Byt(s[1]),r=(e.xPt().OGt(i),this.mf=e,this._ft=t,this.gGt=xa.f5.Y6(i),this.sTt=null,this.MPt=null,this.N_t=i.Instance,this.kH=s[2],this.wn=s[0],this.bSt=this.mf.s1t(s[3]),this.gGt.p2t());if(r<2&&(this.sTt=xa.mn(i.GIt,this),!(this.sTt instanceof xa.mGt)))throw new Error("v1 sdk type must derive from SDKBehaviorBase");if(xa.f5.BMt(this,r),2<=r){const n=i.GIt??globalThis.M8;if(this.MPt=new n,!(this.MPt instanceof globalThis.M8))throw new Error("script interface class must derive from ISDKBehaviorTypeBase")}else this.MPt=new globalThis.q6;xa.f5.LMt(r),this.AMt()}static GM(t,s){return xa.mn(xa.aIt,t,s)}gn(){this.mf=null,this.gGt=null,this.sTt&&(this.sTt.gn(),this.sTt=null),this.N_t=null}ubt(){return this.sTt}AMt(){this.sTt?this.sTt.AMt():this.MPt&&this.MPt._U()}oO(){return this.mf}JL(){return this._ft}U6(){return this.gGt}qIt(){return this.N_t}nf(){return this.wn}m9(){return this.kH}V6(){return this.MPt}s1t(){return this.bSt}}}{const Ma=self.Ls,Ta=self.N6;Ma.UCt=class extends Ma.dn{constructor(t){super(),this.mf=t.runtime,this.ZSt=t.j6,this.gGt=this.ZSt.U6(),this._e=t.z6,this.ey=t.index,this.ACt=null,this.kCt=null,this.gGt.Xz(this._e)}gn(){this.kCt&&(this.kCt.KL(),this.kCt=null),this.gGt.Kz(this._e),this.ACt&&(this.ACt.gn(),this.ACt=null),this.mf=null,this.ZSt=null,this.gGt=null,this._e=null}jIt(t){if(this.ACt)throw new Error("already got sdk instance");const s=this.U6().p2t();if(s<2){if(this.ACt=Ma.mn(this.ZSt.qIt(),this,t),!(this.ACt instanceof Ma.yGt))throw new Error("v1 sdk type must derive from SDKBehaviorInstanceBase")}else{const e=this.U6().kMt();this.OMt(e.Instance,t)}}k6(){return this.ACt??this.kCt}J6(){return this._e}oO(){return this.mf}H6(){return this.ZSt}U6(){return this.gGt}Vnt(){return this.ey}vGt(){this.ACt?this.ACt.vGt():this.kCt.I8()}GGt(t,s){this.ACt&&this.ACt.GGt(t,s)}BRt(){return this.ACt?this.ACt.xTt():this.kCt.qN()}qb(t="full"){return this.ACt?this.ACt.qb(t):this.kCt.XN(t)}Xb(t,s="full"){if(this.ACt)return this.ACt.Xb(t,s);this.kCt.$N(t,s)}static TPt(t,s,e){let i=globalThis.T8,r,n;r=s instanceof i?t.PB(s):s.bGt(),n=e instanceof i?t.PB(e):e.bGt();const h=r.J6(),o=n.J6(),a=h.JL().UA(),l=o.JL().UA();if(a!==l)return a-l;const u=h.GRt(),c=o.GRt();return u!==c?u-c:r.Vnt()-n.Vnt()}OMt(t,s){const e=Ta,i=t??this.ACt.kMt(),r=i||e,n=this.U6().p2t();if(Ma.f5.BMt(this,n),Ma.f5.BGt(s),this.kCt=new r,Ma.f5.LGt(),Ma.f5.LMt(n),!i||this.kCt instanceof e)return this.kCt;throw new TypeError(`script interface class '${i.name}' does not extend the right base class '${e.name}'`)}rTt(){return this.kCt||this.OMt()}_Tt(){return!!this.kCt}}}{const Ga=self.Ls;Ga.Sz=class extends Ga.dn{constructor(t,s){super(),this.sv=t,this.GPt=[],this._Pt=[],this.IPt=new Map,this.CPt=[],this.RPt=[],this.EPt=new Set,this.V2=!0;for(const e of s){const i=Ga.mn(Ga.PPt,this,e,this.GPt.length);this.GPt.push(i),this.IPt.set(i.nf().toLowerCase(),i),3<=e.length&&this.CPt.push(this.FPt(i,e[2]))}this.oO().APt(this)}gn(){this.oO().kPt(this);for(const t of this.RPt)t.gn();Ga.Vh(this.RPt),Ga.Vh(this.GPt),Ga.Vh(this._Pt),this.IPt.clear(),Ga.Vh(this.CPt),this.sv=null}DPt(t){this.EPt.add(t)}OPt(t){this.EPt.delete(t)}BPt(t){t.kS()&&(this.RPt=this.GPt.map(t=>{const s=t.TT();return 0<s.GetCustomParametersByteSize()?Ga.mn(Ga.gy.WebGPUEffectCustomParamsBuffer,s):null}),this.LPt());for(const s of this.EPt)s.BPt(t)}WIt(t){if(t.length){this.GPt=t.concat(this.GPt);for(const s of t)this.IPt.set(s.nf().toLowerCase(),s);for(let t=0,s=this.GPt.length;t<s;++t)this.GPt[t].u9(t)}}FPt(t,s){t.NPt(s[0]);const e=s.slice(1);for(let t=0,s=e.length;t<s;++t){const i=e[t];if(Array.isArray(i)){const r=Ga.mn(Ga.$o);r.$a(i),e[t]=r}}return e}pv(){return this.sv}oO(){return this.sv.oO()}Q6(){Ga.Vh(this._Pt);let t=!0;for(const s of this.GPt)s.Mmt()&&(this._Pt.push(s),s.TT().ab()||(t=!1));this.V2=t}fB(){return this.GPt}sCt(){return 0<this.GPt.length}Jrt(t){return this.IPt.get(t.toLowerCase())||null}WPt(t){if((t=Math.floor(+t))<0||t>=this.GPt.length)throw new RangeError("invalid effect type index");return this.GPt[t]}K6(t){return this.WPt(t).Mmt()}Z6(t,s){this.WPt(t).NPt(s)}b9(){return this._Pt}_J(){return 0<this._Pt.length}ab(){return this.V2}zrt(t){return this.CPt[t]}xz(t){return(t<this.RPt.length?this.RPt:this.CPt)[t]}tW(t,s){if(t<0||t>=this.CPt.length)return null;const e=this.CPt[t];return s<0||s>=e.length?null:e[s]}sW(t,s,e){if(t<0||t>=this.CPt.length)return!1;const i=this.CPt[t];if(s<0||s>=i.length)return!1;const r=i[s];if(r instanceof Ga.$o){if(r.xa(e))return!1;r.ua(e)}else{if(r===e)return!1;i[s]=e}return t<this.RPt.length&&this.RPt[t].SetParameterValue(s,e),!0}LPt(){const e=this.CPt,i=this.RPt;for(let t=0,s=Math.min(e.length,i.length);t<s;++t){const r=i[t],n=e[t];for(let t=0,s=n.length;t<s;++t)r.SetParameterValue(t,n[t])}}static UPt(t){return t&&t instanceof Ga.$o?{t:"color",v:t.toJSON()}:t}static jPt(t){if(null===t)return NaN;if("object"!=typeof t)return t;{const s=t.t;if("color"!==s)throw new Error("invalid effect parameter type");{const e=Ga.mn(Ga.$o);return e.$a(t.v),e}}}static VPt(t){return t.map(Ga.Sz.UPt)}static HPt(t){return t.map(Ga.Sz.jPt)}qb(){return this.GPt.map(t=>({name:t.nf(),active:t.Mmt(),params:Ga.Sz.VPt(this.CPt[t.UA()])}))}Xb(t){for(const s of t){const e=this.Jrt(s.name);e&&(e.NPt(s.active),this.CPt[e.UA()]=Ga.Sz.HPt(s.params))}this.Q6(),this.LPt()}}}{const _a=self.Ls;_a.PPt=class extends _a.dn{constructor(t,s,e){super(),this.yz=t,this.yf=s[0],this.wn=s[1],this.ey=e,this.yb=null,this.p0=!0}gn(){this.yz=null,this.yb=null}NIt(t){const s=_a.mn(_a.PPt,t,[this.yf,this.wn],-1);return s.yb=this.yb,s.p0=this.p0,s}BPt(t){const s=t.WS(this.yf);if(!s)throw new Error("failed to find shader program '"+this.yf+"'");this.yb=s}cB(){return this.yz}nf(){return this.wn}u9(t){this.ey=t}UA(){return this.ey}pv(){return this.yz.pv()}oO(){return this.yz.oO()}NPt(t){this.p0=!!t}Mmt(){return this.p0}TT(){return this.yb}zPt(){const e=[];for(let t=0,s=this.yb.GT();t<s;++t){const i=this.yb._T(t);if("float"===i||"percent"===i)e.push(0);else{if("color"!==i)throw new TypeError("unknown effect parameter type");e.push(_a.mn(_a.$o,1,1,1,1))}}return e}}}{const Ia=self.Ls;Ia.J3t=class extends Ia.dn{constructor(t,s){super(),this._e=t,this.JPt=s,this.yz=t.JL().cB(),this.qPt=!0,this.Tz=!0,this.XPt=!1,this.$Pt=!1,this.YPt=!1,this.KPt=!1,this.BA=Ia.mn(Ia.gy.BP,t.oO().$O().wz(),{_P:(t,s)=>{const e=s.RA(),i=e.UD();t.Tb(i.bz()),t.Iw(i.g4()),e._v(t),t.Iw(0)},IP:t=>{const s=t.BTt(),[e,i]=t.OTt();return{xA:s,MA:e,TA:i}},CP:t=>this.xz(t)}),this.ZPt=[],this._Pt=[],this.V2=!0,this.CPt=[],this.RPt=[],this.BPt(t.oO().eb());for(let t=0,s=this.yz.fB().length;t<s;++t)this.ZPt.push(!0);this.Q6(),this.yz.DPt(this)}gn(){this.yz.OPt(this);for(const t of this.RPt)t&&t.gn();Ia.Vh(this.RPt),this.BA.gn(),this.BA=null,Ia.Vh(this.ZPt),Ia.Vh(this._Pt),Ia.Vh(this.CPt),this._e=null,this.yz=null}BPt(t){t.kS()&&(this.RPt=this.yz.fB().map(t=>{const s=t.TT();return 0<s.GetCustomParametersByteSize()?Ia.mn(Ia.gy.WebGPUEffectCustomParamsBuffer,s):null}))}tEt(t){let s=0;for(const e of t)this.CPt.push(this.FPt(s,e)),++s;this.LPt(),this.Q6()}FPt(t,s){this.ZPt[t]=s[0];const e=s.slice(1);for(let t=0,s=e.length;t<s;++t){const i=e[t];if(Array.isArray(i)){const r=Ia.mn(Ia.$o);r.$a(i),e[t]=r}}return e}XCt(){for(const t of this.yz.fB())this.CPt.push(t.zPt());this.LPt()}pv(){return this.sv}cB(){return this.yz}WA(){return this.S9(),this.BA}oO(){return this._e.oO()}Q6(){Ia.Vh(this._Pt);let t=this.JPt,e=this.yz.fB(),i=this._Pt,r=this.ZPt,n=!0;for(let t=0,s=e.length;t<s;++t)if(r[t]){const h=e[t];i.push(h),h.TT().ab()||(n=!1)}this.V2=n,t.bPt(!!i.length),this.qPt=!0}S9(){const t=this._e,s=this.JPt,e=s.w9(),i=t.U5().G5(),r=0!==s.SB()||0!==s.jD().SB()||s.Sm()<0||s.Rm()<0,n=t.WTt(),h=t.ob();(this.qPt||e!==this.Tz||i!==this.XPt||r!==this.$Pt||n!==this.YPt||h!==this.KPt||this.BA.IF())&&(this.BA.CF(this._Pt.map(t=>t.TT()),{EP:this._Pt.map(t=>t.UA()),PP:!e||h,AP:i,kP:n,DP:r}),this.qPt=!1,this.Tz=e,this.XPt=i,this.$Pt=r,this.YPt=n,this.KPt=h)}b9(){return this._Pt}zrt(t){return this.CPt[t]}xz(t){return(t<this.RPt.length?this.RPt:this.CPt)[t]}tW(t,s){if(t<0||t>=this.CPt.length)return null;const e=this.CPt[t];return s<0||s>=e.length?null:e[s]}sW(t,s,e){if(t<0||t>=this.CPt.length)return!1;const i=this.CPt[t];if(s<0||s>=i.length)return!1;const r=i[s];if(r instanceof Ia.$o){if(r.xa(e))return!1;r.ua(e)}else{if(r===e)return!1;i[s]=e}return t<this.RPt.length&&this.RPt[t].SetParameterValue(s,e),!0}LPt(){const e=this.CPt,i=this.RPt;for(let t=0,s=i.length;t<s;++t){const r=i[t],n=e[t];for(let t=0,s=n.length;t<s;++t)r.SetParameterValue(t,n[t])}}ab(){return this.V2}QPt(){return this._Pt.some(t=>t.TT().cb())}K6(t){return this.ZPt[t]}Z6(t,s){this.ZPt[t]=!!s}fB(){return this.yz.fB()}Aq(){return this.yz.fB().map(t=>({name:t.nf(),active:this.ZPt[t.UA()],params:Ia.Sz.VPt(this.CPt[t.UA()])}))}kq(t){for(const s of t){const e=this.yz.Jrt(s.name);e&&(this.ZPt[e.UA()]=s.active,this.CPt[e.UA()]=Ia.Sz.HPt(s.params))}this.Q6(),this.LPt()}}}{let _=self.Ls,n=[],b=[],h=[],v=_.mn(_.Nu),S=_.mn(_.Nu),x=_.mn(_.nu),d=_.mn(_.Rect),p=_.mn(_.Rect),m=null,g=null,y=null;_.tFt=class extends _.dn{constructor(t){super(),this.mf=t,this.sFt=0,this.eFt=0,this.iFt=[],this.rFt=0,this.nFt=0,this.hFt=0,this.oFt=0,this.aFt=new self._O(this)}gn(){this.mf=null}oO(){return this.mf}qA(){return this.aFt}lFt(){this.nFt=this.rFt,this.rFt=0,this.oFt=this.hFt,this.hFt=0}uFt(){return this.nFt}cFt(){return this.oFt}fFt(t,s){const e=t.UD(),i=s.UD();e&&i&&e.O4()&&i.O4()&&this.iFt.push([t,s])}pvt(s,e,i){for(const[r,n]of this.iFt){let t=null;if(s===r)t=n;else{if(s!==n)continue;t=r}t.vvt(e)&&!i.includes(t)&&i.push(t)}}mvt(t,s){if(this.iFt.length)for(const[e,i]of this.iFt)if(t===e&&s===i||t===i&&s===e)return!0;return!1}dFt(){_.Vh(this.iFt)}CO(t,s){if(!t||!s||t===s)return!1;const e=t.UD(),i=s.UD();if(!e.O4()||!i.O4())return!1;this.rFt++;const r=e.jD(),n=i.jD(),h=r.aJ(n);return h?this.pFt(e,i):this.mFt(e,i)}pFt(t,s){if(!t.S4().Ql(s.S4()))return!1;if(this.hFt++,!t.b4().Pu(s.b4()))return!1;if(t.eRt()&&s.eRt())return!1;if(t.eRt())return this.gFt(t,s);if(s.eRt())return this.gFt(s,t);if(!t.oPt()&&!s.oPt())return!0;const e=t.aPt(),i=s.aPt();return e.Zu(i,s.kb()-t.kb(),s.Bb()-t.Bb())}mFt(e,i){const t=e.eRt(),s=i.eRt();if(t&&!s)return this.yFt(e,i);if(s&&!t)return this.yFt(i,e);if(s||t)return!1;{const r=e.jD(),n=i.jD(),h=(v.I(e.aPt()),S.I(i.aPt()),v.Hu());for(let t=0,s=h.length;t<s;t+=2){const a=t+1,l=h[t],u=h[a],[c,f]=r.BL(l+e.kb(),u+e.Bb());h[t]=c,h[a]=f}const o=S.Hu();for(let t=0,s=o.length;t<s;t+=2){const d=t+1,p=o[t],m=o[d],[g,y]=n.BL(p+i.kb(),m+i.Bb());o[t]=g,o[d]=y}return v.Xu(),S.Xu(),this.hFt++,v.Zu(S,0,0)}}yFt(t,s){const e=t.jD(),i=s.jD(),r=(m=m||_.mn(_.Nu),g=g||_.mn(_.Rect),y=y||_.mn(_.nu),s.kb()),n=s.Bb(),[h,o]=i.BL(r,n),[a,l]=e.AL(h,o),u=a-r,c=l-n;if(g.I(s.S4()),g.offset(u,c),!t.S4().Ql(g))return!1;if(y.I(s.b4()),y.offset(u,c),this.hFt++,!t.b4().Pu(y))return!1;m.I(s.aPt());const f=m.Hu();for(let t=0,s=f.length;t<s;t+=2){const d=t+1;f[t]+=u,f[d]+=c}return m.Xu(),this.gFt(t,s,a,l,m,g,y)}gFt(t,i,s,e,r,n,h){const o=void 0!==n?n:i.S4(),a=t.kb(),l=t.Bb(),u=t.aU().k6(),c=void 0!==s?s:i.kb(),f=void 0!==e?e:i.Bb(),d=i.oPt(),p=void 0!==h?h:i.b4(),m=b;u.GetCollisionRectCandidates(o,m);for(let t=0,s=m.length;t<s;++t){const g=m[t],y=g.GetRect();if(this.rFt++,o.tu(y,a,l)&&(x._u(y),x.offset(a,l),x.Pu(p)))if(d){let t=void 0!==r?r:i.aPt(),s=c,e=f;void 0!==r&&(s=i.kb(),e=i.Bb());const S=g.GetPoly();if(S){if(this.hFt++,S.Zu(t,s-(a+y.Rl()),e-(l+y.El())))return _.Vh(m),!0}else if(v.Yu(x,0,0),v.Zu(t,s,e))return _.Vh(m),!0}else{const w=g.GetPoly();if(!w)return _.Vh(m),!0;if(v.Yu(p,0,0),w.Zu(v,-(a+y.Rl()),-(l+y.El())))return _.Vh(m),!0}}return _.Vh(m),!1}SFt(t,o,a){const l=t.Q5(),s=this.mf.Ck();if(!s)throw new Error("cannot call outside event");const u=s.s0t(),e=new Map,c=t=>{let s=e.get(t);return void 0===s&&(s=t.uL(),e.set(t,s)),s};if(l.Lft()){a||(l.zft(!1),_.Vh(l.Jft())),u&&_.Vh(l.qft());for(const i of t.Z5()){let r=i.UD(),n=r.jD();if(!(!c(n)||!r.x4())&&o.some(([t,s])=>{const[e,i]=n.AL(t,s,r.g4());return r.L4(e,i)})){if(a)return!1;l.Vft(i)}else u&&l.Hft(i)}}else{let e,i=!1,h=(!u||s.qgt(this.mf.Jdt())||this.mf.mbt()&&!l.qft().length&&l.Jft().length?e=l.Jft():(e=l.qft(),i=!0),0);for(let s=0,t=e.length;s<t;++s){let t=e[s],r=t.UD(),n=r.jD();if(!(!c(n)||!r.x4())&&o.some(([t,s])=>{const[e,i]=n.AL(t,s,r.g4());return r.L4(e,i)})){if(a)return!1;i?l.Vft(t):e[h++]=t}else i?e[h++]=t:u&&l.Hft(t)}a||(e.length=h)}return t.Cyt(),e.clear(),!!a||l.Nft()}wFt(t,s){if(t)for(const e of s.xCt())if(!t.aJ(e))return!1;return!0}pbt(t,s,e,i){if(s.o9())for(const r of s.bgt())this.wFt(t,r)?(r.wCt(),r.yCt().wH(e,i)):_.tn(i,r.Z5());else this.wFt(t,s)?(s.wCt(),s.yCt().wH(e,i)):_.tn(i,s.Z5())}LO(t,s,e,i){for(const r of s)this.pbt(t,r,e,i)}bFt(t,s,e){const i=this.mf.WGt();i&&this.LO(t,i.bK(),s,e)}vFt(t,s,e){const i=this.mf.UGt();i&&this.LO(t,i.bK(),s,e)}JEt(t,s){return t.nRt()&&(!s||s.UD().JEt(t.b2t().get("solidTags")))}PO(t){const s=t.UD();this.bFt(s.jD(),s.S4(),n);for(const e of n)if(this.JEt(e,t)&&this.CO(t,e))return _.Vh(n),e;return _.Vh(n),null}xFt(t,s){this.bFt(null,t,n);for(const e of n)if(this.JEt(e,s)&&this.MFt(t,e))return _.Vh(n),e;return _.Vh(n),null}TFt(t,s){let e=null;s&&(e=h,_.Vh(e));const i=t.UD();this.vFt(i.jD(),i.S4(),n);for(const r of n)if(r.oRt()&&this.CO(t,r)){if(!s)return _.Vh(n),r;e.push(r)}return _.Vh(n),e}GFt(s,e,i,r,n){r=r||50;const h=s.UD(),o=h.kb(),a=h.Bb();for(let t=0;t<r;++t)if(h.u4(o+e*t,a+i*t),h.l4(),!this.CO(s,n))return!0;return h.u4(o,a),h.l4(),!1}_Ft(s,e,i,r,n,h){r=r||50;let o=s.UD(),a=o.kb(),l=o.Bb(),u=null,c=null;for(let t=0;t<r;++t)if(o.u4(a+e*t,l+i*t),o.l4(),!this.CO(s,u))if(u=this.PO(s))c=u;else if(n&&(u=h?this.CO(s,h)?h:null:this.TFt(s))&&(c=u),!u)return c&&this.IFt(s,e,i,c,16,!0),!0;return o.u4(a,l),o.l4(),!1}CFt(e,i,r,t){t=t||50;let n=e.UD(),h=n.kb(),o=n.Bb(),a=null,l=null;for(let s=0;s<t;++s)for(let t=0;t<2;++t){const u=2*t-1;if(n.u4(h+i*s*u,o+r*s*u),n.l4(),!this.CO(e,a)){if(!(a=this.PO(e)))return l&&this.IFt(e,i*u,r*u,l,16,!0),!0;l=a}}return n.u4(h,o),n.l4(),!1}IFt(t,s,e,i,r,n){let h=2,o=!1,a=!1,l=t.UD(),u=l.kb(),c=l.Bb();for(;h<=r;){const f=1/h;h*=2,l.d4(s*f*(o?1:-1),e*f*(o?1:-1)),l.l4(),this.CO(t,i)||n&&this.PO(t)?(o=!0,a=!0):(o=!1,a=!1,u=l.kb(),c=l.Bb())}a&&(l.u4(u,c),l.l4())}RFt(e,t=100){let i=0,r=e.UD(),n=r.kb(),h=r.Bb(),o=0,a=this.PO(e);if(!a)return!0;for(;i<=t;){let t=0,s=0;switch(o){case 0:t=0,s=-1,i++;break;case 1:t=1,s=-1;break;case 2:t=1,s=0;break;case 3:t=1,s=1;break;case 4:t=0,s=1;break;case 5:t=-1,s=1;break;case 6:t=-1,s=0;break;case 7:t=-1,s=-1}if(o=(o+1)%8,r.u4(Math.floor(n+t*i),Math.floor(h+s*i)),r.l4(),!this.CO(e,a)&&!(a=this.PO(e)))return!0}return r.u4(n,h),r.l4(),!1}EFt(t,s,e,i){const r=t.UD(),n=r.kb(),h=r.Bb(),o=Math.max(10,_.In(s,e,n,h)),a=_.Rn(s,e,n,h),l=i||this.PO(t);if(!l)return _.xn(a+Math.PI);let u=l,c=0,f=0,d=_.Mn(5),p;for(p=1;p<36;++p){const T=a-p*d;if(r.u4(s+Math.cos(T)*o,e+Math.sin(T)*o),r.l4(),!this.CO(t,u)&&!(u=i?null:this.PO(t))){c=T;break}}for(36===p&&(c=_.xn(a+Math.PI)),u=l,p=1;p<36;++p){const G=a+p*d;if(r.u4(s+Math.cos(G)*o,e+Math.sin(G)*o),r.l4(),!this.CO(t,u)&&!(u=i?null:this.PO(t))){f=G;break}}if(36===p&&(f=_.xn(a+Math.PI)),r.u4(n,h),r.l4(),f===c)return f;let m=_.En(f,c)/2,g;g=_.Fn(f,c)?_.xn(c+m+Math.PI):_.xn(f+m);const y=Math.cos(a),S=Math.sin(a),w=Math.cos(g),b=Math.sin(g),v=y*w+S*b,x=y-2*v*w,M=S-2*v*b;return _.Rn(0,0,x,M)}PFt(t,s,e,i,r){if(!r)return!1;const n=r.UD();if(!n.O4())return!1;if(this.rFt++,d.set(Math.min(t,e),Math.min(s,i),Math.max(t,e),Math.max(s,i)),!n.S4().Ql(d))return!1;if(r.eRt())return this.FFt(t,s,e,i,r,n);if(this.hFt++,!n.b4().Eu(t,s,e,i))return!1;if(!n.oPt())return!0;const h=n.aPt();return h.Eu(n.kb(),n.Bb(),t,s,e,i)}FFt(e,i,r,n,t,s){const h=s.kb(),o=s.Bb(),a=t.k6(),l=b;p.set(e,i,r,n),p.normalize(),a.GetCollisionRectCandidates(p,l);for(let t=0,s=l.length;t<s;++t){const u=l[t],c=u.GetRect();if(this.rFt++,d.tu(c,h,o)&&(x._u(c),x.offset(h,o),x.Eu(e,i,r,n))){const f=u.GetPoly();if(!f)return _.Vh(l),!0;if(this.hFt++,f.Eu(h+c.Rl(),o+c.El(),e,i,r,n))return _.Vh(l),!0}}return _.Vh(l),!1}MFt(t,s){if(!s)return!1;const e=s.UD();if(!e.O4())return!1;if(this.rFt++,!e.S4().Ql(t))return!1;if(s.eRt())return this.AFt(t,s,e);if(this.hFt++,x._u(t),!e.b4().Pu(x))return!1;if(!e.oPt())return!0;const i=v,r=(i._u(t,e.kb(),e.Bb()),e.aPt());return i.Zu(r,0,0)}AFt(e,t,s){const i=s.kb(),r=s.Bb(),n=t.k6(),h=b;n.GetCollisionRectCandidates(e,h);for(let t=0,s=h.length;t<s;++t){const o=h[t],a=o.GetRect();if(this.rFt++,e.tu(a,i,r)){const l=o.GetPoly();if(!l)return _.Vh(h),!0;if(this.hFt++,v._u(e,0,0),l.Zu(v,-(i+a.Rl()),-(r+a.El())))return _.Vh(h),!0}}return _.Vh(h),!1}kFt(t,s){if(t){const e=t.UD();e.O4()&&(this.rFt++,e.S4().Ql(s.rect))&&(t.eRt()?this.DFt(t,e,s):(this.hFt++,e.oPt()?s.OFt(t,e.kb(),e.Bb(),e.aPt()):s.BFt(t,e.b4())))}}DFt(e,i,r){const n=i.kb(),h=i.Bb(),o=b;e.k6().GetCollisionRectCandidates(r.rect,o);for(let t=0,s=o.length;t<s;t++){const a=o[t],l=a.GetRect();if(this.rFt++,r.rect.tu(l,n,h)){const u=a.GetPoly();this.hFt++,u?r.OFt(e,n+l.Rl(),h+l.El(),u):r.LFt(e,i.kb(),i.Bb(),l)}}_.Vh(o)}AO(t,s){if(t!==this.sFt||s!==this.eFt){this.sFt=t,this.eFt=s;const e=this.mf.h9();for(const i of e)if(i.y5()){for(const r of i.K5())r.UD().HEt();i.yCt().NFt(t,s),i.SCt();for(const n of i.K5()){const h=n.UD();h.wPt(),h.bCt()}}}}DO(){return[this.sFt,this.eFt]}WFt(t,s){this.sFt=t,this.eFt=s}}}{const Ca=self.Ls;Ca.$_t=class extends Ca.dn{constructor(t,s){super(),this.fH=t,this.dH=s,this.pH=Ca.mn(Ca.nc)}gn(){this.pH.gn(),this.pH=null}NFt(t,s){if(!this.pH.ac())throw new Error("grid not empty");this.fH=t,this.dH=s}mH(t,s,e){let i=this.pH.re(t,s);return i||(e?(i=Ca.mn(Ca.UFt,this,t,s),this.pH.Set(t,s,i),i):null)}gH(t){const s=Math.floor(t/this.fH);return isFinite(s)?s:0}yH(t){const s=Math.floor(t/this.dH);return isFinite(s)?s:0}SH(i,r,n){if(r)for(let e=r.Rl(),t=r.Pl();e<=t;++e)for(let t=r.El(),s=r.Fl();t<=s;++t)if(!n||!n.su(e,t)){const h=this.mH(e,t,!1);h&&(h.I0(i),h.ac())&&this.pH.lc(e,t)}if(n)for(let e=n.Rl(),t=n.Pl();e<=t;++e)for(let t=n.El(),s=n.Fl();t<=s;++t)r&&r.su(e,t)||this.mH(e,t,!0).aH(i)}wH(t,s){let e=this.gH(t.Rl()),i=this.yH(t.El()),r=this.gH(t.Pl()),n=this.yH(t.Fl());if(isFinite(r)&&isFinite(n))for(;e<=r;++e)for(let t=i;t<=n;++t){const h=this.mH(e,t,!1);h&&h.uH(s)}}}}{const Ra=self.Ls;Ra.UFt=class extends Ra.dn{constructor(t,s,e){super(),this.sH=t,this.hl=s,this.ol=e,this.eH=Ra.mn(Ra.dc)}gn(){this.eH.gn(),this.eH=null,this.sH=null}ac(){return this.eH.ac()}aH(t){this.eH.wc(t)}I0(t){this.eH.lc(t)}uH(t){Ra.tn(t,this.eH.vc())}}}{const Ea=self.Ls;Ea.jFt=class{constructor(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.dx=0,this.dy=0,this.rect=new Ea.Rect,this.VFt=2,this.HFt=null,this.zFt=0,this.JFt=0,this.qFt=0,this.XFt=0,this.$Ft=0,this.Et=0,this.YFt=1,this.KFt=0,this.ZFt=1,this.QFt=0}tAt(){return this.VFt<1+1e-6}m0(){this.VFt=2}Set(t,s,e,i){return this.x1=t,this.y1=s,this.x2=e,this.y2=i,this.dx=e-t,this.dy=i-s,this.rect.set(t,s,e,i),this.rect.normalize(),this.VFt=2,this.HFt=null,this.zFt=0,this.JFt=0,this.qFt=0,this.XFt=0,this.$Ft=0,this.Et=0,this.YFt=1,this.KFt=0,this.ZFt=1,this.QFt=0,this}sAt(){if(!1!==this.tAt()){const t=this.dx*this.VFt,s=this.dy*this.VFt,e=Ea.Gn(t,s),i=t/e,r=s/e,n=(this.Et=e-1e-6,this.XFt=this.x1+i*this.Et,this.$Ft=this.y1+r*this.Et,this.zFt=Math.atan2(this.qFt,this.JFt)+Math.PI/2,this.YFt=Math.cos(this.zFt),this.KFt=Math.sin(this.zFt),i*this.YFt+r*this.KFt);if(this.ZFt=i-2*this.YFt*n,this.QFt=r-2*this.KFt*n,0<n){const h=Math.PI;this.zFt=Ea.xn(this.zFt+h),this.YFt=-this.YFt,this.KFt=-this.KFt}}}eAt(t,s,e,i,r){const n=Ea.Sh(this.x1,this.y1,this.x2,this.y2,s,e,i,r);0<=n&&n<this.VFt&&(this.VFt=n,this.HFt=t.hN(),this.JFt=s-i,this.qFt=e-r)}LFt(t,s,e,i){const r=s+i.Rl(),n=s+i.Pl(),h=e+i.El(),o=e+i.Fl();this.eAt(t,r,h,n,h),this.eAt(t,n,h,n,o),this.eAt(t,n,o,r,o),this.eAt(t,r,o,r,h)}BFt(t,s){const e=s.oh(),i=s.ah(),r=s.lh(),n=s.uh(),h=s.fh(),o=s.ph(),a=s.mh(),l=s.gh();this.eAt(t,e,i,r,n),this.eAt(t,r,n,h,o),this.eAt(t,h,o,a,l),this.eAt(t,a,l,e,i)}OFt(e,i,r,t){const n=t.Hu();for(let t=0,s=n.length;t<s;t+=2){const h=(t+2)%s,o=n[t]+i,a=n[t+1]+r,l=n[h]+i,u=n[1+h]+r;this.eAt(e,o,a,l,u)}}}}{const x=self.Ls,Pa=new Set(["off","crop","scale-inner","scale-outer","letterbox-scale","letterbox-integer-scale"]),Fa=new Set(["high","low"]),Aa=self.vs,Mr=Aa.Gs,Tr=Aa.Rs,ka=Mr.create(),Da=x.mn(x.nu),M=x.mn(x.Rect);x.iAt=class extends x.dn{constructor(t){super(),this.mf=t,this.rAt=[],this.nAt=!1,this.hAt=null,this.oAt=null,this.aAt=null,this.lAt="high-performance",this.uAt=!1,this.cAt="auto",this.fAt=0,this.dAt=0,this.pAt="",this.mAt=0,this.gAt=0,this.yAt=0,this.SAt=0,this.wAt=0,this.bAt=0,this.By="normalized",this.vAt=0,this.xAt=1,this.MAt=1e4,this.dS=!0,this.TAt=0,this.aF=0,this.lF=0,this.GAt="letterbox-scale",this._At="letterbox-scale",this.IAt=0,this.CAt=0,this.RAt=Mr.create(),this.EAt="high",this.PAt=this.EAt,this.FAt=!1,this.AAt=[],this.kAt=new Set,this.DAt=self.C3_Shaders,this.OAt=x.mn(x.gy.fP,{aP:()=>[this.jJ(),this.VJ()],lP:()=>this.BAt(),uP:t=>this.LAt(t),getTime:()=>this.oO().qk(),cP:()=>this.oO().XD()}),this.NAt=0,this.WAt=0,this.UAt=NaN,this.jAt=null,this.VAt=new Map,this.HAt=NaN,this.zAt=new Map,this.JAt="",this.qAt=1,this.XAt=x.mn(x.Rect),this.$At="",this.YAt=null,this.KAt=null,this.ZAt=0,this.QAt=0,this.tkt=-1,this.skt=0,this.ekt=t=>this.skt=t.progress,this.ikt=null,this.rkt={nkt:null,hkt:null,okt:null},this.akt=0,this.lkt=0,this.ukt=0,this.ckt="fade-in",this.fkt=null,this.dkt=new Promise(t=>this.fkt=t)}pkt(t){this.lAt=t}mkt(t){this.nAt=!!t}gkt(t){this.By=t}ykt(){return this.By}Skt(t){this.vAt=t}wkt(t,s){this.xAt=t,this.MAt=s}bkt(t){this.uAt=!!t}vkt(t){this.cAt=t}async Bo(t){let s=t.canvas,e=(this.rAt.push({canvas:s,xkt:null}),this.mf.BN("runtime","window-resize",t=>this.Mkt(t)),this.mf.BN("runtime","fullscreenchange",t=>this.Tkt(t)),this.mf.BN("runtime","fullscreenerror",t=>this.Gkt(t)),s.addEventListener("webglcontextlost",t=>this._kt(t)),s.addEventListener("webglcontextrestored",t=>this.Ikt(t)),this.FAt=!!t.isFullscreen,this.pAt=t.cssDisplayMode,navigator.gpu&&this.nAt),i=!1;if(e)try{await this.Ckt(!0)}catch(t){this.Rkt("WebGPU",t),this.oAt=null}if(!this.eb())try{await this.Ekt(!0)}catch(t){this.Rkt("WebGL",t),this.hAt=null}if(this.eb()||(i=!0),!this.eb()&&e)try{await this.Ckt(!1)}catch(t){this.Rkt("WebGPU",t),this.oAt=null}if(!this.eb())try{await this.Ekt(!1)}catch(t){this.Rkt("WebGL",t),this.hAt=null}const r=this.eb();if(!r)throw new Error("failed to acquire a renderer - check WebGL or WebGPU is supported");r.M2(i),this.oAt&&(this.oAt.Pkt=()=>this.Fkt(),this.oAt.Akt=()=>this.kkt()),"normalized"===this.By?r.ES():(r.PS(),r.CS(this.vAt)),this.mC(t.windowInnerWidth,t.windowInnerHeight,!0),await this.BPt()}Rkt(t,s){s&&"string"==typeof s.message&&s.message.startsWith("renderer-unavailable")||console.error(`Error creating ${t} renderer: `,s)}async Ckt(t){let s={Ey:this.xAt,Py:this.MAt},e=!0;"no"===this.cAt?e=!1:"auto"===this.cAt&&(e=x.ue.we);const i={powerPreference:this.lAt,depth:this.mf.X9(),failIfMajorPerformanceCaveat:t,Dkt:this.mf.KJ(),Okt:this.mf.Bkt(),TR:this.mf.Lkt(),Nkt:e};this.oAt=x.mn(x.gy.WebGPURenderer,s),await this.oAt.GM(this.rAt[0].canvas,i)}async Ekt(t){const s={alpha:!0,powerPreference:this.lAt,MR:"xbox-uwp-webview2"!==this.mf.zO(),depth:this.mf.X9(),TR:this.mf.Lkt(),failIfMajorPerformanceCaveat:t,Ey:this.xAt,Py:this.MAt};this.uAt&&(s.GR=1),this.hAt=x.mn(x.gy.CR,this.rAt[0].canvas,s),await this.hAt.SS()}async Wkt(){if(this.DAt){const t=[];for(const[s,e]of Object.entries(this.DAt)){e.src=e.Ukt;const i=x.gy.WebGPUShaderProgram.HT();t.push(this.oAt.A3(Object.assign({xM:i,name:s},e)))}await Promise.all(t)}}async jkt(){if(this.DAt){const s=[];for(const[e,i]of Object.entries(this.DAt)){let t;if(i.Vkt&&2<=this.hAt.nx())i.src=i.Vkt,t=x.gy.bM.zT();else{if(!i.Hkt)throw new Error(`shader '${e}' does not support WebGL 1`);i.src=i.Hkt,t=x.gy.bM.HT()}s.push(this.hAt.A3(Object.assign({xM:t,name:e},i)))}await Promise.all(s),this.hAt.D3(),this.hAt.jS()}this.hAt.$E()&&(this.jAt=x.mn(x.gy.dR,this.hAt))}async BPt(){this.oAt?await this.Wkt():this.hAt&&await this.jkt();const t=this.eb();t.b2(this.dS),t.$E()&&(this.UAt=0);for(const s of this.mf.zkt()){for(const e of s.fB())e.BPt(t);s.BPt(t),s.Q6()}this.aAt=new self.mj(this.mf,t)}gn(){this.mf=null,this.hAt=null,this.rAt.length=0}nk(){return this.mf.nk()}Mkt(t){const s=this.mf;if(!s.Jkt()){const e=t.devicePixelRatio,i=(this.nk()&&(self.devicePixelRatio=e),s.qkt(e),this.FAt=!!t.isFullscreen,this.pAt=t.cssDisplayMode,this.mC(t.innerWidth,t.innerHeight),s.XD(),new x.Event("window-resize")),r=(i.data=t,s.Xf().r0(i),new x.Event("resize"));r.Xkt=this.QO(),r.$kt=this.s5(),r.Ykt=this.i5(),r.Kkt=this.n5(),s.Q$(r),s.jN()&&(s.k1t()||self.C3Debugger.IsDebuggerPaused())&&s.LF()}}Tkt(t){this.FAt=!!t.isFullscreen,this.mC(t.innerWidth,t.innerHeight,!0),this.mf.XD()}Gkt(t){this.FAt=!!t.isFullscreen,this.mC(t.innerWidth,t.innerHeight,!0),this.mf.XD()}mC(t,s,e=!1){if(t=Math.floor(t),s=Math.floor(s),t<=0||s<=0)throw new Error("invalid size");if(this.fAt!==t||this.dAt!==s||e){this.fAt=t,this.dAt=s;const i=this.Zkt();"letterbox-scale"===i?this.Qkt(t,s):"letterbox-integer-scale"===i?this.tDt(t,s):"off"===i?this.sDt(t,s):this.eDt(t,s),this.iDt(i);for(const{canvas:h}of this.rAt)h.width=this.yAt,h.height=this.SAt;this.mf.Sf("canvas","update-size",{marginLeft:this.wAt,marginTop:this.bAt,styleWidth:this.mAt,styleHeight:this.gAt,displayScale:this.d8()});const r=this.eb();r.mC(this.yAt,this.SAt,!0);for(const o of this.AAt)r.VE(o);x.Vh(this.AAt),this.rDt();const n=this.mf.xD();n.xY(),n.MY()}}rDt(){this.eb().AS(this.RAt,this.jJ()/this.VJ())}HJ(){return this.RAt}Qkt(t,s){const e=this.mf.h5(),i=this.mf.ak(),r=this.mf.uk(),n=i/r,h=t/s;if(n<h){const o=s*n;this.mAt=Math.round(o),this.gAt=s,this.wAt=Math.floor((t-this.mAt)/2),this.bAt=0}else{const a=t/n;this.mAt=t,this.gAt=Math.round(a),this.wAt=0,this.bAt=Math.floor((s-this.gAt)/2)}this.yAt=Math.round(this.mAt*e),this.SAt=Math.round(this.gAt*e),this.mf.nDt(i,r)}tDt(t,s){let e=this.mf.h5(),i=(1!==e&&(t+=1,s+=1),this.mf.ak()),r=this.mf.uk(),n=i/r,h=t/s,o;if(n<h){const a=s*n;o=a*e/i}else{const l=t/n;o=l*e/r}1<o?o=Math.floor(o):o<1&&(o=1/Math.ceil(1/o)),this.yAt=Math.round(i*o),this.SAt=Math.round(r*o),this.mAt=this.yAt/e,this.gAt=this.SAt/e,this.wAt=Math.max(Math.floor((t-this.mAt)/2),0),this.bAt=Math.max(Math.floor((s-this.gAt)/2),0),this.mf.nDt(i,r)}eDt(t,s){const e=this.mf.h5(),i=(this.mAt=t,this.gAt=s,this.yAt=Math.round(this.mAt*e),this.SAt=Math.round(this.gAt*e),this.wAt=0,this.bAt=0,this.d8());this.mf.nDt(this.mAt/i,this.gAt/i)}sDt(t,s){const e=this.mf.h5();this.mAt=this.mf.L9(),this.gAt=this.mf.N9(),this.yAt=Math.round(this.mAt*e),this.SAt=Math.round(this.gAt*e),this.hDt()?(this.wAt=Math.floor((t-this.mAt)/2),this.bAt=Math.floor((s-this.gAt)/2)):(this.wAt=0,this.bAt=0),this.mf.nDt(this.mf.L9(),this.mf.N9())}iDt(e){if("high"===this.EAt)this.aF=this.yAt,this.lF=this.SAt,this.PAt="high";else{let t,s;if(s="off"===this.Zkt()?(t=this.mf.L9(),this.mf.N9()):(t=this.mf.ak(),this.mf.uk()),this.yAt<t||this.SAt<s)this.aF=this.yAt,this.lF=this.SAt,this.PAt="high";else if(this.aF=t,this.lF=s,this.PAt="low","scale-inner"===e){const i=t/s,r=this.fAt/this.dAt;r<i?this.aF=this.lF*r:i<r&&(this.lF=this.aF/r)}else if("scale-outer"===e){const n=t/s,h=this.fAt/this.dAt;n<h?this.aF=this.lF*h:h<n&&(this.lF=this.aF/h)}}}oO(){return this.mf}oDt(){return this.rAt[0].canvas}wz(){return this.OAt}hDt(){return this.FAt}aDt(){return this.pAt}lDt(t){if(!Pa.has(t))throw new Error("invalid fullscreen mode");this.GAt=t;const s=this.mf.xD();s.xY(),s.MY()}c8(){return this.GAt}uDt(t){if(!Pa.has(t))throw new Error("invalid fullscreen mode");this._At=t;const s=this.mf.xD();s.xY(),s.MY()}cDt(){return this._At}Zkt(){return this.hDt()?this.cDt():this.c8()}fDt(t){if(!Fa.has(t))throw new Error("invalid fullscreen scaling quality");this.EAt=t,this.mf.xD().xY()}dDt(){return this.EAt}ZJ(){return this.PAt}static pDt(t){switch(t){case 0:return"off";case 1:return"crop";case 2:return"scale-inner";case 3:return"scale-outer";case 4:return"letterbox-scale";case 5:return"letterbox-integer-scale";default:throw new Error("invalid fullscreen mode")}}ZU(){return this.fAt}QU(){return this.dAt}jJ(){return this.aF}VJ(){return this.lF}b2(t){this.dS=!!t}mDt(t){this.TAt=t}X7(){return this.TAt}gDt(){return this.eb().HC()}_kt(t){console.log("[Construct] WebGL context lost"),t.preventDefault(),this.AAt=[],this.kAt.clear(),this.OAt.Gb(),this.hAt.Gb(),this.mf.QX()}Fkt(){console.log("[Construct] WebGPU device lost"),this.AAt=[],this.kAt.clear(),this.OAt.Gb(),this.mf.QX()}async Ikt(t){await this.hAt._b(),await this.BPt(),await this.mf.yDt(),console.log("[Construct] WebGL context restored")}async kkt(){await this.BPt(),await this.mf.yDt(),console.log("[Construct] WebGPU device restored")}SDt(){return this.hAt}wDt(){return this.oAt}eb(){return this.oAt||this.hAt}JIt(){return this.aAt}XO(){let t="";return t=this.mf.wDt()?"webgpu":"webgl"+this.mf.SDt().nx(),this.mf.eb().T2()&&(t+="-software"),t}KO(){return this.mf.wDt()?this.mf.wDt().GetAdapterInfoString():this.mf.SDt().rP()}VL(){return"low"===this.PAt?1/this.mf.h5():this.d8()}d8(){const t=this.Zkt();if("off"===t||"crop"===t)return 1;const s=this.mf.ak(),e=this.mf.uk(),i=s/e,r=this.yAt/this.SAt;return"scale-inner"!==t&&i<r||"scale-inner"===t&&r<i?this.gAt/e:this.mAt/s}Mq(){return"low"===this.ZJ()?1:this.d8()}vq(){return"low"===this.ZJ()?1:this.mf.h5()}bDt(t,s){this.IAt=t,this.CAt=s}tV(s,e,i,t=!0){e=e||this.aF,i=i||this.lF;const r=e/2+this.IAt,n=i/2+this.CAt;if(t){let t=this.HJ();e===this.aF&&i===this.lF||(s.AS(ka,e/i),t=ka),s.B3(t)}const h=s.BS(r,n,s.bS(i),r,n,0,i);s.V3(h)}vDt(t,s=!0){const e=this.QO(),i=this.s5(),r=e/2,n=i/2,h=(s&&t.B3(this.HJ()),t.BS(r,n,t.bS(i),r,n,0,i));t.V3(h)}i5(){return this.yAt}n5(){return this.SAt}QO(){return this.mAt}s5(){return this.gAt}kL(){return this.wAt}DL(){return this.bAt}OX(){return this.rAt.length}xDt(){return"undefined"!=typeof OffscreenCanvas&&this.oDt()instanceof OffscreenCanvas&&("Chromium"!==x.ue.ye||124<=x.ue.ge)}async r$(i,r=!1){if(i<1)throw new Error("invalid HTML layer count");if(this.rAt.length!==i){let t=this.mf.xD().wD(),s={count:i,layersDomState:t.p9().filter(t=>t.oL()).map(t=>t.SJ()),immediate:r,marginLeft:this.wAt,marginTop:this.bAt,styleWidth:this.mAt,styleHeight:this.gAt},e;if(e=this.nk()?await this.mf.YD("canvas","set-html-layer-count",s):self.c3_runtimeInterface._OnSetHTMLLayerCount(s),i<this.rAt.length)this.rAt.length=i;else for(const n of e.addedCanvases){n.width=this.yAt,n.height=this.SAt;const h=this.xDt()?"bitmaprenderer":"2d",o=n.getContext(h);if(!o)throw new Error(`failed to acquire '${h}' canvas context`);this.rAt.push({canvas:n,xkt:o})}this.mf.XD()}}Y$(t){if(!(t>=this.rAt.length)){const s=this.oDt(),e=this.rAt[t].xkt;this.xDt()?e.transferFromImageBitmap(s.transferToImageBitmap()):(e.globalCompositeOperation="copy",e.drawImage(s,0,0))}}QJ(s){s.depth=this.mf.X9();let t=this.AAt,e=t.findIndex(t=>t.pM(s)),i;return-1!==e?(i=t[e],t.splice(e,1)):i=this.eb().LE(s),this.kAt.add(i),i}vz(t){if(!this.kAt.has(t))throw new Error("render target not in use");this.kAt.delete(t),this.AAt.push(t)}BAt(){const t={Bv:this.mf.ck()};return"low"===this.ZJ()&&(t.width=this.jJ(),t.height=this.VJ()),this.QJ(t)}LAt(t){this.vz(t)}*MDt(){for(const t of this.mf.xD().wY())for(const s of t.IB()){const e=this.VAt.get(s);e&&(yield e)}}XJ(t){if(!this.eb().$E())return null;let s=this.VAt.get(t);return s||(s={a4:t,name:t.nf(),TDt:x.mn(x.gy.dR,this.hAt),GDt:0,_Dt:0,IDt:0},this.VAt.set(t,s)),s.TDt}CDt(){const t=this.eb();if(t.$E()&&0===this.WAt){this.WAt=t.S2(),this.HAt=NaN;for(const s of this.MDt())s.GDt=NaN}}RDt(){this.hAt&&this.hAt.$E()&&this.EDt(),this.oAt&&this.oAt.$E()&&this.PDt()}EDt(){if(isNaN(this.HAt)&&(this.HAt=this.jAt.bR(this.NAt,this.WAt),!isNaN(this.HAt))){if(this.mf.jN())for(const t of this.MDt())if(t.GDt=t.TDt.bR(this.NAt,this.WAt),isNaN(t.GDt))return;if(this.jAt.vR(this.WAt),this.UAt=Math.min(this.HAt,1),this.mf.jN()){const e=new Map;for(const r of this.MDt())r.TDt.vR(this.WAt),r._Dt=Math.min(r.GDt,1),e.set(r.a4,r._Dt);for(const n of this.MDt()){const h=n.a4,o=e.get(h)||0,a=o-h.KB().reduce((t,s)=>t+(e.get(s)||0),0);n.IDt=x.vn(a,0,1)}const s=this.mf.wD(),i=this.UAt-s.p9().reduce((t,s)=>t+(e.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(x.vn(i,0,1),this.UAt,[...this.MDt()])}this.NAt=this.WAt,this.WAt=0}}FDt(){return this.jAt}PDt(){if(0!==this.WAt){for(let t=this.NAt;t<this.WAt;++t){const e=this.zAt.get(t);if(e&&!e.eR())return}let t=this.mf.wD(),h=x.Xo(t.EX()+1,0),s=0;for(let t=this.NAt;t<this.WAt;++t){const o=this.zAt.get(t);if(o){let e=o.iR(),i=BigInt(0),r=BigInt(0),n=BigInt(0);for(let t=0,s=Math.min(h.length,e.length/2);t<s;++t){const u=e[2*t],c=e[2*t+1],f=(u!==n&&(i===n||u<i)&&(i=u),c>r&&(r=c),c-u),d=Number(f)/1e9;h[t]+=d}const a=r-i,l=Number(a)/1e9;s+=l}}if(this.UAt=x.vn(s,0,1),this.mf.jN()){const i=t.IB(),r=new Map;for(let t=0,s=Math.min(i.length,h.length-1);t<s;++t){const g=h[t+1];r.set(i[t],g)}const n=[],p=new Map;for(const[y,S]of r){const w=[...y.QB()].reduce((t,s)=>t+(r.get(s)||0),0);p.set(y,w),n.push({name:y.nf(),IDt:x.vn(S,0,1),_Dt:x.vn(w,0,1)})}const m=this.UAt-t.p9().reduce((t,s)=>t+(p.get(s)||0),0);self.C3Debugger.UpdateGPUProfile(x.vn(m,0,1),this.UAt,n)}for(let t=this.NAt;t<this.WAt;++t)this.zAt.delete(t);this.NAt=this.WAt,this.WAt=0}}ADt(t){this.zAt.set(this.oAt.S2(),t)}rD(){return this.UAt}kDt(t,s,e,i,r,n){return this.JAt=t,this.qAt=s,this.XAt.vl(e,i,r,n),this.YAt||(this.YAt=new Promise(t=>{this.KAt=t})),this.YAt}DDt(){if(this.JAt){let t=this.oDt(),s=this.XAt,e=x.vn(Math.floor(s.Rl()),0,t.width),i=x.vn(Math.floor(s.El()),0,t.height),r=s.width(),n=(r=0===r?t.width-e:x.vn(Math.floor(r),0,t.width-e),s.height());if(n=0===n?t.height-i:x.vn(Math.floor(n),0,t.height-i),(0!==e||0!==i||r!==t.width||n!==t.height)&&0<r&&0<n){const h=x.Bo(r,n),o=h.getContext("2d");o.drawImage(t,e,i,r,n,0,0,r,n),t=h}x.Lo(t,this.JAt,this.qAt).then(t=>{this.$At&&URL.revokeObjectURL(this.$At),this.$At=URL.createObjectURL(t),this.YAt=null,this.KAt(this.$At)}),this.JAt="",this.qAt=1}}ODt(){return this.$At}BDt(t){t?this.ZAt++:this.ZAt--}LDt(){return 0<this.ZAt}NDt(t){const s=this.eb();if(2===t)this.ikt=x.mn(x.gy.P2,this.eb()),this.ikt.zI("Arial"),this.ikt.JI(16),this.ikt.hC("center"),this.ikt.aC("center"),this.ikt.mC(300,200);else if(0===t){const e=this.mf.WDt();e&&e.Jj(s).catch(t=>console.warn("[C3 runtime] Failed to create texture for loading logo: ",t))}else 4===t&&(this.UDt("splash-images/splash-logo.svg").then(t=>{"done"===this.ckt?s.Qx(t):this.rkt.nkt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.jDt("splash-images/splash-poweredby-512.png").then(t=>{"done"===this.ckt?s.Qx(t):this.rkt.hkt=t}).catch(t=>console.warn("Failed to load splash image: ",t)),this.jDt("splash-images/splash-website-512.png").then(t=>{"done"===this.ckt?s.Qx(t):this.rkt.okt=t}).catch(t=>console.warn("Failed to load splash image: ",t)))}async UDt(t){t=new URL(t,this.mf.VDt()).toString();const s=await x.Eo(t),e=await this.mf.HDt(s,2048,2048);return this.eb().BE(e,{Uv:"high"})}async jDt(t){t=new URL(t,this.mf.VDt()).toString();const s=await x.Eo(t);return this.eb().BE(s,{Uv:"high"})}zDt(){this.mf.Sf("runtime","hide-cordova-splash")}JDt(){this.QAt=Date.now(),this.mf.Xf().addEventListener("loadingprogress",this.ekt),this.tkt=requestAnimationFrame(()=>this.qDt());const t=this.mf.XDt();3!==t&&this.zDt()}async $Dt(){const t=this.eb(),s=(this.skt=1,this.mf.XDt());4===s&&await this.dkt,this.fkt=null,this.dkt=null,-1!==this.tkt&&(cancelAnimationFrame(this.tkt),this.tkt=-1),this.mf.Xf().removeEventListener("loadingprogress",this.ekt),this.ekt=null,this.ikt&&(this.ikt.gn(),this.ikt=null),this.mf.YDt(),t.IE(),this.rkt.nkt&&(t.Qx(this.rkt.nkt),this.rkt.nkt=null),this.rkt.hkt&&(t.Qx(this.rkt.hkt),this.rkt.hkt=null),this.rkt.okt&&(t.Qx(this.rkt.okt),this.rkt.okt=null),t._E(0,0,0,0),t.m2(),this.ckt="done",this.NAt=t.S2(),3===s&&this.zDt()}qDt(){if(-1!==this.tkt){const t=this.eb(),s=(t.IE(),this.tkt=-1,this.mf.zA().w7()),e=this.mf.XDt();if(3!==e&&(this.vDt(t),t._E(0,0,0,0),t.Z3(),t.jS(),t.tE(null)),0===e)this.KDt(s);else if(1===e)this.ZDt(s,120,0);else if(2===e)this.QDt(s);else if(3===e)x.Nh();else{if(4!==e)throw new Error("invalid loader style");this.tOt(s)}t.m2(),this.tkt=requestAnimationFrame(()=>this.qDt())}}QDt(t){t?this.ikt.nC(1,0,0):this.ikt.nC(.6,.6,.6),this.ikt.wf(Math.round(100*this.skt)+"%");const s=this.mAt/2,e=this.gAt/2,i=(Da.pu(s-150,e-100,150+s,100+e),this.eb());i.tE(this.ikt.nM()),i.Lw(Da,this.ikt.JC())}ZDt(t,s,e){const i=this.eb(),r=(i.XS(),t?i.Y3(1,0,0,1):i.Y3(.118,.565,1,1),this.mAt/2),n=this.gAt/2,h=s/2;M.vl(r-h,n-4+e,Math.floor(s*this.skt),8),i.Rect(M),M.vl(r-h,n-4+e,s,8),M.offset(-.5,-.5),M.jl(.5,.5),i.Y3(0,0,0,1),i.Vw(M),M.jl(1,1),i.Y3(1,1,1,1),i.Vw(M)}KDt(t){const s=this.eb(),e=this.mf.WDt();if(e){const i=e.nM();if(i){const r=i.Sm(),n=i.Rm(),h=this.mAt/2,o=this.gAt/2,a=r/2,l=n/2;Da.pu(h-a,o-l,h+a,o+l),s.tE(i),s.nu(Da),this.ZDt(t,r,16+l)}else this.ZDt(t,120,0)}else this.ZDt(t,120,0)}tOt(t){let s=this.eb(),e=this.rkt.nkt,i=this.rkt.hkt,r=this.rkt.okt,n=Date.now(),h=(0===this.akt&&(this.QAt=n),this.mf.sOt()||this.mf.eOt()&&!this.mf.iOt()),o=h?0:200,a=h?0:3e3,l=1,u=("fade-in"===this.ckt?l=Math.min((n-this.QAt)/300,1):"fade-out"===this.ckt&&(l=Math.max(1-(n-this.ukt)/300,0)),s.XS(),s.Y3(.231*l,.251*l,.271*l,l),M.set(0,0,this.mAt,this.gAt),s.Rect(M),Math.ceil(this.mAt)),c=Math.ceil(this.gAt),f,d;256<this.gAt?(s.Y3(.302*l,.334*l,.365*l,l),f=u,d=Math.max(.005*c,2),M.vl(0,.8*c-d/2,f,d),s.Rect(M),t?s.Y3(l,0,0,l):s.Y3(.161*l,.953*l,.816*l,l),f=u*this.skt,M.vl(.5*u-f/2,.8*c-d/2,f,d),s.Rect(M),s.Y3(l,l,l,l),s.jS(),i&&(f=1.5*x.vn(.22*c,105,.6*u),d=f/8,M.vl(.5*u-f/2,.2*c-d/2,f,d),s.tE(i),s.Rect(M)),e&&(f=Math.min(.395*c,.95*u),d=f,M.vl(.5*u-f/2,.485*c-d/2,f,d),s.tE(e),s.Rect(M)),r&&(f=1.5*x.vn(.22*c,105,.6*u),d=f/8,M.vl(.5*u-f/2,.868*c-d/2,f,d),s.tE(r),s.Rect(M))):(s.Y3(.302*l,.334*l,.365*l,l),f=u,d=Math.max(.005*c,2),M.vl(0,.85*c-d/2,f,d),s.Rect(M),t?s.Y3(l,0,0,l):s.Y3(.161*l,.953*l,.816*l,l),f=u*this.skt,M.vl(.5*u-f/2,.85*c-d/2,f,d),s.Rect(M),s.Y3(l,l,l,l),s.jS(),e&&(f=.55*c,d=f,M.vl(.5*u-f/2,.45*c-d/2,f,d),s.tE(e),s.Rect(M))),this.akt++,"fade-in"===this.ckt&&300<=n-this.QAt&&2<=this.akt&&(this.ckt="wait",this.lkt=n),"wait"===this.ckt&&n-this.lkt>=a&&1<=this.skt&&(this.ckt="fade-out",this.ukt=n),("fade-out"===this.ckt&&n-this.ukt>=300+o||h&&1<=this.skt&&n-this.QAt<500)&&this.fkt()}}}{let j=self.Ls,V=self.C3Debugger,r=self.T8,e={messagePort:null,runtimeBaseUrl:"",headless:!1,hasDom:!0,isInWorker:!1,useAudio:!0,exportType:""},h=!0;j.rOt=class extends j.dn{constructor(t){t=Object.assign({},e,t),super(),this.nOt=t.messagePort,this.hOt=t.runtimeBaseUrl,this.oOt=t.previewUrl,this.aOt=!!t.headless,this.lOt=!!t.hasDom,this.uOt=!!t.isInWorker,h=t.ife,this.cOt=!!t.useAudio,this.fOt=t.exportType,this.dOt=t.isNWjs,this.xV=!!t.isiOSCordova,this.pOt=!!t.isiOSWebView,this.mOt=!!t.isWindowsWebView2,this.gOt=!!t.isAnyWebView2Wrapper,this.yOt=!!t.isFBInstantAvailable,this.SOt=!("preview"!==this.fOt||!t.isDebug),this.wOt=this.SOt,this.bOt=this.SOt,this.vOt=0,this.xOt=[],this.MOt=[],this.TOt=!1,this.GOt="",this._Ot="",this.IOt="",this.COt="",this.ROt=0,this.EOt=0,this.POt=0,this.yF=self.devicePixelRatio,this.FOt=0,this.AOt=0,this.kOt=0,this.DOt=0,this.OOt=0,this.BOt=!1,this.Hg=!0,this.LOt=!1,this.NOt=!1,this.WOt=!1,this.UOt=null,this.D7=j.mn(j.SV,this,t),this.Nq=j.mn(j.eY,this),this.i0t=j.mn(j.tdt,this),this.jOt=j.mn(j.f5,this,t.wrapperComponentIds),this.VOt=j.mn(j.tFt,this),this.OQ=j.mn(j.TY,this),this.HOt=j.mn(j.jlt,this),this.zOt=j.mn(j.Hlt,this),this.rut=j.mn(j.Zlt,this),this.Ng=j.mn(j.Ig,{Eg:t=>this.JOt(t),Fg:t=>this.qOt(t)}),this.XOt=new Map,this.$Ot=[],this.YOt=new Map,this.KOt=new Map,this.ZOt=0,this.QOt=[],this.t5t=new Set,this.s5t=[],this.e5t=[],this.i5t=new Map,this.r5t=!1,this.n5t=!1,this.h5t=0,this.o5t=0,this.a5t=new Map,this.l5t=new Set,this.u5t=new Set,this.c5t=[],this.f5t=[],this.d5t=null,this.p5t=!1,this.m5t="vsync",this.Xv="trilinear",this.g5t=!1,this.y5t=!0,this.S5t=!1,this.w5t=!1,this.b5t=null,this.v5t={x5t:t=>{this.tkt=-1,this.M5t=-1,this.XK(t)},T5t:t=>{this.M5t=-1,this.XK(t,!1,"skip-render")},G5t:()=>{this.tkt=-1,this.LF()}},this.tkt=-1,this.M5t=-1,this._5t=0,this.I5t=0,this.C5t=!1,this.R5t=!1,this.E5t=!1,this.P5t=!0,this.F5t=!0,this.A5t=!1,this.k5t=0,this.D5t=new j.bd(1),this.O5t=()=>Math.random(),this.B5t=0,this.L5t=0,this.N5t=0,this.W5t=0,this.U5t=0,this.VCt=1,this.j5t=1/30,this.V5t=0,this.H5t=j.mn(j.R0),this.z5t=j.mn(j.R0),this.J5t=j.mn(j.R0),this.q5t=new Map,this.X5t=-1,this.$5t=0,this.Y5t=0,this.K5t=-1,this.Z5t=0,this.Q5t=0,this.tBt=0,this.sBt=!1,this.eBt="",this.iBt=!1,this.rBt="",this.$N=null,this.nBt="",this.hBt=null,this.oBt=null,this.q_t=j.mn(j.Event.Xf),this.aBt=new Map,this.lBt=new Map,this.uBt=0,this.cBt=!1,this.fBt=!1,this.dBt=!1,this.pBt=[],this.mBt={pretick:j.mn(j.Event,"pretick",!1),tick:j.mn(j.Event,"tick",!1),tick2:j.mn(j.Event,"tick2",!1),instancecreate:j.mn(j.Event,"instancecreate",!1),instancedestroy:j.mn(j.Event,"instancedestroy",!1),beforelayoutchange:j.mn(j.Event,"beforelayoutchange",!1),layoutchange:j.mn(j.Event,"layoutchange",!1)},this.mBt.instancecreate.z6=null,this.mBt.instancedestroy.z6=null,this.yX=j.mn(j.Event.Xf),this.gBt=null;const s=(t,s)=>j.UCt.TPt(this,t,s);this.yBt=j.mn(j.L0,s),this.SBt=j.mn(j.L0,s),this.wBt=j.mn(j.L0,s),this.bBt=j.mn(j.vBt,this,t.jobScheduler),t.canvas&&(this.d5t=j.mn(j.iAt,this)),this.nOt.onmessage=t=>this._OnMessageFromDOM(t.data),this.BN("runtime","visibilitychange",t=>this.xBt(t)),this.BN("runtime","wrapper-extension-message",t=>this.MBt(t)),this.BN("runtime","get-remote-preview-status-info",()=>this.TBt()),this.BN("runtime","js-invoke-function",t=>this.Cdt(t)),this.BN("runtime","go-to-last-error-script",self.goToLastErrorScript),this.BN("runtime","offline-audio-render-completed",t=>this.GBt(t)),this.q_t.addEventListener("window-blur",t=>this._Bt(t)),this.q_t.addEventListener("window-focus",()=>this.IBt()),this.OQ.iK(),this.zOt.iK(),this.CBt=null,this.RBt=new WeakMap,this.EBt={keyboard:null,ED:null,PD:null,FD:null},this.PBt=new WeakMap,this.FBt=[]}static GM(t){return j.mn(j.rOt,t)}gn(){j.Vh(this.$Ot),this.YOt.clear(),this.KOt.clear(),this.Nq.gn(),this.Nq=null,this.i0t.gn(),this.i0t=null,this.jOt.gn(),this.jOt=null,this.D7.gn(),this.D7=null,this.VOt.gn(),this.VOt=null,this.OQ.gn(),this.OQ=null,this.HOt.gn(),this.HOt=null,this.zOt.gn(),this.zOt=null,this.rut.gn(),this.rut=null,this.Ng.gn(),this.Ng=null,this.d5t&&(this.d5t.gn(),this.d5t=null),this.q_t.gn(),this.q_t=null,this.ABt=null}["_OnMessageFromDOM"](t){const s=t.type;if("event"===s)this.kBt(t);else{if("result"!==s)throw new Error(`unknown message '${s}'`);this.DBt(t)}}kBt(t){if(this.dBt){const s=t.component,e=t.handler,i=t.data,r=t.dispatchOpts,n=!(!r||!r.dispatchRuntimeEvent),h=!(!r||!r.dispatchUserScriptEvent),o=t.responseId;if("runtime"===s){if(n){const l=new j.Event(e);l.data=i,this.q_t.r0(l)}if(h){const u=new j.Event(e,!0);for(const[c,f]of Object.entries(i))u[c]=f;this.Q$(u)}}const a=this.aBt.get(s);if(a){const d=a.get(e);if(d){let t=null;try{t=d(i)}catch(t){return console.error(`Exception in '${s}' handler '${e}':`,t),void(null!==o&&this.OBt(o,!1,""+t))}null!==o&&(t&&t.then?t.then(t=>this.OBt(o,!0,t)).catch(t=>{console.error(`Rejection from '${s}' handler '${e}':`,t),this.OBt(o,!1,""+t)}):this.OBt(o,!0,t))}else n||h||console.warn(`[Runtime] No DOM handler '${e}' for component '${s}'`)}else n||h||console.warn(`[Runtime] No DOM event handlers for component '${s}'`)}else this.pBt.push(t)}OBt(t,s,e){this.nOt.postMessage({type:"result",responseId:t,isOk:s,result:e})}DBt(t){const s=t.responseId,e=t.isOk,i=t.result,r=this.lBt.get(s);e?r.resolve(i):r.reject(i),this.lBt.delete(s)}BN(t,s,e){let i=this.aBt.get(t);if(i||(i=new Map,this.aBt.set(t,i)),i.has(s))throw new Error(`[Runtime] Component '${t}' already has handler '${s}'`);i.set(s,e)}Sf(t,s,e,i){this.nOt.postMessage({type:"event",component:t,handler:s,data:e,responseId:null},i)}YD(t,s,e,i){const r=this.uBt++,n=new Promise((t,s)=>{this.lBt.set(r,{resolve:t,reject:s})});return this.nOt.postMessage({type:"event",component:t,handler:s,data:e,responseId:r},i),n}B8(t,s,e,i=-1){this.Sf("runtime","send-wrapper-extension-message",{componentId:t,messageId:s,params:e,asyncId:i})}L8(t,s,e){const i=this.uBt++,r=new Promise((t,s)=>{this.lBt.set(i,{resolve:t,reject:s})});return this.B8(t,s,e,i),r}MBt(t){if(-1!==t.asyncId){const s=t.asyncId,e=this.lBt.get(s);e.resolve(t.params),this.lBt.delete(s)}else this.kBt({component:"wrapper-extension:"+t.componentId,handler:t.messageId,data:t.params,responseId:null})}QN(t,s,e){this.BN("wrapper-extension:"+t,s,e)}KN(t){return this.jOt.KN(t)}BBt(t){if(!this.jN())throw new Error("not in debug mode");this.Sf("runtime","post-to-debugger",t)}async JCt(t){j.ybt(this),this.jN()?await V.JCt(this):self.C3Debugger&&self.C3Debugger.InitPreview(this);const s=await this.D7.Ro("data.json");if(await this.LBt(s),await this.NBt(t),this.sOt()||console.info("%cMade with Construct, the game and animation creation tool. Visit: https://www.construct.net","font-weight: bold"),this.SDt()){const e=this.SDt();console.info(`[C3 runtime] Hosted in ${this.nk()?"worker":"DOM"}, rendering with WebGL ${e.nx()} [${e.rP()}]`)}else this.wDt()&&console.info(`[C3 runtime] Hosted in ${this.nk()?"worker":"DOM"}, rendering with WebGPU [${this.wDt().GetAdapterInfoString()}]`);this.eb().T2()&&console.warn("[C3 runtime] The renderer indicates a major performance caveat. Software rendering may be in use. This can result in significantly degraded performance."),this.dBt=!0;for(const i of this.pBt)this.kBt(i);j.Vh(this.pBt),this.d5t&&this.d5t.JDt();for(const r of t.runOnStartupFunctions)this.xOt.push(this.WBt(r));if(await Promise.all([this.D7.y7(),...this.xOt]),j.Vh(this.xOt),!this.D7.w7())return this.d5t&&await this.d5t.$Dt(),await this.q_t.e0(new j.Event("beforeruntimestart")),await this.IE(),this.nOt.postMessage({type:"runtime-ready"}),this;this.d5t&&this.d5t.zDt()}async WBt(t){try{await t(this.CBt)}catch(t){console.error("[C3 runtime] Error in runOnStartup function: ",t)}}async LBt(t){const s=t.project,e=(this.GOt=s[0],this._Ot=s[16],this.IOt=s[31],this.COt=s[38],this.ROt=s[36],s[39]||"loading-logo.png"),i=(this.g5t=!!s[9],this.EOt=this.kOt=s[10],this.POt=this.DOt=s[11],this.VOt.WFt(this.EOt,this.POt),this.FOt=this.EOt/2,this.AOt=this.POt/2,this.m5t=s[37],this.p5t=!!s[40],this.Xv=s[14],this.LOt=s[15],this.NOt=s[42],this.WOt=s[17],this.BOt=!!s[18],this.OOt=s[19],this.o5t=s[21],this.S5t=s[22],this.D7);if(i.XV(s[45]),i._7(s[7],s[25]),i.YV(s[8]),i.KV(s[32]),i.QV(s[28]),i.x7(s[29]),0===this.OOt){let t;(t="flat"===i.mO()?i.t7()+e:e)&&(this.UOt=i.u7({url:t}))}this.d5t&&(this.d5t.lDt(j.iAt.pDt(s[12])),this.d5t.fDt(s[23]?"high":"low"),this.d5t.b2(0!==s[24]),this.d5t.pkt(s[34]),this.d5t.mDt(s[41]),this.d5t.mkt(s[13]),this.d5t.gkt(s[30]),this.d5t.wkt(s[46],s[47]),this.d5t.Skt(s[26]),this.d5t.bkt(s[48]),this.d5t.vkt(s[50]));const r=s[43],n=(r&&await this.UBt(r),this.jBt(),this.jOt.kGt(),this.c5t=self.VBt(),s[2]);for(const l of n[1])this.jOt.DGt(l);for(const u of n[0])this.jOt.AGt(u);this.c5t=self.VBt(),this.HBt(),this.jOt.NGt();for(const c of s[3]){const f=j.$lt.GM(this,this.$Ot.length,c);this.$Ot.push(f),this.YOt.set(f.nf().toLowerCase(),f),this.KOt.set(f.m9(),f)}for(const d of s[4]){const p=this.$Ot[d[0]];p.PIt(d)}for(const m of s[27]){const g=m.map(t=>this.$Ot[t]);this.QOt.push(j.mn(j.ECt,this,g))}this.zBt();for(const y of this.$Ot)y.AIt();for(const S of s[5])this.Nq.GM(S);const h=s[1];if(h){const w=this.Nq.pY(h);w&&this.Nq.fY(w)}for(const b of s[35])this.HOt.GM(b);for(const v of s[33])this.OQ.GM(v);for(const x of s[44])this.zOt.GM(x);this.zOt.qlt()||(this.zOt.gn(),this.zOt=null);for(const M of s[49])this.rut.GM(M);this.rut.eut()||(this.rut.gn(),this.rut=null);for(const T of s[6])this.i0t.GM(T);this.i0t.Pdt(),this.JBt(),j.Vh(this.c5t),this.lB();let o="any",a=s[20];1===a?o="portrait":2===a&&(o="landscape"),this.Sf("runtime","set-target-orientation",{targetOrientation:o})}async UBt(t){const s=t.format;"image-sequence"===s?this.b5t=new self.C3ExportToImageSequence(this,t):"image-sequence-gif"===s?this.b5t=new self.C3ExportToGIF(this,t):"webm"===s?this.b5t=new self.C3ExportToWebMVideo(this,t):"mp4"===s&&(this.b5t=new self.C3ExportToMP4Video(this,t)),this.m5t="unlimited-frame",this.d5t.lDt("off"),this.yF=1,self.devicePixelRatio=1,await this.YD("runtime","set-exporting-to-video",{message:this.b5t.GetExportingMessageForPercent(0),duration:this.b5t.wW()})}XDt(){return this.OOt}Jkt(){return null!==this.b5t}qBt(){return this.b5t.wW()}XBt(){return this.b5t.GetFramerate()}$Bt(){return this.b5t.JCt({width:this.d5t.i5(),height:this.d5t.n5()})}YBt(){const t=this._5t/this.XBt();return this.b5t.AddFrame(this.d5t.oDt(),t)}KBt(){this.b5t&&this.b5t.Xet()}GBt(t){this.b5t.OnOfflineAudioRenderCompleted(t)}ZBt(){return this.b5t.m2()}eOt(){return this.yOt}$g(){return this.Hg}tO(t){this.xOt.push(t)}h$(t){this.TOt=!!t}QBt(t){this.TOt&&this.MOt.push(t)}f$(){return this.MOt}TIt(){return this.ZOt++}DIt(){return this.ZOt}APt(t){this.t5t.add(t)}kPt(t){this.t5t.delete(t)}zkt(){return this.t5t}async NBt(t){this.d5t&&(await this.d5t.Bo(t),this.d5t.NDt(this.OOt))}async IE(){this.C5t=!0,this.B5t=Date.now();let s=null,t=new Promise(t=>s=t);if(this.BOt){for(const r of this.$Ot)r.o9()||r.HIt()||!r.y5()||r.AMt();(async()=>{await this.D7.y7(),await t,this.Hg=!1,this.tLt()})()}else this.Hg=!1;this.D7.S7(),this.jN()&&V.RuntimeInit(h);for(const n of this.Nq.GD())n.E$();this.Jkt()&&await this.$Bt();const e=this.Nq.dY(),i=(await e.HX(null,this.eb()),await e.t$(!0),this.$5t=performance.now(),s(),this.BOt||this.tLt(),await this.YD("runtime","before-start-ticking"));i.isSuspended&&!this.Jkt()?(this.k5t++,this.A5t=!0):this.XK()}tLt(){this.AN(j.T$.M$.x$.sLt,null,null),this.Sf("runtime","register-sw")}Byt(t){t=Math.floor(t);const s=this.c5t;if(t<0||t>=s.length)throw new Error("invalid object reference");return s[t]}HBt(){for(const t of self.eLt){const s=j.first(Object.keys(t));this.f5t.push(s)}}s1t(t){t=Math.floor(t);const s=this.f5t;if(t<0||t>=s.length)throw new Error("invalid prop reference");return s[t]}iLt(){return this.lOt}rLt(){return this.aOt}nk(){return this.uOt}VDt(){return this.hOt}nLt(){return this.oOt}xk(){return this.i0t}Dk(){return this.i0t.Dk()}zdt(){return this.i0t.zdt()}Ck(){return this.i0t.Ck()}Jdt(){return this.i0t.Jdt()}mbt(){return 0===this.zdt().x0t()}Xdt(){return this.i0t.Xdt()}xPt(){return this.jOt}v7(){return this.jOt.v7()}Oz(t){if((t=Math.floor(t))<0||t>=this.$Ot.length)throw new RangeError("invalid index");return this.$Ot[t]}hLt(t){return this.YOt.get(t.toLowerCase())||null}q8(t){return this.KOt.get(t)||null}cnt(t){const s=j.f5.F5(t);return s?s.O5():null}h9(){return this.$Ot}*oLt(){for(const t of this.$Ot)t.o9()||(yield*t.instances())}Xf(){return this.q_t}Sk(){return this.yX}Q$(t){t.runtime=this.d5();const s=this.jN()&&!this.i0t.oB();s&&V.StartMeasuringScriptTime(),this.yX.dispatchEvent(t),s&&V.AddScriptTime()}w$(t){return t.runtime=this.d5(),this.yX.e0(t)}ak(){return this.EOt}uk(){return this.POt}aLt(t,s){if(this.EOt!==t||this.POt!==s){this.EOt=t,this.POt=s;const e=this.xD();e.xY(),e.MY()}}L9(){return this.kOt}N9(){return this.DOt}nDt(t,s){if(this.kOt!==t||this.DOt!==s){this.kOt=t,this.DOt=s;const e=this.xD();e.xY(),e.MY()}}qkt(t){this.Jkt()||(this.yF=t)}h5(){return this.yF}DJ(){return this.FOt}OJ(){return this.AOt}$O(){return this.d5t}jJ(){return this.d5t?this.d5t.jJ():this.kOt}VJ(){return this.d5t?this.d5t.VJ():this.DOt}VL(){return this.d5t?this.d5t.VL():1}d8(){return this.d5t?this.d5t.d8():1}Mq(){return this.d5t?this.d5t.Mq():1}vq(){return this.d5t?this.d5t.vq():1}kL(){return this.d5t?this.d5t.kL():0}DL(){return this.d5t?this.d5t.DL():0}lLt(){return this.d5t?this.d5t.QO():0}uLt(){return this.d5t?this.d5t.s5():0}c8(){return this.d5t?this.d5t.c8():"off"}QJ(t){return this.d5t?this.d5t.QJ(t):null}vz(t){this.d5t&&this.d5t.vz(t)}KJ(){return this.LOt}Bkt(){return this.NOt}Lkt(){return this.WOt}rD(){return this.d5t?this.d5t.rD():NaN}oM(){return"nearest"!==this.ck()}hD(){return this.m5t}oD(t){this.m5t!==t&&(this.m5t=t,-1!==this.tkt||-1!==this.M5t)&&(this.cLt(),this.fLt())}ck(){return this.Xv}CIt(){return this.BOt}WDt(){return this.UOt}YDt(){this.UOt&&(this.UOt.BI(),this.UOt.gn(),this.UOt=null)}xD(){return this.Nq}wD(){return this.Nq.wD()}vtt(){return this.OQ}dLt(){return this.HOt}xRt(){return this.zOt}_ut(){return this.rut}zA(){return this.D7}u7(t){return this.D7.u7(t)}iB(t,s,e,i,r,n){if(n&&this.zOt){if(t instanceof j.$lt&&t.o9()){const o=t.bgt(),a=Math.floor(this.SD()*o.length);return this.iB(o[a],s,e,i,r,n)}const h=this.zOt.Xlt(t,n);if(h){const l=this.Jz(h,s,!1,e,i,!1,r,void 0,r);return this.zOt.Ylt(l,n),l}}return this.Jz(t,s,!1,e,i,!1,r,void 0,r)}Jz(t,s,e,i,r,n,h,o,a){let l=null,u=null;if(t instanceof j.$lt){if((u=t).o9()){const b=u.bgt(),v=Math.floor(this.SD()*b.length);u=b[v]}l=u.Lz()}else l=t,u=this.Oz(l[1]);const c=u.U5().y5();if(this.Hg&&c&&!u.HIt())return null;const f=s;c||(s=null);let d;d=e&&!n&&l&&!this.a5t.has(l[2])?l[2]:this.o5t++;const p=l?l[0]:null,m=j.mn(j.Instance,{runtime:this,zL:u,a4:s,zCt:p,$Ct:l?l[3]:null,uid:d,tags:l?l[6]:null});this.a5t.set(d,m);let g=null,y=(c&&(g=m.UD(),void 0!==i&&void 0!==r&&(g.Db(i),g.Lb(r)),u.SCt(!0)),s&&(a||s.Xz(m,!0),s.MD().JX(u)),this.h5t++,!0);if(o){const x=o.JL();if(x.rN()&&u.rN()){const M=u.jX(),T=x.jX();M===T&&(y=!1)}}if(u.rN()&&!e&&!n&&y){const G=new Set;for(const _ of u.jX().I$())if(_!==u){const I=this.pLt(_,g,G);if(I){const C=this.Jz(I,f,!1,g?g.kb():i,g?g.Bb():r,!0,!1,void 0,a);m.C$(C)}else{const L=this.Jz(_,f,!1,g?g.kb():i,g?g.Bb():r,!0,!1,void 0,a);m.C$(L)}}for(const R of m.nN()){R.C$(m);for(const E of m.nN())R!==E&&R.C$(E)}}if(c&&!e&&h&&this.mLt(m,p,g,s,i,r,a),u.rN()&&!e&&!n&&h)for(const P of m.nN()){const F=P.UD();if(F){const N=P.U5(),A=P.JL().Lz()[0];N.y5()?this.mLt(P,A,F,s,F.kb(),F.Bb(),a):this.mLt(P,A,F,s,void 0,void 0,a)}}if(!n&&h){void 0===i&&(i=p[0]),void 0===r&&(r=p[1]);const k=g.U4(),W=i-g.kb()+k.kb(),U=r-g.Bb()+k.Bb();k.u4(W,U)}u.dCt();const O=l?j.ro(l[5]):null,B=l?l[4].map(t=>j.ro(t)):null,S=c&&p&&p[13];if(S&&m.sRt(),m.jIt(O,B),S){const D=p[13];m.k6().YMt(D[2],D[0],D[1])}this.e5t.push(m),this.r5t=!0,this.jN()&&V.InstanceCreated(m);const w=this.mBt.instancecreate;return w.z6=m,this.q_t.dispatchEvent(w),m}w3t(t){const s=t[0],e=t[1],i=t[2],r=t[6];if(r)return r;const n=this.Nq.mY(s),h=n.jD(e);return h.Uz(i)}pLt(t,s,e){const i=s?.vRt()??[];for(const r of i){const n=this.w3t(r),h=!!r[4],o=this.Oz(n[1]);if(!e.has(n)&&t===o&&h)return e.add(n),n}}mLt(a,t,s,l,u,c,f){const e=s.WEt(),i=s.vRt();if(a.UD().UEt(e),i){void 0===u&&(u=t[0]),void 0===c&&(c=t[1]);const d=new Set,p=t[0],m=t[1];for(const g of i){let t=g[0],s=g[1],e=g[2],i=g[3],r=!!g[4],n=g[5],h=g[6],o;if(h)o=h;else{const b=this.Nq.mY(t),v=b.jD(s);o=v.Uz(e)}const y=this.Oz(o[1]),S=a.MRt(y),w=d.has(y);if(S&&!w&&r){const x=a.TRt(y),M=(x.UD().JCt(o[0]),u+o[0][0]-p),T=c+o[0][1]-m;x.UD().u4(M,T),x.UD().UEt(n),a.Y4(x,{s6:!!(i>>0&1),i6:!!(i>>1&1),n6:!!(i>>2&1),o6:!!(i>>3&1),l6:!!(i>>4&1),y6:!!(i>>5&1),c6:!!(i>>6&1),d6:!!(i>>7&1),m6:!!(i>>8&1)}),d.add(y)}else{const G=u+o[0][0]-p,_=c+o[0][1]-m,I=this.Jz(o,l,!1,G,_,!1,!0,a,f);I.UD().UEt(n),a.Y4(I,{s6:!!(i>>0&1),i6:!!(i>>1&1),n6:!!(i>>2&1),o6:!!(i>>3&1),l6:!!(i>>4&1),y6:!!(i>>5&1),c6:!!(i>>6&1),d6:!!(i>>7&1),m6:!!(i>>8&1)})}}}}QL(e){if(!this.l5t.has(e)){let t=e.JL(),s=this.i5t.get(t);if(s){if(s.has(e))return;s.add(e)}else(s=new Set).add(e),this.i5t.set(t,s);if(this.jN()&&V.InstanceDestroyed(e),e.iRt(),this.r5t=!0,e.rN())for(const i of e.nN())this.QL(i);for(const r of e.children())r.S6()&&this.QL(r);if(!this.Nq.aB()&&!this.sBt){const n=this.xk();n.nB(!0),e.kRt(),n.nB(!1)}e.DRt(this.Nq.aB())}}lB(){this.r5t&&(this.n5t=!0,this.gLt(),this.yLt(),this.n5t=!1,this.r5t=!1,this.XD())}gLt(){for(const t of this.e5t){const s=t.JL();s.Xz(t);for(const e of s.a1t())e.Xz(t),e.dCt()}j.Vh(this.e5t)}yLt(){this.q_t.Uf(!0);for(const[t,s]of this.i5t.entries())this.SLt(t,s),s.clear();this.i5t.clear(),this.q_t.Uf(!1)}SLt(t,s){for(const e of s){const i=this.mBt.instancedestroy,r=(i.z6=e,this.q_t.dispatchEvent(i),this.a5t.delete(e.hN()),this.q5t.delete(e),e.UD());r&&(r.HEt(),r.Zz(),r.iRt()),this.l5t.add(e),this.h5t--}j.Zh(t.Z5(),s),t.dCt(),this.u5t.add(t);for(const n of t.a1t())j.Zh(n.Z5(),s),n.dCt(),this.u5t.add(n);if(t.U5().y5()){const h=new Set([...s].map(t=>t.UD().jD()));for(const o of h)o.cJ(s)}}mCt(){return this.e5t}*bvt(t){for(const s of this.mCt())t.o9()?s.JL().gbt(t)&&(yield s):s.JL()===t&&(yield s)}UIt(){return this.o5t++}VIt(t,s){this.a5t.set(t,s)}j8(t){this.F5t!==(t=!!t)&&(this.F5t=!!t,this.F5t)&&this.A5t&&(this.z8(!1),this.A5t=!1)}V8(){return this.F5t}QX(){this.q_t.dispatchEvent(j.mn(j.Event,"renderercontextlost")),this.z8(!0);for(const s of this.$Ot)!s.o9()&&s.zIt()&&s.KX();const t=this.wD();t&&t.QX(),j.jGt.q7(),j.f7.q7()}async yDt(){await this.wD().HX(null,this.eb()),this.q_t.dispatchEvent(j.mn(j.Event,"renderercontextrestored")),this.z8(!1),this.XD()}xBt(t){if(this.F5t){const s=t.hidden;this.z8(s),(this.A5t=s)||this.XD()}}_Bt(t){this.sOt()&&this.S5t&&!j.ue.ve&&!t.data.parentHasFocus&&(this.z8(!0),this.w5t=!0)}IBt(){this.w5t&&(this.z8(!1),this.w5t=!1)}fLt(){const t=this.v5t;"vsync"===this.m5t?-1===this.tkt&&(this.tkt=self.requestAnimationFrame(t.x5t)):"unlimited-tick"===this.m5t?(-1===this.M5t&&(this.M5t=j.So(t.T5t)),-1===this.tkt&&(this.tkt=self.requestAnimationFrame(t.G5t))):-1===this.M5t&&(this.M5t=j.So(t.x5t))}cLt(){-1!==this.tkt&&(self.cancelAnimationFrame(this.tkt),this.tkt=-1),-1!==this.M5t&&(j.wo(this.M5t),this.M5t=-1)}jk(){return 0<this.k5t}z8(t){if(!this.Jkt()){const s=this.jk(),e=(this.k5t+=t?1:-1,this.k5t<0&&(this.k5t=0),this.jk());if(!s&&e)console.log("[Construct] Suspending"),this.cLt(),this.q_t.dispatchEvent(j.mn(j.Event,"suspend")),this.AN(j.T$.M$.x$.wLt,null,null);else if(s&&!e){console.log("[Construct] Resuming");const i=performance.now();this.L5t=i,this.$5t=i,this.X5t=0,this.Y5t=0,this.K5t=0,this.Z5t=0,this.tBt=0,this.Q5t=0,this.q_t.dispatchEvent(j.mn(j.Event,"resume")),this.AN(j.T$.M$.x$.bLt,null,null),this.k1t()||this.XK(i)}}}C8(t){this.yBt.wc(t)}A8(t){this.SBt.wc(t)}P8(t){this.wBt.wc(t)}E8(t){this.yBt.I0(t)}k8(t){this.SBt.I0(t)}F8(t){this.wBt.I0(t)}vLt(t,s){let e=s?performance.now():0,i;return t instanceof r?(i=t.VN(),s&&V.AddIndividualBehaviorTickTime(t.behavior,performance.now()-e)):(i=t.XK(),s&&V.AddIndividualBehaviorTickTime(t.U6(),performance.now()-e)),i}xLt(){const t=this.jN();this.yBt.Sd(!0);for(const s of this.yBt)this.vLt(s,t);this.yBt.Sd(!1)}MLt(t,s){let e=s?performance.now():0,i;return t instanceof r?(i=t.O8(),s&&V.AddIndividualBehaviorTickTime(t.behavior,performance.now()-e)):(i=t.xGt(),s&&V.AddIndividualBehaviorTickTime(t.U6(),performance.now()-e)),i}TLt(){const t=this.jN();this.SBt.Sd(!0);for(const s of this.SBt)this.MLt(s,t);this.SBt.Sd(!1)}GLt(t,s){let e=s?performance.now():0,i;return t instanceof r?(i=t.zN(),s&&V.AddIndividualBehaviorTickTime(t.behavior,performance.now()-e)):(i=t.yTt(),s&&V.AddIndividualBehaviorTickTime(t.U6(),performance.now()-e)),i}_Lt(){const t=this.jN();this.wBt.Sd(!0);for(const s of this.wBt)this.GLt(s,t);this.wBt.Sd(!1)}*ILt(){const t=this.jN();this.yBt.Sd(!0);for(const s of this.yBt){const e=this.vLt(s,t);j.qo(e)&&(yield*e)}this.yBt.Sd(!1)}*CLt(){const t=this.jN();this.SBt.Sd(!0);for(const s of this.SBt){const e=this.MLt(s,t);j.qo(e)&&(yield*e)}this.SBt.Sd(!1)}*RLt(){const t=this.jN();this.wBt.Sd(!0);for(const s of this.wBt){const e=this.GLt(s,t);j.qo(e)&&(yield*e)}this.wBt.Sd(!1)}async XK(a,t,s){this.E5t=!0;const l="background-wake"===s,u="background-wake"!==s&&"skip-render"!==s,c=this.xD(),f=this.$O();if(this.C5t&&(!this.jk()||t||l)){let t=performance.now(),s=(this.R5t=!0,this.ELt(a||0),this.K5t++,this.PLt(),this.FLt()),e=(this.dvt()&&await s,this.q_t.i0(this.mBt.pretick)),i=(e instanceof Promise&&await e,this.Q$(this.gBt.pretick),this.ALt()),r=(this.dvt()&&await i,this.kLt()&&await this.DLt(),c.ID()&&await this.OLt(),this.BLt()),n=(this.dvt()&&await r,c.wD()),h=n.BX(),o=!1;if(-1!==h&&(n.LX(),f.OX()!==h)){const d=this.$O().r$(h);this.nk()&&(o=!0,await d)}this.Sf("canvas","update-html-layer-dom-state",{layersDomState:n.p9().filter(t=>t.oL()).map(t=>t.SJ())}),u&&this.LF(),o&&this.Sf("canvas","cleanup-html-layers"),this.Jkt()&&(await this.YBt(),this.qk()>=this.qBt())?this.ZBt():(this.jk()||l||this.fLt(),this._5t++,this.I5t++,this.R5t=!1,this.Q5t+=performance.now()-t)}}async FLt(){const t=this.i0t,s=this.jN();this.lB(),t.nB(!0),this.x1t(this.wD()),s&&V.StartMeasuringTime(),this.dvt()?await t.spt():t.Y1t(),s&&V.AddEventsTime(),this.M1t(),t.nB(!1),this.lB(),t.nB(!0)}async ALt(){const t=this.i0t,s=this.jN(),e=this.dvt(),i=this.q_t,r=this.mBt,n=this.gBt;s&&V.StartMeasuringTime(),e?await this.LLt(this.ILt()):this.xLt(),e?await this.LLt(this.CLt()):this.TLt(),s&&V.AddBehaviorTotalTickTime(),s&&V.StartMeasuringTime(),e?await this.NLt(r.tick):i.dispatchEvent(r.tick),s&&V.AddPluginTotalTickTime(),t.nB(!1),this.Q$(n.tick)}async BLt(){const t=this.i0t,s=this.q_t,e=this.mBt,i=this.gBt,r=this.jN(),n=this.dvt();r&&V.StartMeasuringTime(),n?await t.T1t(this.Nq):t.v1t(this.Nq),r&&V.AddEventsTime(),this.VOt.dFt(),this.PLt(),this.P5t=!1,t.nB(!0),r&&V.StartMeasuringTime(),n?await this.LLt(this.RLt()):this._Lt(),r&&V.AddBehaviorTotalTickTime(),r&&V.StartMeasuringTime(),n?await this.NLt(e.tick2):s.dispatchEvent(e.tick2),r&&V.AddPluginTotalTickTime(),t.nB(!1),this.Q$(i.tick2),n&&await t.D1t()}PLt(){if(0!==this.l5t.size){const t=this.q_t;t.Uf(!0);for(const s of this.u5t)s.H1t().Aft(this.l5t);this.u5t.clear(),this.i0t.ipt(this.l5t);for(const e of this.l5t)e.gn();this.l5t.clear(),t.Uf(!1)}}async OLt(){let t=this.xD(),s=0;for(;t.ID()&&s++<10;)await this.WLt(t.vY())}ELt(t){let s=0;if(this.Jkt())s=1/this.XBt(),this.N5t=s,this.W5t=s;else if(0!==this.L5t){const e=Math.max(t-this.L5t,0);.5<(s=e/1e3)&&(s=0),this.N5t=s,this.W5t=j.vn(s,this.V5t,this.j5t)}this.L5t=t,this.U5t=this.W5t*this.VCt,this.H5t.wc(this.U5t),this.z5t.wc(s*this.VCt),this.J5t.wc(this.W5t);for(const[i,r]of this.q5t)r.wc(this.W5t*i.Yk());this.d5t&&this.d5t.RDt(),1e3<=t-this.$5t&&(this.$5t+=1e3,1e3<=t-this.$5t&&(this.$5t=t),this.Y5t=this.X5t,this.X5t=0,this.Z5t=this.K5t,this.K5t=0,this.tBt=Math.min(this.Q5t/1e3,1),this.Q5t=0,this.d5t&&this.d5t.CDt(),this.VOt.lFt(),this.jN())&&V.Update1sPerfStats()}QCt(t,s){if(s){if(!this.q5t.has(t)){const e=j.mn(j.R0);e.k0(this.H5t),this.q5t.set(t,e)}}else this.q5t.delete(t)}tRt(t){const s=this.q5t.get(t);return s?s.re():this.qk()}async WLt(t){const s=this.q_t,e=this.xD(),i=e.wD();await i.F$(),i.ZX(t,this.eb()),i===t&&this.i0t.D$(),this.VOt.dFt(),this.PLt(),s.dispatchEvent(this.mBt.beforelayoutchange),j.Vf.h0(!0),await t.HX(i,this.eb()),j.Vf.h0(!1),await t.t$(!1),s.dispatchEvent(this.mBt.layoutchange),this.XD(),this.P5t=!0,this.lB(),this.KBt()}XD(){this.y5t=!0}SDt(){return this.d5t?this.d5t.SDt():null}wDt(){return this.d5t?this.d5t.wDt():null}eb(){return this.d5t?this.d5t.eb():null}LF(){const e=this.d5t;if(e&&!e.gDt()){const i=this.eb(),t=i.$E(),r=t&&i.G2(),n=t&&i.kS();if(r&&i.DE(),this.y5t||this.Jkt()){const h=this.Nq.wD(),o=(this.X5t++,i.IE(),this.jN());o&&V.StartMeasuringTime(),this.y5t=!1;let t=null,s=(r&&(t=e.FDt().SR(),i.XE(t)),null);n&&(s=i.StartFrameTiming(2*(1+h.EX())),i.StartMeasuringRenderPassTime(0,1)),this.X9()&&"low"===e.ZJ()?i.N3(e.jJ(),e.VJ()):i.W3(),this.ULt(this.eb(),h),t&&i.YE(t),n&&(i.StopMeasuringRenderPassTime(),this.d5t.ADt(s)),i.m2(),o&&(V.AddDrawCallsTime(),V.UpdateInspectHighlight()),e&&e.DDt()}else i.w2()}}z$(t){return"low"===this.$O().ZJ()||t.G2()&&(this.KJ()||this.X9())}ULt(s,e){s.jS(),s.rE(),s.Y3(1,1,1,1),s.NE(null),s.tE(null),s.RE(this.X9()),this.z$(s)&&e.V$(s);const i=e.OX();for(let t=1;t<i;++t)e.$$(s,t),s.kS()&&s.Restart();this.z$(s)||e.V$(s),e.X$(s)}AN(t,s,e){if(!this.C5t)return!1;let i=!this.R5t&&!this.i0t.N1t(),r=0;i&&(r=performance.now());const n=this.jN(),h=(n&&this.hj(!1),this.i0t.C1t(this.Nq,t,s,e));if(i){const o=performance.now()-r;this.Q5t+=o,n&&V.AddTriggersTime(o)}return n&&this.hj(!0),h}nTt(t,s,e){if(!this.dvt())return this.AN(t,s,e);if(this.k1t())throw new Error("called DebugTrigger() while stopped on breakpoint");if(this.R5t||this.i0t.N1t())return this.i0t.P1t(this.Nq,t,s,e);throw new Error("called DebugTrigger() outside of event code - use TriggerAsync() instead")}async DN(t,s,e){if(!this.dvt())return this.AN(t,s,e);if(!this.C5t)return!1;if(this.k1t())return this.i0t.F1t(t,s,e);if(!this.wD())return this.i0t.R1t(t,s,e);let i=performance.now(),r=this.i0t.P1t(this.Nq,t,s,e),n=r.next();for(;!n.done;)await this._1t(n.value),n=r.next();return this.jk()||this.i0t.N1t()||(await this.i0t.D1t(),this.E5t&&!this.R5t&&this.fLt()),this.Q5t+=performance.now()-i,n.value}hTt(t,s,e){const i=this.jN(),r=(i&&this.hj(!1),this.i0t.O1t(this.Nq,t,s,e));return i&&this.hj(!0),r}oTt(t,s,e){return this.i0t.B1t(this.Nq,t,s,e)}aTt(t){return this.D5t.wc(t)}x1t(t){this.s5t.push(t)}M1t(){if(!this.s5t.length)throw new Error("layout stack empty");this.s5t.pop()}ND(){return this.s5t.length?this.s5t.at(-1):this.wD()}Hk(t){return t&&-1!==t.Yk()?this.W5t*t.Yk():this.U5t}JK(){return this.U5t}qK(){return this.W5t}Jk(){return this.N5t}Yk(){return this.VCt}Kk(t){(isNaN(t)||t<0)&&(t=0),this.VCt=t}uD(t){this.V5t=Math.max(t,0)}lD(){return this.V5t}dD(t){this.j5t=Math.max(t,0)}fD(){return this.j5t}Zk(){return this.Y5t}tD(){return this.Z5t}eD(){return this.tBt}jLt(){return this.B5t}qk(){return this.H5t.re()}VLt(){return this.z5t.re()}$k(){return this.J5t.re()}Vtt(){return this._5t}HLt(){return this.I5t}zLt(){return this.h5t}ZA(){return this.GOt}sk(){return this._Ot}JLt(){return this.IOt}qLt(){return this.COt}ik(){return this.ROt}OD(t){if(this.sBt)throw new Error("cannot call while loading state - wait until afterload event");return this.a5t.get(t)||null}_$(){this.a5t.clear();for(const t of this.$Ot)if(!t.o9())for(const s of t.Z5())this.a5t.set(s.hN(),s)}sOt(){return"preview"===this.fOt}jN(){return this.SOt}zO(){return this.fOt}JO(){return"nwjs"===this.zO()||this.dOt}iOt(){return"cordova"===this.fOt}XLt(){return"Android"===j.ue.fe&&("cordova"===this.fOt||"playable-ad-single-file"===this.fOt||"playable-ad-zip"===this.fOt||"instant-games"===this.fOt)}$Lt(){return this.xV}YLt(){return this.pOt}qO(){return this.mOt}KLt(){return this.gOt}XA(){return this.VOt}WGt(){return this.jOt.WGt()}UGt(){return this.jOt.UGt()}X9(){return this.p5t}ZLt(){return this.eb().MS(this.N9())}bS(t){return this.eb().bS(t||this.N9())}QLt(){return this.P5t}tNt(t){this.g5t!==(t=!!t)&&(this.g5t=t,this.xD().MY(),this.XD())}dk(){return this.g5t}sNt(t){if(!this.XOt.has(t)){const e=()=>this.eNt(t);this.XOt.set(t,e),t.Xf().addEventListener("animationframeimagechange",e)}const s=this.Ng.Ag(t);return s.Xg()||s.Yg().then(()=>this.XD()),s}eNt(t){this.Ng.Bg(t)}JOt(t){const s=[];for(const e of t.iCt())for(const i of e.fW()){const r=i.SW();s.push({source:i,width:r.Sm(),height:r.Rm(),tag:i.LW()})}return{Jg:s}}async qOt(t){const s=j.mn(j.bd),e=[],r=new Map;for(const h of t.iCt())for(const o of h.fW()){const a=o.SW().a_t();r.has(a)||(r.set(a,null),e.push(s.wc(async()=>{const t=await a.Z7();r.set(a,t)})))}await Promise.all(e);const i=[];for(const l of t.iCt())for(const u of l.fW())i.push(s.wc(async()=>{const t=u.SW(),s=r.get(t.a_t()),e=await t.l_t(s),i=await createImageBitmap(e);return{Zg:i}}));const n=await Promise.all(i);for(const c of r.values())c instanceof ImageBitmap&&c.close&&c.close();return{Jg:n}}iNt(t){this.eBt=t,this.iBt=!1}rNt(){this.eBt="",this.iBt=!0}nNt(t){this.rBt=t}lxt(t){this.$N=t}hNt(){return this.nBt}kLt(){return!!(this.eBt||this.iBt||this.rBt||null!==this.$N)}async DLt(){if(this.eBt&&(this.lB(),await this.oNt(this.eBt),this.aNt()),this.rBt&&(await this.lNt(this.rBt),this.aNt(),this.jN())&&V.StepIfPausedInDebugger(),this.iBt){const t=await this.uNt();this.nBt=t,await this.DN(j.T$.M$.x$.cNt,null),this.nBt="",this.aNt()}if(null!==this.$N){this.lB();try{await this.fNt(this.$N),this.nBt=this.$N,await this.DN(j.T$.M$.x$.dNt,null),this.nBt=""}catch(t){console.error("[Construct] Failed to load state from JSON string: ",t),await this.DN(j.T$.M$.x$.pNt,null)}this.aNt()}}aNt(){this.eBt="",this.iBt=!1,this.rBt="",this.$N=null}a5(){return this.hBt||(this.hBt=localforage.Le({name:"c3-localstorage-"+this.JLt(),description:this.ZA()})),this.hBt}mNt(){return this.oBt||(this.oBt=localforage.Le({name:"c3-savegames-"+this.JLt(),description:this.ZA()})),this.oBt}async oNt(t){const s=await this.uNt();try{await this.mNt().setItem(t,s),console.log("[Construct] Saved state to storage ("+s.length+" chars)"),this.nBt=s,await this.DN(j.T$.M$.x$.cNt,null),this.nBt=""}catch(t){console.error("[Construct] Failed to save state to storage: ",t),await this.DN(j.T$.M$.x$.gNt,null)}}async lNt(t){try{const s=await this.mNt().getItem(t);if(!s)throw new Error("empty slot");console.log("[Construct] Loaded state from storage ("+s.length+" chars)"),await this.fNt(s),this.nBt=s,await this.DN(j.T$.M$.x$.dNt,null),this.nBt=""}catch(t){console.error("[Construct] Failed to load state from storage: ",t),await this.DN(j.T$.M$.x$.pNt,null)}}async uNt(){const t={c3save:!0,version:1,rt:{time:this.qk(),timeRaw:this.VLt(),walltime:this.$k(),timescale:this.Yk(),tickcount:this.Vtt(),next_uid:this.o5t,running_layout:this.wD().m9(),start_time_offset:Date.now()-this.B5t},types:{},layouts:{},events:this.i0t.Aq(),timelines:this.OQ.Aq(),user_script_data:null};for(const e of this.$Ot)e.o9()||e.GCt()||(t.types[e.m9().toString()]=e.Aq());for(const i of this.Nq.GD())t.layouts[i.m9().toString()]=i.Aq();const s=this.yNt("save");return s.saveData=null,await this.w$(s),t.user_script_data=s.saveData,JSON.stringify(t)}d$(){return this.sBt}async fNt(t){const s=this.xD(),e=JSON.parse(t);if(e.c2save)throw new Error("C2 saves are incompatible with C3 runtime");if(!e.c3save)throw new Error("not valid C3 save data");if(1<e.version)throw new Error("C3 save data from future version");this.uxt(),this.q_t.dispatchEvent(j.mn(j.Event,"beforeload"));for(const a of this.oLt()){const l=a.JL();l.GCt()||a.$Y()}let i=e.rt,r=(this.H5t.Set(i.time),i.hasOwnProperty("timeRaw")&&this.z5t.Set(i.timeRaw),this.J5t.Set(i.walltime),this.VCt=i.timescale,this._5t=i.tickcount,this.B5t=Date.now()-i.start_time_offset,i.running_layout),n=!(this.sBt=!0);if(r!==this.wD().m9()){const u=s.mY(r);if(!u)return;await this.WLt(u),n=!0}for(const[c,f]of Object.entries(e.layouts)){const d=parseInt(c,10),p=s.mY(d);p&&p.kq(f)}const h=new Set;for(const[m,g]of Object.entries(e.types)){const y=parseInt(m,10),S=this.q8(y);!S||S.o9()||S.GCt()||S.kq(g,h)}for(const w of this.Nq.GD())for(const b of w.CB())b.Dq();if(this.lB(),this._$(),this.sBt=!1,n){for(const v of this.oLt())v.p$();for(const[x,M]of Object.entries(e.types)){const T=parseInt(x,10),G=this.q8(T);!G||G.o9()||G.GCt()||G.CCt(M)}}this.o5t=i.next_uid,this.i0t.kq(e.events);for(const _ of this.$Ot)if(!_.o9()&&_.rN())for(const I of _.Z5()){const C=I.aN();for(const R of _.jX().I$())if(R!==_){const E=R.Z5();if(C<0||C>=E.length)throw new Error("missing sibling instance");I.C$(E[C])}}this.OQ.kq(e.timelines),s.xY(),s.MY();for(const P of h)P.ARt();this.cxt(),this.q_t.dispatchEvent(j.mn(j.Event,"afterload")),this.Q$(this.yNt("afterload"));for(const[F,A]of Object.entries(e.types)){const k=parseInt(F,10),D=this.q8(k);D&&D.ICt()}const o=this.yNt("load");o.saveData=e.user_script_data,await this.w$(o),this.XD()}SNt(t,s){return t.UD().DEt()-s.UD().DEt()}vPt(t,s){t.UD()&&!this.PBt.has(t)&&(this.PBt.set(t,s),this.FBt.push(t))}uxt(){this.PBt=new WeakMap,j.Vh(this.FBt)}cxt(t="full",s=null){this.FBt.sort(this.SNt);for(const e of this.FBt)e.KY(this.PBt.get(e),t,s);for(const i of this.FBt)i.LRt(this.PBt.get(i),t,s);this.uxt()}async wNt(t){const s=await Promise.all(t.map(async t=>{const s=this.iOt()&&this.D7.s7();if(s||"playable-ad-single-file"===this.zO()){const e=await this.D7.Eo(t);return URL.createObjectURL(e)}return new URL(t,location.href).toString()}));this.bBt.bNt(s)}vNt(t,s){this.bBt.xNt(t,s)}MNt(t,s){this.bBt.TNt(t,s)}GNt(t,s,e,i){return this.bBt.GNt(t,s,e,null,null,i)}_Nt(t,s,e,i){return this.bBt._Nt(t,s,e,i)}INt(){return this.bBt.CNt()}kD(t,s){this.Sf("runtime","invoke-download",{url:t,filename:s})}async HDt(t,s,e,i,r,n){if(i=i||s,r=r||e,this.nk()){const h=await this.YD("runtime","raster-svg-image",{blob:t,imageWidth:s,imageHeight:e,surfaceWidth:i,surfaceHeight:r,imageBitmapOpts:n});return h.imageBitmap}{const o=await self.C3_RasterSvgImageBlob(t,s,e,i,r);return n?self.createImageBitmap(o,n):o}}async RNt(t){return this.nk()?this.YD("runtime","get-svg-image-size",{blob:t}):self.C3_GetSvgImageSize(t)}ENt(){this.cBt||(this.cBt=!0,this.Sf("runtime","enable-device-orientation"))}PNt(){this.fBt||(this.fBt=!0,this.Sf("runtime","enable-device-motion"))}SD(){return this.O5t()}FNt(t){this.O5t=t}TBt(){const t=this.eb();return{fps:this.Zk(),tps:this.tD(),cpu:this.eD(),gpu:this.rD(),layout:this.wD()?this.wD().nf():"",renderer:t.G2()?t.rP():t.GetAdapterInfoString()}}k1t(){return!!this.jN()&&V.k1t()}_1t(t){return this.dvt()?V._1t(t):Promise.resolve()}ayt(){return!!this.dvt()&&V.BreakNext()}ANt(t){this.wOt=!!t,this.kNt()}DNt(){return this.wOt}dvt(){return this.bOt}hj(t){t?this.vOt--:this.vOt++,this.kNt()}kNt(){this.bOt=this.jN()&&this.wOt&&0===this.vOt}_mt(){return this.jN()&&V._mt()}qJ(){return this.jN()&&this.eb().$E()&&V.qJ()}async LLt(t){if(t)for(const s of t)await this._1t(s)}NLt(t){return this.LLt(this.q_t.n0(t))}Cdt(t){return this.i0t.Cdt(t.name,t.params)}ZD(t){if(this.nk())throw new Error("not supported in worker mode");return self.c3_runtimeInterface._GetHTMLWrapElement(t)}d5(){return this.CBt}yNt(t){const s=j.mn(j.Event,t,!1);return s.runtime=this.CBt,s}jBt(){this.CBt=new self.jA(this),this.gBt={pretick:this.yNt("pretick"),tick:this.yNt("tick"),tick2:this.yNt("tick2")}}zBt(){const t={};for(const s of this.$Ot)t[s.s1t()]={value:s.D5(),enumerable:!0,writable:!1};this.CBt.wk(t)}JBt(){const t={};for(const s of this.xk().l1t())t[s.s1t()]=s.e1t();this.CBt.bk(t)}RD(){return this.EBt}E5(t,s){this.RBt.set(t,s)}PB(t){return this.RBt.get(t)}BO(t){if(!(t instanceof self.N5))throw new TypeError("expected IObjectClass");const s=this.PB(t);if(s&&s instanceof j.$lt)return s;throw new Error("invalid IObjectClass")}X5(t){if(!(t instanceof self.HL))throw new TypeError("expected IInstance");const s=this.PB(t);if(s&&s instanceof j.Instance)return s;throw new Error("invalid IInstance")}WD(t){if(!(t instanceof self.R6))throw new TypeError("expected IWorldInstance");const s=this.PB(t);if(s&&s instanceof j.Instance)return s;throw new Error("invalid IInstance")}},self.C3_CreateRuntime=j.rOt.GM,self.C3_InitRuntime=(t,s)=>t.JCt(s)}{const Oa=self.Ls;Oa.vBt=class extends Oa.dn{constructor(t,s){super(),this.mf=t,this.ONt=new Map,this.BNt=0,this.LNt=s.inputPort,s.outputPort.onmessage=t=>this.NNt(t),this.WNt=s.maxNumWorkers,this.UNt=1,this.jNt=!1,this.VNt=!1}CNt(){return this.WNt}bNt(t){this.LNt.postMessage({type:"_import_scripts",scripts:t})}xNt(t,s){this.LNt.postMessage({type:"_send_blob",blob:t,id:s})}TNt(t,s){this.LNt.postMessage({type:"_send_buffer",buffer:t,id:s},[t])}GNt(t,s,e,i,r,n){if(e=e||[],"number"==typeof n&&(n=Math.floor(n))<=0)throw new Error("invalid maxWorkerNum");const h=this.BNt++,o={type:t,isBroadcast:!1,maxWorkerNum:n,jobId:h,params:s,transferables:e},a=new Promise((t,s)=>{this.ONt.set(h,{resolve:t,progress:i,reject:s,HNt:!1,maxWorkerNum:n})});return r&&r.G0(()=>this.zNt(h)),this.LNt.postMessage(o,e),this.JNt(),a}_Nt(t,s,e,i){if(e=e||[],"number"==typeof i&&(i=Math.floor(i))<=0)throw new Error("invalid maxWorkerNum");const r=this.BNt++,n={type:t,isBroadcast:!0,maxWorkerNum:i,jobId:r,params:s,transferables:e};this.LNt.postMessage(n,e)}zNt(t){const s=this.ONt.get(t);s&&(s.HNt=!0,s.resolve=null,s.progress=null,s.reject=null,this.LNt.postMessage({type:"_cancel",jobId:t}))}NNt(t){const s=t.data,e=s.type,i=s.jobId;switch(e){case"result":this.qNt(i,s.result);break;case"progress":this.XNt(i,s.progress);break;case"error":this.$Nt(i,s.error);break;case"ready":this.YNt();break;default:throw new Error(`unknown message from worker '${e}'`)}}qNt(t,s){const e=this.ONt.get(t);if(!e)throw new Error("invalid job ID");e.HNt||e.resolve(s),this.ONt.delete(t)}XNt(t,s){const e=this.ONt.get(t);if(!e)throw new Error("invalid job ID");!e.HNt&&e.progress&&e.progress(s)}$Nt(t,s){const e=this.ONt.get(t);if(!e)throw new Error("invalid job ID");e.HNt||e.reject(s),this.ONt.delete(t)}YNt(){this.jNt&&(this.jNt=!1,this.UNt++,this.UNt<this.WNt?this.JNt():this.LNt.postMessage({type:"_no_more_workers"}))}KNt(){let t=0,s=[...this.ONt.values()].sort((t,s)=>{const e=t.maxWorkerNum||1/0,i=s.maxWorkerNum||1/0;return e-i});for(const e of s){const i=e.maxWorkerNum||1/0;t<i&&t++}return t}async JNt(){if(!(this.UNt>=this.WNt||this.jNt||this.VNt||this.KNt()<=this.UNt))try{this.jNt=!0;const t=await this.mf.YD("runtime","create-job-worker");t.outputPort.onmessage=t=>this.NNt(t)}catch(t){this.VNt=!0,this.jNt=!1,console.error(`[Construct] Failed to create job worker; stopping creating any more (created ${this.UNt} so far)`,t)}}}}self.C3_Shaders={},self.C3_Shaders.lighten={Hkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nfront.rgb /= front.a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nback.rgb /= back.a;\nfront.rgb = max(front.rgb, back.rgb) * front.a;\ngl_FragColor = front * back.a;\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar back : vec4<f32> = c3_unpremultiply(textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack)));\nvar output : FragmentOutput;\noutput.color = vec4<f32>(\nmax(front.rgb, back.rgb) * front.a,\nfront.a\n) * back.a;\nreturn output;\n}",K2:!0,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[]},self.C3_Shaders.vignette={Hkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform mediump float vignetteStart;\nuniform mediump float vignetteEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nlowp float a = front.a;\nif (a != 0.0)\nfront.rgb /= a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp float d = distance(tex, vec2(0.5, 0.5));\nfront.rgb *= smoothstep(vignetteEnd, vignetteStart, d);\nfront.rgb *= a;\ngl_FragColor = front;\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nvignetteStart : f32,\nvignetteEnd : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\nconst center : vec2<f32> = vec2<f32>(0.5);\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar rgb : vec3<f32> = front.rgb;\nvar tex : vec2<f32> = c3_srcToNorm(input.fragUV);\nvar d : f32 = distance(tex, center);\nrgb = rgb * smoothstep(shaderParams.vignetteEnd, shaderParams.vignetteStart, d);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb * front.a, front.a);\nreturn output;\n}",K2:!1,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!0,J2:!1,X2:!1,parameters:[["vignetteStart",0,"percent"],["vignetteEnd",0,"percent"]]},self.C3_Shaders.overlay={Hkt:"precision mediump float;\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nfront.r = back.r < 0.5 ? 2.0 * back.r * front.r : 2.0 * (front.r + back.r * front.a - back.r * front.r) - front.a;\nfront.g = back.g < 0.5 ? 2.0 * back.g * front.g : 2.0 * (front.g + back.g * front.a - back.g * front.g) - front.a;\nfront.b = back.b < 0.5 ? 2.0 * back.b * front.b : 2.0 * (front.b + back.b * front.a - back.b * front.b) - front.a;\nfront *= back.a;\ngl_FragColor = front;\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack));\nvar rgb : vec3<f32> = select(\n2.0 * (front.rgb + back.rgb * front.a - back.rgb * front.rgb) - front.a,\n2.0 * back.rgb * front.rgb,\nback.rgb < vec3<f32>(0.5)\n);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb, front.a) * back.a;\nreturn output;\n}",K2:!0,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[]},self.C3_Shaders.multiply={Hkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nfront *= back;\ngl_FragColor = front;\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack));\nvar output : FragmentOutput;\noutput.color = front * back;\t\t// multiply front and back\nreturn output;\n}",K2:!0,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[]},self.C3_Shaders.blurhorizontal={Hkt:"varying mediump vec2 vTex;\nuniform mediump sampler2D samplerFront;\nuniform mediump vec2 pixelSize;\nuniform mediump float intensity;\nvoid main(void)\n{\nmediump vec4 sum = vec4(0.0);\nmediump float pixelWidth = pixelSize.x;\nmediump float halfPixelWidth = pixelWidth / 2.0;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex - vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nmediump vec4 front = texture2D(samplerFront, vTex);\nsum += front * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 1.0 + halfPixelWidth, 0.0)) * 0.16;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 3.0 + halfPixelWidth, 0.0)) * 0.13;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 5.0 + halfPixelWidth, 0.0)) * 0.10;\nsum += texture2D(samplerFront, vTex + vec2(pixelWidth * 7.0 + halfPixelWidth, 0.0)) * 0.06;\ngl_FragColor = mix(front, sum, intensity);\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar pixelWidth : f32 = c3_getPixelSize(textureFront).x;\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar sum : vec4<f32> =\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 7.5, 0.0)) * 0.06 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 5.5, 0.0)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 3.5, 0.0)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV - vec2<f32>(pixelWidth * 1.5, 0.0)) * 0.16 +\nfront * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 1.5, 0.0)) * 0.16 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 3.5, 0.0)) * 0.13 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 5.5, 0.0)) * 0.10 +\ntextureSample(textureFront, samplerFront, input.fragUV + vec2<f32>(pixelWidth * 7.5, 0.0)) * 0.06;\nvar output : FragmentOutput;\noutput.color = mix(front, sum, shaderParams.intensity);\nreturn output;\n}",K2:!1,Q2:!1,O2:8,L2:0,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[["intensity",0,"percent"]]},self.C3_Shaders.screen={Hkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nfront.rgb = 1.0 - ((1.0 - front.rgb) * (1.0 - back.rgb * front.a));\ngl_FragColor = front;\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack));\nvar output : FragmentOutput;\noutput.color = vec4<f32>(\nvec3<f32>(1.0) - ((vec3<f32>(1.0) - front.rgb) * (vec3<f32>(1.0) - back.rgb * front.a)),\nfront.a\n);\nreturn output;\n}",K2:!0,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[]},self.C3_Shaders.dodge={Hkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nfront.rgb = (back.rgb * front.a) / (1.0 - front.rgb);\ngl_FragColor = front * back.a;\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack));\nvar output : FragmentOutput;\noutput.color = vec4<f32>(\n(back.rgb * front.a) / (vec3<f32>(1.0) - front.rgb),\nfront.a\n) * back.a;\nreturn output;\n}",K2:!0,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[]},self.C3_Shaders.softlight={Hkt:"precision mediump float;\nvarying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nfront.rgb /= front.a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nback.rgb /= back.a;\nfront.r = ((front.r < 0.5) ? (2.0 * back.r * front.r + back.r * back.r * (1.0 - 2.0 * front.r)) : (sqrt(back.r) * (2.0 * front.r - 1.0) + 2.0 * back.r * (1.0 - front.r)));\nfront.g = ((front.g < 0.5) ? (2.0 * back.g * front.g + back.g * back.g * (1.0 - 2.0 * front.g)) : (sqrt(back.g) * (2.0 * front.g - 1.0) + 2.0 * back.g * (1.0 - front.g)));\nfront.b = ((front.b < 0.5) ? (2.0 * back.b * front.b + back.b * back.b * (1.0 - 2.0 * front.b)) : (sqrt(back.b) * (2.0 * front.b - 1.0) + 2.0 * back.b * (1.0 - front.b)));\nfront.rgb *= front.a;\ngl_FragColor = front * back.a;\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar back : vec4<f32> = c3_unpremultiply(textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack)));\nvar rgb : vec3<f32> = select(\nsqrt(back.rgb) * (2.0 * front.rgb - 1.0) + 2.0 * back.rgb * (1.0 - front.rgb),\n2.0 * back.rgb * front.rgb + back.rgb * back.rgb * (1.0 - 2.0 * front.rgb),\nfront.rgb < vec3<f32>(0.5)\n);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb * front.a * back.a, front.a * back.a);\nreturn output;\n}",K2:!0,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[]},self.C3_Shaders.hardlight={Hkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nif (front.r * 0.299 + front.g * 0.587 + front.b * 0.114 <= 0.5)\n{\nfront *= back * 2.0;\n}\nelse\n{\nfront.rgb = 1.0 - ((1.0 - (2.0 * front.rgb - 1.0)) * (1.0 - back.rgb * front.a));\n}\ngl_FragColor = front;\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar back : vec4<f32> = textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack));\nvar output : FragmentOutput;\noutput.color = select(\nvec4<f32>(\n1.0 - ((1.0 - (2.0 * front.rgb - 1.0)) * (1.0 - back.rgb * front.a)),\nfront.a\n),\nfront * back * 2.0,\nc3_grayscale(front.rgb) <= 0.5\n);\nreturn output;\n}",K2:!0,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[]},self.C3_Shaders.darken={Hkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nuniform mediump vec2 srcStart;\nuniform mediump vec2 srcEnd;\nuniform lowp sampler2D samplerBack;\nuniform mediump vec2 destStart;\nuniform mediump vec2 destEnd;\nvoid main(void)\n{\nlowp vec4 front = texture2D(samplerFront, vTex);\nfront.rgb /= front.a;\nmediump vec2 tex = (vTex - srcStart) / (srcEnd - srcStart);\nlowp vec4 back = texture2D(samplerBack, mix(destStart, destEnd, tex));\nback.rgb /= back.a;\nfront.rgb = min(front.rgb, back.rgb) * front.a;\ngl_FragColor = front * back.a;\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\n%%SAMPLERBACK_BINDING%% var samplerBack : sampler;\n%%TEXTUREBACK_BINDING%% var textureBack : texture_2d<f32>;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = c3_unpremultiply(textureSample(textureFront, samplerFront, input.fragUV));\nvar back : vec4<f32> = c3_unpremultiply(textureSample(textureBack, samplerBack, c3_getBackUV(input.fragPos.xy, textureBack)));\nvar output : FragmentOutput;\noutput.color = vec4<f32>(\nmin(front.rgb, back.rgb) * front.a,\nfront.a\n) * back.a;\nreturn output;\n}",K2:!0,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[]},self.C3_Shaders.hsladjust={Hkt:"varying mediump vec2 vTex;\nuniform lowp sampler2D samplerFront;\nprecision mediump float;\nuniform float huerotate;\nuniform float satadjust;\nuniform float lumadjust;\nvec3 rgb_to_hsl(vec3 color)\n{\nvec3 hsl = vec3(0.0, 0.0, 0.0);\nfloat fmin = min(min(color.r, color.g), color.b);\nfloat fmax = max(max(color.r, color.g), color.b);\nfloat delta = fmax - fmin;\nhsl.z = (fmax + fmin) / 2.0;\nif (delta == 0.0)\n{\nhsl.x = 0.0;\nhsl.y = 0.0;\n}\nelse\n{\nif (hsl.z < 0.5)\nhsl.y = delta / (fmax + fmin);\nelse\nhsl.y = delta / (2.0 - fmax - fmin);\nfloat dR = (((fmax - color.r) / 6.0) + (delta / 2.0)) / delta;\nfloat dG = (((fmax - color.g) / 6.0) + (delta / 2.0)) / delta;\nfloat dB = (((fmax - color.b) / 6.0) + (delta / 2.0)) / delta;\nif (color.r == fmax)\nhsl.x = dB - dG;\nelse if (color.g == fmax)\nhsl.x = (1.0 / 3.0) + dR - dB;\nelse if (color.b == fmax)\nhsl.x = (2.0 / 3.0) + dG - dR;\nif (hsl.x < 0.0)\nhsl.x += 1.0;\nelse if (hsl.x > 1.0)\nhsl.x -= 1.0;\n}\nreturn hsl;\n}\nfloat hue_to_rgb(float f1, float f2, float hue)\n{\nif (hue < 0.0)\nhue += 1.0;\nelse if (hue > 1.0)\nhue -= 1.0;\nfloat ret;\nif ((6.0 * hue) < 1.0)\nret = f1 + (f2 - f1) * 6.0 * hue;\nelse if ((2.0 * hue) < 1.0)\nret = f2;\nelse if ((3.0 * hue) < 2.0)\nret = f1 + (f2 - f1) * ((2.0 / 3.0) - hue) * 6.0;\nelse\nret = f1;\nreturn ret;\n}\nvec3 hsl_to_rgb(vec3 hsl)\n{\nvec3 rgb = vec3(hsl.z);\nif (hsl.y != 0.0)\n{\nfloat f2;\nif (hsl.z < 0.5)\nf2 = hsl.z * (1.0 + hsl.y);\nelse\nf2 = (hsl.z + hsl.y) - (hsl.y * hsl.z);\nfloat f1 = 2.0 * hsl.z - f2;\nrgb.r = hue_to_rgb(f1, f2, hsl.x + (1.0 / 3.0));\nrgb.g = hue_to_rgb(f1, f2, hsl.x);\nrgb.b = hue_to_rgb(f1, f2, hsl.x - (1.0 / 3.0));\n}\nreturn rgb;\n}\nvoid main(void)\n{\nvec4 front = texture2D(samplerFront, vTex);\nvec3 rgb = rgb_to_hsl(front.rgb) + vec3((huerotate > 0.5 ? huerotate - 1.0 : huerotate), 0, (lumadjust - 1.0) * front.a);\nrgb.y *= satadjust;\nrgb = hsl_to_rgb(rgb);\ngl_FragColor = vec4(rgb, front.a);\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nhuerotate : f32,\nsatadjust : f32,\nlumadjust : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3_UTILITY_FUNCTIONS%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar huerotate : f32 = shaderParams.huerotate;\nif (huerotate > 0.5)\n{\nhuerotate = huerotate - 1.0;\n}\nvar rgb : vec3<f32> = c3_RGBtoHSL(front.rgb) + vec3<f32>(huerotate, 0.0, (shaderParams.lumadjust - 1.0) * front.a);\nrgb.y = rgb.y * shaderParams.satadjust;\nrgb = c3_HSLtoRGB(rgb);\nvar output : FragmentOutput;\noutput.color = vec4<f32>(rgb, front.a);\nreturn output;\n}",K2:!1,Q2:!1,O2:0,L2:0,W2:!1,j2:!1,H2:!0,J2:!1,X2:!1,parameters:[["huerotate",0,"percent"],["satadjust",0,"percent"],["lumadjust",0,"percent"]]},self.C3_Shaders.radialblur={Hkt:"precision mediump float;\nvarying vec2 vTex;\nuniform sampler2D samplerFront;\nuniform vec2 srcStart;\nuniform vec2 srcEnd;\nuniform float devicePixelRatio;\nuniform float layerScale;\nuniform float intensity;\nuniform float radius;\nvoid main(void)\n{\nvec2 dir = ((srcStart + srcEnd) / 2.0 - vTex) / (length(srcEnd - srcStart) / 2.0);\nfloat dist = sqrt(dir.x*dir.x + dir.y*dir.y);\ndir = dir/dist;\nvec4 front = texture2D(samplerFront, vTex);\nvec4 sum = front;\nfloat scaledRadius = radius * devicePixelRatio * layerScale;\nsum += texture2D(samplerFront, vTex + dir * -0.08 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * -0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.01 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.02 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.03 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.05 * scaledRadius);\nsum += texture2D(samplerFront, vTex + dir * 0.08 * scaledRadius);\nsum /= 11.0;\nfloat t = dist * 2.2;\nt = clamp(t, 0.0, 1.0);\ngl_FragColor = mix(front, mix(front, sum, t), intensity);\n}",Vkt:"",Ukt:"%%SAMPLERFRONT_BINDING%% var samplerFront : sampler;\n%%TEXTUREFRONT_BINDING%% var textureFront : texture_2d<f32>;\nstruct ShaderParams {\nradius : f32,\nintensity : f32\n};\n%%SHADERPARAMS_BINDING%% var<uniform> shaderParams : ShaderParams;\n%%C3PARAMS_STRUCT%%\n%%FRAGMENTINPUT_STRUCT%%\n%%FRAGMENTOUTPUT_STRUCT%%\n@fragment\nfn main(input : FragmentInput) -> FragmentOutput\n{\nvar front : vec4<f32> = textureSample(textureFront, samplerFront, input.fragUV);\nvar dir : vec2<f32> = ((c3Params.srcStart + c3Params.srcEnd) / 2.0 - input.fragUV) / (length(c3Params.srcEnd - c3Params.srcStart) / 2.0);\nvar dist : f32 = length(dir);\ndir = dir / dist;\nvar scaledRadius = shaderParams.radius * c3Params.devicePixelRatio * c3Params.layerScale;\nvar sum : vec4<f32> =\nfront +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.08 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.05 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.03 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.02 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir * -0.01 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.01 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.02 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.03 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.05 * scaledRadius) +\ntextureSample(textureFront, samplerFront, input.fragUV + dir *  0.08 * scaledRadius);\nsum = sum / 11.0;\nvar t : f32 = clamp(dist * 2.2, 0.0, 1.0);\nvar output : FragmentOutput;\noutput.color = mix(front, mix(front, sum, t), shaderParams.intensity);\nreturn output;\n}",K2:!1,Q2:!1,O2:50,L2:50,W2:!1,j2:!1,H2:!1,J2:!1,X2:!1,parameters:[["radius",0,"percent"],["intensity",0,"percent"]]};{let w=function(t,s){const e=t[1],i=s[1];if("number"==typeof e&&"number"==typeof i)return e-i;{const r=""+e,n=""+i;return r<n?-1:n<r?1:0}},b=(w,self.Ls),e=null,i="",r="",n=[],h="",o="",a="",v=b.mn(b.Q0t);b.T$.M$=class extends b.uMt{constructor(t){super(t),this.X0t=this.mf.xk().rj(),this.kft=this.mf.xk().Dk(),this.ZNt=0,this.QNt=0,this.t4t=new Map}gn(){super.gn()}XD(){this.mf.XD()}AN(t){this.mf.AN(t,null,null)}s4t(t,s){return e&&t===i&&s===r||(e=new RegExp(t,s),i=t,r=s),e.lastIndex=0,e}e4t(t,s,e){if(t!==h||s!==o||e!==a){const i=this.s4t(s,e);n=t.match(i),h=t,o=s,a=e}return n}async i4t(t,s){if(s.length){this.ZNt+=s.length;const e=[];for(const i of s)e.push(t.JX(i));await b.do(e,()=>{this.QNt++}),this.QNt++,this.QNt===this.ZNt&&(this.QNt=0,this.ZNt=0,this.mf.AN(b.T$.M$.x$.r4t,null,null))}}b7(){return 0===this.ZNt?1:this.QNt/this.ZNt}n4t(t,s){for(const e of s)0===e.sB()&&t.YX(e)}h4t(){return v}o4t(s){const e=this.mf.xk(),t=e.Dk(),i=t.ej(),r=i.Ck(),n=r.sj(),h=i.k0t(),o=t.ij(r),a=e.rj(),l=a.ij();if(l.K0t(s),h)for(let t=0;t<s&&!l.dj();++t)e.aj(n),l.cj(t),r.lj(i,o),e.uj(n);else for(let t=0;t<s&&!l.dj();++t)l.cj(t),r.lj(i,o);return t.pj(),a.pj(),!1}*a4t(s){const e=this.mf.xk(),t=e.Dk(),i=t.ej(),r=i.Ck(),n=r.sj(),h=i.k0t(),o=t.ij(r),a=e.rj(),l=a.ij();if(l.K0t(s),h)for(let t=0;t<s&&!l.dj();++t)e.aj(n),l.cj(t),yield*r.wyt(i,o),e.uj(n);else for(let t=0;t<s&&!l.dj();++t)l.cj(t),yield*r.wyt(i,o);return t.pj(),a.pj(),!1}l4t(){const s=this.mf.xk(),t=s.Dk(),e=t.ej(),i=e.Ck(),r=i.sj(),n=e.k0t(),h=t.ij(i),o=s.rj(),a=o.ij();if(n)for(let t=0;!a.dj();++t)s.aj(r),a.cj(t),i.lj(e,h)||a.UW(),s.uj(r);else for(let t=0;!a.dj();++t)a.cj(t),i.lj(e,h)||a.UW();return t.pj(),o.pj(),!1}*u4t(){const s=this.mf.xk(),t=s.Dk(),e=t.ej(),i=e.Ck(),r=i.sj(),n=e.k0t(),h=t.ij(i),o=s.rj(),a=o.ij();if(n)for(let t=0;!a.dj();++t){s.aj(r),a.cj(t);const l=yield*i.wyt(e,h);l||a.UW(),s.uj(r)}else for(let t=0;!a.dj();++t){a.cj(t);const u=yield*i.wyt(e,h);u||a.UW()}return t.pj(),o.pj(),!1}c4t(t,s,e){const i=this.mf.xk(),r=i.Dk(),n=r.ej(),h=n.Ck(),o=h.sj(),a=n.k0t(),l=r.ij(h),u=i.rj(),c=u.ij();if(c.nj(t),c.K0t(e),e<s)if(a)for(let t=s;t>=e&&!c.dj();--t)i.aj(o),c.cj(t),h.lj(n,l),i.uj(o);else for(let t=s;t>=e&&!c.dj();--t)c.cj(t),h.lj(n,l);else if(a)for(let t=s;t<=e&&!c.dj();++t)i.aj(o),c.cj(t),h.lj(n,l),i.uj(o);else for(let t=s;t<=e&&!c.dj();++t)c.cj(t),h.lj(n,l);return r.pj(),u.pj(),!1}*f4t(t,s,e){const i=this.mf.xk(),r=i.Dk(),n=r.ej(),h=n.Ck(),o=h.sj(),a=n.k0t(),l=r.ij(h),u=i.rj(),c=u.ij();if(c.nj(t),c.K0t(e),e<s)if(a)for(let t=s;t>=e&&!c.dj();--t)i.aj(o),c.cj(t),yield*h.wyt(n,l),i.uj(o);else for(let t=s;t>=e&&!c.dj();--t)c.cj(t),yield*h.wyt(n,l);else if(a)for(let t=s;t<=e&&!c.dj();++t)i.aj(o),c.cj(t),yield*h.wyt(n,l),i.uj(o);else for(let t=s;t<=e&&!c.dj();++t)c.cj(t),yield*h.wyt(n,l);return r.pj(),u.pj(),!1}d4t(e){const t=e.Q5(),s=t.Z5();if(0!==s.length){const i=this.mf.xk(),r=i.Dk(),n=r.ej(),h=n.Ck(),o=h.sj(),a=n.k0t(),l=r.ij(h),u=i.rj(),c=u.ij(),f=e.rN(),d=v.ij();if(b.qh(d,s),c.K0t(d.length),a)for(let t=0,s=d.length;t<s&&!c.dj();++t){i.aj(o);const p=d[t];e.Q5().Xft(p),f&&p.Fmt(),c.cj(t),h.lj(n,l),i.uj(o)}else{t.zft(!1);const m=t.Jft();b.Vh(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.dj();++t){const g=d[t];m[0]=g,f&&g.Fmt(),c.cj(t),h.lj(n,l)}}r.pj(),u.pj(),b.Vh(d),v.pj()}return!1}*p4t(e){const t=e.Q5(),s=t.Z5();if(0!==s.length){const i=this.mf.xk(),r=i.Dk(),n=r.ej(),h=n.Ck(),o=h.sj(),a=n.k0t(),l=r.ij(h),u=i.rj(),c=u.ij(),f=e.rN(),d=v.ij();if(b.qh(d,s),c.K0t(d.length),a)for(let t=0,s=d.length;t<s&&!c.dj();++t){i.aj(o);const p=d[t];e.Q5().Xft(p),f&&p.Fmt(),c.cj(t),yield*h.wyt(n,l),i.uj(o)}else{t.zft(!1);const m=t.Jft();b.Vh(m),m.push(null);for(let t=0,s=d.length;t<s&&!c.dj();++t){const g=d[t];m[0]=g,f&&g.Fmt(),c.cj(t),yield*h.wyt(n,l)}}r.pj(),u.pj(),b.Vh(d),v.pj()}return!1}m4t(e,t){const s=e.Q5(),i=s.Z5();if(0!==i.length){const r=this.mf.xk(),n=r.Dk(),h=r.Jdt(),o=n.ej(),a=o.Ck(),l=a.sj(),u=o.k0t(),c=n.ij(a),f=r.rj(),d=f.ij(),p=e.rN(),m=v.ij();b.Vh(m),d.K0t(i.length);for(let t=0,s=i.length;t<s;++t)m.push([i[t],h.A2t(1,t)]);if(m.sort(w),1===t&&m.reverse(),u)for(let t=0,s=m.length;t<s&&!d.dj();++t){r.aj(l);const g=m[t][0];e.Q5().Xft(g),p&&g.Fmt(),d.cj(t),a.lj(o,c),r.uj(l)}else{s.zft(!1);const y=s.Jft();b.Vh(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.dj();++t){const S=m[t][0];y[0]=S,p&&S.Fmt(),d.cj(t),a.lj(o,c)}}n.pj(),f.pj(),b.Vh(m),v.pj()}return!1}*g4t(e,t){const s=e.Q5(),i=s.Z5();if(0!==i.length){const r=this.mf.xk(),n=r.Dk(),h=r.Jdt(),o=n.ej(),a=o.Ck(),l=a.sj(),u=o.k0t(),c=n.ij(a),f=r.rj(),d=f.ij(),p=e.rN(),m=v.ij();b.Vh(m),d.K0t(i.length);for(let t=0,s=i.length;t<s;++t)m.push([i[t],h.A2t(1,t)]);if(m.sort(w),1===t&&m.reverse(),u)for(let t=0,s=m.length;t<s&&!d.dj();++t){r.aj(l);const g=m[t][0];e.Q5().Xft(g),p&&g.Fmt(),d.cj(t),yield*a.wyt(o,c),r.uj(l)}else{s.zft(!1);const y=s.Jft();b.Vh(y),y.push(null);for(let t=0,s=m.length;t<s&&!d.dj();++t){const S=m[t][0];y[0]=S,p&&S.Fmt(),d.cj(t),yield*a.wyt(o,c)}}n.pj(),f.pj(),b.Vh(m),v.pj()}return!1}y4t(t,s){let e=this.t4t.get(t);if(!e){if(!s)return null;e={S4t:null,w4t:new Map},this.t4t.set(t,e)}return e}b4t(t,s,e,i,r){s._k().Dyt(e,s.Pk()),i&&t.uj(r)}*v4t(t,s,e,i,r){yield*s._k().Oyt(e,s.Pk()),i&&t.uj(r)}}}{const Ba=self.Ls;Ba.T$.M$.GIt=class extends Ba.dn{constructor(t){super(),this._ft=t,this.mf=t.oO(),this.$Mt=t.U5()}AMt(){}gn(){this._ft=null,this.mf=null,this.$Mt=null}}}{const La=self.Ls;La.T$.M$.Instance=class extends La.dn{constructor(t,s){super(),this._e=t,this._ft=this._e.JL(),this.sTt=this._ft.ubt(),this.mf=this._e.oO()}gn(){this._e=null,this._ft=null,this.sTt=null,this.mf=null}}}{const T=self.Ls,Na=[];T.T$.M$.x$={x4t(){return!0},v$(){return!0},A$(){return!0},wLt(){return!0},bLt(){return!0},jk(){return this.mf.jk()},ggt(){const t=this.mf.zdt();return!t.R0t()&&!t.I0t()},M4t(){let t=this.mf.Jdt(),s=t.b2t(),e=s.get("TriggerOnce_lastTick");void 0===e&&(e=-1,s.set("TriggerOnce_lastTick",-1));const i=this.mf.Vtt();return s.set("TriggerOnce_lastTick",i),this.mf.QLt()||e!==i-1},T4t(t){const s=this.mf.Jdt(),e=s.b2t(),i=e.get("Every_lastTime")||0,r=this.mf.qk(),n=(e.has("Every_seconds")||e.set("Every_seconds",t),e.get("Every_seconds"));return i+n<=r?(e.set("Every_lastTime",i+n),r>=e.get("Every_lastTime")+.04&&e.set("Every_lastTime",r),e.set("Every_seconds",t),!0):(r<i-.1&&e.set("Every_lastTime",r),!1)},Fpt(t){const s=this.mf.xk().d1t(t);return s&&s.Fpt()},sOt(){return this.mf.sOt()},ve(){return T.ue.ve},sLt(){return!0},G4t(){return!0},_4t(){return!0},cNt(){return!0},gNt(){return!0},dNt(){return!0},pNt(){return!0},I4t(t){return!!this.mf.OD(t)},C4t(t){switch(t){case 0:return"browser"===T.ue.Se;case 1:return"iOS"===T.ue.fe;case 2:return"Android"===T.ue.fe;case 8:return"cordova"===T.ue.Se;case 9:return"scirra-arcade"===this.mf.zO();case 10:return"nwjs"===T.ue.Se;case 13:return"windows-uwp"===this.mf.zO();default:return!1}},R4t(t,s,e){const i=this.s4t(s,e);return i.test(t)},E4t(t,s,e){return T.compare(t,s,e)},P4t(t,s,e){return s<=t&&t<=e},F4t(t,s,e){return T.compare(t.Lit(),s,e)},A4t(t){return!!t.Lit()},k4t(t,s){const e=this.mf.qk();if(0!==t)return T.compare(e,t,s);{const i=this.mf.Jdt(),r=i.b2t();return!r.get("CompareTime_executed")&&s<=e&&(r.set("CompareTime_executed",!0),!0)}},D4t(t){return isNaN(t)},Pxt(t,s,e){return T.En(T.Mn(t),T.Mn(e))<=T.Mn(s)},Fxt(t,s){return T.Fn(T.Mn(t),T.Mn(s))},Ubt(t,s,e){let i=T.Mn(t),r=T.Mn(s),n=T.Mn(e),h=!T.Fn(n,r);return h?!(!T.Fn(i,r)&&T.Fn(i,n)):T.Fn(i,r)&&!T.Fn(i,n)},O4t(t,s){return"number"==typeof t?0===s:1===s},B4t(t){return!!t},upt(t){return t.toLowerCase()===this.mf.xk().ppt()},L4t(t,e,i,r){if(!t)return!1;let s=this.h4t(),n=s.ij(),h=t.Q5(),o=(T.qh(n,h.Z5()),h.Lft()&&T.Vh(h.qft()),this.mf.Jdt()),a=0;for(let t=0,s=n.length;t<s;++t){const u=n[t];n[a]=u,e=o.A2t(1,t),r=o.A2t(3,t),T.compare(e,i,r)?++a:h.Hft(u)}T.jh(n,a),h.$ft(n);const l=!!n.length;return T.Vh(n),s.pj(),t.Cyt(),l},N4t(t,s){if(!t)return!1;let e=this.h4t(),i=e.ij(),r=t.Q5(),n=(T.qh(i,r.Z5()),r.Lft()&&T.Vh(r.qft()),this.mf.Jdt()),h=0;for(let t=0,s=i.length;t<s;++t){const a=i[t];i[h]=a,n.A2t(1,t)?++h:r.Hft(a)}T.jh(i,h),r.$ft(i);const o=!!i.length;return T.Vh(i),e.pj(),t.Cyt(),o},W4t(t,e,i){if(!t)return!1;const s=t.Q5(),r=s.Z5();if(0===r.length)return!1;let n=this.mf.Jdt(),h=null,o=0;for(let t=0,s=r.length;t<s;++t){const a=r[t];i=n.A2t(2,t),(null===h||0===e&&i<o||1===e&&i>o)&&(o=i,h=a)}return s.t0t(h),t.Cyt(),!0},U4t(t,s){if(!t)return!1;const e=t.Q5(),i=e.Z5();if((s=Math.floor(s))>=i.length)return!1;const r=i[s];return e.t0t(r),t.Cyt(),!0},j4t(t){if(!t)return!1;const s=t.Q5(),e=s.Z5(),i=Math.floor(this.mf.SD()*e.length);if(i>=e.length)return!1;const r=e[i];return s.t0t(r),t.Cyt(),!0},V4t(t){if(!t)return!1;if(!t.sB())return!1;const s=t.Q5();return s.zft(!0),t.Cyt(),!0},H4t(t,e,i){if(!t)return!1;const r=t.Q5(),s=r.Z5(),n=this.mf.Ck(),h=n.s0t(),o=this.mf.Jdt().m2t();r.Lft()?(T.qh(Na,s),r.Bft(),r.zft(!1)):h?(T.qh(Na,r.qft()),T.Vh(r.qft())):(T.qh(Na,r.Jft()),T.Vh(r.Jft()));for(let t=0,s=Na.length;t<s;++t){const a=Na[t];T.xor(a.UD().L4(e,i),o)?r.Vft(a):r.Hft(a)}return t.Cyt(),T.xor(!!r.Jft().length,o)},z4t(s){if(!s)return!1;let e=s.o9(),i=null,r=this.mf.mCt();for(let t=r.length-1;0<=t;--t){const n=r[t];if(e){if(n.JL().gbt(s)){i=n;break}}else if(n.JL()===s){i=n;break}}if(!i){const h=s.Z5();h.length&&(i=h.at(-1))}if(!i)return!1;const t=s.Q5();return t.t0t(i),s.Cyt(),!0},J4t(t){return this.mf.dvt()?this.a4t(t):this.o4t(t)},q4t(){return this.mf.dvt()?this.u4t():this.l4t()},X4t(t,s,e){return this.mf.dvt()?this.f4t(t,s,e):this.c4t(t,s,e)},wd(t){return this.mf.dvt()?this.p4t(t):this.d4t(t)},$4t(t,s,e){return this.mf.dvt()?this.g4t(t,e):this.m4t(t,e)},Y4t(t){return!!t&&t.iL()},K4t(t){return!!t&&t.uL()},Z4t(t){return!!t&&t.oL()},Q4t(t){return!!t&&!t.sB()},t6t(t,s,e){return!!t&&T.compare(100*t.X3(),s,e)},s6t(t){const s=this.mf.wD();return!!s&&s.PX(t)},r4t(){return!0},e6t(){return 0<this.ZNt},i6t(t,s){const e=this.mf.xRt();return!!e&&!!s&&!!e.Xlt(t,s)}}}{let m=function(t,s){const e=t[0],i=s[0],r=e-i;if(0!=r)return r;const n=t[1],h=s[1];return n-h},g=function(t,s){return t[1]-s[1]};m,g;const Wa=self.Ls,Ua=[],ja=[],Va=Wa.mn(Wa.Rect),Ha=Wa.mn(Wa.$o),za=[];Wa.T$.M$.fnt={r6t(t,s){t.brt(s)},n6t(t,s){t.ci()&&"number"!=typeof s&&(s=parseFloat(s)),t.brt(t.Lit()+s)},h6t(t,s){t.ci()&&t.brt(t.Lit()-s)},o6t(t,s){t.brt(!!s)},a6t(t){t.brt(!t.Lit())},l6t(t){t.brt(t.Hdt())},u6t(t){this.mf.xk().c1t(t)},c6t(t,s,e,i,r,n){if(t&&s){const h=this.mf.iB(t,s,e,i,r,n);if(h){r&&s.rB(h);const o=this.mf.xk(),a=(o.nB(!0),h.hB(),o.nB(!1),new Map);h.dRt(a,t,r);for(const[l,u]of a)l.Q5().Yft(u)}}},f6t(t,s,e,i,r,n){if(t&&s){const h=this.mf.hLt(t);h&&Wa.T$.M$.fnt.c6t.call(this,h,s,e,i,r,n)}},n9(r,n,h,o,a,t,l,u,c,f,d){if(r){let s=this.mf.ND(),e=s;if(t){const p=this.mf.xD().pY(t);if(!p)return;e=p}let i=null;if(!("number"!=typeof l||0<=l)||(i=e.jD(l))){let t=null;if(!("number"!=typeof u||0<=u)||(t=s.jD(u))){Va.set(n,h,o,a);const m=e.n9(r,Va,i,t,c,f,d);r.Q5().$ft(m),r.Cyt()}}}},d6t(){const t=this.X0t;t.H0t()&&t.j0t().UW()},Apt(t,s){const e=this.mf.xk().d1t(t);e&&(0===s?e.Apt(!1):1===s?e.Apt(!0):e.Apt(!e.Fpt()))},p6t(t){this.mf.Kk(t)},m6t(t,s){if(s<0&&(s=0),t){const e=t.Q5(),i=e.Z5();for(const r of i)r.Kk(s)}},g6t(t){if(t){const s=t.Q5(),e=s.Z5();for(const i of e)i.dN()}},Bh(t,s){if(!(t<0)){const e=this.mf.xk().q1t();return s?e.sMt(t):e.eMt(t),!0}},Wk(t){return this.mf.xk().q1t().iMt(t),!0},y6t(){const t=this.mf.xk();return t.q1t().rMt(t.lpt()),!0},Lk(t){this.mf.xk().Lk(t)},async kDt(t,s,e,i,r,n){const h=this.mf.$O();h&&(this.XD(),await h.kDt(0===t?"image/png":"image/jpeg",s/100,e,i,r,n),await this.mf.DN(Wa.T$.M$.x$.G4t,null))},S6t(t,s){if(!(t<=0||s<=0)){this.mf.nDt(t,s),this.mf.ND().Gq();const e=this.mf.$O();e&&("off"!==e.Zkt()&&this.mf.aLt(t,s),e.mC(e.ZU(),e.QU(),!0),this.mf.XD())}},w6t(t){const s=this.mf.$O();s&&"off"!==s.Zkt()&&(s.fDt(0!==t?"high":"low"),s.mC(s.ZU(),s.QU(),!0))},sit(t){this.mf.iNt(t)},b6t(){this.mf.rNt()},v6t(t){this.mf.nNt(t)},x6t(t){this.mf.lxt(t)},M6t(t){},T6t(){for(const t of this.mf.xD().GD())t.j$()},G6t(t){this.mf.tNt(0!==t)},_6t(t,s){this.mf.dD(1/t),this.mf.uD(1/s)},I6t(t,s){this.mf.uD(t),this.mf.dD(s)},C6t(t){this.mf.oD(["vsync","unlimited-tick","unlimited-frame"][t])},R6t(t,e){if(t){const s=t.Q5(),i=s.Z5(),r=Ua,n=ja,h=this.mf.ND(),o=t.o9(),a=t.YSt();for(let t=0,s=i.length;t<s;++t){const l=i[t],u=l.UD();if(u){let t;t=o?l.nht(e+l.JL().$St(a)):l.nht(e),r.push([u.jD().UA(),u.VD()]),n.push([l,t])}}if(r.length){r.sort(m),n.sort(g);let e=!1;for(let t=0,s=r.length;t<s;++t){const c=n[t][0],f=h.HD(r[t][0]),d=r[t][1],p=f.zD();p[d]!==c&&((p[d]=c).UD().JD(f,!0),f.qD(c),e=!0)}e&&this.mf.XD(),Wa.Vh(Ua),Wa.Vh(ja)}}},AO(t,s){t=Math.floor(t),s=Math.floor(s),t<=0||s<=0||!Number.isFinite(t)||!Number.isFinite(s)||this.mf.XA().AO(t,s)},E6t(t){if(!this.mf.$g()){const s=this.mf.xD();s.ID()||s.CD(t)}},P6t(t){if(!this.mf.$g()){const s=this.mf.xD();if(!s.ID()){const e=s.pY(t);e&&s.CD(e)}}},F6t(t){if(!this.mf.$g()){const s=this.mf.xD();if(!s.ID()){const e=s.GD(),i=e.indexOf(s.wD());if((!t||0!==i)&&(t||i!==e.length-1)){const r=e[i+(t?-1:1)];s.CD(r)}}}},A6t(){if(!this.mf.$g()){const t=this.mf.xD();t.ID()||(t.CD(t.wD()),this.mf.xk().y1t())}},k6t(t,s){t&&t.sL(s)},D6t(t,s){t&&t.nL(s)},O6t(t,s){t&&t.aL(s)},B6t(t,s){t&&t.K3(s/100)},L6t(t,s){t&&t.cL(s)},N6t(t,s){t&&t.dL(s)},W6t(t,s){t&&t.yB(Wa.Mn(+s))},U6t(t,s,e){t&&(t.RL(!0),t.wB(s),t.vB(e))},j6t(t){t&&t.RL(!1)},V6t(t,s,e){t&&t.W9(s/100,e/100)},H6t(t,s){t&&t.Wb(+s)},z6t(t,s){if(t){Ha.Ea(s),Ha.vn();const e=t.CL();e.xa(Ha)||(e.ua(Ha),this.XD())}},J6t(t,s){t&&t.xL(s)},q6t(t,s){t&&t.Mb(s)},X6t(t,s,e){if(t){const i=t.cB(),r=i.Jrt(e);if(r){const n=1===s;r.Mmt()!==n&&(r.NPt(n),t.Q6(),this.mf.XD())}}},$6t(t,s,e,i){if(t){const r=t.cB(),n=r.Jrt(s);if(n){e=Math.floor(e);const h=n.TT()._T(e);if(h){"color"===h?(Ha.Ea(i),i=Ha):"percent"===h&&(i/=100);const o=r.sW(n.UA(),e,i);o&&n.Mmt()&&this.mf.XD()}}}},Y6t(t,s){t&&t.GL(s)},K6t(t){this.mf.ND().mB(+t)},Z6t(t){this.mf.ND().yB(Wa.Mn(+t))},Q6t(t,s){const e=this.mf.ND(),i=e.cB(),r=i.Jrt(s);if(r){const n=1===t;r.Mmt()!==n&&(r.NPt(n),e.Q6(),this.mf.XD())}},tWt(t,s,e){const i=this.mf.ND(),r=i.cB(),n=r.Jrt(t);if(n){s=Math.floor(s);const h=n.TT()._T(s);if(h){"color"===h?(Ha.Ea(e),e=Ha):"percent"===h&&(e/=100);const o=r.sW(n.UA(),s,e);o&&n.Mmt()&&this.mf.XD()}}},sWt(t,s){const e=this.mf.ND();e.UB(t/100,s/100)},eWt(t){const s=this.mf.ND();0===t?s.HB():s.zB()},iWt(t){const s=this.mf.ND();s.wB(t)},rWt(t){const s=this.mf.ND();s.vB(t)},nWt(t,s){const e=this.mf.ND();e.wB(t),e.vB(s)},hWt(t){if(t){const s=t.ivt();if(s){const e=s.UD();if(e){const i=this.mf.ND();i.wB(e.kb()),i.vB(e.Bb())}}}},AB(t,s,e){const i=this.mf.ND();try{i.AB(t,s,e)}catch(t){console.warn("[Construct] Cannot add layer: ",t)}},DB(t,s,e){if(t){const i=this.mf.ND();try{i.DB(t,s,e)}catch(t){console.warn("[Construct] Cannot move layer: ",t)}}},BB(t){if(t){const s=this.mf.ND();s.BB(t)}},NB(){this.mf.ND().NB()},async oWt(t){const s=this.mf.wD();if(s&&t&&!this.mf.$g()){const e=t.o9()?t.bgt():[t];await this.i4t(s,e)}},async aWt(t){await Wa.T$.M$.fnt.oWt.call(this,this.mf.hLt(t))},lWt(t){const s=this.mf.wD();if(s&&t){const e=t.o9()?t.bgt():[t];this.n4t(s,e)}},uWt(t){Wa.T$.M$.fnt.lWt.call(this,this.mf.hLt(t))},cWt(){const t=this.mf.wD();if(t){const s=t.VX();this.n4t(t,s)}},async fWt(t){const s=this.mf.wD();t&&s&&!this.mf.$g()&&await this.i4t(s,t.WX())},async dWt(t){const s=this.mf.wD(),e=this.mf.xD().pY(t);e&&s&&!this.mf.$g()&&await this.i4t(s,e.WX())},Bk(t){const s=this.kft.kk();if(s)switch(s.Ok()){case 1:"number"==typeof t&&s.Bk(t);break;case 2:"string"==typeof t&&s.Bk(t);break;case 3:s.Bk(t)}},pWt(t,s,e){const i=this.y4t(t.toLowerCase(),!0),r=i.w4t,n=s.toLowerCase(),h=(r.has(n)&&console.warn(`[Construct] Function map '${t}' string '${s}' already in map; overwriting entry`),Wa.first(r.values())||i.S4t);if(h){const o=0!==h.Fk(),a=0!==e.Fk();if(o!=a)return void console.error(`[Construct] Function map '${t}' string '${s}' function return type not compatible with other functions in the map; entry ignored`)}r.set(n,e)},mWt(t,s){const e=this.y4t(t.toLowerCase(),!0),i=(e.S4t&&console.warn(`[Construct] Function map '${t}' already has a default; overwriting entry`),Wa.first(e.w4t.values())||e.S4t);if(i){const r=0!==i.Fk(),n=0!==s.Fk();if(r!=n)return void console.error(`[Construct] Function map '${t}' default: function return type not compatible with other functions in the map; entry ignored`)}e.S4t=s},gWt(t,s,e){const i=this.mf,r=i.dvt()?za:null,n=(e=Math.floor(e),this.y4t(t.toLowerCase(),!1));if(!n)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; call ignored`),r;let h=n.w4t.get(s.toLowerCase());if(!h){if(!n.S4t)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; call ignored (consider setting a default)`),r;h=n.S4t,e=0}if(!h.rc())return r;if(0!==h.Fk())return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has a return type so cannot be called`),r;const o=i.xk(),a=o.Ck(),l=a.Ik(),u=0<l.length,c=(u&&(h.Pk()?o.aj(l):o.z1t(l)),[]),f=o.Npt(a);if(f){const p=f.Upt();for(let t=e,s=p.length;t<s;++t)c.push(p[t].Lit())}const d=h.Upt();for(let t=c.length,s=d.length;t<s;++t)c.push(d[t].Hdt());return i.dvt()?this.v4t(o,h,c,u,l):this.b4t(o,h,c,u,l)}}}{const G=self.Ls;G.T$.M$.dnt={yWt:function(t){return"string"==typeof t&&(t=parseInt(t,10),isNaN(t))&&(t=0),Math.floor(t)},float:function(t){return"string"==typeof t&&(t=parseFloat(t),isNaN(t))?0:t},B(t){return t.toString()},Jt(t){return"string"==typeof t?t.length:0},random(t,s){return void 0===s?this.mf.SD()*t:this.mf.SD()*(s-t)+t},kSt(...t){const s=Math.floor(this.mf.SD()*t.length);return t[s]},SWt(t,...s){return"number"!=typeof t&&(t=0),s[t=G.vn(Math.floor(t),0,s.length-1)]},pi(){return Math.PI},wWt(){return 1/0},sqrt(t){return Math.sqrt(t)},abs(t){return Math.abs(t)},round(t){return Math.round(t)},bWt(t,s){s=Math.max(Math.floor(s),0);const e=Math.pow(10,s);return Math.round((t+Number.EPSILON)*e)/e},floor(t){return Math.floor(t)},ceil(t){return Math.ceil(t)},sign(t){return Math.sign(t)},sin(t){return Math.sin(G.Mn(t))},cos(t){return Math.cos(G.Mn(t))},tan(t){return Math.tan(G.Mn(t))},asin(t){return G.Tn(Math.asin(t))},acos(t){return G.Tn(Math.acos(t))},atan(t){return G.Tn(Math.atan(t))},exp(t){return Math.exp(t)},Zt(t){return Math.log(t)},log10(t){return Math.log10(t)},max(...e){let i=e[0];"number"!=typeof i&&(i=0);for(let s=1,t=e.length;s<t;++s){let t=e[s];"number"==typeof t&&i<t&&(i=t)}return i},min(...e){let i=e[0];"number"!=typeof i&&(i=0);for(let s=1,t=e.length;s<t;++s){let t=e[s];"number"==typeof t&&i>t&&(i=t)}return i},vn(t,s,e){return G.vn(t,s,e)},Et(t,s,e,i){return G.In(t,s,e,i)},angle(t,s,e,i){return G.Tn(G.Rn(t,s,e,i))},Ot(t,s,e){return G.Ot(t,s,e)},Bn(t,s,e){return G.Bn(t,s,e)},Nn(t,s,e,i){return G.Nn(t,s,e,i)},Wn(t,s,e,i,r){return G.Wn(t,s,e,i,r)},Un(t,s,e){return G.Un(t,s,e)},vWt(t,s){return G.Tn(G.En(G.Mn(t),G.Mn(s)))},xWt(t,s,e){return G.Tn(G.An(G.Mn(t),G.Mn(s),e))},MWt(t,s,e){return G.Tn(G.Pn(G.Mn(t),G.Mn(s),G.Mn(e)))},TWt(t,s,e){return(t|=0)&~(1<<(s|=0))|(e=0!==e?1:0)<<s},GWt(t,s){return(t|=0)^1<<(0|s)},_Wt(t,s){return(t|=0)&1<<(0|s)?1:0},IWt(){return"\n"},CWt(t){return"string"==typeof t?t.toUpperCase():""},RWt(t){return"string"==typeof t?t.toLowerCase():""},left(t,s){return"string"==typeof t?t.substr(0,s):""},mid(t,s,e){return"string"!=typeof t?"":e<0?t.substr(s):t.substr(s,e)},right(t,s){return"string"==typeof t?t.substr(Math.max(t.length-s,0)):""},trim(t){return"string"==typeof t?t.trim():""},EWt(t,s,e){if("string"!=typeof t||"string"!=typeof e)return"";let i=t.split(e);return(s=Math.floor(s))<0||s>=i.length?"":i[s]},PWt(t,s){return"string"==typeof t&&"string"==typeof s&&t.length?t.split(s).length:0},find(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(G.ai(s),"i")):-1},FWt(t,s){return"string"==typeof t&&"string"==typeof s?t.search(new RegExp(G.ai(s),"")):-1},replace(t,s,e){return"string"==typeof t&&"string"==typeof s&&"string"==typeof e?t.replace(new RegExp(G.ai(s),"gi"),e):"string"==typeof t?t:""},AWt(t,...e){let i=t;for(let t=0,s=e.length;t<s;++t)i=i.replaceAll(`{${t}}`,e[t].toString());return i},kWt(t,s,e){const i=this.s4t(s,e);return t?t.search(i):-1},DWt(t,s,e,i){const r=this.s4t(s,e);return t?t.replace(r,i):""},OWt(t,s,e){const i=this.e4t(t.toString(),s,e);return i?i.length:0},BWt(t,s,e,i){i=Math.floor(i);const r=this.e4t(t.toString(),s,e);return!r||i<0||i>=r.length?"":r[i]},LWt(t,s){let e=t<0?"-":"",i=s-(t=t<0?-t:t).toString().length;return(e+="0".repeat(Math.max(i,0)))+t.toString()},NWt(t){return encodeURIComponent(t)},WWt(t){return decodeURIComponent(t)},Vk(){return this.mf.JK()},UWt(){return this.mf.qK()},timescale(){return this.mf.Yk()},jWt(){return(Date.now()-this.mf.jLt())/1e3},VWt(){return Date.now()},time(){return this.mf.qk()},tickcount(){return this.mf.Vtt()},HWt(){return this.mf.zLt()},fps(){return this.mf.Zk()},zWt(){return this.mf.eD()},JWt(){return this.mf.rD()},qWt(){return this.mf.$O().i5()},XWt(){return this.mf.$O().n5()},$Wt(){return this.mf.ak()},YWt(){return this.mf.uk()},KWt(){return this.mf.ak()},ZWt(){return this.mf.uk()},QWt(){return this.mf.ND().bB()},tUt(){return this.mf.ND().xB()},sUt(){return this.mf.ND().nf()},eUt(){return this.mf.ND().gB()},iUt(){return G.Tn(this.mf.ND().SB())},rUt(){return this.mf.ND().Sm()},nUt(){return this.mf.ND().Rm()},hUt(){return 100*this.mf.ND().A9()},oUt(){return 100*this.mf.ND().k9()},aUt(t){const s=this.mf.ND().jD(t);return s?s.F9().Rl():0},lUt(t){const s=this.mf.ND().jD(t);return s?s.F9().El():0},uUt(t){const s=this.mf.ND().jD(t);return s?s.F9().Pl():0},cUt(t){const s=this.mf.ND().jD(t);return s?s.F9().Fl():0},fUt(t){const s=this.mf.ND().jD(t);return s?s.F9().width():0},dUt(t){const s=this.mf.ND().jD(t);return s?s.F9().height():0},pUt(t){const s=this.mf.ND().jD(t);if(s){const e=s.F9();return(e.Rl()+e.Pl())/2}return 0},mUt(t){const s=this.mf.ND().jD(t);if(s){const e=s.F9();return(e.El()+e.Fl())/2}return 0},gUt(t,s,e){const i=this.mf.ND().jD(t);return i?i.AL(s,e)[0]:0},yUt(t,s,e){const i=this.mf.ND().jD(t);return i?i.AL(s,e)[1]:0},SUt(t,s,e){const i=this.mf.ND().jD(t);return i?i.BL(s,e)[0]:0},wUt(t,s,e){const i=this.mf.ND().jD(t);return i?i.BL(s,e)[1]:0},bUt(t,s,e,i){const r=this.mf.ND(),n=r.jD(t),h=r.jD(s);if(!n||!h||n===h)return e;const[o,a]=n.BL(e,i);return h.AL(o,a)[0]},vUt(t,s,e,i){const r=this.mf.ND(),n=r.jD(t),h=r.jD(s);if(!n||!h||n===h)return i;const[o,a]=n.BL(e,i);return h.AL(o,a)[1]},xUt(t){const s=this.mf.ND().jD(t);return s?s.fL():0},MUt(t){const s=this.mf.ND().jD(t);return s?G.Tn(s.mL()):0},TUt(t){const s=this.mf.ND().jD(t);return s?100*s.X3():0},GUt(t){const s=this.mf.ND().jD(t);return s?s.pL():0},_Ut(t){const s=this.mf.ND().jD(t);return s?s.bB():0},IUt(t){const s=this.mf.ND().jD(t);return s?s.xB():0},CUt(t){const s=this.mf.ND().jD(t);return s?100*s.yL():0},RUt(t){const s=this.mf.ND().jD(t);return s?100*s.wL():0},EUt(t){const s=this.mf.ND().jD(t);return s?s.Nb():0},PUt(t){const s=this.mf.ND().jD(t);return s?s.UA():-1},FUt(){const t=this.mf.$O();return t?t.ODt():""},AUt(t){const s=this.X0t;if(!s.H0t())return 0;if(t){const e=s.J0t(t);return e?e.UA():0}return s.j0t().UA()},kUt(){return this.mf.hNt()},DUt(t,s,...e){const i=this.y4t(t.toLowerCase(),!1);if(!i)return console.warn(`[Construct] Call mapped function: map name '${t}' not found; returning 0`),0;let r=i.w4t.get(s.toLowerCase());if(!r){if(!i.S4t)return console.warn(`[Construct] Call mapped function: no function associated with map '${t}' string '${s}'; returning 0 (consider setting a default)`),0;r=i.S4t}const n=r.Fk(),h=r.Tk();if(0===n)return console.warn(`[Construct] Call mapped function: map '${t}' string '${s}' has no return type so cannot be called from an expression; returning 0`),0;if(!r.rc())return h;const o=this.mf,a=o.xk(),l=a.Ck(),u=l.Ik(),c=0<u.length,f=(c&&(r.Pk()?a.aj(u):a.z1t(u)),r.Upt());for(let t=e.length,s=f.length;t<s;++t)e.push(f[t].Hdt());const d=r._k(),p=d.Ek(d.Ik(),r.Pk(),n,h,...e);return c&&a.uj(u),p},OUt(){return this.mf.zA().mD()},BUt(){return this.b7()},renderer(){return this.mf.wDt()?"webgpu":"webgl"},LUt(){return this.mf.wDt()?this.mf.wDt().GetAdapterInfoString():this.mf.SDt().rP()},NUt(){let t=this.mf.eb().C2();return Math.round(100*t/1048576)/100},WUt(t,s,e){return G.Xn(t,s,e)},UUt(t,s,e){return G.Yn(t/100,s/100,e/100)},jUt(t,s,e,i){return G.$n(t/100,s/100,e/100,i/100)},VUt(t,s,e){return G.Yn(t/255,s/255,e/255)},HUt(t,s,e,i){return G.$n(t/255,s/255,e/255,i/255)},zUt(){return this.mf.ZA()},JUt(){return this.mf.sk()},qUt(){return this.mf.Ck().RX().nf()},XUt(){return this.mf.Ck().Lgt()}}}{const Ja=self.Ls;Ja.T$.$rt=class extends Ja.uMt{constructor(t){super(t)}gn(){super.gn()}}}{const qa=self.Ls,Xa=self.Xs,$a=[],Ya=(qa.T$.$rt.GIt=class extends qa.XMt{constructor(t){super(t),this.SIt=t.iCt()}gn(){qa.Vh(this.SIt),super.gn()}AMt(){for(const t of this.SIt)t.w_t(this.mf)}zX(s){const e={Bv:this.mf.ck()};return Promise.all(this.SIt.map(t=>t.b_t(s,e)))}KX(){for(const t of this.SIt)t.v_t()}XX(){this.$Ut()}$Ut(){for(const t of this._ft.K5())t.k6().YUt()}_2t(t){qa.T$.$rt.jxt(this,t)}cbt(t){$a.push({ZMt:null,KUt:!1,instances:[]})}ZUt(t,s,e){const i=$a.at(-1);i.ZMt=t,i.KUt=e,i.instances.push(s)}fbt(t){const s=$a.pop(),e=s.ZMt,i=s.KUt;if(e){const r=new Map;for(const n of s.instances)n.dRt(r,e,i);for(const[h,o]of r)h.Q5().Yft(o)}}QUt(t){const s=this.JL().aCt(t),e=this.oO(),i=s.x_t(0);return i.SW().Jj(e.eb(),{Bv:e.ck()}).then(()=>this.$Ut()),s}t8t(t){for(const s of this._ft.K5())s.k6().s8t(t);this.JL().lCt(t)}e8t(t,s){const e=this._ft.hCt(t);if(!e)throw new Error(`cannot find animation name '${t}'`);let i=e.__t(s);i<0&&(i+=e.uW()+1);const r=qa.g_t.S_t(this.oO()),n=(e.M_t(r,i),this.oO());r.SW().Jj(n.eb(),{Bv:n.ck()}).then(()=>this.$Ut());for(const h of this._ft.K5())h.k6().i8t();return r}r8t(t,s){const e=this._ft.hCt(t);if(!e)throw new Error(`cannot find animation name '${t}'`);if(1===e.uW())throw new Error(`cannot remove last frame from animation '${t}'`);let i=e.__t(s);i<0&&(i+=e.uW()),e.T_t(i);for(const r of this._ft.K5())r.k6().i8t()}kMt(){return self.n8t}},new WeakMap);self.n8t=class extends self.N5{constructor(t){super(t),Ya.set(this,t.ubt())}h8t(t){Xa.Mi(t);const s=Ya.get(this).JL().hCt(t);return s?s.I_t():null}o8t(){return Ya.get(this).JL().nCt().map(t=>t.I_t())}a8t(t){return Xa.Mi(t),Ya.get(this).QUt(t).I_t()}l8t(t){Xa.Mi(t),Ya.get(this).t8t(t)}u8t(t,s){if(Xa.Mi(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");return Ya.get(this).e8t(t,s).dW()}c8t(t,s){if(Xa.Mi(t),"number"!=typeof s&&"string"!=typeof s)throw new TypeError("invalid insert location");Ya.get(this).r8t(t,s)}}}{const I=self.Ls,Ka=self.Xs,Za=I.mn(I.Rect),Qa=I.mn(I.nu),tl=I.mn(I.nl),C=(I.T$.$rt.Instance=class extends I.ITt{constructor(t,s){super(t);let e=!0,i="",r=0,n=!0;s&&(e=!!s[0],i=s[1],r=s[2],n=s[3]),this.f8t=this._ft.hCt(i)||this._ft.iCt()[0],this.d8t=I.vn(r,0,this.f8t.uW()-1),this.p8t=this.f8t.x_t(this.d8t);const h=this.p8t.SW(),o=(this.m8t=h.nM(),this.g8t=h.JC(),this.y8t=h.NTt(),this.PTt(),t.cRt(2,!0),t.cRt(1,0<=this.f8t.iW()),this.S8t=Math.abs(this.f8t.iW()),this.w8t=this.f8t.oW(),this.b8t=I.mn(I.R0),this.v8t=0,this.x8t=0,this.M8t="",this.T8t=-1,this.G8t="",this._8t=0,this.UD());this.I8t=o.b4(),o.sL(e),o.B4(n),o.Rht(this.p8t.vW()),o.Pht(this.p8t.MW()),o.iPt(this.p8t.kW()),o.l4(),1===this._ft.rCt()&&1===this._ft.iCt()[0].uW()||0===this.S8t||this.STt()}gn(){this.f8t=null,this.p8t=null,this.m8t=null,this.b8t=null,super.gn()}DTt(){return this.p8t.SW()}Det(){return!0}q7(){this.m8t=null}kTt(){this.YUt()}_v(t){const s=this.m8t;if(null!==s){t.tE(s);const e=this.UD();e._6()?this.C8t(e,t):this.R8t(e,t)}}R8t(t,s){let e=this.I8t;this.mf.dk()&&(e=t.YEt(e)),s.uE(e,this.y8t)}C8t(s,t){const e=s.pPt();if(s.gPt()){s.qEt(Za,Qa,!1);let t=Qa;this.mf.dk()&&(t=s.YEt(t)),e.Gv(s.I6(),t,this.y8t),s.mPt(!1)}e._v(t)}E8t(){return this.b8t.re()}P8t(){return this._e.fRt(2)}F8t(t){this._e.cRt(2,t)}A8t(){return this._e.fRt(1)}k8t(t){this._e.cRt(1,t)}D8t(){return this._e.fRt(4)}O8t(t){this._e.cRt(4,t)}XK(){this.G8t&&this.B8t(),0<=this.T8t&&this.L8t();const t=this.S8t;if(this.P8t()&&0!==t){const s=this.mf.Hk(this._e),e=(this.b8t.wc(s),this.E8t()),i=this.p8t,r=i.wW()/t;if(!(e<this.v8t+r)){const n=this.f8t,h=this.w8t,o=n.uW(),a=n.nW(),l=n.rW(),u=n.lW(),c=(this.A8t()?this.d8t++:this.d8t--,this.v8t+=r,this.d8t>=o&&(u?(this.k8t(!1),this.d8t=o-2):!l&&(this.x8t++,this.x8t>=a)?this.N8t(!1):this.d8t=h),this.d8t<0&&(u?(this.d8t=1,this.k8t(!0),l||(this.x8t++,this.x8t>=a&&this.N8t(!0))):!l&&(this.x8t++,this.x8t>=a)?this.N8t(!0):this.d8t=h),this.d8t=I.vn(this.d8t,0,o-1),n.x_t(this.d8t));e>this.v8t+c.wW()/t&&(this.v8t=e),this.W8t(i,c)}}else this.eTt()}N8t(t){this.d8t=t?0:this.f8t.uW()-1,this.F8t(!1),this.M8t=this.f8t.nf(),this.O8t(!0),this.KMt("animationend",!1,{animationName:this.M8t}),this.AN(I.T$.$rt.x$.U8t),this.AN(I.T$.$rt.x$.j8t),this.O8t(!1),this.x8t=0}W8t(e,i,t){if(e!==i){const s=this.UD(),r=e.SW(),n=i.SW(),h=r.Sm(),o=r.Rm(),a=n.Sm(),l=n.Rm(),u=(t&&t.onFrameChange?t.onFrameChange(s,h,o,a,l):(h!==a&&s._m(s.Sm()*(a/h)),o!==l&&s.wm(s.Rm()*(l/o))),s.Rht(i.vW()),s.Pht(i.MW()),s.iPt(i.kW()),s.l4(),this.p8t=i,this.m8t=n.nM(),this.g8t=n.JC(),this.y8t=n.NTt(),this.aU().Vrt());for(let t=0,s=u.length;t<s;++t)u[t].GGt(e,i);this.KMt("framechange",!1,{animationName:this.f8t.nf(),V8t:this.d8t}),this.AN(I.T$.$rt.x$.H8t),this.mf.XD()}}z8t(t){this.F8t(!0),this.v8t=this.E8t(),1===t&&0!==this.d8t&&(this.T8t=0,this.D8t()||this.L8t()),this.STt()}J8t(t,s,e){this.G8t=t,this._8t=s,this.STt(),!e&&this.D8t()||this.B8t()}q8t(){return this.f8t}X8t(){return this.G8t||this.f8t.nf()}s8t(t){I.br(t,this.X8t())&&this.J8t(this._ft.uCt().nf(),1,!0)}$8t(t){if("string"==typeof t)if(String(Number(t))===t)t=Number(t);else{const s=this._ft.hCt(this.X8t());if(!s)return;if(-1===(t=s.G_t(t)))return}isFinite(t)&&(this.T8t=t,this.D8t()||this.L8t())}i8t(){if(!this.G8t&&-1===this.T8t){const t=this.p8t,s=this.f8t.x_t(I.vn(this.d8t,0,this.f8t.uW()-1));t!==s&&this.W8t(t,s),1<this.f8t.uW()&&0<this.S8t&&this.STt()}}Y8t(){return this.d8t}K8t(){return this.p8t.LW()}Z8t(t){this.S8t=Math.abs(t),this.k8t(0<=t),0<this.S8t&&this.STt()}Q8t(){return this.A8t()?this.S8t:-this.S8t}tjt(t){"string"==typeof t&&-1===(t=this.f8t.G_t(t))||(t=I.vn(Math.floor(t),0,this.f8t.uW()-1),this.w8t=t)}sjt(){return this.w8t}B8t(t){const s=this.p8t,e=this._ft.hCt(this.G8t);if(this.G8t="",e&&(e!==this.f8t||!this.P8t())){this.f8t=e,this.k8t(0<=e.iW()),this.S8t=Math.abs(e.iW()),this.w8t=e.oW(),this.d8t=I.vn(this.d8t,0,this.f8t.uW()-1),1===this._8t&&(this.d8t=0),this.F8t(!0),this.v8t=this.E8t();const i=this.f8t.x_t(this.d8t);this.W8t(s,i,t)}}L8t(t){const s=this.p8t,e=this.d8t;if(this.d8t=I.vn(Math.floor(this.T8t),0,this.f8t.uW()-1),this.T8t=-1,t||e!==this.d8t){const i=this.f8t.x_t(this.d8t);this.W8t(s,i),this.v8t=this.E8t()}}YUt(){const t=this.p8t.SW();this.m8t=t.nM(),this.g8t=t.JC(),this.y8t=t.NTt(),this.UD().mPt(!0)}nM(){return this.m8t}JC(){return this.g8t}NTt(){return this.y8t}_W(){return this.p8t._W()}_bt(t){let s=this.p8t,e=this.UD(),i=null;if("string"==typeof t)i=s.FW(t);else{if("number"!=typeof t)throw new TypeError("expected string or number");i=s.PW(t-1)}let r=e.g4();if(!i)return[e.kb(),e.Bb(),r];if(tl.I(i.L_t()),e._6()){const[n,h,o]=e.I6().Fv(tl.ul(),tl.fl());tl.set(n,h),r+=o}return tl.offset(-s.vW(),-s.MW()),tl.scale(e.Sm(),e.Rm()),tl.rotate(e.SB()),tl.offset(e.kb(),e.Bb()),[tl.ul(),tl.fl(),r]}ejt(){return this.UD().aPt().zu()}ijt(t){t=Math.floor(t);const s=this.UD(),e=s.aPt(),i=e.zu();if((t=t===i?0:t)<0||i<=t)return[0,0];const r=e.Hu();return[r[2*t+0]+s.kb(),r[2*t+1]+s.Bb()]}xTt(){const s=I.T$.$rt.fnt,t="plugins.sprite.debugger.animation-properties";return[{title:t+".title",properties:[{name:t+".current-animation",value:this.f8t.nf(),rjt:t=>this.TTt(s.njt,t,0)},{name:t+".current-frame",value:this.d8t,rjt:t=>this.TTt(s.hjt,t)},{name:t+".is-playing",value:this.P8t(),rjt:t=>t?this.TTt(s.ojt,0):this.TTt(s.ajt)},{name:t+".speed",value:this.S8t,rjt:t=>this.TTt(s.ljt,t)},{name:t+".repeats",value:this.x8t,rjt:t=>this.x8t=t}]}]}qb(){const t={a:this.f8t.m9()},s=(0!==this.v8t&&(t.fs=this.v8t),this.E8t()),e=(0!==s&&(t.at=s),0!==this.d8t&&(t.f=this.d8t),0!==this.S8t&&(t.cas=this.S8t),1!==this.x8t&&(t.ar=this.x8t),0!==this.w8t&&(t.rt=this.w8t),this.P8t()||(t.ap=this.P8t()),this.A8t()||(t.af=this.A8t()),this.UD());return e.O4()&&(t.ce=e.O4()),t}Xb(t){const s=this.JL().oCt(t.a),e=(s&&(this.f8t=s),this.v8t=t.hasOwnProperty("fs")?t.fs:0,this.b8t.Set(t.hasOwnProperty("at")?t.at:0),t.hasOwnProperty("f")?t.f:0),i=(this.d8t=I.vn(e,0,this.f8t.uW()-1),this.S8t=t.hasOwnProperty("cas")?t.cas:0,this.x8t=t.hasOwnProperty("ar")?t.ar:1,t.hasOwnProperty("rt")?t.rt:0),r=(this.w8t=I.vn(i,0,this.f8t.uW()-1),this.F8t(!t.hasOwnProperty("ap")||!!t.ap),this.k8t(!t.hasOwnProperty("af")||!!t.af),this.f8t.x_t(this.d8t)),n=(this.p8t=r,this.YUt(),this.UD());n.Rht(r.vW()),n.Pht(r.MW()),n.iPt(r.kW()),n.B4(!!t.ce),this.P8t()&&this.STt()}Ynt(t){const s=this.UD();switch(t){case 3:return s.O4();case 2:return I.vn(this.d8t,0,this.f8t.uW()-1);case 1:return this.f8t.nf()}}eht(t,s,e){const i=this.UD();switch(t){case 3:i.B4(!!s);break;case 2:{this.F8t(!1);const r=this.f8t.uW()-1,n=s=I.vn(s,0,r),h=this.f8t.x_t(this.d8t),o=this.f8t.x_t(n);this.W8t(h,o,e),this.d8t=I.vn(n,0,r);break}case 1:{this.G8t=s,this.B8t(e);const a=this.f8t.uW();1<a&&0<this.f8t.iW()?this.STt():this.eTt();break}}}kMt(){return self.ujt}},new WeakMap),sl=new Map([["current-frame",0],["beginning",1]]);self.ujt=class extends self.R6{constructor(){super(),C.set(this,self.HL.$L().k6())}GW(){return C.get(this)._W()}IW(t){return this.RW(t)[0]}EW(t){return this.RW(t)[1]}cjt(t){return this.RW(t)[2]}RW(t){if("string"!=typeof t&&"number"!=typeof t)throw new TypeError("expected string or number");return C.get(this)._bt(t)}AW(){return C.get(this).ejt()}DW(t){return Ka.wi(t),C.get(this).ijt(t)[0]}BW(t){return Ka.wi(t),C.get(this).ijt(t)[1]}OW(t){return Ka.wi(t),C.get(this).ijt(t)}fjt(){C.get(this).F8t(!1)}djt(t="current-frame"){Ka.Mi(t);const s=sl.get(t);if(void 0===s)throw new Error("invalid mode");C.get(this).z8t(s)}pjt(t,s="beginning"){Ka.Mi(t),Ka.Mi(s);const e=sl.get(s);if(void 0===e)throw new Error("invalid mode");const i=C.get(this);if(!i.JL().hCt(t))throw new Error(`animation name "${t}" does not exist`);i.J8t(t,e)}h8t(t){Ka.Mi(t);const s=C.get(this).JL().hCt(t);return s?s.I_t():null}get animation(){return C.get(this).q8t().I_t()}get animationName(){return C.get(this).X8t()}set V8t(t){Ka.wi(t),C.get(this).$8t(t)}get V8t(){return C.get(this).Y8t()}set mjt(t){Ka.Mi(t),C.get(this).$8t(t)}get mjt(){return C.get(this).K8t()}set gjt(t){Ka.wi(t),C.get(this).Z8t(t)}get gjt(){return C.get(this).Q8t()}set yjt(t){Ka.wi(t),C.get(this).tjt(t)}get yjt(){return C.get(this).sjt()}get imageWidth(){return C.get(this).DTt().Sm()}get imageHeight(){return C.get(this).DTt().Rm()}Sjt(){const t=C.get(this).DTt();return[t.Sm(),t.Rm()]}async wjt(t){Ka.tr(t,Blob);const s=C.get(this),e=s.oO(),i=s.DTt(),r=I.mn(I.jGt);if(r.e_t(e,t),await r.Jj(e.eb(),{Bv:e.ck()}),s.yn())r.gn();else{i.i_t(r);const n=s.ubt();n.$Ut(),n.JL().Xf().dispatchEvent(new I.Event("animationframeimagechange")),e.XD()}}bjt(t,s){Ka.Mi(s),C.get(this).UD().zEt(!!t,s)}}}{const el=self.Ls;el.T$.$rt.x$={vjt(t){return el.br(this.X8t(),t)},xjt(t,s){return el.compare(this.d8t,t,s)},Mjt(t,s){if("string"!=typeof s)return!1;const e=this.p8t.LW();return el.compare(e.toLowerCase(),t,s.toLowerCase())},Tjt(t,s){return el.compare(this.Q8t(),t,s)},j8t(t){return el.br(this.M8t,t)},U8t(){return!0},H8t(){return!0},Gjt(){return this.UD().Sm()<0},_jt(){return this.UD().Rm()<0},Ijt(){return!0},Cjt(){return!0},O4(){return this.UD().O4()}}}{const il=self.Ls;il.T$.$rt.fnt={Rjt(t,s,e,i,r){if(t&&s){const[n,h]=this._bt(e),o=this.mf.iB(t,s,n,h,i,r);if(o){if(i&&s.rB(o),t.U5().v5()){const l=o.UD();l.yB(this.UD().SB()),l.l4()}const a=this.mf.xk();a.nB(!0),o.hB(),a.nB(!1),t!==this.mf.Xdt().JL()&&this.sTt.ZUt(t,o,i)}}},ajt(){this.F8t(!1)},ojt(t){this.z8t(t)},njt(t,s){this.J8t(t,s)},hjt(t){this.$8t(t)},ljt(t){this.Z8t(t)},Ejt(t){this.tjt(t)},Pjt(s,t){try{0===s?this.ubt().QUt(t):this.ubt().t8t(t)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation: `,t)}},Fjt(s,t,e){try{0===s?this.ubt().e8t(t,e):this.ubt().r8t(t,e)}catch(t){console.error(`[Construct] Error ${0===s?"adding":"removing"} animation frame: `,t)}},Ajt(t){const s=this.UD(),e=s.Sm(),i=Math.abs(e)*(0===t?-1:1);e!==i&&(s._m(i),s.l4())},kjt(t){const s=this.UD(),e=s.Rm(),i=Math.abs(e)*(0===t?-1:1);e!==i&&(s.wm(i),s.l4())},mB(t){const s=this.p8t,e=s.SW(),i=this.UD(),r=i.Sm()<0?-1:1,n=i.Rm()<0?-1:1,h=e.Sm()*t*r,o=e.Rm()*t*n;i.Sm()===h&&i.Rm()===o||(i.mC(h,o),i.l4())},async Djt(t,s,e){const i=this.p8t,r=i.SW(),n=this.UD(),h=this.mf,o=this.sTt;if(r.d7()===t)0===s&&(n.mC(r.Sm(),r.Rm()),n.l4()),this.AN(il.T$.$rt.x$.Ijt);else{const a=il.mn(il.jGt);try{if(await a.s_t(h,t),!a.U7())throw new Error("image failed to load");if(this.yn())return void a.gn();await a.Jj(h.eb(),{Bv:h.ck()})}catch(t){return console.error("Load image from URL failed: ",t),void(this.yn()||this.AN(il.T$.$rt.x$.Cjt))}this.yn()?a.gn():(r.i_t(a),o.$Ut(),o.JL().Xf().dispatchEvent(new il.Event("animationframeimagechange")),h.XD(),0===s&&(n.mC(r.Sm(),r.Rm()),n.l4()),await this.DN(il.T$.$rt.x$.Ijt))}},Ojt(t){this.UD().B4(t)},zEt(t,s){this.UD().zEt(0===t,s)},Bjt(t){this.UD().Mb(t),this.mf.XD()}}}{const rl=self.Ls;rl.T$.$rt.dnt={Ljt(){return this.Y8t()},Njt(){return this.K8t()},Wjt(){return this.f8t.uW()},Ujt(){return this.f8t.nf()},jjt(){return this.Q8t()},Vjt(){return this.f8t.iW()},Hjt(t){return this._bt(t)[0]},zjt(t){return this._bt(t)[1]},Jjt(t){return this._bt(t)[2]},qjt(){return this._W()},Xjt(){return this.DTt().Sm()},$jt(){return this.DTt().Rm()},Yjt(t){return this.ijt(t)[0]},Kjt(t){return this.ijt(t)[1]},Zjt(){return this.ejt()}}}{const nl=self.Ls;nl.T$.Qjt=class extends nl.uMt{constructor(t){super(t)}gn(){super.gn()}}}{const hl=self.Ls;hl.T$.Qjt.GIt=class extends hl.XMt{constructor(t){super(t),this.tVt=null,this.ny=null}gn(){this.KX(),super.gn()}AMt(){this.SW().hO(this.mf)}async zX(t){const s=this.SW();this.ny=await s.l_t()}sVt(t,s,e,i){!this.tVt&&this.ny&&(this.tVt=new self.eVt(this),this.tVt.iVt(this.ny,t,s,e,i))}KX(){this.tVt&&(this.tVt.gn(),this.tVt=null)}rVt(){return this.tVt}}}{const ol=self.Ls,al=ol.mn(ol.Rect),ll=ol.mn(ol.Rect),ul=ol.mn(ol.nu);ol.T$.Qjt.Instance=class extends ol.ITt{constructor(t,s){super(t),this.nVt=16,this.hVt=16,this.oVt=16,this.aVt=16,this.lVt=1,this.uVt=1,this.cVt=!0,this.fVt=null,s&&(this.nVt=s[0],this.hVt=s[1],this.oVt=s[2],this.aVt=s[3],this.lVt=s[4],this.uVt=s[5],this.cVt=!!s[8],this.UD().sL(!!s[6])),this.sTt.sVt(this.nVt,this.hVt,this.oVt,this.aVt)}gn(){super.gn()}dVt(t){this.fVt=t}_v(t){const s=this.UD(),e=s.b4();this.pVt(t,e.oh(),e.ah(),s.Sm(),s.Rm())}pVt(t,s,e,i,r){let n=this.sTt.rVt();if(n||(this.sTt.sVt(this.nVt,this.hVt,this.oVt,this.aVt),n=this.sTt.rVt())){const h=n.mVt(),o=n.gVt(),a=Math.min(this.nVt,h),l=Math.min(this.hVt,h),u=Math.min(this.oVt,o),c=Math.min(this.aVt,o),f=h-l,d=o-c,p=this.cVt?1:0,m=this.lVt,g=this.uVt;if(0<a&&0<u&&this.yVt(t,n.nM(),0,0,a+p,u+p,s,e,a+p,u+p),0<l&&0<u&&this.yVt(t,n.nM(),f-p,0,l+p,u+p,s+i-l-p,e,l+p,u+p),0<l&&0<c&&this.yVt(t,n.nM(),f-p,d-p,l+p,c+p,s+i-l-p,e+r-c-p,l+p,c+p),0<a&&0<c&&this.yVt(t,n.nM(),0,d-p,a+p,c+p,s,e+r-c-p,a+p,c+p),0===m){const y=2===g?0:p;0<a&&u<d&&this.SVt(t,n.wVt(),s,e+u,a+y,r-u-c,0,0),0<l&&u<d&&this.SVt(t,n.bVt(),s+i-l-y,e+u,l+y,r-u-c,y,0),0<u&&a<f&&this.SVt(t,n.vVt(),s+a,e,i-a-l,u+y,0,0),0<c&&a<f&&this.SVt(t,n.xVt(),s+a,e+r-c-y,i-a-l,c+y,0,y)}else 1===m&&(0<a&&u<d&&this.yVt(t,n.nM(),0,u,a,d-u,s,e+u,a,r-u-c),0<l&&u<d&&this.yVt(t,n.nM(),f,u,l,d-u,s+i-l,e+u,l,r-u-c),0<u&&a<f&&this.yVt(t,n.nM(),a,0,f-a,u,s+a,e,i-a-l,u),0<c)&&a<f&&this.yVt(t,n.nM(),a,d,f-a,c,s+a,e+r-c,i-a-l,c);u<d&&a<f&&(0===g?this.SVt(t,n.MVt(),s+a,e+u,i-a-l,r-u-c,0,0):1===g&&this.yVt(t,n.nM(),a,u,f-a,d-u,s+a,e+u,i-a-l,r-u-c))}}yVt(t,s,e,i,r,n,h,o,a,l){const u=s.Sm(),c=s.Rm();if(t.tE(s),al.set(h,o,h+a,o+l),ll.set(e/u,i/c,(e+r)/u,(i+n)/c),null===this.fVt){const f=this.UD(),d=f.b4(),p=d.oh(),m=d.ah();al.offset(-p,-m),ul.Iu(al,f.SB()),ul.offset(p,m),t.Lw(ul,ll)}else this.fVt(al,ll)}SVt(t,s,e,i,r,n,h,o){const a=s.Sm(),l=s.Rm();if(t.tE(s),al.set(e,i,e+r,i+n),ll.set(-h/a,-o/l,(r-h)/a,(n-o)/l),null===this.fVt){const u=this.UD(),c=u.b4(),f=c.oh(),d=c.ah();al.offset(-f,-d),ul.Iu(al,u.SB()),ul.offset(f,d),t.Lw(ul,ll)}else this.fVt(al,ll)}DTt(){this._ft.SW()}Ynt(t){}eht(t,s){}}}{const cl=self.Ls;cl.T$.Qjt.x$={}}{const fl=self.Ls;fl.T$.Qjt.fnt={Bjt(t){this.UD().Mb(t),this.mf.XD()}}}{const dl=self.Ls;dl.T$.Qjt.dnt={}}{let c=function(t){const s=pl.Bo(t.width,t.height),e=s.getContext("2d");return e.drawImage(t,0,0),s};c;const pl=self.Ls;self.eVt=class{constructor(t){this.sTt=t,this.mf=this.sTt.oO(),this.Hv=null,this.TVt=null,this.GVt=null,this._Vt=null,this.IVt=null,this.CVt=null,this.z7=0,this.J7=0,this.A2=this.mf.eb(),this.Hg=!1,this.WI=!1}gn(){this.A2.HC()||(this.A2.Qx(this.Hv),this.A2.Qx(this.TVt),this.A2.Qx(this.GVt),this.A2.Qx(this._Vt),this.A2.Qx(this.IVt),this.A2.Qx(this.CVt)),this.Hv=null,this.TVt=null,this.GVt=null,this._Vt=null,this.IVt=null,this.CVt=null,this.sTt=null,this.A2=null,this.WI=!0}yn(){return this.WI}iVt(t,s,e,i,r){this.RVt(t,s,e,i,r)}EVt(){return!!this.Hv}RVt(t,s,e,i,r){if(!this.WI){const n=t.width,h=t.height,o=(this.z7=n,this.J7=h,s=Math.min(Math.floor(s),n),e=Math.min(Math.floor(e),n),i=Math.min(Math.floor(i),h),n-e),a=h-(r=Math.min(Math.floor(r),h)),l=this.mf.ck(),u=this.mf.$O().X7();this.Hv=this.A2.OE(c(t),{Bv:l,Lv:u}),s<o&&i<a&&(this.TVt=this.A2.OE(this.PVt(c(t),s,i,o,a),{Dv:"repeat",Ov:"repeat",Bv:l,Lv:u})),0<s&&i<a&&(this.GVt=this.A2.OE(this.PVt(c(t),0,i,s,a),{Ov:"repeat",Bv:l,Lv:u})),0<e&&i<a&&(this._Vt=this.A2.OE(this.PVt(c(t),o,i,n,a),{Ov:"repeat",Bv:l,Lv:u})),0<i&&s<o&&(this.IVt=this.A2.OE(this.PVt(c(t),s,0,o,i),{Dv:"repeat",Bv:l,Lv:u})),0<r&&s<o&&(this.CVt=this.A2.OE(this.PVt(c(t),s,a,o,h),{Dv:"repeat",Bv:l,Lv:u}))}}PVt(t,s,e,i,r){const n=i-s,h=r-e,o=pl.Bo(n,h),a=o.getContext("2d");return a.drawImage(t,s,e,n,h,0,0,n,h),o}mVt(){return this.z7}gVt(){return this.J7}nM(){return this.Hv}MVt(){return this.TVt}wVt(){return this.GVt}bVt(){return this._Vt}vVt(){return this.IVt}xVt(){return this.CVt}}}{const ml=self.Ls;ml.T$.Text=class extends ml.uMt{constructor(t){super(t)}gn(){super.gn()}}}{const gl=self.Ls;gl.T$.Text.GIt=class extends gl.XMt{constructor(t){super(t)}gn(){super.gn()}AMt(){}zX(t){}KX(){}}}{const yl=self.Ls,Sl=self.Xs,wl=[0,0,0],bl=["left","center","right"],vl=["top","center","bottom"],xl=["ltr","rtl"],Ml=["word","cjk","character"],Tl=new yl.Rect,Gl=new yl.nu,_l=new yl.$o,Il=yl.mn(yl.nl),Cl=new Map([["b","strong"],["i","em"],["s","s"],["u","u"],["iconoffsety",null]]),R=(yl.T$.Text.Instance=class extends yl.ITt{constructor(t,s){if(super(t),this.gf="",this.FVt=!0,this.AVt="Arial",this.kVt=12,this.DVt=0,this.Q_=!1,this.tI=!1,this.bb=yl.mn(yl.$o),this.hI=0,this.oI=0,this.uI="word",this.cI=0,this.OVt="auto",this.BVt=1,this.LVt=null,this.NVt="",this.WVt=!1,this.UVt=!1,this.jVt=null,this.VVt=-1,this.HVt=-1,this.zVt=0,this.JVt=yl.mn(yl.gy.P2,this.mf.eb(),{timeout:5}),this.JVt.NI=()=>this.mf.XD(),this.qVt=()=>this.XVt(),this.$Vt=!1,s){this.gf=s[0],this.FVt=!!s[1],this.AVt=s[2],this.kVt=s[3],this.DVt=s[4],this.Q_=!!s[5],this.tI=!!s[6],this.hI=s[8],this.oI=s[9],this.uI=Ml[s[10]],this.cI=s[11],this.YVt(this.mf.q8(s[12]));const e=s[7];this.bb.ea(e[0],e[1],e[2]),this.UD().sL(s[13]),this.UVt=!!s[15]}this.KVt(),this.ZVt()}gn(){this.YVt(null),this.QVt(),this.jVt&&(this.jVt.gn(),this.jVt=null),this.JVt.gn(),this.JVt=null,super.gn()}KVt(){const t=this.JVt;t.wf(this.gf),t.VI(this.FVt),this.JVt.z_()&&this.LVt?this.JVt.gm(this.oO().sNt(this.LVt)):this.JVt.gm(null),t.HI("nearest"!==this.mf.ck()),t.zI(this.AVt),t.$I(this.DVt),t.KI(this.Q_),t.QI(this.tI),t.Tb(this.bb),t.hC(bl[this.hI]),t.aC(vl[this.oI]),t.uC(this.uI),t.fC(xl[this.cI])}t7t(){let t=this.UD(),s=(this.JVt.JI(this.kVt),this.JVt.XI(t.fEt()),t.jD()),e;"auto"===this.OVt?e=s.RJ(t.g4()):"fixed"===this.OVt&&(e=this.BVt),t._6()&&e!==this.JVt.gC()&&t.mPt(!0),this.JVt.mC(t.Sm(),t.Rm(),e)}YVt(t){t&&(t.o9()||t.U5().constructor!==yl.T$.$rt)||t!==this.LVt&&(this.LVt&&this.LVt.Xf().removeEventListener("animationframeimagechange",this.qVt),this.LVt=t,this.LVt&&this.LVt.Xf().addEventListener("animationframeimagechange",this.qVt),this.KVt(),this.WVt=!1,this.mf.XD())}XVt(){this.mf.eNt(this.LVt),this.mf.XD(),this.$Vt=!0}ZVt(){if(this.UVt){let t=this.gf;this.FVt&&(t=yl.kr.om(t)),this.jVt?this.jVt.wf(t):this.jVt=yl.mn(yl.pf,this.mf,t)}else this.jVt&&(this.jVt.gn(),this.jVt=null)}_v(t){const s=this.UD(),e=(this.t7t(),this.$Vt&&(this.$Vt=!1,this.JVt.z_())&&this.LVt&&this.JVt.gm(this.oO().sNt(this.LVt)),this.JVt.nM());if(e){const i=s.jD();if(0===s.SB()&&0===i.SB()&&0===s.g4()&&!s._6()&&i.q9()){const r=s.b4(),[n,h]=i.UL(r.oh(),r.ah()),[o,a]=i.UL(r.fh(),r.ph()),l=n-Math.round(n),u=h-Math.round(h),[c,f]=(Tl.set(n,h,o,a),Tl.offset(-l,-u),Gl._u(Tl),t.pE(t.AE()));this.mf.$O().tV(t,c,f),t.tE(e),t.Lw(Gl,this.JVt.JC()),i.eV(t)}else t.tE(e),s._6()?this.C8t(s,t):this.R8t(s,t)}}R8t(t,s){let e=t.b4();this.mf.dk()&&(e=this.s7t(e)),s.Lw(e,this.JVt.JC())}C8t(s,t){const e=s.pPt();if(s.gPt()){s.qEt(Tl,Gl,!1);let t=Gl;this.mf.dk()&&(t=this.s7t(t)),e.Gv(s.I6(),t,this.JVt.JC()),s.mPt(!1)}e._v(t)}s7t(t){const s=t.oh()-Math.round(t.oh()),e=t.ah()-Math.round(t.ah());return 0==s&&0==e?t:(Gl.I(t),Gl.offset(-s,-e),Gl)}OTt(){const t=this.JVt.nM();return t?[t.Sm(),t.Rm()]:[100,100]}BTt(){return this.JVt.JC()}WTt(){return!1}qb(){const t={t:this.gf,c:this.bb.toJSON(),fn:this.AVt,ps:this.kVt};return this.FVt&&(t.bbc=this.FVt),0!==this.hI&&(t.ha=this.hI),0!==this.oI&&(t.va=this.oI),"word"!==this.uI&&(t.wr=this.uI),0!==this.DVt&&(t.lho=this.DVt),this.Q_&&(t.b=this.Q_),this.tI&&(t.i=this.tI),-1!==this.HVt&&(t.tw={st:this.VVt,en:this.HVt,l:this.zVt}),this.LVt&&(t.ioc=this.LVt.m9()),"fixed"===this.OVt&&(t.fs=this.BVt),t}Xb(t){if(this.QVt(),this.gf=t.t,this.bb.$a(t.c),this.AVt=t.fn,this.kVt=t.ps,this.FVt=!!t.hasOwnProperty("bbc")&&t.bbc,this.hI=t.hasOwnProperty("ha")?t.ha:0,this.oI=t.hasOwnProperty("va")?t.va:0,t.hasOwnProperty("wr")){const s=t.wr;this.uI="boolean"==typeof s?s?"word":"character":s}else this.uI="word";if(this.DVt=t.hasOwnProperty("lho")?t.lho:0,this.Q_=!!t.hasOwnProperty("b")&&t.b,this.tI=!!t.hasOwnProperty("i")&&t.i,t.hasOwnProperty("tw")){const e=t.tw;this.VVt=e.st,this.HVt=e.en,this.zVt=e.l}if(t.hasOwnProperty("ioc")){const i=this.oO().q8(t.ioc);i&&this.YVt(i)}else this.YVt(null);t.hasOwnProperty("fs")?(this.OVt="fixed",this.BVt=t.fs):this.OVt="auto",this.KVt(),this.ZVt(),this.WVt=!1,-1!==this.HVt&&this.STt()}Ynt(t){switch(t){case 0:return this.pC();case 1:return this.FVt;case 2:return this.e7t();case 3:return this.i7t();case 4:return this.r7t();case 5:return this.n7t();case 6:return this.h7t();case 7:return wl[0]=this.bb.ca(),wl[1]=this.bb.fa(),wl[2]=this.bb.ga(),wl;case 8:return this.o7t();case 9:return this.a7t();case 10:return this.l7t();case 15:return this.u7t()}}eht(t,s){switch(t){case 0:this.c7t(s);break;case 1:this.FVt!==!!s&&(this.FVt=!!s,this.KVt());break;case 2:this.f7t(s);break;case 3:this.d7t(s);break;case 4:this.p7t(s);break;case 5:this.m7t(s);break;case 6:this.g7t(s);break;case 7:const e=this.bb,i=s;e.ca()===i[0]&&e.fa()===i[1]&&e.ga()===i[2]||(this.bb.ea(i[0],i[1],i[2]),this.KVt());break;case 8:this.y7t(s);break;case 9:this.S7t(s);break;case 10:this.w7t(s)}}MTt(t,s,e,i){0===s&&0===e&&0===i||7===t&&(this.bb.ia(s,e,i),this.KVt())}c7t(t){this.gf!==t&&(this.gf=t,this.JVt.wf(t),this.ZVt(),this.WVt=!1,this.mf.XD())}pC(){return this.gf}b7t(t,s){this.t7t(),this.c7t(t),this.VVt=this.mf.$k(),this.HVt=this.VVt+s/this.aU().cN(),this.zVt=this.JVt.bC(),this.JVt.sC(0),this.STt()}QVt(){this.VVt=-1,this.HVt=-1,this.zVt=0,this.JVt.sC(-1),this.eTt()}v7t(){-1!==this.HVt&&(this.QVt(),this.AN(yl.T$.Text.x$.x7t),this.mf.XD())}f7t(t){this.AVt!==t&&(this.AVt=t,this.JVt.zI(t),this.mf.XD())}e7t(){return this.AVt}m7t(t){this.Q_!==(t=!!t)&&(this.Q_=t,this.JVt.KI(t),this.mf.XD())}n7t(){return this.Q_}g7t(t){this.tI!==(t=!!t)&&(this.tI=t,this.JVt.QI(t),this.mf.XD())}h7t(){return this.tI}d7t(t){this.kVt!==t&&(this.kVt=t,this.mf.XD())}i7t(){return this.kVt}M7t(t){this.bb.xa(t)||(this.bb.ua(t),this.JVt.Tb(this.bb),this.mf.XD())}T7t(){return this.bb}p7t(t){this.DVt!==t&&(this.DVt=t,this.KVt(),this.mf.XD())}r7t(){return this.DVt}y7t(t){this.hI!==t&&(this.hI=t,this.KVt(),this.mf.XD())}o7t(){return this.hI}S7t(t){this.oI!==t&&(this.oI=t,this.KVt(),this.mf.XD())}a7t(){return this.oI}G7t(t){this.w7t(Ml[t])}w7t(t){this.uI!==t&&(this.uI=t,this.KVt(),this.mf.XD())}l7t(){return this.uI}_7t(t){this.cI!==t&&(this.cI=t,this.KVt(),this.mf.XD())}I7t(){return this.cI}C7t(t){this.UVt=!!t,this.ZVt()}u7t(){return this.UVt}R7t(t){this.OVt!==t&&(this.OVt=t,this.mf.XD())}E7t(){return this.OVt}P7t(t){this.BVt!==t&&(this.BVt=t,"fixed"===this.OVt)&&this.mf.XD()}F7t(){return this.BVt}A7t(){return this.t7t(),this.JVt.yC()}k7t(){return this.t7t(),this.JVt.wC()}D7t(t,s){this.t7t();const e=this.UD(),i=(Il.set(t-e.kb(),s-e.Bb()),Il.rotate(-e.SB()),Il.offset(e.Sm()*e.vW(),e.Rm()*e.MW()),Il.Ct(e.Sm(),e.Rm()),Il.scale(this.JVt.Sm(),this.JVt.Rm()),this.JVt.xC(Il.ul(),Il.fl()));if(i){const r=i.yg("tag");if(r)return r.param}return""}O7t(t,s,e){const i=this.D7t(s,e);return i&&yl.br(t,i)}B7t(t,s){this.t7t(),s=Math.floor(s);const e=this.JVt.TC(t,s);if(!e)return null;const i=this.UD(),r=this.JVt.rC(),n=e.fg(),h=e.pg()-(e.Rm()-e.Pm())*r,o=e.Sm()*r/this.JVt.Sm()*i.Sm(),a=e.Rm()*r/this.JVt.Rm()*i.Rm();return Il.set(n,h),Il.Ct(this.JVt.Sm(),this.JVt.Rm()),Il.scale(i.Sm(),i.Rm()),Il.offset(-i.Sm()*i.vW(),-i.Rm()*i.MW()),Il.rotate(i.SB()),Il.offset(i.kb(),i.Bb()),{x:Il.ul(),y:Il.fl(),width:o,height:a}}L7t(t){return this.t7t(),this.JVt.GC(t)}N7t(t){let s=Cl.get(t);return null===s?"":`</${s||"span"||"span"}>`}W7t(t,s){let e=Cl.get(t);if(null===e)return"";switch(e=e||"span",t){case"color":return`<${e} style="color: ${s}">`;case"font":return`<${e} style="font-family: '${s}'">`;case"opacity":return`<${e} style="opacity: ${s}%">`;case"size":return`<${e} style="font-size: ${s}pt">`;case"background":return`<${e} style="background-color: ${s}">`;case"hide":return`<${e} style="visibility: hidden">`;case"class":return`<${e} class="${s}">`;case"tag":return`<${e} data-tag="${s}">`;default:return`<${e}>`}}async U7t(){if(!this.WVt){let t=new yl.kr(this.gf,{Up:!0}).Zp(),s=new Map,r='<span class="c3-text"',e=[],n=(e.push(`font-family: '${this.e7t()}';`),this.n7t()&&e.push("font-weight: bold;"),this.h7t()&&e.push("font-style: italic;"),"character"===this.l7t()&&e.push("word-break: break-all;"),r+=` style="${e.join(" ")}">`,this.LVt?this.oO().sNt(this.LVt):null);if(this.LVt){const o=yl.mn(yl.bd),a=[],l=new Map;for(const c of t)if(c.Im()){const f=c.Mg(n);if(f){const d=f.hy(),p=d.SW().a_t();l.has(p)||(l.set(p,null),a.push(o.wc(async()=>{const t=await p.Z7();l.set(p,t)})))}}await Promise.all(a);const u=[];for(const m of t)if(m.Im()){const g=m.Mg(n);if(g){const y=g.hy(),S=y.SW().a_t();u.push(o.wc(async()=>{const t=await y.SW().u_t(l.get(S));s.set(g,t)}))}}await Promise.all(u);for(const w of l.values())w instanceof ImageBitmap&&w.close&&w.close()}const h=new Map;for(const b of t){let i=b.wg(),t=[...h.keys()];t.reverse();for(const v of t)i.has(v)&&i.get(v)===h.get(v)||(h.delete(v),r+=this.N7t(v));for(const[x,M]of i)h.has(x)||(h.set(x,M),r+=this.W7t(x,M));if(b.Gm()&&(r+=yl.hp(yl.rp(b.Vm().join("")),"\n","<br>")),b.Im()&&n){const T=b.Mg(n);if(T){const G=s.get(T);if(G){let t=[],s="0.2em",e=i.get("iconoffsety");if(e){let t=e.trim();s=t.endsWith("%")?parseFloat(t)/100+"em":t+"px"}t.push("top: "+s),"nearest"===this.mf.ck()&&t.push("image-rendering: pixelated"),r+=`<img class="c3-text-icon" data-icon="${b.xg()}" width="${T.Sm()}" height="${T.Rm()}" style="${t.join(";")}" src="${G}">`}}}}const i=[...h.keys()];i.reverse();for(const _ of i)r+=this.N7t(_);r+="</span>",this.NVt=r,this.WVt=!0}return this.NVt}XK(){const s=this.mf.$k();if(s>=this.HVt)this.QVt(),this.AN(yl.T$.Text.x$.x7t),this.mf.XD();else{let t=yl.Ln(this.VVt,this.HVt,s,0,this.zVt);(t=Math.floor(t))!==this.JVt.eC()&&(this.JVt.sC(t),this.mf.XD())}}xTt(){const t="plugins.text";return[{title:t+".name",properties:[{name:t+".properties.text.name",value:this.pC(),rjt:t=>this.c7t(t)},{name:t+".properties.font.name",value:this.e7t(),rjt:t=>this.f7t(t)},{name:t+".properties.size.name",value:this.i7t(),rjt:t=>this.d7t(t)},{name:t+".properties.line-height.name",value:this.r7t(),rjt:t=>this.p7t(t)},{name:t+".properties.bold.name",value:this.n7t(),rjt:t=>this.m7t(t)},{name:t+".properties.italic.name",value:this.h7t(),rjt:t=>this.g7t(t)}]}]}kMt(){return self.j7t}},new WeakMap),Rl=new Map([["left",0],["center",1],["right",2]]),El=new Map([["top",0],["center",1],["bottom",2]]),Pl=["ltr","rtl"];new Set(["auto","fixed"]);self.j7t=class extends self.R6{constructor(){super(),R.set(this,self.HL.$L().k6())}get text(){return R.get(this).pC()}set text(t){Sl.Mi(t);const s=R.get(this);s.QVt(),s.c7t(t)}V7t(t,s){Sl.Mi(t),Sl.wi(s);const e=R.get(this);e.QVt(),e.b7t(t,s)}H7t(){R.get(this).v7t()}set nV(t){Sl.Mi(t),R.get(this).f7t(t)}get nV(){return R.get(this).e7t()}set oV(t){R.get(this).m7t(t)}get oV(){return R.get(this).n7t()}set aV(t){R.get(this).g7t(t)}get aV(){return R.get(this).h7t()}set hV(t){Sl.wi(t),R.get(this).d7t(t)}get hV(){return R.get(this).i7t()}set z7t(t){if(Sl.Li(t),t.length<3)throw new Error("expected 3 elements");_l.ea(t[0],t[1],t[2]),R.get(this).M7t(_l)}get z7t(){const t=R.get(this).T7t();return[t.ca(),t.fa(),t.ga()]}set lineHeight(t){Sl.wi(t),R.get(this).p7t(t)}get lineHeight(){return R.get(this).r7t()}set cV(t){Sl.Mi(t);const s=Rl.get(t);if(void 0===s)throw new Error("invalid mode");R.get(this).y7t(s)}get cV(){return bl[R.get(this).o7t()]}set verticalAlign(t){Sl.Mi(t);const s=El.get(t);if(void 0===s)throw new Error("invalid mode");R.get(this).S7t(s)}get verticalAlign(){return vl[R.get(this).a7t()]}set fV(t){if(!Ml.includes(t))throw new Error("invalid mode");R.get(this).w7t(t)}get fV(){return R.get(this).l7t()}set dV(t){Sl.Mi(t);const s=Pl.indexOf(t);if(-1===s)throw new Error("invalid text direction");R.get(this)._7t(s)}get dV(){return Pl[R.get(this).I7t()]}set J7t(t){R.get(this).C7t(!!t)}get J7t(){return R.get(this).u7t()}q7t(t){Sl.wi(t);const s=R.get(this);s.R7t("fixed"),s.P7t(t)}X7t(){R.get(this).R7t("auto")}get gV(){return R.get(this).A7t()}get yV(){return R.get(this).k7t()}$7t(){const t=R.get(this);return[t.A7t(),t.k7t()]}Y7t(t,s,e){return Sl.Mi(t),Sl.wi(s),Sl.wi(e),R.get(this).O7t(t,s,e)}K7t(t,s){return Sl.wi(t),Sl.wi(s),R.get(this).D7t(t,s)}Z7t(t,s=0){return Sl.Mi(t),Sl.wi(s),R.get(this).B7t(t,s)}Q7t(t){return Sl.Mi(t),R.get(this).L7t(t)}tHt(t){const s=R.get(this),e=s.oO().BO(t);s.YVt(e)}sHt(){return R.get(this).U7t()}}}{const Fl=self.Ls;Fl.T$.Text.x$={eHt(t,s){return s?this.gf===t:Fl.br(this.gf,t)},iHt(){return-1!==this.HVt},x7t(){return!0},rHt(t,s,e){return this.O7t(t,s,e)}}}{const Al=self.Ls,kl=Al.mn(Al.$o);Al.T$.Text.fnt={wf(t){this.QVt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.c7t(t.toString())},nHt(t){this.QVt(),(t=(t="number"==typeof t&&t<1e9?Math.round(1e10*t)/1e10:t).toString())&&this.c7t(this.gf+t)},hHt(t,s){this.QVt(),"number"==typeof t&&t<1e9&&(t=Math.round(1e10*t)/1e10),this.b7t(t.toString(),s)},oHt(t,s){let e=!1,i=!1;switch(s){case 1:e=!0;break;case 2:i=!0;break;case 3:e=!0,i=!0}t===this.AVt&&e===this.Q_&&i===this.tI||(this.f7t(t),this.m7t(e),this.g7t(i))},JI(t){this.d7t(t)},aHt(t){kl.Ea(t),kl.vn(),this.M7t(kl)},lHt(t,s){console.warn("[Text] 'Set web font' action is deprecated and no longer has any effect")},Bjt(t){this.UD().Mb(t),this.mf.XD()},uHt(){this.v7t()},$I(t){this.p7t(t)},cHt(t){this.y7t(t)},fHt(t){this.S7t(t)},dHt(t){this.G7t(t)},fC(t){this._7t(t)},pHt(t){this.YVt(t)},mHt(){return this.U7t()},gHt(t){this.C7t(t)},yHt(t,s){this.R7t(["auto","fixed"][t]),this.P7t(s)}}}{const Dl=self.Ls;Dl.T$.Text.dnt={Text(){return this.gf},SHt(){return this.FVt?Dl.kr.om(this.gf):this.gf},wHt(){return this.AVt},bHt(){return this.kVt},vHt(){return this.A7t()},xHt(){return this.k7t()},MHt(){return this.DVt},THt(t,s){return this.D7t(t,s)},GHt(t){return this.L7t(t)},_Ht(t,s){const e=this.B7t(t,s);return e?e.x:0},IHt(t,s){const e=this.B7t(t,s);return e?e.y:0},CHt(t,s){const e=this.B7t(t,s);return e?e.width:0},RHt(t,s){const e=this.B7t(t,s);return e?e.height:0},EHt(){return this.NVt}}}{const Ol=self.Ls;Ol.T$.PHt=class extends Ol.uMt{constructor(t){super(t)}gn(){super.gn()}}}{const Bl=self.Ls;Bl.T$.PHt.GIt=class extends Bl.XMt{constructor(t){super(t)}gn(){super.gn()}AMt(){this.SW().hO(this.mf)}zX(t){return this.SW().Jj(t,{Bv:this.mf.ck()})}KX(){this.SW().BI()}}}{let s=function(t){return Ul.get(t).FHt()};s;const Ll=self.Ls,Nl=self.Xs,Wl=Ll.mn(Ll.Rect),Ul=(Ll.T$.PHt.Instance=class extends Ll.ITt{constructor(t,s){super(t),this.AHt=!0;const e=Ll.mn(self.kHt);(this.OHt=e).DHt=()=>this.BHt(),this.LHt=null,this.NHt=(t,s,e,i,r,n)=>this.WHt(t,s,e,i,r,n),this.UHt=t=>this.jHt(t);let i=this.VHt=!0;s&&(e.HHt(s[0]),e.zHt(Ll.Mn(s[1])),e.JHt(s[2]?"one-shot":"continuous-spray"),this.qHt(this.mf.q8(s[3])),i=s[4],e.XHt(s[5]),e.$Ht(s[6]),e.YHt(s[7]/100),e.KHt(s[8]),e.ZHt(s[9]),e.QHt(s[10]),e.tzt(s[11]),e.szt(s[12]),e.ezt(s[13]),e.izt(s[14]),e.rzt(s[15]),e.nzt(s[16]),e.hzt(s[17]),e.ozt(s[18]),e.azt(s[19]),e.lzt(s[20])),this.uzt(),this.LHt&&(this.VHt=!1),"one-shot"===e.czt()?e.fzt():e.dzt(!0);const r=this.UD();r.sL(i),r.ZEt(!0),this._e.Xf().addEventListener("bboxchange",()=>{r.KEt(this.OHt.S4())}),this.oO().eb().kS()&&r.jEt(),this.YY=t=>this.KY(t),this.oO().Xf().addEventListener("afterload",this.YY),this.STt()}gn(){this.oO().Xf().removeEventListener("afterload",this.YY),this.YY=null,this.OHt.gn(),this.OHt=null,this.NHt=null,this.UHt=null,super.gn()}FHt(){return this.OHt}pzt(t){this.OHt.HHt(t),"one-shot"===this.OHt.czt()&&this.AHt&&this.OHt.mzt(t)}qHt(t){(t=t===this.JL()?null:t)===this.LHt||(this.LHt=t,this.OHt.gzt=t?t=>this.yzt(t):null,this.LHt)||(this.VHt=!0)}uzt(){const t=this.OHt,s=this.UD();t.Szt(s.X3()),t.G6t(this.mf.dk()),t.wzt(s.kb()),t.bzt(s.Bb()),t.vzt(s.SB()),t.xzt(Math.abs(s.fEt()))}BHt(){this.mf.QL(this._e)}_v(t){if(this.VHt){const s=this._ft.SW(),e=s.nM();if(e){const i=this.UD(),r=i.jD(),n=Wl,h=(this.mf.$O().LDt()?n.set(-1/0,-1/0,1/0,1/0):r.Y9()?r._q(i.g4(),n):r.D9(i.g4(),n),t.tE(e),r.O9(i.g4()));this.OHt.Mzt(r.VL()*h),this.OHt._v(t,s.NTt(),n,r.Y9())}}}qb(){const t=this.OHt;return{r:t.Tzt(),sc:t.Gzt(),st:t.czt(),isp:t._zt(),isz:t.Izt(),io:t.Czt(),gr:t.Rzt(),xr:t.Ezt(),yr:t.Pzt(),spr:t.Fzt(),szr:t.Azt(),grnd:t.kzt(),acc:t.Dzt(),g:t.Ozt(),lar:t.Bzt(),lsr:t.Lzt(),lor:t.Nzt(),dm:t.Wzt(),to:t.Uzt(),s:t.jzt(),pcc:t.Vzt(),ft:this.AHt,soc:this.LHt?this.LHt.m9():null,p:t.Hzt().map(t=>t.toJSON())}}Xb(t,s){const e=this.OHt;if(e.HHt(t.r),e.zHt(t.sc),e.JHt(t.st),e.XHt(t.isp),e.$Ht(t.isz),e.YHt(t.io),e.KHt(t.gr),e.ZHt(t.xr),e.QHt(t.yr),e.tzt(t.spr),e.szt(t.szr),e.ezt(t.grnd),e.izt(t.acc),e.rzt(t.g),e.nzt(t.lar),e.hzt(t.lsr),e.ozt(t.lor),e.azt(t.dm),e.lzt(t.to),e.dzt(t.s),e.zzt(t.pcc),this.AHt=t.ft,t.hasOwnProperty("soc")){const n=this.oO().q8(t.soc);n&&this.qHt(n)}const i=t.p,r=(e.mzt(i.length,!1),e.Hzt());for(let t=0,s=r.length;t<s;++t)r[t].$a(i[t]);"state"===s&&this.LHt&&(e.Jzt(),e.qzt(this))}KY(){const t=this.OHt,e=(t.Jzt(),t.qzt(this),t.Hzt());for(let t=0,s=e.length;t<s;++t){const i=e[t],r=i.Xzt();if(r){const n=r.UD();if(n){const h=n.aU();if(h){const o=i.$zt(),a=h.hN();if(("number"!=typeof o||"number"!=typeof a||o!==a)&&"number"==typeof o){const l=this.oO(),u=l.OD(o);u&&l.QL(u)}}}}}}XK(){const t=this.mf.Hk(this._e);this.uzt(),this.AHt&&"one-shot"===this.OHt.czt()&&this.OHt.Yzt(),this.OHt.XK(t),this.OHt.jzt()&&this.mf.XD(),this.UD().l4(),this.AHt=!1}Kzt(t){for(this.AHt&&"one-shot"===this.OHt.czt()&&this.OHt.Yzt();0<t;)this.OHt.XK(1/60),t-=1/60;this.OHt.jzt()&&this.mf.XD(),this.UD().l4(),this.AHt=!1}yzt(t,s){let e,i=(e=(e=(e="number"==typeof s?this.mf.OD(s):e)&&e.JL()!==this.LHt?null:e)||this.mf.iB(this.LHt,this.UD().jD(),t.kb(),t.Bb())).UD();return i.mC(t.cc(),t.cc()),i.yB(t.SB()),i.K3(t.X3()),i.G4(this.UD().T4()),i.l4(),i.A4(this.aU(),!0),e.g$(),t.Zzt(this.NHt),t.Qzt(this.UHt),e}WHt(t,s,e,i,r,n){if(!t.f8()){const h=t.UD();h.d4(s,e),h.mC(h.Sm()+i,h.Rm()+i),h.yB(h.SB()+r),h.K3(h.X3()+n),h.l4()}}jHt(t){t.f8()||this.mf.QL(t)}Ynt(t){const s=this.OHt;switch(t){case 0:return s.Tzt();case 1:return Ll.Tn(s.Gzt());case 2:return"one-shot"===s.czt()?1:0;case 5:return s._zt();case 6:return s.Izt();case 7:return 100*s.Czt();case 8:return s.Rzt();case 9:return s.Ezt();case 10:return s.Pzt();case 11:return s.Fzt();case 12:return s.Azt();case 13:return s.kzt();case 14:return s.Dzt();case 15:return s.Ozt();case 16:return s.Bzt();case 17:return s.Lzt();case 18:return s.Nzt();case 19:return s.Wzt();case 20:return s.Uzt()}}eht(t,s){const e=this.OHt;switch(t){case 0:e.HHt(s);break;case 1:e.zHt(Ll.Mn(s));break;case 2:e.JHt(s?"one-shot":"continuous-spray");break;case 5:e.XHt(s);break;case 6:e.$Ht(s);break;case 7:e.YHt(s/100);break;case 8:e.KHt(s);break;case 9:e.ZHt(s);break;case 10:e.QHt(s);break;case 11:e.tzt(s);break;case 12:e.szt(s);break;case 13:e.ezt(s);break;case 14:e.izt(s);break;case 15:e.rzt(s);break;case 16:e.nzt(s);break;case 17:e.hzt(s);break;case 18:e.ozt(s);break;case 19:e.azt(s);break;case 20:e.lzt(s)}}xTt(){const t="plugins.particles",s=t+".properties",e=t+".debugger",i=this.OHt;return[{title:t+".name",properties:[{name:e+".particle-count",value:i.t9t()},{name:s+".type.name",value:[s+".type.items."+i.czt()]},{name:e+".is-spraying",value:i.jzt(),rjt:t=>i.dzt(t)},{name:s+".rate.name",value:i.Tzt(),rjt:t=>i.HHt(t)},{name:s+".spray-cone.name",value:Ll.Tn(i.Gzt()),rjt:t=>i.zHt(Ll.Mn(t))},{name:s+".speed.name",value:i._zt(),rjt:t=>i.XHt(t)},{name:s+".size.name",value:i.Izt(),rjt:t=>i.$Ht(t)},{name:s+".opacity.name",value:i.Czt(),rjt:t=>i.YHt(t)},{name:s+".grow-rate.name",value:i.Rzt(),rjt:t=>i.KHt(t)},{name:s+".x-randomiser.name",value:i.Ezt(),rjt:t=>i.ZHt(t)},{name:s+".y-randomiser.name",value:i.Pzt(),rjt:t=>i.QHt(t)},{name:s+".initial-speed-randomiser.name",value:i.Fzt(),rjt:t=>i.tzt(t)},{name:s+".size-randomiser.name",value:i.Azt(),rjt:t=>i.szt(t)},{name:s+".grow-rate-randomiser.name",value:i.kzt(),rjt:t=>i.ezt(t)},{name:s+".acceleration.name",value:i.Dzt(),rjt:t=>i.izt(t)},{name:s+".gravity.name",value:i.Ozt(),rjt:t=>i.rzt(t)},{name:s+".angle-randomiser.name",value:i.Bzt(),rjt:t=>i.nzt(t)},{name:s+".life-speed-randomiser.name",value:i.Lzt(),rjt:t=>i.hzt(t)},{name:s+".opacity-randomiser.name",value:i.Nzt(),rjt:t=>i.ozt(t)},{name:s+".timeout.name",value:i.Uzt(),rjt:t=>i.lzt(t)}]}]}kMt(){return self.s9t}},new WeakMap);self.s9t=class extends self.R6{constructor(){super(),Ul.set(this,self.HL.$L().k6())}set e9t(t){s(this).dzt(!!t)}get e9t(){return s(this).jzt()}set rate(t){Nl.wi(t),Ul.get(this).pzt(t)}get rate(){return s(this).Tzt()}set i9t(t){Nl.wi(t),s(this).zHt(t)}get i9t(){return s(this).Gzt()}set r9t(t){Nl.wi(t),s(this).XHt(t)}get r9t(){return s(this)._zt()}set n9t(t){Nl.wi(t),s(this).$Ht(t)}get n9t(){return s(this).Izt()}set h9t(t){Nl.wi(t),s(this).YHt(t)}get h9t(){return s(this).Czt()}set o9t(t){Nl.wi(t),s(this).ZHt(t)}get o9t(){return s(this).Ezt()}set a9t(t){Nl.wi(t),s(this).QHt(t)}get a9t(){return s(this).Pzt()}set l9t(t){Nl.wi(t),s(this).tzt(t)}get l9t(){return s(this).Fzt()}set u9t(t){Nl.wi(t),s(this).szt(t)}get u9t(){return s(this).Azt()}set c9t(t){Nl.wi(t),s(this).KHt(t)}get c9t(){return s(this).Rzt()}set f9t(t){Nl.wi(t),s(this).ezt(t)}get f9t(){return s(this).kzt()}set acceleration(t){Nl.wi(t),s(this).izt(t)}get acceleration(){return s(this).Dzt()}set d9t(t){Nl.wi(t),s(this).rzt(t)}get d9t(){return s(this).Ozt()}set p9t(t){Nl.wi(t),s(this).nzt(t)}get p9t(){return s(this).Bzt()}set m9t(t){Nl.wi(t),s(this).hzt(t)}get m9t(){return s(this).Lzt()}set g9t(t){Nl.wi(t),s(this).ozt(t)}get g9t(){return s(this).Nzt()}set timeout(t){Nl.wi(t),s(this).lzt(t)}get timeout(){return s(this).Uzt()}y9t(t){Nl.wi(t),Ul.get(this).Kzt(t)}S9t(t){const s=Ul.get(this);t?s.qHt(s.oO().BO(t)):s.qHt(null)}}}{const jl=self.Ls;jl.T$.PHt.x$={jzt(){return this.OHt.jzt()}}}{const Vl=self.Ls;Vl.T$.PHt.fnt={dzt(t){this.OHt.dzt(0!==t)},HHt(t){this.pzt(t)},w9t(t){this.qHt(t)},b9t(){this.qHt(null)},zHt(t){this.OHt.zHt(Vl.Mn(t))},XHt(t){this.OHt.XHt(t)},$Ht(t){this.OHt.$Ht(t)},YHt(t){this.OHt.YHt(t/100)},KHt(t){this.OHt.KHt(t)},v9t(t){this.OHt.ZHt(t)},x9t(t){this.OHt.QHt(t)},M9t(t){this.OHt.tzt(t)},T9t(t){this.OHt.szt(t)},G9t(t){this.OHt.ezt(t)},_9t(t){this.OHt.izt(t)},rzt(t){this.OHt.rzt(t)},I9t(t){this.OHt.nzt(t)},C9t(t){this.OHt.hzt(t)},R9t(t){this.OHt.ozt(t)},lzt(t){this.OHt.lzt(t)},E9t(t){this.Kzt(t)},Bjt(t){this.UD().Mb(t),this.mf.XD()}}}{const Hl=self.Ls;Hl.T$.PHt.dnt={P9t(){return this.OHt.t9t()},F9t(){return this.OHt.Tzt()},A9t(){return Hl.Tn(this.OHt.Gzt())},k9t(){return this.OHt._zt()},D9t(){return this.OHt.Izt()},O9t(){return 100*this.OHt.Czt()},B9t(){return this.OHt.Rzt()},L9t(){return this.OHt.Ezt()},N9t(){return this.OHt.Pzt()},W9t(){return this.OHt.Azt()},U9t(){return this.OHt.Fzt()},j9t(){return this.OHt.kzt()},V9t(){return this.OHt.Dzt()},H9t(){return this.OHt.Ozt()},z9t(){return this.OHt.Bzt()},J9t(){return this.OHt.Lzt()},q9t(){return this.OHt.Nzt()},X9t(){return this.OHt.Uzt()}}}{const zl=self.Ls,Jl=[],ql=new Set(["continuous-spray","one-shot"]),Xl=["fade-to-invisible","timeout-expired","particle-stopped"],$l=zl.mn(zl.Rect);self.kHt=class{constructor(){this.$9t=0,this.Y9t=0,this.K9t="continuous-spray",this.Z9t=!1,this.Q9t=0,this.tJt=!1,this.sJt=0,this.eJt=0,this.iJt=0,this.rJt=0,this.nJt=0,this.hJt=1,this.oJt=0,this.aJt=0,this.lJt=0,this.uJt=0,this.cJt=0,this.fJt=0,this.dJt=0,this.pJt=0,this.mJt=0,this.gJt=0,this.yJt=0,this.SJt=0,this.wJt=0,this.f0=0,this.bJt=0,this.vJt=1,this.DHt=null,this.gzt=null,this.xJt=[],this.O3t=new zl.Rect,this.bb=new zl.$o}gn(){this.g0(),zl.Vh(this.xJt),this.xJt=null,this.DHt=null,this.gzt=null,this.O3t=null,this.bb=null}g0(){const e=this.xJt;for(let t=0,s=e.length;t<s;++t)e[t].txt();zl.tn(Jl,e),zl.Vh(e),1e3<Jl.length&&zl.jh(Jl,1e3),this.Z9t=!1}fzt(){for(let t=0,s=this.$9t;t<s;++t)this.MJt();this.xJt.length&&(this.Z9t=!0)}MJt(t=!0){let s=null;return Jl.length?(s=Jl.pop()).TJt(this):s=zl.mn(self.GJt,this),this.xJt.push(s),t?s.JCt(this.gzt):s.JCt(),s}Yzt(){const e=this.xJt,i=this.gzt;for(let t=0,s=e.length;t<s;++t)e[t].JCt(i)}Jzt(){const e=this.xJt,i=this.gzt;for(let t=0,s=e.length;t<s;++t)e[t]._Jt(i)}qzt(e){const i=this.xJt;for(let t=0,s=i.length;t<s;++t){const r=i[t],n=r.Xzt();if(n){const h=n.UD();h.Db(r.kb()),h.Lb(r.Bb()),h.mC(r.cc(),r.cc()),h.K3(r.X3()),h.yB(r.SB()),h.G4(e.UD().T4()),h.l4()}}}mzt(t,s=!0){const e=this.xJt;if(t<e.length){const i=e.length-t;for(let t=0;t<i;++t){const r=e.pop();r.txt(),Jl.push(r)}1e3<Jl.length&&zl.jh(Jl,1e3)}else if(t>e.length){const n=t-e.length;for(let t=0;t<n;++t)this.MJt(s)}}Hzt(){return this.xJt}t9t(){return this.xJt.length}XK(t){this.IJt(t),this.CJt(t),this.RJt()}IJt(t){if("continuous-spray"===this.K9t&&this.Z9t){this.bJt+=t*this.$9t;const s=Math.floor(this.bJt);this.bJt-=s;for(let t=0;t<s;++t)this.MJt()}}zzt(t){this.bJt=t}Vzt(){return this.bJt}CJt(e){let i=this.O3t,r=(i.set(this.sJt,this.eJt,this.sJt,this.eJt),this.xJt),n=0;for(let t=0,s=r.length;t<s;++t){const h=r[t];(r[n]=h).XK(e),h.Mmt()?(++n,i.iu(h.S4())):(h.txt(),Jl.push(h))}zl.jh(r,n),1e3<Jl.length&&zl.jh(Jl,1e3)}RJt(){"one-shot"===this.K9t&&0===this.xJt.length&&this.Z9t&&(this.DHt&&this.DHt(),this.Z9t=!1)}_v(e,i,r,n){$l.set(i.oh(),i.ah(),i.fh(),i.ph()),e.mE($l),this.bb.I(e.Q3());const h=this.xJt;for(let t=0,s=h.length;t<s;++t){const o=h[t];r.Ql(o.S4())&&o._v(e,i,n)}e.gE()}Q3(){return this.bb}HHt(t){this.$9t=+t}Tzt(){return this.$9t}zHt(t){this.Y9t=+t}Gzt(){return this.Y9t}JHt(t){if(!ql.has(t))throw new Error("invalid spray type");this.K9t=t}czt(){return this.K9t}dzt(t){this.Z9t=!!t}jzt(){return this.Z9t}Szt(t){this.Q9t=+t}EJt(){return this.Q9t}G6t(t){this.tJt=!!t}PJt(){return this.tJt}wzt(t){this.sJt=+t}FJt(){return this.sJt}bzt(t){this.eJt=+t}AJt(){return this.eJt}vzt(t){this.iJt=+t}kJt(){return this.iJt}XHt(t){this.rJt=+t}_zt(){return this.rJt}$Ht(t){this.nJt=+t}Izt(){return this.nJt}xzt(t){this.hJt=+t}DJt(){return this.hJt}YHt(t){this.oJt=+t}Czt(){return this.oJt}KHt(t){this.aJt=+t}Rzt(){return this.aJt}ZHt(t){this.lJt=+t}Ezt(){return this.lJt}QHt(t){this.uJt=+t}Pzt(){return this.uJt}tzt(t){this.cJt=+t}Fzt(){return this.cJt}szt(t){this.fJt=+t}Azt(){return this.fJt}ezt(t){this.dJt=+t}kzt(){return this.dJt}izt(t){this.pJt=+t}Dzt(){return this.pJt}rzt(t){this.mJt=+t}Ozt(){return this.mJt}nzt(t){this.gJt=+t}Bzt(){return this.gJt}hzt(t){this.yJt=+t}Lzt(){return this.yJt}ozt(t){this.SJt=+t}Nzt(){return this.SJt}OJt(t){let s=Xl.indexOf(t);if(-1===s)throw new Error("invalid destroy mode");this.wJt=s}azt(t){this.OJt(Xl[t])}BJt(){return Xl[this.wJt]}Wzt(){return this.wJt}lzt(t){this.f0=+t}Uzt(){return this.f0}Mzt(t){this.vJt=+t}LJt(){return this.vJt}S4(){return this.O3t}}}{let p=function(t){return Math.random()*t-t/2},m=(p,self.Ls),l=new m.nu,u=new m.$o,t=self.devicePixelRatio||1,c=!1;self.GJt=class{constructor(t){this.NJt=t,this.p0=!1,this.hl=0,this.ol=0,this.f_t=0,this.YH=0,this.WJt=1,this.UJt=0,this.jJt=0,this.B7=0,this.VJt=0,this.HJt=0,this.zJt=0,this.Uu=new m.Rect,this.JJt=null,this.qJt=NaN,this.XJt=null,this.$Jt=null}TJt(t){this.NJt=t}JCt(t){const s=this.NJt;this.p0=!0,this.hl=s.FJt()+p(s.Ezt()),this.ol=s.AJt()+p(s.Pzt()),this.f_t=s._zt()+p(s.Fzt()),this.YH=s.kJt()+p(s.Gzt()),this.WJt=s.Czt(),this.UJt=this.WJt,this.B7=(s.Izt()+p(s.Azt()))*s.DJt(),this.VJt=this.B7/2,this.jJt=s.Rzt()+p(s.kzt()),this.HJt=0,this.zJt=0,this.YJt(),t?this.JJt||(this.JJt=t(this)):(this.JJt=null,this.XJt=null,this.$Jt=null)}_Jt(t){t?this.JJt&&!this.JJt.f8()||(this.JJt=t(this,this.qJt)):(this.JJt=null,this.XJt=null,this.$Jt=null)}Zzt(t){this.XJt=t}Qzt(t){this.$Jt=t}txt(){const t=this.$Jt;t&&t(this.JJt),this.JJt=null,this.XJt=null,this.$Jt=null}toJSON(){let t;return this.JJt&&this.JJt.UD()&&(t=this.JJt.UD().aU().hN()),[this.hl,this.ol,this.f_t,this.YH,this.WJt,this.jJt,this.B7,this.HJt,this.zJt,t]}$a(t){this.hl=t[0],this.ol=t[1],this.f_t=t[2],this.YH=t[3],this.WJt=t[4],this.UJt=this.WJt,this.jJt=t[5],this.B7=t[6],this.HJt=t[7],this.zJt=t[8],this.qJt=t[9],this.VJt=this.B7/2,this.YJt()}XK(t){let s=this.NJt,e=this.f_t*t,i=this.YH,r=Math.cos(i)*e,n=Math.sin(i)*e+this.HJt*t,h=(this.hl+=r,this.ol+=n,this.jJt*t),o=(this.B7+=h,this.VJt=this.B7/2,this.f_t+=s.Dzt()*t,this.HJt+=s.Ozt()*t,this.zJt+=t,this.YJt(),s.Bzt()),a=s.Lzt(),l=s.Nzt(),u=0;0!==o&&(u=p(o*t),this.YH+=u),0!==a&&(this.f_t+=p(a*t)),0!==l&&(this.WJt=m.vn(this.WJt+p(l*t),0,1));const c=1<=this.B7&&(2===s.Wzt()?0<this.f_t:this.zJt<s.Uzt()),f=this.XJt;if(f&&c){let t=s.EJt()*this.WJt;0===s.Wzt()&&(t*=1-this.zJt/s.Uzt());const d=t-this.UJt;this.UJt=t,f(this.JJt,r,n,h,u,d)}this.p0=c}Mmt(){return this.p0}S4(){return this.Uu}YJt(){const t=this.hl,s=this.ol,e=this.VJt;this.Uu.set(t-e,s-e,t+e,s+e)}_v(r,n,h){if(!this.JJt){let e=this.NJt,i=e.EJt()*this.WJt;if(0===e.Wzt()&&(i*=1-this.zJt/e.Uzt()),!(i<=0)){const o=this.B7,a=o*e.LJt()*t;if(!(a<1)){let t=this.hl,s=this.ol;e.PJt()&&(t=t+.5|0,s=s+.5|0),r.kS()?r.yE(t,s,o,i):h||a>r.tP()||a<r.QE()?(u.I(e.Q3()),u.Ia(i),r.Tb(u),c=!0,l._u(this.Uu),r.uE(l,n)):(c&&(r.Tb(e.Q3()),c=!1),r.yE(t,s,a,i))}}}}Xzt(){return this.JJt}$zt(){return this.qJt}kb(){return this.hl}Bb(){return this.ol}cc(){return this.B7}SB(){return this.YH}X3(){return this.WJt}}}{const Yl=self.Ls,Kl=[];Yl.T$.Audio=class extends Yl.uMt{constructor(t){super(t)}KJt(t){Kl.push(t)}static async ZJt(){await Promise.all(Kl),Yl.Vh(Kl)}gn(){super.gn()}}}{let s=function(){return e.L5().k6()},t=function(){if(self.C3Audio_DOMInterface)return self.C3Audio_DOMInterface;throw new Error("audio scripting API cannot be used here - make sure the project is using DOM mode, not worker mode")};s,t;const Zl=self.Ls,Ql=self.Xs;Zl.T$.Audio.GIt=class extends Zl.XMt{constructor(t){super(t)}gn(){super.gn()}AMt(){}kMt(){return self.QJt}};let e=null;self.QJt=class extends self.N5{constructor(t){super(t),e=t}get tqt(){return t().GetAudioContextExtern()}get sqt(){return t().GetDestinationNodeExtern()}get isSilent(){return s().eqt()}set isSilent(t){s().iqt(t)}get masterVolume(){return s().rqt()}set masterVolume(t){Ql.wi(t),s().nqt(t)}hqt(){s().oqt()}}}{const tu=self.Ls,su=["interactive","balanced","playback"];tu.T$.Audio.Instance=class extends tu.QMt{constructor(t,s){super(t,"audio"),this.aqt=0,this.lqt=[],this.uqt=!0,this.cqt=0,this.fqt=0,this.dqt=!1,this.pqt=1,this.mqt=1,this.gqt=[this.mf.L9()/2,this.mf.N9()/2,600],this.yqt=[0,0,-1],this.Sqt=[0,1,0],this.wqt=600,this.bqt=1e4,this.vqt=1,this.xqt=null,this.Mqt=-1,this.Tqt=1,this.Gqt=!1,this._qt=0,this.Iqt="suspended",this.Cqt=0,this.Rqt=new Map,this.Eqt=0,this.Pqt=0,this.Fqt=new Map,this.Aqt=new Map;let e="interactive";s&&(this.cqt=s[0],this.fqt=s[1],this.dqt=s[2],e=su[s[3]],this.uqt=s[4],this.pqt=s[5],this.mqt=s[6],this.gqt[2]=s[7],this.wqt=s[8],this.bqt=s[9],this.vqt=s[10]),this.kqt=[],this.Dqt=[],this.Oqt=[],this.uTt([["state",t=>this.Bqt(t)],["audiocontext-state",t=>this.Lqt(t)],["fxstate",t=>this.Nqt(t)],["trigger",t=>this.Wqt(t)],["buffer-metadata",t=>this.Uqt(t)]]);const i=this.oO().Xf(),r=(this._0=new tu.M0(tu.y0.x0(i,"instancedestroy",t=>this.jqt(t.z6)),tu.y0.x0(i,"afterload",()=>this.KY()),tu.y0.x0(i,"suspend",()=>this.Vqt()),tu.y0.x0(i,"resume",()=>this.Hqt())),this.mf.zO()),n="Safari"===tu.ue.pe,h=this.mf.YLt()||"macos-wkwebview"===r,o=this.mf.zA().s7(),a="playable-ad-single-file"===this.mf.zO(),l=n||h||o||a;this.mf.tO(this.fTt("create-audio-context",{preloadList:this.mf.zA().F7().map(t=>({originalUrl:t.originalUrl,url:t.url,type:t.type,fileSize:t.fileSize})),timeScaleMode:this.cqt,latencyHint:e,panningModel:this.pqt,distanceModel:this.mqt,refDistance:this.wqt,maxDistance:this.bqt,rolloffFactor:this.vqt,listenerPos:this.gqt,usePlayMusicAsSoundWorkaround:l}).then(t=>{this._qt=t.sampleRate,this.Iqt=t.audioContextState,this.Cqt=t.outputLatency})),this.STt()}gn(){this.xqt=null,super.gn()}zqt(t){return this.uqt?t.split(" ").filter(t=>!!t):t?[t]:[]}Jqt(s,t){for(const e of t){let t=!1;for(const i of s)if(tu.br(i,e)){t=!0;break}if(!t)return!1}return!0}qqt(t,s){return this.Jqt(t,this.zqt(s))}KJt(t){this.U5().KJt(t)}jqt(t){this.xqt===t&&(this.xqt=null)}Xqt(t){return Math.pow(10,t/20)}$qt(t){const s=this.Xqt(t);return isFinite(s)?Math.max(Math.min(s,1),0):0}Yqt(t){return Math.log(t)/Math.log(10)*20}Kqt(t){return this.Yqt(Math.max(Math.min(t,1),0))}Vqt(){this.dqt||this.cTt("set-suspended",{isSuspended:!0})}Hqt(){this.dqt||this.cTt("set-suspended",{isSuspended:!1})}Bqt(t){const s=t.tickCount,e=(this.Cqt=t.outputLatency,this.kqt.filter(t=>t.hasOwnProperty("placeholder")&&(t.placeholder>s||-1===t.placeholder)));this.kqt=t.audioInstances,this.Oqt=t.analysers,0<e.length&&tu.tn(this.kqt,e)}Uqt(t){this.Fqt.set(t.originalUrl,{duration:t.duration})}Lqt(t){this.Iqt=t.audioContextState}xnt(){return this.mf.Jkt()?"running":this.Iqt}Nqt(t){this.Dqt=t.fxstate}Zqt(t){const s=this.zqt(t);for(const e of this.kqt)if(this.Jqt(e.tags,s))return e;return null}Qqt(t){const s=this.zqt(t);return this.kqt.some(t=>this.Jqt(t.tags,s)&&t.isPlaying)}tXt(t,s,e,i,r){if(this.Qqt(s))return null;const n=this.Fqt.get(t),h={tags:this.zqt(s),duration:n?n.duration:0,volume:r,isPlaying:!0,playbackTime:0,playbackRate:1,uid:-1,bufferOriginalUrl:t,bufferUrl:"",bufferType:"",isMusic:e,isLooping:i,isMuted:!1,resumePosition:0,pan:null,placeholder:-1};return this.kqt.push(h),h}sXt(t){const s=this.zqt(t);for(const e of this.kqt)this.Jqt(e.tags,s)&&(e.isPlaying=!1)}async Wqt(t){const s=t.type,e=(this.lqt=t.tags,t.aiid);if("ended"===s){for(const i of this.kqt)if(i.aiid===e){i.isPlaying=!1;break}await this.DN(tu.T$.Audio.x$.eXt)}else"fade-ended"===s&&await this.DN(tu.T$.Audio.x$.iXt)}rXt(t){return this.qqt(this.lqt,t)}XK(){const t={timeScale:this.mf.Yk(),gameTime:this.mf.VLt(),instPans:this.nXt(),tickCount:this.mf.HLt()};if(this.xqt){const s=this.xqt.UD();this.gqt[0]=s.kb(),this.gqt[1]=s.Bb(),t.listenerPos=this.gqt,t.listenerOrientation=[...this.yqt,...this.Sqt]}this.cTt("tick",t)}hXt(t,s,e,i,r){if(0!==e){const n=Math.sin(e),h=Math.cos(e),o=(t-=i)*n,a=(s-=r)*n,l=t*h,u=s*h;t=l-a,s=u+o,t+=i,s+=r}return[t,s]}nXt(){return this.kqt.filter(t=>-1!==t.uid).map(t=>this.mf.OD(t.uid)).filter(t=>t).map(t=>{const s=t.UD(),e=s.jD().SB(),[i,r]=this.hXt(s.kb(),s.Bb(),-e,this.gqt[0],this.gqt[1]);return{uid:t.hN(),x:i,y:r,z:s.g4(),angle:s.SB()-e}})}oXt(t,s){for(const e of this.Oqt)if(e.index===s&&tu.br(e.tag,t))return e;return null}aXt(t){for(const s of this.zqt(t)){const e=s.toLowerCase();this.Rqt.set(e,(this.Rqt.get(e)||0)+1)}}eqt(){return this.Gqt}iqt(t){this.Gqt!==(t=!!t)&&(this.Gqt=t,this.cTt("set-silent",{isSilent:t}))}rqt(){return this.Tqt}nqt(t){this.Tqt!==t&&(this.Tqt=t,this.cTt("set-master-volume",{vol:t}))}oqt(){this.cTt("stop-all");for(const t of this.kqt)t.isPlaying=!1}lXt(t){return!t.hasOwnProperty("placeholder")&&3!==this.fqt&&!(t.isMusic&&1===this.fqt||!t.isMusic&&2===this.fqt)}qb(){return{isSilent:this.Gqt,masterVolume:this.Tqt,listenerZ:this.gqt[2],listenerForwardVec:this.yqt,listenerUpVec:this.Sqt,listenerUid:this.xqt?this.xqt.hN():-1,remoteUrls:[...this.Aqt.entries()],playing:this.kqt.filter(t=>this.lXt(t)),effects:this.Dqt,analysers:this.Oqt}}Xb(t){if(this.Gqt=t.isSilent,this.Tqt=t.masterVolume,this.gqt[2]=t.listenerZ,this.xqt=null,this.Mqt=t.listenerUid,t.hasOwnProperty("listenerForwardVec")?this.yqt=t.listenerForwardVec:this.yqt=[0,0,-1],t.hasOwnProperty("listenerUpVec")?this.Sqt=t.listenerUpVec:this.Sqt=[0,1,0],this.Aqt.clear(),t.remoteUrls)for(const[s,e]of t.remoteUrls)this.Aqt.set(s,e);this.kqt=t.playing;for(const i of this.kqt)i.hasOwnProperty("tag")&&!i.hasOwnProperty("tags")&&(i.tags=[i.tag].filter(t=>!!t));this.Dqt=t.effects,this.Oqt=t.analysers}KY(){if(-1!==this.Mqt&&(this.xqt=this.mf.OD(this.Mqt),this.Mqt=-1,this.xqt)){const t=this.xqt.UD();this.gqt[0]=t.kb(),this.gqt[1]=t.Bb()}for(const s of this.kqt){const e=this.mf.zA().P7(s.bufferOriginalUrl);e?(s.bufferUrl=e.url,s.bufferType=e.type):s.bufferUrl=null}for(const i of Object.values(this.Dqt))for(const r of i)if(r.hasOwnProperty("bufferOriginalUrl")){const n=this.mf.zA().P7(r.bufferOriginalUrl);n&&(r.bufferUrl=n.url,r.bufferType=n.type)}this.cTt("load-state",{saveLoadMode:this.fqt,timeScale:this.mf.Yk(),gameTime:this.mf.VLt(),listenerPos:this.gqt,listenerOrientation:[...this.yqt,...this.Sqt],isSilent:this.Gqt,masterVolume:this.Tqt,playing:this.kqt.filter(t=>null!==t.bufferUrl),effects:this.Dqt})}xTt(){const t=[];for(const[e,i]of Object.entries(this.Dqt))t.push({name:"$"+e,value:i.map(t=>t.type).join(", ")});const s="plugins.audio.debugger";return[{title:s+".tag-effects",properties:t},{title:s+".currently-playing",properties:[{name:s+".currently-playing-count",value:this.kqt.length},...this.kqt.map((t,s)=>({name:"$#"+s,value:`${t.bufferOriginalUrl} ("${t.tags}") ${Math.round(10*t.playbackTime)/10} / `+Math.round(10*t.duration)/10}))]}]}}}{const eu=self.Ls;eu.T$.Audio.x$={eXt(t){return this.rXt(t)},iXt(t){return this.rXt(t)},uXt(){return this.Pqt===this.Eqt},cXt(){return!0},fXt(){return this.eqt()},dXt(){for(const t of this.kqt)if(t.isPlaying)return!0;return!1},pXt(t){return this.Qqt(t)}}}{const E=self.Ls,iu=["lowpass","highpass","bandpass","lowshelf","highshelf","peaking","notch","allpass"];E.T$.Audio.fnt={Play(t,s,e,i,r){const n=E.T$.Audio.fnt.mXt.call(this,t,s,e,i,r);return this.KJt(n),n},Mnt(t,s,e,i){E.T$.Audio.fnt.mXt.call(this,t,0,s,0,e,i)},async mXt(t,s,e,i,r,n){if(!this.Gqt){const h=t[1],o=this.mf.zA().P7(t[0]);if(o){const a=this.aqt,l=(this.aqt=0,this.tXt(t[0],r,h,0!==s,this.$qt(e)));try{await this.fTt("play",{originalUrl:t[0],url:o.url,type:o.type,isMusic:h,tags:this.zqt(r),isLooping:0!==s,vol:this.$qt(e),stereoPan:E.vn(i/100,-1,1),pos:n||0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{l&&(l.placeholder=this.mf.HLt())}}}},async gXt(t,s,e,i,r,n,h,o,a,l,u){if(!this.Gqt){const c=t[1],f=this.mf.zA().P7(t[0]);if(f){const d=this.aqt,p=(this.aqt=0,this.tXt(t[0],u,c,0!==s,this.$qt(e)));try{await this.fTt("play",{originalUrl:t[0],url:f.url,type:f.type,isMusic:c,tags:this.zqt(u),isLooping:0!==s,vol:this.$qt(e),pos:0,off:d,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:i,y:r,z:n,angle:E.Mn(h),innerAngle:E.Mn(o),outerAngle:E.Mn(a),outerGain:this.$qt(l)}})}finally{p&&(p.placeholder=this.mf.HLt())}}}},async yXt(t,s,e,i,r,n,h,o){if(!this.Gqt&&i){const a=i.ivt();if(a&&a.UD()){const l=a.UD(),u=l.jD().SB(),[c,f]=this.hXt(l.kb(),l.Bb(),-u,this.gqt[0],this.gqt[1]),d=t[1],p=this.mf.zA().P7(t[0]);if(p){const m=this.aqt,g=(this.aqt=0,this.tXt(t[0],o,d,0!==s,this.$qt(e)));try{await this.fTt("play",{originalUrl:t[0],url:p.url,type:p.type,isMusic:d,tags:this.zqt(o),isLooping:0!==s,vol:this.$qt(e),pos:0,off:m,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:c,y:f,z:l.g4(),angle:l.SB()-u,innerAngle:E.Mn(r),outerAngle:E.Mn(n),outerGain:this.$qt(h),uid:a.hN()}})}finally{g&&(g.placeholder=this.mf.HLt())}}}}},async SXt(t,s,e,i,r,n){if(!this.Gqt){const h=1===t,o=this.mf.zA().P7(s)||this.Aqt.get(s.toLowerCase());if(o){const a=this.aqt,l=(this.aqt=0,this.tXt(s,n,h,0!==e,this.$qt(i)));try{await this.fTt("play",{originalUrl:s,url:o.url,type:o.type,isMusic:h,tags:this.zqt(n),isLooping:0!==e,vol:this.$qt(i),stereoPan:E.vn(r/100,-1,1),pos:0,off:a,trueClock:!!self.C3_GetAudioContextCurrentTime})}finally{l&&(l.placeholder=this.mf.HLt())}}}},async wXt(t,s,e,i,r,n,h,o,a,l,u,c){if(!this.Gqt){const f=1===t,d=this.mf.zA().P7(s)||this.Aqt.get(s.toLowerCase());if(d){const p=this.aqt,m=(this.aqt=0,this.tXt(s,c,f,0!==e,this.$qt(i)));try{await this.fTt("play",{originalUrl:s,url:d.url,type:d.type,isMusic:f,tags:this.zqt(c),isLooping:0!==e,vol:this.$qt(i),pos:0,off:p,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:r,y:n,z:h,angle:E.Mn(o),innerAngle:E.Mn(a),outerAngle:E.Mn(l),outerGain:this.$qt(u)}})}finally{m&&(m.placeholder=this.mf.HLt())}}}},async bXt(t,s,e,i,r,n,h,o,a){if(!this.Gqt&&!this.Gqt&&r){const l=r.ivt();if(l&&l.UD()){const u=l.UD(),c=u.jD().SB(),[f,d]=this.hXt(u.kb(),u.Bb(),-c,this.gqt[0],this.gqt[1]),p=1===t,m=this.mf.zA().P7(s)||this.Aqt.get(s.toLowerCase());if(m){const g=this.aqt,y=(this.aqt=0,this.tXt(s,a,p,0!==e,this.$qt(i)));try{await this.fTt("play",{originalUrl:s,url:m.url,type:m.type,isMusic:p,tags:this.zqt(a),isLooping:0!==e,vol:this.$qt(i),pos:0,off:g,trueClock:!!self.C3_GetAudioContextCurrentTime,panning:{x:f,y:d,z:u.g4(),angle:u.SB()-c,innerAngle:E.Mn(n),outerAngle:E.Mn(h),outerGain:this.$qt(o),uid:l.hN()}})}finally{y&&(y.placeholder=this.mf.HLt())}}}}},vXt(t,s){this.cTt("set-looping",{tags:this.zqt(t),isLooping:0===s})},xXt(t,s){this.cTt("set-muted",{tags:this.zqt(t),isMuted:0===s})},bnt(t,s){this.cTt("set-volume",{tags:this.zqt(t),vol:this.$qt(s)})},MXt(t,s,e,i){this.cTt("fade-volume",{tags:this.zqt(t),vol:this.$qt(s),duration:e,stopOnEnd:0===i})},TXt(t,s){this.cTt("set-stereo-pan",{tags:this.zqt(t),p:E.vn(s/100,-1,1)})},async GXt(t){const s=t[1],e=this.mf.zA().P7(t[0]);e&&(this.Eqt++,await this.fTt("preload",{originalUrl:t[0],url:e.url,type:e.type,isMusic:s}),this.Pqt++)},async _Xt(t,s){const e=1===t,i=this.mf.zA().P7(s)||this.Aqt.get(s.toLowerCase());i&&(this.Eqt++,await this.fTt("preload",{originalUrl:s,url:i.url,type:i.type,isMusic:e}),this.Pqt++)},KW(t,s){this.cTt("set-playback-rate",{tags:this.zqt(t),rate:Math.max(s,0)})},UW(t){this.sXt(t),this.cTt("stop",{tags:this.zqt(t)})},IXt(){this.oqt()},CXt(t,s){this.cTt("set-paused",{tags:this.zqt(t),paused:0===s})},RXt(t,s){this.cTt("seek",{tags:this.zqt(t),pos:s})},EXt(t){2===t&&(t=this.eqt()?1:0),this.iqt(0===t)},PXt(t){const s=this.$qt(t);this.nqt(s)},FXt(t,s,e,i,r,n,h){const o=iu[s];this.aXt(t),this.cTt("add-effect",{type:"filter",tags:this.zqt(t),params:[o,e,i,r,n,E.vn(h/100,0,1)]})},AXt(t,s,e,i){this.aXt(t),this.cTt("add-effect",{type:"delay",tags:this.zqt(t),params:[s,this.$qt(e),E.vn(i/100,0,1)]})},kXt(t,s,e,i,r,n){this.aXt(t),this.cTt("add-effect",{type:"flanger",tags:this.zqt(t),params:[s/1e3,e/1e3,i,r/100,E.vn(n/100,0,1)]})},DXt(t,s,e,i,r,n,h){this.aXt(t),this.cTt("add-effect",{type:"phaser",tags:this.zqt(t),params:[s,e,i,r,n,E.vn(h/100,0,1)]})},OXt(t,s,e,i){const r=this.mf.zA().P7(s[0]);r&&(this.aXt(t),this.cTt("add-effect",{type:"convolution",tags:this.zqt(t),bufferOriginalUrl:s[0],bufferUrl:r.url,bufferType:r.type,params:[0===e,E.vn(i/100,0,1)]}))},BXt(t,s){this.aXt(t),this.cTt("add-effect",{type:"gain",tags:this.zqt(t),params:[this.$qt(s)]})},LXt(t,s){this.aXt(t),this.cTt("add-effect",{type:"stereopan",tags:this.zqt(t),params:[E.vn(s/100,-1,1)]})},NXt(t){this.aXt(t),this.cTt("add-effect",{type:"gain",tags:this.zqt(t),params:[0]})},WXt(t,s,e){this.aXt(t),this.cTt("add-effect",{type:"tremolo",tags:this.zqt(t),params:[s,E.vn(e/100,0,1)]})},UXt(t,s,e){this.aXt(t),this.cTt("add-effect",{type:"ringmod",tags:this.zqt(t),params:[s,E.vn(e/100,0,1)]})},jXt(t,s,e,i,r,n){this.aXt(t),this.cTt("add-effect",{type:"distortion",tags:this.zqt(t),params:[this.Xqt(s),this.Xqt(e),i,this.Xqt(r),E.vn(n/100,0,1)]})},VXt(t,s,e,i,r,n){this.aXt(t),this.cTt("add-effect",{type:"compressor",tags:this.zqt(t),params:[s,e,i,r/1e3,n/1e3]})},HXt(t,s,e){this.aXt(t),this.cTt("add-effect",{type:"analyser",tags:this.zqt(t),params:[s,e]})},zXt(t){const s=this.zqt(t);for(const e of s)this.Rqt.set(e.toLowerCase(),0);this.cTt("remove-effects",{tags:s}),this.Dqt={}},sW(t,s,e,i,r,n){this.cTt("set-effect-param",{tags:this.zqt(t),index:Math.floor(s),param:e,value:i,ramp:r,time:n})},JXt(t){if(t){const s=t.ivt();s&&s.UD()&&(this.xqt=s)}},qXt(t){this.gqt[2]=t},XXt(t,s,e,i,r,n){this.yqt[0]=t,this.yqt[1]=s,this.yqt[2]=-e,this.Sqt[0]=i,this.Sqt[1]=r,this.Sqt[2]=-n},$Xt(t){this.aqt=Math.max(t,0)},YXt(t){const s=t[1],e=this.mf.zA().P7(t[0]);e&&this.cTt("unload",{url:e.url,type:e.type,isMusic:s})},KXt(t,s){const e=1===t,i=this.mf.zA().P7(s)||this.Aqt.get(s.toLowerCase());i&&this.cTt("unload",{url:i.url,type:i.type,isMusic:e})},ZXt(){this.cTt("unload-all")},QXt(t,s,e){this.Aqt.set(e.toLowerCase(),{url:t,type:s})}}}{const ru=self.Ls;ru.T$.Audio.dnt={t$t(t){const s=this.Zqt(t);return s?s.duration:0},gnt(t){const s=this.Zqt(t);return s?s.playbackTime:0},vnt(t){const s=this.Zqt(t);return s?s.playbackRate:0},ynt(t){const s=this.Zqt(t);return s?this.Kqt(s.volume):0},s$t(){return this.Kqt(this.rqt())},e$t(t){return this.Rqt.get(t.toLowerCase())||0},i$t(t,s){const e=this.oXt(t,Math.floor(s));return e?e.binCount:0},r$t(t,s,e){const i=this.oXt(t,Math.floor(s));return!i||(e=Math.floor(e))<0||e>=i.binCount?0:i.freqBins[e]},n$t(t,s){const e=this.oXt(t,Math.floor(s));return e?e.peak:0},h$t(t,s){const e=this.oXt(t,Math.floor(s));return e?e.rms:0},o$t(){return this._qt},a$t(){return self.C3_GetAudioContextCurrentTime?self.C3_GetAudioContextCurrentTime():performance.now()/1e3},l$t(){return this.Cqt},u$t(t,s){return 0==(t=ru.vn(+t,0,100)/100)?-1/0:t<.1?this.Kqt(ru.Ot(0,this.$qt(s),10*t)):ru.Ot(s,0,(t-.1)/.9)}}}{const nu=self.Ls;nu.T$.Keyboard=class extends nu.uMt{constructor(t){super(t)}gn(){super.gn()}}}{let e=function(){return s.L5().k6()};e;const hu=self.Ls;hu.T$.Keyboard.GIt=class extends hu.XMt{constructor(t){super(t)}gn(){super.gn()}AMt(){}kMt(){return self.c$t}};let s=null;self.c$t=class extends self.N5{constructor(t){super(t),(s=t).oO().RD().keyboard=this}f$t(t){const s=e();if("string"==typeof t)return s.d$t(t);if("number"==typeof t)return s.p$t(t);throw new TypeError("expected string or number")}}}{const ou=self.Ls;ou.T$.Keyboard.Instance=class extends ou.QMt{constructor(t,s){super(t,"keyboard"),this.m$t=new Set,this.g$t=new Set,this.y$t=0,this.S$t="",this.w$t="",this.b$t=!1;const e=this.oO().Xf();this._0=new ou.M0(ou.y0.x0(e,"keydown",t=>this.v$t(t.data)),ou.y0.x0(e,"keyup",t=>this.x$t(t.data)),ou.y0.x0(e,"window-blur",()=>this.M$t()),ou.y0.x0(e,"keyboard-blur",()=>this.M$t())),this.mf.tO(this.Ab())}gn(){super.gn()}async Ab(){const t=await this.fTt("init");this.b$t=t.isKeyboardLockSupported}v$t(t){const s=t.which,e=t.code||s.toString(),i=t.key;this.m$t.has(e)||(this.m$t.add(e),this.g$t.add(s),this.S$t=e,this.y$t=s,this.w$t=i,this.AN(ou.T$.Keyboard.x$.T$t),this.AN(ou.T$.Keyboard.x$.G$t),this.AN(ou.T$.Keyboard.x$._$t),this.AN(ou.T$.Keyboard.x$.I$t))}x$t(t){const s=t.which,e=t.code||s.toString(),i=t.key;this.m$t.delete(e),this.g$t.delete(s),this.S$t=e,this.y$t=s,this.w$t=i,this.AN(ou.T$.Keyboard.x$.C$t),this.AN(ou.T$.Keyboard.x$.R$t),this.AN(ou.T$.Keyboard.x$.E$t),this.AN(ou.T$.Keyboard.x$.P$t)}M$t(){for(const t of this.g$t)this.g$t.delete(t),this.y$t=t,this.AN(ou.T$.Keyboard.x$.C$t),this.AN(ou.T$.Keyboard.x$.R$t),this.AN(ou.T$.Keyboard.x$.P$t);this.m$t.clear()}d$t(t){return this.m$t.has(t)}p$t(t){return this.g$t.has(t)}qb(){return{tk:this.y$t,tkk:this.w$t}}Xb(t){this.y$t=t.tk,t.hasOwnProperty("tkk")&&(this.w$t=t.tkk)}xTt(){const t="plugins.keyboard";return[{title:t+".name",properties:[{name:t+".debugger.last-key-code",value:this.y$t},{name:t+".debugger.last-key-string",value:ou.T$.Keyboard.dnt.F$t(this.y$t)},{name:t+".debugger.last-typed-key",value:this.w$t}]}]}}}{const au=self.Ls,lu=["ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","MetaLeft","MetaRight"];au.T$.Keyboard.x$={d$t(t){return this.g$t.has(t)},G$t(t){return this.y$t===t},T$t(){return!0},C$t(){return!0},R$t(t){return this.y$t===t},p$t(t){return t=Math.floor(t),this.g$t.has(t)},I$t(t){return this.y$t===t},P$t(t){return this.y$t===t},_$t(t){const s=lu[t];return this.S$t===s},E$t(t){const s=lu[t];return this.S$t===s},A$t(t){const s=lu[t];return this.m$t.has(s)},k$t(){return this.b$t},D$t(){return!0},O$t(){return!0}}}{const uu=self.Ls;uu.T$.Keyboard.fnt={async B$t(s){if(this.b$t){let t=[];s&&(t=s.split(","));const e=await this.fTt("lock-keyboard",{keysArr:t});e.isOk?this.AN(uu.T$.Keyboard.x$.D$t):this.AN(uu.T$.Keyboard.x$.O$t)}},L$t(){this.b$t&&this.fTt("unlock-keyboard")}}}{let s=function(t){switch(t=Math.floor(t)){case 8:return"backspace";case 9:return"tab";case 13:return"enter";case 16:return"shift";case 17:return"control";case 18:return"alt";case 19:return"pause";case 20:return"capslock";case 27:return"esc";case 33:return"pageup";case 34:return"pagedown";case 35:return"end";case 36:return"home";case 37:return"←";case 38:return"↑";case 39:return"→";case 40:return"↓";case 45:return"insert";case 46:return"del";case 91:return"left window key";case 92:return"right window key";case 93:return"select";case 96:return"numpad 0";case 97:return"numpad 1";case 98:return"numpad 2";case 99:return"numpad 3";case 100:return"numpad 4";case 101:return"numpad 5";case 102:return"numpad 6";case 103:return"numpad 7";case 104:return"numpad 8";case 105:return"numpad 9";case 106:return"numpad *";case 107:return"numpad +";case 109:return"numpad -";case 110:return"numpad .";case 111:return"numpad /";case 112:return"F1";case 113:return"F2";case 114:return"F3";case 115:return"F4";case 116:return"F5";case 117:return"F6";case 118:return"F7";case 119:return"F8";case 120:return"F9";case 121:return"F10";case 122:return"F11";case 123:return"F12";case 144:return"numlock";case 145:return"scroll lock";case 186:return";";case 187:return"=";case 188:return",";case 189:return"-";case 190:return".";case 191:return"/";case 192:return"'";case 219:return"[";case 220:return"\\";case 221:return"]";case 222:return"#";case 223:return"`";default:return String.fromCharCode(t)}};s;const cu=self.Ls;cu.T$.Keyboard.dnt={N$t(){return this.y$t},F$t(t){return s(t)},W$t(){return this.w$t}}}{const fu=self.Ls;fu.T$.Touch=class extends fu.uMt{constructor(t){super(t)}gn(){super.gn()}}}{let e=function(){return s.L5().k6()};e;const du=self.Ls,pu=self.Xs;du.T$.Touch.GIt=class extends du.XMt{constructor(t){super(t)}gn(){super.gn()}AMt(){}kMt(){return self.U$t}};let s=null;self.U$t=class extends self.N5{constructor(t){super(t),(s=t).oO().RD().PD=this}requestPermission(t){pu.Mi(t);const s=e();if("orientation"===t)return s.j$t(0);if("motion"===t)return s.j$t(1);throw new Error("invalid type")}}}{const P=self.Ls;P.T$.Touch.Instance=class extends P.QMt{constructor(t,s){super(t,"touch"),this.V$t=new Map,this.H$t=!1,this.z$t=!1,this.J$t=0,this.q$t=0,this.X$t=0,this.$$t=0,this.Y$t=0,this.K$t=0,this.Z$t=0,this.Q$t=0,this.tYt=0,this.sYt=0,this.eYt=0,this.iYt=0,this.rYt=0,this.nYt=0,this.hYt=0,this.oYt=0,this.aYt=0,this.lYt=[],s&&(this.H$t=s[0]),this.lTt("permission-result",t=>this.uYt(t));const e=this.oO().Xf();this._0=new P.M0(P.y0.x0(e,"pointerdown",t=>this.cYt(t.data)),P.y0.x0(e,"pointermove",t=>this.fYt(t.data)),P.y0.x0(e,"pointerup",t=>this.dYt(t.data,!1)),P.y0.x0(e,"pointercancel",t=>this.dYt(t.data,!0)),P.y0.x0(e,"deviceorientation",t=>this.pYt(t.data)),P.y0.x0(e,"deviceorientationabsolute",t=>this.mYt(t.data)),P.y0.x0(e,"devicemotion",t=>this.gYt(t.data)),P.y0.x0(e,"tick2",t=>this.UY()))}gn(){this.V$t.clear(),super.gn()}cYt(t){if("mouse"===t.pointerType){if(!this.H$t)return;this.z$t=!0}const s=t.pointerId;if(!this.V$t.has(s)){const e=t.pageX-this.mf.kL(),i=t.pageY-this.mf.DL(),r=performance.now(),n=this.V$t.size,h=(this.eYt=n,this.iYt=s,P.mn(P.T$.Touch.yYt));h.JCt(r,e,i,s,n),this.V$t.set(s,h),this.AN(P.T$.Touch.x$.SYt),this.AN(P.T$.Touch.x$.wYt),this.nYt=e,this.hYt=i,this.aYt=0,this.AN(P.T$.Touch.x$.bYt)}}fYt(t){if("mouse"!==t.pointerType||this.z$t){const s=this.V$t.get(t.pointerId);if(s){const e=performance.now();if(!(e-s.TP()<2)){const i=t.pageX-this.mf.kL(),r=t.pageY-this.mf.DL();s.SH(e,i,r,t.width,t.height,t.pressure)}}}}dYt(t,s){if("mouse"===t.pointerType){if(!this.z$t)return;this.z$t=!1}const e=performance.now(),i=t.pointerId,r=this.V$t.get(i);if(r){if(this.eYt=r.vYt(),this.iYt=r.fU(),!s){const n=t.pageX-this.mf.kL(),h=t.pageY-this.mf.DL();this.nYt=n,this.hYt=h,this.aYt=1,this.AN(P.T$.Touch.x$.bYt)}if(this.AN(P.T$.Touch.x$.xYt),this.AN(P.T$.Touch.x$.MYt),!s){const o=r.TYt(e);"single-tap"===o?(this.AN(P.T$.Touch.x$.GYt),this.nYt=r.kb(),this.hYt=r.Bb(),this.AN(P.T$.Touch.x$._Yt)):"double-tap"===o&&(this.AN(P.T$.Touch.x$.IYt),this.nYt=r.kb(),this.hYt=r.Bb(),this.AN(P.T$.Touch.x$.CYt))}r.gn(),this.V$t.delete(i)}}j$t(e){return this.dTt("request-permission",{type:e}),new Promise((t,s)=>{this.lYt.push({type:e,resolve:t,reject:s})})}uYt(t){const s=t.result,e=t.type,i=(this.rYt=e,this.lYt.filter(t=>t.type===e));for(const r of i)r.resolve(s?"granted":"denied");this.lYt=this.lYt.filter(t=>t.type!==e),s?(this.AN(P.T$.Touch.x$.RYt),0===e?this.mf.ENt():this.mf.PNt()):this.AN(P.T$.Touch.x$.EYt)}pYt(t){"number"==typeof t.webkitCompassHeading?this.J$t=t.webkitCompassHeading:t.absolute&&(this.J$t=t.alpha),this.q$t=t.alpha,this.X$t=t.beta,this.$$t=t.gamma}mYt(t){this.J$t=t.alpha}gYt(t){const s=t.acceleration,e=(s&&(this.Y$t=s.x,this.K$t=s.y,this.Z$t=s.z),t.accelerationIncludingGravity);e&&(this.Q$t=e.x,this.tYt=e.y,this.sYt=e.z)}UY(){let t=performance.now(),s=0;for(const e of this.V$t.values())e.TP()<=t-50&&e.PYt(t),e.FYt(t)&&(this.eYt=e.vYt(),this.iYt=e.fU(),this.oYt=s,this.AN(P.T$.Touch.x$.AYt),this.nYt=e.kb(),this.hYt=e.Bb(),this.AN(P.T$.Touch.x$.kYt),this.oYt=0),++s}DYt(t){t=Math.floor(t);for(const s of this.V$t.values()){if(0===t)return s;--t}return null}OYt(t,s){return 0<=t&&0<=s&&t<this.mf.lLt()&&s<this.mf.uLt()}xTt(){return[{title:"plugins.touch.debugger.touches",properties:[...this.V$t.values()].map(t=>({name:"$"+t.fU(),value:t.kb()+", "+t.Bb()}))}]}}}{const mu=self.Ls;mu.T$.Touch.x$={wYt(){return!0},MYt(){return!0},BYt(){return 0<this.V$t.size},bYt(t,s){return!!t&&s===this.aYt&&!!this.OYt(this.nYt,this.hYt)&&this.mf.XA().SFt(t,[[this.nYt,this.hYt]],!1)},LYt(t){if(!t)return!1;const s=this.mf.Jdt(),e=s.m2t(),i=[...this.V$t.values()].filter(t=>this.OYt(t.kb(),t.Bb())).map(t=>[t.kb(),t.Bb()]);return mu.xor(this.mf.XA().SFt(t,i,e),e)},NYt(t,s,e){const i=this.DYt(t);return!!i&&mu.compare(i.iW(),s,e)},WYt(){return!0},UYt(){return!0},jYt(t,s,e){this.mf.ENt();let i;return i=0===t?this.q$t:1===t?this.X$t:this.$$t,mu.compare(i,s,e)},VYt(t,s,e){this.mf.PNt();let i;return i=0===t?this.Q$t:1===t?this.tYt:2===t?this.sYt:3===t?this.Y$t:4===t?this.K$t:this.Z$t,mu.compare(i,s,e)},SYt(t){return(t=Math.floor(t))===this.eYt},xYt(t){return(t=Math.floor(t))===this.eYt},HYt(t){return t=Math.floor(t),this.V$t.size>=t+1},AYt(){return!0},GYt(){return!0},IYt(){return!0},kYt(t){return!!t&&!!this.OYt(this.nYt,this.hYt)&&this.mf.XA().SFt(t,[[this.nYt,this.hYt]],!1)},_Yt(t){return!!t&&!!this.OYt(this.nYt,this.hYt)&&this.mf.XA().SFt(t,[[this.nYt,this.hYt]],!1)},CYt(t){return!!t&&!!this.OYt(this.nYt,this.hYt)&&this.mf.XA().SFt(t,[[this.nYt,this.hYt]],!1)},RYt(t){return this.rYt===t},EYt(t){return this.rYt===t}}}{const gu=self.Ls;gu.T$.Touch.fnt={zYt(t){this.j$t(t)}}}{const yu=self.Ls;yu.T$.Touch.dnt={JYt(){return this.V$t.size},vxt(t){const s=this.DYt(this.oYt);return s?s.qYt(this.mf.ND(),t,!0):0},xxt(t){const s=this.DYt(this.oYt);return s?s.qYt(this.mf.ND(),t,!1):0},XYt(t,s){const e=this.DYt(t);return e?e.qYt(this.mf.ND(),s,!0):0},$Yt(t,s){const e=this.DYt(t);return e?e.qYt(this.mf.ND(),s,!1):0},YYt(t,s){const e=this.V$t.get(t);return e?e.qYt(this.mf.ND(),s,!0):0},KYt(t,s){const e=this.V$t.get(t);return e?e.qYt(this.mf.ND(),s,!1):0},ZYt(){const t=this.DYt(0);return t?t.kb():0},QYt(){const t=this.DYt(0);return t?t.Bb():0},tKt(t){const s=this.DYt(t);return s?s.kb():0},sKt(t){const s=this.DYt(t);return s?s.Bb():0},eKt(t){const s=this.V$t.get(t);return s?s.kb():0},iKt(t){const s=this.V$t.get(t);return s?s.Bb():0},rKt(t){const s=this.DYt(t);return s?s.iW():0},nKt(t){const s=this.V$t.get(t);return s?s.iW():0},hKt(t){const s=this.DYt(t);return s?yu.Tn(s.SB()):0},oKt(t){const s=this.V$t.get(t);return s?yu.Tn(s.SB()):0},aKt(){return this.mf.ENt(),this.J$t},lKt(){return this.mf.ENt(),this.q$t},uKt(){return this.mf.ENt(),this.X$t},cKt(){return this.mf.ENt(),this.$$t},fKt(){return this.mf.PNt(),this.Q$t},dKt(){return this.mf.PNt(),this.tYt},pKt(){return this.mf.PNt(),this.sYt},mKt(){return this.mf.PNt(),this.Y$t},gKt(){return this.mf.PNt(),this.K$t},yKt(){return this.mf.PNt(),this.Z$t},SKt(){return this.eYt},wKt(){return this.iYt},bKt(t){const s=this.V$t.get(t);return s?s.Sm():0},vKt(t){const s=this.V$t.get(t);return s?s.Rm():0},xKt(t){const s=this.V$t.get(t);return s?s.MKt():0}}}{let h=self.Ls,s=-1e3,e=-1e3,i=-1e4;h.T$.Touch.yYt=class extends h.dn{constructor(){super(),this.TKt=0,this.CG=0,this.B5t=0,this.bF=0,this.GKt=0,this._Kt=0,this.IKt=0,this.hl=0,this.ol=0,this.CKt=0,this.RKt=0,this.sg=0,this.eg=0,this.EKt=0,this.PKt=!1,this.FKt=!1}gn(){}JCt(t,s,e,i,r){this.TKt=i,this.CG=r,this.bF=t,this.GKt=t,this.B5t=t,this._Kt=s,this.IKt=e,this.hl=s,this.ol=e,this.CKt=s,this.RKt=e}SH(t,s,e,i,r,n){this.GKt=this.bF,this.bF=t,this.CKt=this.hl,this.RKt=this.ol,this.hl=s,this.ol=e,this.sg=i,this.eg=r,this.EKt=n,!this.FKt&&15<=h.In(this._Kt,this.IKt,this.hl,this.ol)&&(this.FKt=!0)}fU(){return this.TKt}vYt(){return this.CG}TP(){return this.bF}PYt(t){this.GKt=t}kb(){return this.hl}Bb(){return this.ol}iW(){const t=h.In(this.hl,this.ol,this.CKt,this.RKt),s=(this.bF-this.GKt)/1e3;return 0<s?t/s:0}SB(){return h.Rn(this.CKt,this.RKt,this.hl,this.ol)}Sm(){return this.sg}Rm(){return this.eg}MKt(){return this.EKt}FYt(t){return!this.PKt&&500<=t-this.B5t&&!this.FKt&&h.In(this._Kt,this.IKt,this.hl,this.ol)<15&&(this.PKt=!0)}TYt(t){return!this.PKt&&t-this.B5t<=333&&!this.FKt&&h.In(this._Kt,this.IKt,this.hl,this.ol)<15?t-i<=666&&h.In(s,e,this.hl,this.ol)<25?(s=-1e3,e=-1e3,i=-1e4,"double-tap"):(s=this.hl,e=this.ol,i=t,"single-tap"):""}qYt(t,s,e){if(void 0===s){const i=t.HD(0);return i.Cq(this.hl,this.ol)[e?0:1]}{const r=t.jD(s);return r?r.AL(this.hl,this.ol)[e?0:1]:0}}}}{const Su=self.Ls;Su.T$.AKt=class extends Su.uMt{constructor(t){super(t)}gn(){super.gn()}}}{let r=function(){return s.L5().k6()};r;const wu=self.Ls,bu=self.Xs;wu.T$.AKt.GIt=class extends wu.XMt{constructor(t){super(t)}gn(){super.gn()}AMt(){}kMt(){return self.kKt}};let s=null;self.kKt=class extends self.N5{constructor(t){super(t),(s=t).oO().RD().ED=this}DKt(t){return r().OKt(t)[0]}BKt(t){return r().OKt(t)[1]}LKt(t){return r().OKt(t)}NKt(t){return r().WKt(t)}UKt(t){bu.Mi(t),r().jKt(t)}VKt(t){const s=r(),e=s.oO(),i=e.BO(t);s.HKt(i)}}}{let h=self.Ls,o=null;h.T$.AKt.Instance=class extends h.QMt{constructor(t,s){super(t,"mouse"),this.zKt=[!1,!1,!1,!1,!1],this.JKt=0,this.qKt=0,this.XKt=0,this.aYt=0,this.$Kt=0,this.YKt=0,this.KKt=0,this.ZKt=0,this.QKt=!1,this.tZt=0,this.sZt=0,this.uTt([["pointer-lock-change",t=>this.eZt(t)],["pointer-lock-error",t=>this.iZt(t)]]);const e=this.oO().Xf();this._0=new h.M0(h.y0.x0(e,"pointermove",t=>this.fYt(t.data)),h.y0.x0(e,"pointerdown",t=>this.cYt(t.data)),h.y0.x0(e,"pointerup",t=>this.dYt(t.data)),h.y0.x0(e,"dblclick",t=>this.rZt(t.data)),h.y0.x0(e,"wheel",t=>this.nZt(t.data)),h.y0.x0(e,"window-blur",()=>this._Bt()))}gn(){super.gn()}cYt(t){"mouse"===t.pointerType&&(this.JKt=t.pageX-this.mf.kL(),this.qKt=t.pageY-this.mf.DL(),this.hZt(t.lastButtons,t.buttons))}fYt(t){this.tZt=t.movementX,this.sZt=t.movementY,this.AN(h.T$.AKt.x$.oZt),this.tZt=0,this.sZt=0,"mouse"===t.pointerType&&(this.JKt=t.pageX-this.mf.kL(),this.qKt=t.pageY-this.mf.DL(),this.hZt(t.lastButtons,t.buttons))}dYt(t){"mouse"===t.pointerType&&this.hZt(t.lastButtons,t.buttons)}hZt(t,s){this.aZt(t,s,1,0),this.aZt(t,s,4,1),this.aZt(t,s,2,2),this.aZt(t,s,8,3),this.aZt(t,s,16,4)}aZt(t,s,e,i){!(t&e)&&s&e?this.lZt(i):t&e&&!(s&e)&&this.uZt(i)}lZt(t){this.zKt[t]=!0,this.AN(h.T$.AKt.x$.cZt),this.XKt=t,this.aYt=0,this.AN(h.T$.AKt.x$.fZt),this.AN(h.T$.AKt.x$.dZt)}uZt(t){this.zKt[t]&&(this.zKt[t]=!1,this.XKt=t,this.AN(h.T$.AKt.x$.pZt))}rZt(t){this.XKt=t.button,this.aYt=1,this.AN(h.T$.AKt.x$.fZt),this.AN(h.T$.AKt.x$.dZt)}nZt(t){this.$Kt=t.deltaY<0?1:0,this.YKt=t.deltaX,this.KKt=t.deltaY,this.ZKt=t.deltaZ,this.AN(h.T$.AKt.x$.mZt)}_Bt(){for(let t=0,s=this.zKt.length;t<s;++t){if(!this.zKt[t])return;this.zKt[t]=!1,this.XKt=t,this.AN(h.T$.AKt.x$.pZt)}}OKt(t){const s=this.mf.wD(),e=this.JKt,i=this.qKt;if(void 0===t){const r=s.HD(0);return r.Cq(e,i)}{const n=s.jD(t);return n?n.AL(e,i):[0,0]}}WKt(t){return t=Math.floor(t),!!this.zKt[t]}gZt(){return 0<=this.JKt&&0<=this.qKt&&this.JKt<this.mf.lLt()&&this.qKt<this.mf.uLt()}jKt(t){o!==t&&(o=t,this.cTt("cursor",t))}async HKt(t){if(!h.ue.ve&&t){const s=t.ivt();if(s){const e=s.UD(),i=s.DTt();if(e&&i&&o!==i){const r=await(o=i).u_t(),n=`url(${r}) ${Math.round(e.vW()*i.Sm())} ${Math.round(e.MW()*i.Rm())}, auto`;this.cTt("cursor",n)}}}}eZt(t){this.yZt(t["has-pointer-lock"])}iZt(t){this.yZt(t["has-pointer-lock"]),this.AN(h.T$.AKt.x$.SZt)}yZt(t){this.QKt!==t&&(this.QKt=t,this.QKt?this.AN(h.T$.AKt.x$.wZt):this.AN(h.T$.AKt.x$.bZt))}xTt(){const t="plugins.mouse";return[{title:t+".name",properties:[{name:t+".debugger.absolute-position",value:this.JKt+","+this.qKt},{name:t+".debugger.left-button",value:this.zKt[0]},{name:t+".debugger.middle-button",value:this.zKt[1]},{name:t+".debugger.right-button",value:this.zKt[2]},{name:t+".debugger.button-4",value:this.zKt[3]},{name:t+".debugger.button-5",value:this.zKt[4]}]},{title:t+".debugger.position-on-each-layer",properties:this.mf.wD().IB().map(t=>({name:"$"+t.nf(),value:t.AL(this.JKt,this.qKt).join(", ")}))}]}}}{const vu=self.Ls;vu.T$.AKt.x$={fZt(t,s){return this.XKt===t&&this.aYt===s},cZt(){return!0},vZt(t){return this.zKt[t]},pZt(t){return this.XKt===t},xZt(t){const s=this.mf.Jdt(),e=s.m2t(),i=[];return this.gZt()&&i.push([this.JKt,this.qKt]),vu.xor(this.mf.XA().SFt(t,i,e),e)},dZt(t,s,e){if(t!==this.XKt||s!==this.aYt)return!1;if(!this.gZt())return!1;const i=this.JKt,r=this.qKt;return this.mf.XA().SFt(e,[[i,r]],!1)},mZt(t){return 2===t||this.$Kt===t},wZt(){return!0},bZt(){return!0},SZt(){return!0},MZt(){return this.QKt},oZt(){return!0}}}{const xu=self.Ls,Mu=["auto","pointer","text","crosshair","move","help","wait","none"],Tu=["auto","all-scroll","none","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","not-allowed","grab","grabbing","col-resize","row-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out"];xu.T$.AKt.fnt={TZt(t){this.jKt(Mu[t])},GZt(t){this.jKt(Tu[t])},_Zt(t){this.HKt(t)},IZt(t){this.dTt("request-pointer-lock",{unadjustedMovement:t})},CZt(){this.cTt("release-pointer-lock")}}}{const Gu=self.Ls;Gu.T$.AKt.dnt={vxt(t){return this.OKt(t)[0]},xxt(t){return this.OKt(t)[1]},ZYt(){return this.JKt},QYt(){return this.qKt},RZt(){return this.tZt},EZt(){return this.sZt},PZt(){return this.YKt},FZt(){return this.KKt},AZt(){return this.ZKt}}}{const _u=self.Ls;_u.nlt.kZt=class extends _u.uGt{constructor(t){super(t)}gn(){super.gn()}}}{const Iu=self.Ls;Iu.nlt.kZt.GIt=class extends Iu.mGt{constructor(t){super(t)}gn(){super.gn()}AMt(){}}}{const F=self.Ls,Cu=self.Xs,Ru=self.N6,A=(F.nlt.kZt.Instance=class extends F.yGt{constructor(t,s){super(t),this.DZt=200,this.OZt=600,this.BZt=600,this.LZt=0,this.NZt=!0,this.WZt=!1,this.Jyt=!0,this.f_t=0,this.UZt=this.UD().SB(),this.jZt=[],s&&(this.DZt=s[0],this.OZt=s[1],this.BZt=s[2],this.LZt=F.Mn(s[3]),this.NZt=s[4],this.WZt=s[5],this.Jyt=s[6]),this.VZt=null,this.HZt=NaN,this.zZt=NaN,this.JZt=NaN,this.qZt=[0,0],this.XZt={kZ:this.qZt}}gn(){this.VZt&&(this.VZt.gn(),this.VZt=null),this.HZt=NaN,this.zZt=NaN,this.JZt=NaN,this.qZt=null,this.XZt=null,super.gn()}qb(){return{ms:this.DZt,acc:this.OZt,dec:this.BZt,rs:this.LZt,sa:this.NZt,sos:this.WZt,s:this.f_t,ma:this.UZt,wp:this.jZt.map(t=>({x:t.x,y:t.y})),e:this.Jyt}}Xb(t){this.DZt=t.ms,this.OZt=t.acc,this.BZt=t.dec,this.LZt=t.rs,this.NZt=t.sa,this.WZt=t.sos,this.f_t=t.s,this.UZt=t.ma,this.jZt=t.wp.map(t=>({x:t.x,y:t.y})),this.Uvt(t.e),this.Jyt&&0<this.jZt.length&&this.STt()}$Zt(t,s,e,i){e&&F.Vh(this.jZt),this.jZt.push({x:t,y:s,opts:i}),this.Jyt&&this.STt()}YZt(){return this.jZt.length}KZt(t){return(t=Math.floor(t))<0||t>=this.jZt.length?0:this.jZt[t].x}ZZt(t){return(t=Math.floor(t))<0||t>=this.jZt.length?0:this.jZt[t].y}QZt(){return 0<this.jZt.length}tQt(){F.Vh(this.jZt),this.f_t=0,this.eTt()}sQt(){return 0<this.jZt.length?this.jZt[0].x:0}eQt(){return 0<this.jZt.length?this.jZt[0].y:0}iQt(){if(0<this.jZt.length){const t=this.jZt[0];if(t.opts)return t.opts.rQt}return!1}nQt(){if(0<this.jZt.length){const t=this.jZt[0];if(t.opts)return t.opts.rQt&&t.opts.hQt}return!1}oQt(){if(0<this.jZt.length){const t=this.jZt[0];if(t.opts)return t.opts.aQt}return NaN}lQt(t){this.QZt()&&(this.f_t=Math.min(t,this.DZt))}uQt(){return this.f_t}cQt(t){this.DZt=Math.max(t,0),this.lQt(this.f_t)}fQt(){return this.DZt}dQt(){return this.Jyt&&this.QZt()&&this.iQt()?!!this.nQt():0!==this.LZt}XK(){if(this.Jyt&&this.QZt()){let t=this.mf.Hk(this._e),s=this._e.UD(),e=s.kb(),i=s.Bb(),r=s.SB(),n=this.f_t,h=this.DZt,o=this.OZt,a=this.BZt,l=this.sQt(),u=this.eQt(),c=F.Rn(e,i,l,u),f=!1;if(0<a&&1===this.jZt.length){const m=.5*n*n/a*1.0001;if(f=F.Cn(e,i,l,u)<=m*m){const g=F.In(e,i,l,u);n=Math.sqrt(2*a*g),h=n,this.f_t=n}}if(this.dQt()){const y=F.En(this.UZt,c);if(y>Number.EPSILON){const S=y/this.LZt,w=F.In(s.kb(),s.Bb(),l,u),b=w/(2*Math.sin(y)),v=b*y;h=Math.min(h,F.vn(v/S,0,this.DZt))}}let d=f?-a:o,p=Math.min(n*t+.5*d*t*t,h*t);if(f){if(0<a&&(this.f_t=Math.max(this.f_t-a*t,0),0===this.f_t))return void this.pQt(s,l,u)}else this.f_t=0===o?h:Math.min(this.f_t+o*t,h);if(F.Cn(s.kb(),s.Bb(),l,u)<=p*p)this.pQt(s,l,u);else{if(this.dQt()?this.UZt=F.Pn(this.UZt,c,this.LZt*t):this.UZt=c,s.d4(Math.cos(this.UZt)*p,Math.sin(this.UZt)*p),this.NZt){const x=this.iQt(),M=this.nQt();if(x&&!M){const T=F.In(this.HZt,this.zZt,s.kb(),s.Bb()),G=F.In(this.HZt,this.zZt,l,u),_=T/G;s.yB(F.An(this.JZt,this.oQt(),_))}else s.yB(this.UZt),this.HZt=NaN,this.zZt=NaN,this.JZt=NaN}s.l4(),this.mQt(e,i,r)}}}pQt(t,s,e){t.u4(s,e);const i=this.jZt[0];i.opts&&i.opts.rQt?(this.HZt=i.x,this.zZt=i.y,this.JZt=i.opts.aQt,this.NZt&&t.yB(this.JZt)):(this.HZt=NaN,this.zZt=NaN,this.JZt=NaN),t.l4(),this.jZt.shift(),0===this.jZt.length&&(this.VZt&&(this.VZt.gn(),this.VZt=null,this.HZt=NaN,this.zZt=NaN,this.JZt=NaN),this.f_t=0,this.eTt()),this.KMt("arrived"),this.AN(F.nlt.kZt.x$.gQt)}mQt(t,s,e){const i=this.mf.XA();if(this.WZt&&i.PO(this._e)){this.tQt();const r=this._e.UD(),n=r.kb(),h=r.Bb(),o=F.Rn(n,h,t,s),a=F.In(n,h,t,s);i._Ft(this._e,Math.cos(o),Math.sin(o),Math.max(a,1))||(r.u4(t,s),r.yB(e),r.l4()),this.KMt("hitsolid"),this.AN(F.nlt.kZt.x$.yQt)}}SQt(){return this.NZt}wQt(t){this.NZt=!!t}bQt(t){if(this.UZt=t,this.Jyt&&this.NZt&&!this.QZt()){const s=this.UD();s.yB(this.UZt),s.l4()}}vQt(){return this.UZt}xQt(t){this.OZt=Math.max(t,0)}MQt(){return this.OZt}TQt(t){this.BZt=Math.max(t,0)}GQt(){return this.BZt}_Qt(t){this.LZt=Math.max(t,0)}IQt(){return this.LZt}CQt(t){this.WZt=!!t}RQt(){return this.WZt}Uvt(t){this.Jyt!==(t=!!t)&&(this.Jyt=t,this.Jyt&&this.QZt()?this.STt():this.eTt())}Vvt(){return this.Jyt}Ynt(t){switch(t){case 0:return this.fQt();case 1:return this.MQt();case 2:return this.GQt();case 3:return F.Tn(this.IQt());case 4:return this.SQt();case 5:return this.RQt();case 6:return this.Vvt()}}eht(t,s){switch(t){case 0:this.cQt(s);break;case 1:this.xQt(s);break;case 2:this.TQt(s);break;case 3:this._Qt(F.Mn(s));break;case 4:this.wQt(s);break;case 5:this.CQt(s);break;case 6:this.Uvt(s)}}xTt(){const t="behaviors.moveto";return[{title:"$"+this.H6().nf(),properties:[{name:t+".debugger.speed",value:this.uQt(),rjt:t=>this.lQt(t)},{name:t+".debugger.angle-of-motion",value:F.Tn(this.vQt()),rjt:t=>this.UZt=F.Mn(t)},{name:t+".debugger.target-x",value:this.sQt()},{name:t+".debugger.target-y",value:this.eQt()},{name:t+".debugger.waypoint-count",value:this.YZt()},{name:t+".properties.max-speed.name",value:this.fQt(),rjt:t=>this.cQt(t)},{name:t+".properties.acceleration.name",value:this.MQt(),rjt:t=>this.xQt(t)},{name:t+".properties.deceleration.name",value:this.GQt(),rjt:t=>this.TQt(t)},{name:t+".properties.rotate-speed.name",value:F.Tn(this.IQt()),rjt:t=>this._Qt(F.Mn(t))},{name:t+".properties.enabled.name",value:this.Vvt(),rjt:t=>this.Uvt(t)}]}]}kMt(){return self.EQt}},new WeakMap);self.EQt=class extends Ru{constructor(){super(),A.set(this,Ru.$L().k6())}PQt(t,s,e=!0){Cu.wi(t),Cu.wi(s),A.get(this).$Zt(t,s,!!e)}FQt(){return A.get(this).sQt()}AQt(){return A.get(this).eQt()}kQt(){const t=A.get(this);return[t.sQt(),t.eQt()]}DQt(){return A.get(this).YZt()}OQt(t){return Cu.wi(t),A.get(this).KZt(t)}BQt(t){return Cu.wi(t),A.get(this).ZZt(t)}LQt(t){Cu.wi(t);const s=A.get(this);return[s.KZt(t),s.ZZt(t)]}stop(){A.get(this).tQt()}get NQt(){return A.get(this).QZt()}get speed(){return A.get(this).uQt()}set speed(t){Cu.wi(t),A.get(this).lQt(t)}get WQt(){return A.get(this).fQt()}set WQt(t){Cu.wi(t),A.get(this).cQt(t)}get acceleration(){return A.get(this).MQt()}set acceleration(t){Cu.wi(t),A.get(this).xQt(t)}get UQt(){return A.get(this).GQt()}set UQt(t){Cu.wi(t),A.get(this).TQt(t)}get jQt(){return A.get(this).vQt()}set jQt(t){Cu.wi(t),A.get(this).bQt(t)}get VQt(){return A.get(this).IQt()}set VQt(t){Cu.wi(t),A.get(this)._Qt(t)}get HQt(){return A.get(this).RQt()}set HQt(t){A.get(this).CQt(t)}get isEnabled(){return A.get(this).Vvt()}set isEnabled(t){A.get(this).Uvt(t)}}}{const Eu=self.Ls;Eu.nlt.kZt.x$={zQt(){return this.QZt()},JQt(t,s){return Eu.compare(this.uQt(),t,s)},rc(){return this.Vvt()},gQt(){return!0},yQt(){return!0}}}{const Pu=self.Ls;Pu.nlt.kZt.fnt={qQt(t,s,e){this.$Zt(t,s,0===e)},XQt(t,s,e){if(t){const i=t.Y5(this._e);if(i&&i.UD()){const[r,n]=i._bt(s);this.$Zt(r,n,0===e)}}},$Qt(e){const t=this._e.hlt(Pu.nlt.Pathfinding);if(t){const i=t._GetPath();if(0!==i.length)for(let t=0,s=i.length;t<s;++t){const r=i[t];this.$Zt(r.x,r.y,0===t&&0===e)}}},YQt(t,s,e){const i=Pu.mn(Pu.mZ,t,s);if(i.RZ()){i.PZ(this._e.UD());let s=!0;for(const r of i.EZ())switch(r.IT()){case"line":{const n=r.kb(),h=r.Bb();this.$Zt(n,h,s&&0===e),s=!1;break}case"cubic-bezier":for(let t=0;t<=r.MQ();t++){const o=t*r.TQ(),a=r.Map(o),l=a[0],u=a[1],c=this.KZt(this.YZt()-1),f=this.ZZt(this.YZt()-1);!s&&Pu.fi(c)&&Pu.fi(f)&&Pu.Cn(c,f,l,u)<25||(this.$Zt(l,u,s&&0===e,{rQt:!0,hQt:s,aQt:Math.atan2(u-f,l-c)}),s=!1)}}this.VZt=i}else i.gn()},KQt(t,s,e){const i=this.mf.vtt().TK(t);i&&Pu.nlt.kZt.fnt.YQt.call(this,i,s,e)},UW(){this.tQt()},ZQt(t){this.bQt(Pu.Mn(t))},QQt(t){this.lQt(t)},tts(t){this.cQt(t)},izt(t){this.xQt(t)},sts(t){this.TQt(t)},ets(t){this._Qt(Pu.Mn(t))},its(t){this.CQt(t)},Uxt(t){this.Uvt(t)}}}{const Fu=self.Ls;Fu.nlt.kZt.dnt={rts(){return this.uQt()},nts(){return this.fQt()},hts(){return this.MQt()},ots(){return this.GQt()},ats(){return Fu.Tn(this.vQt())},lts(){return Fu.Tn(this.IQt())},uts(){return this.sQt()},cts(){return this.eQt()},fts(){return this.YZt()},dts(t){return this.KZt(t)},pts(t){return this.ZZt(t)}}}{const Au=self.Ls;Au.nlt.gts=class extends Au.uGt{constructor(t){super(t)}gn(){super.gn()}}}{const ku=self.Ls;ku.nlt.gts.GIt=class extends ku.mGt{constructor(t){super(t)}gn(){super.gn()}AMt(){}}}{const Du=self.Ls;Du.nlt.gts.Instance=class extends Du.yGt{constructor(t,s){super(t),this.yts=null,this.Sts=-1,this.wts="",this.bts=new Set,this.vts=0,this.xts=0,this.Mts=0,this.Tts=0,this.Gts=0,this._ts=0,this.Its=0,this.Cts=0,this.Rts=0,this.Ets=0,this.Pts=!1,s&&(this.Pts=s[0]);const e=this.mf.Xf();this._0=new Du.M0(Du.y0.x0(e,"instancedestroy",t=>this.jqt(t.z6)),Du.y0.x0(e,"afterload",t=>this.KY()))}gn(){this.yts=null,super.gn()}Fts(t){t?(this.yts=t,this.bTt()):(this.yts=null,this.iTt())}Ats(t,s,e){if(t){const i=t.ivt(this._e);if(i){this.wts=s,this.Fts(i);const r=this._e.UD(),n=i.UD();if("properties"===this.wts){const h=this.bts;h.clear();for(const o of e)h.add(o);this.Tts=r.kb()-n.kb(),this.Gts=r.Bb()-n.Bb(),this.Cts=r.SB()-n.SB(),this.Ets=r.SB(),this.Rts=r.Nb()-n.Nb(),h.has("x")&&h.has("y")&&(this.xts=Du.Rn(n.kb(),n.Bb(),r.kb(),r.Bb())-n.SB(),this.vts=Du.In(n.kb(),n.Bb(),r.kb(),r.Bb())),h.has("width-abs")?this._ts=r.Sm()-n.Sm():h.has("width-scale")&&(this._ts=r.Sm()/n.Sm()),h.has("height-abs")?this.Its=r.Rm()-n.Rm():h.has("height-scale")&&(this.Its=r.Rm()/n.Rm())}else this.vts=Du.In(n.kb(),n.Bb(),r.kb(),r.Bb())}}}qb(){const t=this.bts,s=this.wts,e={uid:this.yts&&!this.yts.f8()?this.yts.hN():-1,m:s,d:this.Pts};return"rope"===s||"bar"===s?e.pd=this.vts:"properties"===s&&(e.ps=[...this.bts],t.has("imagepoint")?e.ip=this.Mts:t.has("x")&&t.has("y")?(e.pa=this.xts,e.pd=this.vts):(t.has("x")&&(e.dx=this.Tts),t.has("y")&&(e.dy=this.Gts)),t.has("angle")&&(e.da=this.Cts,e.lka=this.Ets),(t.has("width-abs")||t.has("width-scale"))&&(e.dw=this._ts),(t.has("height-abs")||t.has("height-scale"))&&(e.dh=this.Its),t.has("z"))&&(e.dz=this.Rts),e}Xb(t){const s=t.m,e=this.bts;if(e.clear(),this.Sts=t.uid,"number"==typeof s)this.kts(t);else if(this.wts=s,t.hasOwnProperty("d")&&(this.Pts=!!t.d),"rope"===s||"bar"===s)this.vts=t.pd;else if("properties"===s){for(const i of t.ps)e.add(i);e.has("imagepoint")?this.Mts=t.ip:e.has("x")&&e.has("y")?(this.xts=t.pa,this.vts=t.pd):(e.has("x")&&(this.Tts=t.dx),e.has("y")&&(this.Gts=t.dy)),e.has("angle")&&(this.Cts=t.da,this.Ets=t.lka||0),(e.has("width-abs")||e.has("width-scale"))&&(this._ts=t.dw),(e.has("height-abs")||e.has("height-scale"))&&(this.Its=t.dh),e.has("z")&&(this.Rts=t.dz)}}kts(t){const s=this.bts,e=t.msa,i=t.tsa,r=t.pa,n=t.pd,h=t.m;switch(h){case 0:this.wts="properties",s.add("x").add("y").add("angle"),this.xts=r,this.vts=n,this.Cts=e-i,this.Ets=t.lka;break;case 1:this.wts="properties",s.add("x").add("y"),this.xts=r,this.vts=n;break;case 2:this.wts="properties",s.add("angle"),this.Cts=e-i,this.Ets=t.lka;break;case 3:this.wts="rope",this.vts=t.pd;break;case 4:this.wts="bar",this.vts=t.pd}}KY(){-1===this.Sts?this.Fts(null):(this.Fts(this.mf.OD(this.Sts)),this.Sts=-1)}jqt(t){this.yts===t&&(this.Fts(null),this.Pts)&&this.mf.QL(this._e)}yTt(){const n=this.yts;if(n&&!n.f8()){let e=n.UD(),t=this._e,i=t.UD(),s=this.wts,r=!1;if("rope"===s||"bar"===s){const h=Du.In(i.kb(),i.Bb(),e.kb(),e.Bb());if(h>this.vts||"bar"===s&&h<this.vts){const o=Du.Rn(e.kb(),e.Bb(),i.kb(),i.Bb());i.u4(e.kb()+Math.cos(o)*this.vts,e.Bb()+Math.sin(o)*this.vts),r=!0}}else{let t=this.bts,s=0;if(t.has("imagepoint")){const[a,l]=n._bt(this.Mts);i.Tbt(a,l)||(i.u4(a,l),r=!0)}else if(t.has("x")&&t.has("y")){const u=e.kb()+Math.cos(e.SB()+this.xts)*this.vts,c=e.Bb()+Math.sin(e.SB()+this.xts)*this.vts;i.Tbt(u,c)||(i.u4(u,c),r=!0)}else s=e.kb()+this.Tts,t.has("x")&&s!==i.kb()&&(i.Db(s),r=!0),s=e.Bb()+this.Gts,t.has("y")&&s!==i.Bb()&&(i.Lb(s),r=!0);t.has("angle")&&(this.Ets!==i.SB()&&(this.Cts=Du.xn(this.Cts+(i.SB()-this.Ets))),(s=Du.xn(e.SB()+this.Cts))!==i.SB()&&(i.yB(s),r=!0),this.Ets=i.SB()),t.has("width-abs")&&(s=e.Sm()+this._ts)!==i.Sm()&&(i._m(s),r=!0),t.has("width-scale")&&(s=e.Sm()*this._ts)!==i.Sm()&&(i._m(s),r=!0),t.has("height-abs")&&(s=e.Rm()+this.Its)!==i.Rm()&&(i.wm(s),r=!0),t.has("height-scale")&&(s=e.Rm()*this.Its)!==i.Rm()&&(i.wm(s),r=!0),t.has("z")&&(s=e.Nb()+this.Rts)!==i.Nb()&&(i.Wb(s),this.mf.XD())}r&&i.l4()}}xTt(){const t="behaviors.pin.debugger";return[{title:"$"+this.H6().nf(),properties:[{name:t+".is-pinned",value:!!this.yts},{name:t+".pinned-uid",value:this.yts?this.yts.hN():0}]}]}}}{const Ou=self.Ls;Ou.nlt.gts.x$={Dts(){return!!this.yts},Ots(){return this.Pts}}}{const Bu=self.Ls;Bu.nlt.gts.fnt={Bts(t,s){this.Ats(t,0===s?"rope":"bar")},Lts(t,s,e,i,r,n,h){const o=[];s&&o.push("x"),e&&o.push("y"),i&&o.push("angle"),h&&o.push("z"),1===r?o.push("width-abs"):2===r&&o.push("width-scale"),1===n?o.push("height-abs"):2===n&&o.push("height-scale"),0!==o.length&&this.Ats(t,"properties",o)},Nts(t,s,e,i,r,n){const h=["imagepoint"];e&&h.push("angle"),n&&h.push("z"),1===i?h.push("width-abs"):2===i&&h.push("width-scale"),1===r?h.push("height-abs"):2===r&&h.push("height-scale"),this.Mts=s,this.Ats(t,"properties",h)},Wts(t){"rope"!==this.wts&&"bar"!==this.wts||(this.vts=Math.max(t,0))},Uts(t){this.Pts=t},jts(){this.Fts(null),this.wts="",this.bts.clear(),this.Mts=""},gts(t,s){switch(s){case 0:this.Ats(t,"properties",["x","y","angle"]);break;case 1:this.Ats(t,"properties",["x","y"]);break;case 2:this.Ats(t,"properties",["angle"]);break;case 3:this.Ats(t,"rope");break;case 4:this.Ats(t,"bar")}}}}{const Lu=self.Ls;Lu.nlt.gts.dnt={Vts(){return this.yts?this.yts.hN():-1}}}{const Nu=self.Ls;Nu.nlt.Hts=class extends Nu.uGt{constructor(t){super(t)}gn(){super.gn()}}}{const Wu=self.Ls;Wu.nlt.Hts.GIt=class extends Wu.mGt{constructor(t){super(t)}gn(){super.gn()}AMt(){}}}{const Uu=self.Ls,ju=self.Xs,Vu=self.N6,Hu=2*Math.PI,zu=Math.PI/2,Ju=3*Math.PI/2,qu=[0,1,8,3,4,2,5,6,9,7],Xu=(Uu.nlt.Hts.Instance=class extends Uu.yGt{constructor(t,s){super(t),this.zts=0,this.Jts=0,this.qts=0,this.Xts=0,this.$ts=0,this.Jyt=!0,this.Yts=0,this.Kts=0,this.Zts=0,this.Qts=0,this.tss=0,this.sss=0,this.ySt=0,this.ess=0,this.iss=0,this.rss=0,this.nss=0,s&&(this.Jts=qu[s[0]],this.qts=s[1],this.Qts=this.mf.SD()*s[3],this.Yts=s[2],this.Xts=s[2],this.Xts+=this.Qts,this.Kts=s[4],0!==this.Xts&&(this.tss=this.mf.SD()*s[5],this.zts=s[4]/this.Xts*Hu,this.zts+=this.tss/this.Xts*Hu),this.sss=this.mf.SD()*s[7],this.Zts=s[6],this.$ts=s[6],this.$ts+=this.sss,this.Jyt=!!s[8]),5===this.Jts&&(this.$ts=Uu.Mn(this.$ts)),this.JCt(),this.Jyt&&this.STt()}gn(){super.gn()}qb(){return{i:this.zts,e:this.Jyt,mv:this.Jts,w:this.qts,p:this.Xts,mag:this.$ts,iv:this.ySt,iv2:this.ess,r:this.nss,lkv:this.iss,lkv2:this.rss}}Xb(t){this.zts=t.i,this.Uvt(t.e),this.Jts=t.mv,this.qts=t.w,this.Xts=t.p,this.$ts=t.mag,this.ySt=t.iv,this.ess=t.iv2,this.nss=t.r,this.iss=t.lkv,this.rss=t.lkv2}JCt(){const t=this._e.UD();switch(this.Jts){case 0:this.ySt=t.kb();break;case 1:this.ySt=t.Bb();break;case 2:this.ySt=t.Sm(),this.nss=t.Rm()/t.Sm();break;case 3:this.ySt=t.Sm();break;case 4:this.ySt=t.Rm();break;case 5:this.ySt=t.SB();break;case 6:this.ySt=t.X3();break;case 7:this.ySt=0;break;case 8:this.ySt=t.kb(),this.ess=t.Bb();break;case 9:this.ySt=t.Nb()}this.iss=this.ySt,this.rss=this.ess}hss(t){switch(t%=Hu,this.qts){case 0:return Math.sin(t);case 1:return t<=zu?t/zu:t<=Ju?1-2*(t-zu)/Math.PI:(t-Ju)/zu-1;case 2:return 2*t/Hu-1;case 3:return-2*t/Hu+1;case 4:return t<Math.PI?-1:1}return 0}XK(){const t=this.mf.Hk(this._e);this.Jyt&&0!==t&&(0===this.Xts?this.zts=0:this.zts=(this.zts+t/this.Xts*Hu)%Hu,this.oss())}oss(){const t=this._e.UD();switch(this.Jts){case 0:t.kb()!==this.iss&&(this.ySt+=t.kb()-this.iss),t.Db(this.ySt+this.hss(this.zts)*this.$ts),this.iss=t.kb();break;case 1:t.Bb()!==this.iss&&(this.ySt+=t.Bb()-this.iss),t.Lb(this.ySt+this.hss(this.zts)*this.$ts),this.iss=t.Bb();break;case 2:t._m(this.ySt+this.hss(this.zts)*this.$ts),t.wm(t.Sm()*this.nss);break;case 3:t._m(this.ySt+this.hss(this.zts)*this.$ts);break;case 4:t.wm(this.ySt+this.hss(this.zts)*this.$ts);break;case 5:t.SB()!==this.iss&&(this.ySt=Uu.xn(this.ySt+(t.SB()-this.iss))),t.yB(this.ySt+this.hss(this.zts)*this.$ts),this.iss=t.SB();break;case 6:t.K3(this.ySt+this.hss(this.zts)*this.$ts/100);break;case 8:t.kb()!==this.iss&&(this.ySt+=t.kb()-this.iss),t.Bb()!==this.rss&&(this.ess+=t.Bb()-this.rss),t.Db(this.ySt+Math.cos(t.SB())*this.hss(this.zts)*this.$ts),t.Lb(this.ess+Math.sin(t.SB())*this.hss(this.zts)*this.$ts),this.iss=t.kb(),this.rss=t.Bb();break;case 9:t.Wb(this.ySt+this.hss(this.zts)*this.$ts)}t.l4()}ass(t,s){}lss(t){this.Xts=t}uss(){return this.Xts}css(t){this.$ts=t}fss(t){5===this.Jts&&(t=Uu.Mn(t)),this.css(t)}dss(){return this.$ts}pss(){let t=this.dss();return 5===this.Jts?Uu.Tn(t):t}mss(t){5===this.Jts&&5!==t&&(this.$ts=Uu.Tn(this.$ts)),this.Jts=t,this.JCt()}gss(){return this.Jts}yss(t){this.qts=t}Sss(){return this.qts}wss(t){this.zts=Uu.vn(t,0,2*Math.PI),this.oss()}bss(){return this.zts}Uvt(t){this.Jyt=!!t,this.Jyt?this.STt():this.eTt()}Vvt(){return this.Jyt}Ynt(t){switch(t){case 0:return this.Jts;case 1:return this.qts;case 2:return this.Yts;case 6:return this.Zts;case 8:return this.Jyt}}eht(t,s){switch(t){case 0:this.Jts=qu[s],this.JCt();break;case 1:this.qts=s;break;case 2:this.Yts=s,this.Xts=this.Yts+this.Qts,this.Jyt||(0!==this.Xts?(this.zts=this.Kts/this.Xts*Hu,this.zts+=this.tss/this.Xts*Hu):this.zts=0);break;case 6:this.Zts=s,this.$ts=this.Zts+this.sss,5===this.Jts&&(this.$ts=Uu.Mn(this.$ts));break;case 8:this.Jyt=!!s}}xTt(){const t="behaviors.sin";return[{title:"$"+this.H6().nf(),properties:[{name:t+".properties.enabled.name",value:this.Vvt(),rjt:t=>this.Uvt(t)},{name:t+".properties.period.name",value:this.uss(),rjt:t=>this.lss(t)},{name:t+".properties.magnitude.name",value:this.pss(),rjt:t=>this.fss(t)},{name:t+".debugger.value",value:this.hss(this.bss())*this.pss()}]}]}kMt(){return self.vss}},new WeakMap),$u=["horizontal","vertical","size","width","height","angle","opacity","value-only","forwards-backwards","z-elevation"],Yu=["sine","triangle","sawtooth","reverse-sawtooth","square"];self.vss=class extends Vu{constructor(){super(),Xu.set(this,Vu.$L().k6())}set xss(t){ju.wi(t),Xu.get(this).lss(t)}get xss(){return Xu.get(this).uss()}set Mss(t){ju.wi(t),Xu.get(this).css(t)}get Mss(){return Xu.get(this).dss()}set Tss(t){Xu.get(this).wss(t)}get Tss(){return Xu.get(this).bss()}set Gss(t){ju.Mi(t);const s=$u.indexOf(t);if(-1===s)throw new Error("invalid movement");Xu.get(this).mss(s)}get Gss(){return $u[Xu.get(this).gss()]}set _ss(t){ju.Mi(t);const s=Yu.indexOf(t);if(-1===s)throw new Error("invalid wave");Xu.get(this).yss(s)}get _ss(){return Yu[Xu.get(this).Sss()]}get value(){const t=Xu.get(this);return t.hss(t.bss())*t.dss()}Iss(){Xu.get(this).JCt()}set isEnabled(t){Xu.get(this).Uvt(!!t)}get isEnabled(){return Xu.get(this).Vvt()}}}{const Ku=self.Ls;Ku.nlt.Hts.x$={rc(){return this.Vvt()},Css(t){return this.gss()===t},Rss(t,s){return Ku.compare(this.uss(),t,s)},Ess(t,s){return Ku.compare(this.pss(),t,s)},Pss(t){return this.Sss()===t}}}{const Zu=self.Ls;Zu.nlt.Hts.fnt={Uxt(t){this.Uvt(0!==t)},Fss(t){this.lss(t)},Ass(t){this.fss(t)},kss(t){this.mss(t)},Dss(t){this.qts=t},Oss(t){const s=2*Math.PI;this.wss(t*s%s)},Bss(){this.JCt()}}}{const Qu=self.Ls;Qu.nlt.Hts.dnt={Lss(){return this.bss()/(2*Math.PI)},Nss(){return this.uss()},Wss(){return this.pss()},Uss(){return this.hss(this.bss())*this.pss()}}}{const tc=self.Ls;tc.nlt.jss=class extends tc.uGt{constructor(t){super(t)}gn(){super.gn()}}}{const sc=self.Ls;sc.nlt.jss.GIt=class extends sc.mGt{constructor(t){super(t)}gn(){super.gn()}AMt(){}}}{const ec=self.Ls,ic=self.Xs,rc=self.N6,nc=(ec.nlt.jss.Instance=class extends ec.yGt{constructor(t,s){super(t),this.Vss=0,this.Hss=0,this.zss=0,this.Pts=!0,this.Jss=!0,this.qss=!1,this.Xss=0,this.$ss=ec.mn(ec.R0),this.Yss=this._e.UD().X3()||1,s&&(this.Vss=s[0],this.Hss=s[1],this.zss=s[2],this.Pts=!!s[3],this.Jss=!!s[4],this.Xss=this.Jss?0:3),this.Jss&&(0===this.Vss?(this.Xss=1,0===this.Hss&&(this.Xss=2)):(this._e.UD().K3(0),this.mf.XD())),this.STt()}gn(){super.gn()}qb(){return{fit:this.Vss,wt:this.Hss,fot:this.zss,d:this.Pts,s:this.Xss,st:this.$ss.re(),mo:this.Yss}}Xb(t){this.Vss=t.fit,this.Hss=t.wt,this.zss=t.fot,this.Pts=t.d,this.Xss=t.s,this.$ss.Set(t.st),this.Yss=t.mo,3===this.Xss?this.eTt():this.STt()}XK(){const t=this.mf.Hk(this._e),s=(this.$ss.wc(t),this._e.UD());0===this.Xss&&(s.K3(this.$ss.re()/this.Vss*this.Yss),this.mf.XD(),s.X3()>=this.Yss)&&(s.K3(this.Yss),this.Xss=1,this.$ss.m0(),this.KMt("fadeinend"),this.AN(ec.nlt.jss.x$.Kss)),1===this.Xss&&this.$ss.re()>=this.Hss&&(this.Xss=2,this.$ss.m0(),this.KMt("waitend"),this.AN(ec.nlt.jss.x$.Zss)),2===this.Xss&&(0!==this.zss?(s.K3(this.Yss-this.$ss.re()/this.zss*this.Yss),this.mf.XD(),s.X3()<=0&&(this.Xss=3,this.$ss.m0(),this.KMt("fadeoutend"),this.AN(ec.nlt.jss.x$.Qss),this.Pts)&&this.mf.QL(this._e)):(this.Xss=3,this.$ss.m0())),3===this.Xss&&this.eTt()}tes(){this.Jss||this.qss||(this.Yss=this._e.UD().X3()||1,this.qss=!0),3===this.Xss&&this.IE()}ses(){this.IE()}IE(){this.Xss=0,this.$ss.m0(),0===this.Vss?(this.Xss=1,0===this.Hss&&(this.Xss=2)):(this._e.UD().K3(0),this.mf.XD()),this.STt()}ees(t){this.Vss=Math.max(t,0)}ies(){return this.Vss}res(t){this.Hss=Math.max(t,0)}nes(){return this.Hss}hes(t){this.zss=Math.max(t,0)}oes(){return this.zss}Ynt(t){switch(t){case 0:return this.ies();case 1:return this.nes();case 2:return this.oes();case 3:return this.Pts}}eht(t,s){switch(t){case 0:this.ees(s);break;case 1:this.res(s);break;case 2:this.hes(s);break;case 3:this.Pts=!!s}}xTt(){const t="behaviors.fade";return[{title:"$"+this.H6().nf(),properties:[{name:t+".properties.fade-in-time.name",value:this.ies(),rjt:t=>this.ees(t)},{name:t+".properties.wait-time.name",value:this.nes(),rjt:t=>this.res(t)},{name:t+".properties.fade-out-time.name",value:this.oes(),rjt:t=>this.hes(t)},{name:t+".debugger.stage",value:[t+".debugger."+["fade-in","wait","fade-out","done"][this.Xss]]}]}]}kMt(){return self.aes}},new WeakMap);self.aes=class extends rc{constructor(){super(),nc.set(this,rc.$L().k6())}les(){nc.get(this).tes()}ues(){nc.get(this).ses()}set ces(t){ic.wi(t),nc.get(this).ees(t)}get ces(){return nc.get(this).ies()}set fes(t){ic.wi(t),nc.get(this).res(t)}get fes(){return nc.get(this).nes()}set des(t){ic.wi(t),nc.get(this).hes(t)}get des(){return nc.get(this).oes()}}}{const hc=self.Ls;hc.nlt.jss.x$={Qss(){return!0},Kss(){return!0},Zss(){return!0}}}{const oc=self.Ls;oc.nlt.jss.fnt={pes(){this.tes()},mes(){this.ses()},ges(t){this.ees(t)},yes(t){this.res(t)},Ses(t){this.hes(t)}}}{const ac=self.Ls;ac.nlt.jss.dnt={wes(){return this.ies()},bes(){return this.nes()},ves(){return this.oes()}}}{const lc=self.Ls;lc.nlt.xes=class extends lc.uGt{constructor(t){super(t)}gn(){super.gn()}}}{const uc=self.Ls;uc.nlt.xes.GIt=class extends uc.mGt{constructor(t){super(t)}gn(){super.gn()}AMt(){}}}{const cc=self.Ls,fc=self.Xs,dc=self.N6,pc=(cc.nlt.xes.Instance=class extends cc.yGt{constructor(t,s){super(t);const e=this.UD(),i=(this.f_t=0,this.OZt=0,this.Ko=0,this.Mes=!1,this.NZt=!1,this.Tes=!1,this.Jyt=!0,this.Tts=0,this.Gts=0,this.CKt=e.kb(),this.RKt=e.Bb(),this.Ets=e.SB(),this.Ges=0,this._es=Math.min(Math.abs(e.Sm()),Math.abs(e.Rm())/2),this.Ies=!1,s&&(this.f_t=s[0],this.OZt=s[1],this.Ko=s[2],this.Mes=!!s[3],this.NZt=!!s[4],this.Tes=!!s[5],this.Jyt=!!s[6]),e.SB());this.Tts=Math.cos(i)*this.f_t,this.Gts=Math.sin(i)*this.f_t,this.Jyt&&(this.STt(),this.Mes)&&this.MGt()}gn(){super.gn()}qb(){const t={dx:this.Tts,dy:this.Gts,lx:this.CKt,ly:this.RKt,lka:this.Ets,t:this.Ges};return 0!==this.OZt&&(t.acc=this.OZt),0!==this.Ko&&(t.g=this.Ko),this.Tes&&(t.st=this.Tes),this.Jyt||(t.e=this.Jyt),this.Mes&&(t.bos=this.Mes),this.NZt&&(t.sa=this.NZt),t}Xb(t){this.Tts=t.dx,this.Gts=t.dy,this.CKt=t.lx,this.RKt=t.ly,this.Ets=t.lka,this.Ges=t.t,this.OZt=t.hasOwnProperty("acc")?t.acc:0,this.Ko=t.hasOwnProperty("g")?t.g:0,this.Tes=!!t.hasOwnProperty("st")&&t.st,this.Mes=!!t.hasOwnProperty("bos")&&t.bos,this.NZt=!!t.hasOwnProperty("sa")&&t.sa,this.Uvt(!t.hasOwnProperty("e")||t.e)}XK(){if(this.Jyt){const r=this.mf.Hk(this._e),n=this._e.UD();if(n.SB()!==this.Ets){const t=n.SB();if(this.NZt){const s=cc.In(0,0,this.Tts,this.Gts);this.Tts=Math.cos(t)*s,this.Gts=Math.sin(t)*s}this.Ets=t}let e=0,i=0;if(0!==this.OZt){let t=cc.In(0,0,this.Tts,this.Gts),s;s=0===this.Tts&&0===this.Gts?n.SB():cc.Rn(0,0,this.Tts,this.Gts),t+=this.OZt*r,e=Math.cos(s)*this.OZt,i=Math.sin(s)*this.OZt,t<0&&(t=0,e=0,i=0),this.Tts=Math.cos(s)*t,this.Gts=Math.sin(s)*t}if(0!==this.Ko&&(this.Gts+=this.Ko*r,i+=this.Ko),this.CKt=n.kb(),this.RKt=n.Bb(),0!==this.Tts||0!==this.Gts){const h=this.Tts*r+.5*e*r*r,o=this.Gts*r+.5*i*r*r,a=cc.In(0,0,h,o);if(this.Ces(h,o,a),this.Ges+=a,this.NZt&&(0!=h||0!=o)){const l=cc.Rn(0,0,h,o);n.yB(l),this.Ets=n.SB()}n.l4()}}}Ces(t,s,e){const i=this.UD();if(!this.Tes||e<=this._es)i.d4(t,s),i.l4(),this.Tes&&this.AN(cc.nlt.xes.x$.Res);else{this.Ies=!1;const r=i.kb(),n=i.Bb(),h=r+t,o=n+s,a=cc.Rn(0,0,t,s),l=Math.cos(a)*this._es,u=Math.sin(a)*this._es,c=Math.floor(e/this._es);for(let t=1;t<=c;++t)if(i.u4(r+l*t,n+u*t),i.l4(),this.AN(cc.nlt.xes.x$.Res),this._e.f8()||this.Ies)return;i.u4(h,o),i.l4(),this.AN(cc.nlt.xes.x$.Res)}}xGt(){if(this.Jyt&&this.Mes&&(0!==this.Tts||0!==this.Gts)){const t=this.mf.Hk(this._e),s=this._e.UD(),e=this.mf.XA(),i=e.PO(this._e);if(i){e.fFt(this._e,i);const r=cc.In(0,0,this.Tts,this.Gts),n=e.EFt(this._e,this.CKt,this.RKt);this.Tts=Math.cos(n)*r,this.Gts=Math.sin(n)*r,s.d4(this.Tts*t,this.Gts*t),s.l4(),this.NZt&&(s.yB(n),this.Ets=s.SB(),s.l4()),e._Ft(this._e,this.Tts/r,this.Gts/r,Math.max(2.5*r*t,30))||e.RFt(this._e,100)}}}Ynt(t){switch(t){case 0:return this.uQt();case 1:return this.MQt();case 2:return this.Ees();case 4:return this.NZt;case 5:return this.Tes;case 6:return this.Vvt()}}eht(t,s){switch(t){case 0:this.lQt(s);break;case 1:this.OZt=s;break;case 2:this.Ko=s;break;case 4:this.NZt=!!s;break;case 5:this.Tes=!!s;break;case 6:this.Uvt(!!s)}}lQt(t){const s=cc.Rn(0,0,this.Tts,this.Gts);this.Tts=Math.cos(s)*t,this.Gts=Math.sin(s)*t}uQt(){return cc.Jn(cc.In(0,0,this.Tts,this.Gts),6)}xQt(t){this.OZt=t}MQt(){return this.OZt}Pes(t){this.Ko=t}Ees(){return this.Ko}bQt(t){const s=cc.In(0,0,this.Tts,this.Gts);this.Tts=Math.cos(t)*s,this.Gts=Math.sin(t)*s}vQt(){return cc.Rn(0,0,this.Tts,this.Gts)}Fes(t){this.Mes!==(t=!!t)&&(this.Mes=t,this.Jyt)&&(this.Mes?this.MGt():this.wGt())}Aes(){return this.Mes}kes(t){this.Ges=t}Des(){return this.Ges}Uvt(t){this.Jyt=!!t,this.Jyt?(this.STt(),this.Mes&&this.MGt()):(this.eTt(),this.wGt())}Vvt(){return this.Jyt}xTt(){const t="behaviors.bullet";return[{title:"$"+this.H6().nf(),properties:[{name:t+".debugger.vector-x",value:this.Tts,rjt:t=>this.Tts=t},{name:t+".debugger.vector-y",value:this.Gts,rjt:t=>this.Gts=t},{name:t+".properties.speed.name",value:this.uQt(),rjt:t=>this.lQt(t)},{name:t+".debugger.angle-of-motion",value:cc.Tn(this.vQt())},{name:t+".properties.gravity.name",value:this.Ees(),rjt:t=>this.Pes(t)},{name:t+".properties.acceleration.name",value:this.MQt(),rjt:t=>this.xQt(t)},{name:t+".debugger.distance-travelled",value:this.Des()},{name:t+".properties.enabled.name",value:this.Vvt(),rjt:t=>this.Uvt(t)}]}]}kMt(){return self.Oes}},new WeakMap);self.Oes=class extends dc{constructor(){super(),pc.set(this,dc.$L().k6())}get speed(){return pc.get(this).uQt()}set speed(t){fc.wi(t),pc.get(this).lQt(t)}get acceleration(){return pc.get(this).MQt()}set acceleration(t){fc.wi(t),pc.get(this).xQt(t)}get d9t(){return pc.get(this).Ees()}set d9t(t){fc.wi(t),pc.get(this).Pes(t)}get jQt(){return pc.get(this).vQt()}set jQt(t){fc.wi(t),pc.get(this).bQt(t)}get Bes(){return pc.get(this).Aes()}set Bes(t){pc.get(this).Fes(!!t)}get Les(){return pc.get(this).Des()}set Les(t){fc.wi(t),pc.get(this).kes(t)}get isEnabled(){return pc.get(this).Vvt()}set isEnabled(t){pc.get(this).Uvt(t)}}}{const mc=self.Ls;mc.nlt.xes.x$={JQt(t,s){const e=Math.hypot(this.Tts,this.Gts);return mc.compare(e,t,s)},Nes(t,s){return mc.compare(this.Des(),t,s)},Res(){return!0},rc(){return this.Vvt()}}}{const gc=self.Ls;gc.nlt.xes.fnt={QQt(t){this.lQt(t)},izt(t){this.xQt(t)},rzt(t){this.Pes(t)},Wes(t){this.bQt(gc.Mn(t))},kF(t){if(t){const s=t.ivt(this._e);if(s){const e=this._e.UD(),i=this.mf.XA(),r=this.mf.Hk(this._e),n=gc.In(0,0,this.Tts,this.Gts),h=i.EFt(this._e,this.CKt,this.RKt,s);this.Tts=Math.cos(h)*n,this.Gts=Math.sin(h)*n,e.d4(this.Tts*r,this.Gts*r),e.l4(),this.NZt&&(e.yB(h),this.Ets=e.SB(),e.l4()),0!==n&&(this.Mes?i._Ft(this._e,this.Tts/n,this.Gts/n,Math.max(2.5*n*r,30))||i.RFt(this._e,100):i.GFt(this._e,this.Tts/n,this.Gts/n,Math.max(2.5*n*r,30),s))}}},Ues(t){this.Fes(t)},jes(t){this.kes(t)},Uxt(t){this.Uvt(t)},Ves(){this.Ies=!0}}}{const yc=self.Ls;yc.nlt.xes.dnt={rts(){return this.uQt()},hts(){return this.MQt()},Hes(){return yc.Tn(this.vQt())},zes(){return this.Des()},H9t(){return this.Ees()}}}{const Sc=self.Ls;Sc.nlt.wrap=class extends Sc.uGt{constructor(t){super(t)}gn(){super.gn()}}}{const wc=self.Ls;wc.nlt.wrap.GIt=class extends wc.mGt{constructor(t){super(t)}gn(){super.gn()}AMt(){}}}{const bc=self.Ls,vc=new bc.Rect;bc.nlt.wrap.Instance=class extends bc.yGt{constructor(t,s){super(t),this.wts=0,s&&(this.wts=s[0]),this.STt()}gn(){super.gn()}qb(){return{m:this.wts}}Xb(t){this.wts=t.m}XK(){const t=this._e.UD(),s=t.jD(),e=s.MD(),i=t.S4();0===this.wts?vc.set(0,0,e.Sm(),e.Rm()):vc.I(s.PL());let r=!1;i.Pl()<vc.Rl()?(t.Db(vc.Pl()-1+(t.kb()-i.Rl())),t.l4(),r=!0):i.Rl()>vc.Pl()?(t.Db(vc.Rl()+1-(i.Pl()-t.kb())),t.l4(),r=!0):i.Fl()<vc.El()?(t.Lb(vc.Fl()-1+(t.Bb()-i.El())),t.l4(),r=!0):i.El()>vc.Fl()&&(t.Lb(vc.El()+1-(i.Fl()-t.Bb())),t.l4(),r=!0),r&&this.AN(bc.nlt.wrap.x$.Jes)}Ynt(t){if(0===t)return this.wts}eht(t,s){0===t&&(this.wts=s)}}}{const xc=self.Ls;xc.nlt.wrap.x$={Jes(){return!0}}}{const Mc=self.Ls;Mc.nlt.wrap.fnt={}}{const Tc=self.Ls;Tc.nlt.wrap.dnt={}}{const Gc=self.Ls;Gc.nlt.qes=class extends Gc.uGt{constructor(t){super(t)}gn(){super.gn()}}}{const _c=self.Ls;_c.nlt.qes.GIt=class extends _c.mGt{constructor(t){super(t)}gn(){super.gn()}AMt(){}}}{const Ic=self.Ls,Cc=self.Xs,Rc=self.N6,Ec=(Ic.nlt.qes.Instance=class extends Ic.yGt{constructor(t,s){super(t),this.f_t=0,this.pJt=0,this.Jyt=!0,s&&(this.f_t=Ic.Mn(s[0]),this.pJt=Ic.Mn(s[1]),this.Jyt=s[2]),this.Jyt&&this.STt()}gn(){super.gn()}lQt(t){this.f_t=t}uQt(){return this.f_t}xQt(t){this.pJt=t}MQt(){return this.pJt}qb(){return{s:this.f_t,a:this.pJt,e:this.Jyt}}Xb(t){this.f_t=t.s,this.pJt=t.a,this.Uvt(t.e)}XK(){if(this.Jyt){const t=this.mf.Hk(this._e);if(0!==t&&(0!==this.pJt&&(this.f_t+=this.pJt*t),0!==this.f_t)){const s=this._e.UD();s.yB(s.SB()+this.f_t*t),s.l4()}}}Ynt(t){switch(t){case 0:return Ic.Tn(this.uQt());case 1:return Ic.Tn(this.MQt());case 2:return this.Vvt()}}eht(t,s){switch(t){case 0:this.lQt(Ic.Mn(s));break;case 1:this.xQt(Ic.Mn(s));break;case 2:this.Uvt(s)}}Uvt(t){this.Jyt=!!t,this.Jyt?this.STt():this.eTt()}Vvt(){return this.Jyt}xTt(){const t="behaviors.rotate";return[{title:"$"+this.H6().nf(),properties:[{name:t+".properties.speed.name",value:Ic.Tn(this.uQt()),rjt:t=>this.lQt(Ic.Mn(t))},{name:t+".properties.acceleration.name",value:Ic.Tn(this.MQt()),rjt:t=>this.xQt(Ic.Mn(t))},{name:t+".properties.enabled.name",value:this.Vvt(),rjt:t=>this.Uvt(t)}]}]}kMt(){return self.Xes}},new WeakMap);self.Xes=class extends Rc{constructor(){super(),Ec.set(this,Rc.$L().k6())}set speed(t){Cc.wi(t),Ec.get(this).lQt(t)}get speed(){return Ec.get(this).uQt()}set acceleration(t){Cc.wi(t),Ec.get(this).xQt(t)}get acceleration(){return Ec.get(this).MQt()}get isEnabled(){return Ec.get(this).Vvt()}set isEnabled(t){Ec.get(this).Uvt(t)}}}{const Pc=self.Ls;Pc.nlt.qes.x$={rc(){return this.Vvt()}}}{const Fc=self.Ls;Fc.nlt.qes.fnt={QQt(t){this.lQt(Fc.Mn(t))},izt(t){this.xQt(Fc.Mn(t))},Uxt(t){this.Uvt(t)}}}{const Ac=self.Ls;Ac.nlt.qes.dnt={rts(){return Ac.Tn(this.uQt())},hts(){return Ac.Tn(this.MQt())}}}{let e=function(t,s){return"number"==typeof t&&"number"==typeof s},h=function(t,s){return e(t,s)?t+s:t},o=function(t,s){return e(t,s)?t-s:t},a=function(t,s){return e(t,s)?t*s:t},l=function(t,s){return e(t,s)?t/s:t};e,h,o,a,l,0;const kc=self.Ls;self.hwt=[t=>{const s=t.gwt(0).OSt();return()=>s()},()=>"layoutWaterfall",()=>0,t=>{const s=t.gwt(0);return()=>s.jSt()},()=>3,t=>{const s=t.gwt(0).OSt();return()=>s(1,2,3,4)},()=>1,()=>2,t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt(e.JSt())},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>20+kc.In(s.jSt(),e.jSt(),i.jSt(),r.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2).OSt(),r=t.gwt(3),n=t.gwt(4).OSt();return()=>(s.jSt()/(2*e())+(2*i()-r.jSt())/(2*n()))/2},()=>7,t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt();return()=>s(e(360))},t=>{const s=t.gwt(0);return()=>2*-s.jSt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2).OSt();return()=>s(e(i()))},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2).OSt();return()=>s(e(2*i()))},t=>{const s=t.gwt(0);return()=>0-Math.abs(s.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2).OSt(),r=t.gwt(3),n=t.gwt(4).OSt(),h=t.gwt(5).OSt(),o=t.gwt(6),a=t.gwt(7).OSt();return()=>(s.jSt()/(2*e())+(2*i()-r.jSt())/(2*n())+(2*h()-o.jSt())/(2*a()))/3},t=>{const s=t.gwt(0).OSt();return()=>1.5*s()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2).OSt(),r=t.gwt(3).OSt();return()=>s()+e(i(r()))},()=>"layoutScreenStart",()=>1.85,()=>1.75,t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2).OSt();return()=>h(s(),a(e(),i(-.5,.5)))},()=>.85,()=>.75,t=>{const s=t.gwt(0).OSt();return()=>2*s()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt();return()=>s()+.5*e()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2);return()=>s(e(i.jSt()))},()=>5,()=>"bgLeaves02",t=>{const s=t.gwt(0).OSt();return()=>3*s()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2).OSt();return()=>s()+e(i())},()=>"bgLeaves03",()=>"fg",()=>"layoutTrack01",()=>9,t=>{const s=t.gwt(0).OSt();return()=>s(75,80,85,90,95,100,100,100)},t=>{const s=t.gwt(0);return()=>2.5*s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>s.jSt()*(e.jSt()/i.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>h(.5*s.jSt(),e(30,40,50))},t=>{const s=t.gwt(0);return()=>1.0005*s.jSt()},t=>{const s=t.gwt(0);return()=>.05*-s.jSt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>.125*(s()-e.jSt())},()=>"closeups",t=>{const s=t.gwt(0).OSt();return()=>s(70,75,80,85,90,95,100,100)},()=>"crowdFG",t=>{const s=t.gwt(0).OSt();return()=>.25*s()},t=>{const s=t.gwt(0).OSt();return()=>1.25*s()},t=>{const s=t.gwt(0);return()=>s.jSt()/2},()=>"objects",t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt(),r=t.gwt(3),n=t.gwt(4).OSt();return()=>kc.In(s.jSt(),e.jSt(),3*i(),r.jSt())/(3*n())},t=>{const s=t.gwt(0);return()=>s.JSt()},t=>{const s=t.gwt(0);return()=>.95*s.JSt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>2*s()+4*e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()+.0175*e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>(s.jSt(1)+e.jSt())/2-.0175*i.jSt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>8*s()+Math.abs(e.jSt())},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>s()+e.jSt()},t=>{const s=t.gwt(0).OSt();return()=>10*-s()},t=>{const s=t.gwt(0);return()=>.5*s.jSt()},t=>{const s=t.gwt(0);return()=>s.jSt()+180},()=>200,t=>{const s=t.gwt(0);return()=>.45*s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>.125*s.jSt()+.05*e.jSt()},()=>175,t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>(s.jSt()+e.jSt())/2-.05*i.jSt()},t=>{const s=t.gwt(0);return()=>100-.02*s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>.0125*s.jSt()-Math.sqrt(.05*(e.jSt()+i.jSt()))},t=>{const s=t.gwt(0).nwt();return()=>s.Lit()},t=>{const s=t.gwt(0).OSt();return()=>2*-s()},t=>{const s=t.gwt(0).OSt();return()=>-s()},()=>"",()=>4,t=>{const s=t.gwt(0);return()=>s.jSt(1)-20},t=>{const s=t.gwt(0);return()=>1.1025*(s.jSt(1)-130)},t=>{const s=t.gwt(0);return()=>.9275*s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4);return()=>.35*s.twt()+.125*kc.In(e.jSt(),i.jSt(),r.jSt(),n.jSt())},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1),i=t.gwt(2);return()=>2*s()+e.jSt()+i.jSt()},()=>1800,()=>100,()=>"bg",()=>"cats",t=>{const s=t.gwt(0);return()=>2*(0-s.jSt())},()=>1.225,t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>a(0-s.jSt(),e(1.5,1.75,2,2.25))},()=>140,()=>.8,()=>30,t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>s()-e.jSt()},()=>.1,t=>{const s=t.gwt(0).OSt();return()=>s(0,1,2,3)},t=>{const s=t.gwt(0).OSt();return()=>s()+400},()=>50,t=>{const s=t.gwt(0).OSt(),e=t.gwt(1),i=t.gwt(2).OSt();return()=>s()-.25*Math.abs(e.jSt()-i())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4).OSt();return()=>s.jSt()/e()*i.jSt()*1-.09*(r.jSt()-n())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4).OSt();return()=>s.jSt()/e()*i.jSt()*1+(r.jSt()-n())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4).OSt();return()=>s.jSt()/e()*i.jSt()+7*Math.abs(r.jSt()-n())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2);return()=>s.jSt()/e()*i.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2);return()=>s.jSt()/e()*i.jSt()*.9},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>(s.jSt(2)+e.jSt(2))/2},t=>{const s=t.gwt(0);return()=>s.jSt(2)},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2);return()=>s.jSt()/e()*i.jSt()*.825},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>(s.jSt(3)+e.jSt(1))/2},t=>{const s=t.gwt(0);return()=>s.jSt(3)},t=>{const s=t.gwt(0);return()=>s.jSt(1)},t=>{const s=t.gwt(0);return()=>s.jSt(5)},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>Math.abs(s.jSt()-e())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>.1*Math.abs(s.jSt()-e())},()=>8,t=>{const s=t.gwt(0);return()=>s.jSt()+1},()=>-20,t=>{const s=t.gwt(0);return()=>100-4*s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt();return()=>1.25*s.jSt()-.5*Math.abs(e.jSt()-i())},()=>128,()=>40,t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>a(0-s.jSt(),e(2,2.25,2.5,2.75,3))},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>2*s()+e.jSt()},t=>{const s=t.gwt(0);return()=>1.25*-s.jSt()},t=>{const s=t.gwt(0).OSt();return()=>s(1,2,3)},t=>{const s=t.gwt(0).OSt();return()=>s(0,2,3)},t=>{const s=t.gwt(0).OSt();return()=>s(1,2,0)},()=>10,t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4);return()=>o(0,h(h(s(),a(a(e(-.6,.6),i.jSt()),r.JSt())),8*n.jSt()))},t=>{const s=t.gwt(0).OSt();return()=>3*s()},t=>{const s=t.gwt(0);return()=>s.jSt(7)},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4);return()=>s.jSt()/e.jSt()*i.jSt()*1.2+r.jSt()/n.jSt()*200},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1),i=t.gwt(2).OSt(),r=t.gwt(3),n=t.gwt(4);return()=>s(Math.sqrt(e.jSt()))+i(r.jSt()/3)+Math.pow(n.jSt(),1.5)},()=>"couple",t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2).OSt(),r=t.gwt(3).OSt();return()=>s()+e(i(r()))-200},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2).OSt();return()=>s()+e(i(-10,10))},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2).OSt(),r=t.gwt(3).OSt();return()=>.5*s()+e(i(1.5*r()))},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()-e.jSt()},t=>{const s=t.gwt(0);return()=>.3*s.jSt()},()=>6,t=>{const s=t.gwt(0).OSt();return()=>s(2,3,4)},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2).OSt(),r=t.gwt(3).OSt();return()=>s.jSt(2)+e(i(r()))-200},t=>{const s=t.gwt(0);return()=>.15*s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>.5*(s.jSt()-e.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>.15*(s.jSt()-e.jSt())},()=>45,t=>{const s=t.gwt(0);return()=>1.001*s.jSt()},t=>{const s=t.gwt(0);return()=>.995*s.jSt()},t=>{const s=t.gwt(0);return()=>.975*s.jSt()},t=>{const s=t.gwt(0);return()=>2*s.jSt()},t=>{const s=t.gwt(0);return()=>3*s.jSt()},()=>"windowLook01",()=>620,()=>"windowRest01",()=>660,()=>"stare",()=>.5,t=>{const s=t.gwt(0).OSt();return()=>h(50,s(-5,-3,-1,0,1,3,5))},t=>{const s=t.gwt(0).OSt();return()=>h(80,s(-8,-1,0,5,10,15))},t=>{const s=t.gwt(0).OSt();return()=>s(0,1)},()=>"setupMobile",t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>.125*Math.abs(s.jSt()-2*e())},()=>.875,()=>1.04,t=>{const s=t.gwt(0);return()=>1.75*-s.jSt()},t=>{const s=t.gwt(0).OSt();return()=>s()+320},()=>"FGWalkway",()=>.25,t=>{const s=t.gwt(0),e=t.gwt(1);return()=>.001*(s.jSt()+e.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>5e-4*(s.jSt()+e.jSt())},()=>"abeAnimations",t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()*(.815+1e-4*e.jSt(2))},t=>{const s=t.gwt(0);return()=>1990*(.825+1e-4*s.jSt(2))},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>2*Math.sqrt(s.jSt()-e.jSt(2))},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()*(.8+125e-6*e.jSt(2))},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>(s.jSt(2)+2*e())/2},t=>{const s=t.gwt(0);return()=>1.25*s.jSt()},()=>32,t=>{const s=t.gwt(0);return()=>s.jSt()+16},t=>{const s=t.gwt(0);return()=>.01*s.jSt()},t=>{const s=t.gwt(0);return()=>.1*Math.sqrt(s.jSt())},t=>{const s=t.gwt(0);return()=>-s.jSt()},t=>{const s=t.gwt(0).OSt();return()=>.65*s()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>2*s()-e.jSt()},()=>"Credits",t=>{const s=t.gwt(0).OSt();return()=>.125*s()},t=>{const s=t.gwt(0).OSt();return()=>.85*s()},()=>15,()=>"bgLeaves01",()=>"UI",t=>{const s=t.gwt(0).OSt();return()=>2.25*s()},t=>{const s=t.gwt(0).OSt();return()=>2.45*s()},t=>{const s=t.gwt(0).OSt();return()=>2*s()+10},()=>20,t=>{const s=t.gwt(0).OSt();return()=>2*s()+5},t=>{const s=t.gwt(0);return()=>Math.abs(s.jSt())},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>s()*(2.25+.02*e.twt())},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>s()*(2.45-.005*e.twt())},()=>60,()=>75,()=>"BG01",()=>"bd",t=>{const s=t.gwt(0).OSt();return()=>.5*-s()},()=>"Cabbie & Trunk",t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>2*s()+.5*e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>kc.In(s.jSt(),e.jSt(),i.jSt(1),r.jSt(1))+100},t=>{const s=t.gwt(0);return()=>.97*s.jSt()},t=>{const s=t.gwt(0);return()=>1.125*s.jSt()},t=>{const s=t.gwt(0);return()=>1.1*s.jSt()},()=>80,t=>{const s=t.gwt(0).OSt();return()=>.5*s()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt(1)-e.jSt()},()=>1.1,()=>"invis",t=>{const s=t.gwt(0);return()=>.5*-s.jSt()},()=>-200,t=>{const s=t.gwt(0);return()=>s.jSt(1)+32},t=>{const s=t.gwt(0);return()=>s.jSt(4)-200},t=>{const s=t.gwt(0);return()=>s.jSt(4)},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4);return()=>(s.jSt()+kc.In(e.jSt(),i.jSt(),r.jSt(),n.jSt()))/2},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>100+kc.In(s.jSt(),e.jSt(),i.jSt(),r.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>s.jSt(e(1,2,3,4))},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>kc.In(s.jSt(),e.jSt(),i.jSt(),r.jSt())},()=>1.5,t=>{const s=t.gwt(0).OSt();return()=>10*s()},t=>{const s=t.gwt(0);return()=>1.0125*s.jSt()},t=>{const s=t.gwt(0);return()=>.95*s.jSt()},t=>{const s=t.gwt(0);return()=>1.0001*s.jSt()},t=>{const s=t.gwt(0);return()=>1.025*s.jSt()},t=>{const s=t.gwt(0);return()=>.9*s.jSt()},t=>{const s=t.gwt(0).OSt();return()=>s(65,75,85,100)},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>.4+5e-4*(120-s.jSt())+5e-4*e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()/e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>.275*s.jSt()+.1*e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()+e.jSt()},t=>{const s=t.gwt(0);return()=>1.1-s.jSt()/1e4},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>kc.In(s.jSt(),e.jSt(),i.jSt(3),r.jSt(3))+150},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>s.jSt()/e.jSt()*i.jSt()},t=>{const s=t.gwt(0);return()=>s.jSt()+32},t=>{const s=t.gwt(0);return()=>.25*s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>Math.abs(s.jSt()-e.jSt(1))/2},()=>"ui",t=>{const s=t.gwt(0).OSt();return()=>s()-98},()=>98,()=>-720498969868287,()=>"Arial",t=>{const s=t.gwt(0).OSt();return()=>s("Credits")},()=>" ",()=>.9,()=>"<<BACK",t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2).nwt();return()=>2*s()/(e("Credits")/i.Lit())*.5},()=>1.01,()=>"CAST\n(in order of appearance)",()=>1.02,()=>"CAROL . . . . . . . . Miss Carole",()=>1.03,()=>"FREDDIE . . . . . . . . Fredrick Potato No",()=>"PLAYLIST PASSENGER . . . . . . . . Dubious Longfall",()=>1.05,()=>"DEBOARDING PASSENGER . . . . . . . . Mao Lemieux",()=>1.06,()=>"READING TRAVELER . . . . . . . . Sweet Jane",()=>1.07,()=>"MOBILE WATCHER . . . . . . . . Somnius",()=>1.08,()=>"PERAMBULATING TRAVELER . . . . . . . . Abecat",()=>1.09,()=>"TAXI DRIVER . . . . . . . . Stanley Trouble Griepenburg",()=>"AGENT . . . . . . . . ",t=>{const s=t.gwt(0).nwt();return()=>s.Lit()+10},()=>1.11,()=>"TRAITOR . . . . . . . . ",t=>{const s=t.gwt(0).nwt();return()=>s.Lit()+8},()=>1.12,()=>"©2025 Chris Goodwin",()=>"EXTRAS . . . . . . . . ",t=>{const s=t.gwt(0);return()=>1+.01*s.jSt()},()=>64,t=>{const s=t.gwt(0);return()=>s.JSt()+.01},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>(s.jSt()-.25*e())/2},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>(1.5*s()-e.jSt())/2},t=>{const s=t.gwt(0).OSt();return()=>2*s()/4},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>(s.jSt()+2*e())/2},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>(s.jSt()+e())/2},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>100-.5*Math.abs(s.jSt()-e.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>(s.jSt()+e.jSt())/2},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>kc.In(s.jSt(),e.jSt(),i.jSt(1),r.jSt(1))/2},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4);return()=>.95*(s.jSt(1)+kc.In(e.jSt(),i.jSt(),r.jSt(),n.jSt()))},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>.4+.001*(s()-e.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>150-Math.abs((s.jSt()+e.jSt(1))/2-i.jSt(1))},()=>85,t=>{const s=t.gwt(0).OSt();return()=>1.85*s()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt(1)-.55*e.jSt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1),i=t.gwt(2).OSt();return()=>(s()-e.jSt())/i()*1.5},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>2*kc.In(s.jSt(),e.jSt(),i.jSt(),r.jSt())},t=>{const s=t.gwt(0);return()=>s.twt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt(1)-.85*e.jSt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1),i=t.gwt(2).OSt();return()=>.65*Math.abs((s()-e.jSt())/i())},t=>{const s=t.gwt(0).OSt();return()=>3.25*s()},t=>{const s=t.gwt(0);return()=>s.jSt(1)-200},t=>{const s=t.gwt(0);return()=>1.2*s.jSt()},t=>{const s=t.gwt(0);return()=>.999*s.jSt()},()=>13,t=>{const s=t.gwt(0).OSt();return()=>s(0,1,2)},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt();return()=>h(s(),e(-3,-2,-1,0,0,1,2,3))},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt();return()=>h(s(),e(-7,-5,-3,3,5,7))},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt();return()=>s(e(-10,10))},t=>{const s=t.gwt(0).OSt();return()=>s(55,60,65,75)},()=>4236,()=>670,()=>4269,()=>2168,t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>.5*Math.abs(s.jSt()-(e.jSt(11)-i.jSt()))},()=>1.4,()=>1.25,()=>1.35,()=>.95,()=>.825,t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt(),r=t.gwt(3).OSt();return()=>3*kc.In(s.jSt(),e.jSt(),i(),r())},()=>"AdjustHSL",t=>{const s=t.gwt(0).OSt();return()=>.25*-s()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()+e.jSt()/2},()=>11,t=>{const s=t.gwt(0).OSt();return()=>2.5*s()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt();return()=>(s.jSt(1)/2+e.jSt()+i())/2},t=>{const s=t.gwt(0);return()=>s.jSt(13)},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>2*s()+e.jSt()+10},t=>{const s=t.gwt(0).OSt();return()=>.25*s()+400},t=>{const s=t.gwt(0).OSt();return()=>2*s()-200},t=>{const s=t.gwt(0).OSt();return()=>+s()+300},t=>{const s=t.gwt(0).OSt();return()=>1.5*s()+300},t=>{const s=t.gwt(0).OSt();return()=>1.85*s()+300},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt(),i=t.gwt(2);return()=>s(e(1,i.jSt()))},()=>"crowdBG",()=>350,t=>{const s=t.gwt(0),e=t.gwt(1);return()=>100+.25*Math.abs(s.jSt()-e.jSt())},t=>{const s=t.gwt(0).OSt();return()=>.3*s()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt();return()=>s.jSt(1)+5e-5*Math.pow(e.jSt()-.25*i(),2)},()=>14,t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt(12)-e.jSt()},t=>{const s=t.gwt(0);return()=>s.jSt(11)},()=>800,t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2);return()=>Math.abs(s.jSt()-(2*e()+i.jSt()))/2},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt(1)+e.twt()-100},t=>{const s=t.gwt(0);return()=>s.jSt()-800},()=>70,()=>.4,t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>(s.jSt()+e.jSt(1))/2+i.twt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1),i=t.gwt(2);return()=>(s()+e.jSt()+i.jSt())/3},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4),h=t.gwt(5);return()=>(3*s.jSt(13)+(e.jSt()+i.jSt())/2/Math.sqrt(Math.abs(r.jSt()-(n.jSt()+h.jSt())/2)))/2.75},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>(s()+e.jSt()+i.jSt())/3+r.twt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt(12)+.5*e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>Math.abs(s.jSt(12)+.5*e.jSt()-i.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt(1)+e.twt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>6.5*Math.sqrt(s.jSt()-e.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt(),i=t.gwt(2);return()=>3*Math.sqrt(s.jSt()-.25*e())+.1*i.jSt()},t=>{const s=t.gwt(0);return()=>.85*s.jSt()},t=>{const s=t.gwt(0);return()=>s.jSt(1)/2},()=>.3,t=>{const s=t.gwt(0);return()=>1e3+s.jSt()},()=>"rearClaw",t=>{const s=t.gwt(0);return()=>s.XSt()},t=>{const s=t.gwt(0);return()=>+s.JSt()},t=>{const s=t.gwt(0);return()=>.8*s.JSt()},t=>{const s=t.gwt(0);return()=>.85*s.JSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>(s.jSt()+e.jSt())/2+20*i.twt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>(s()+e.jSt(1))/3},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>2*s()-200-e.jSt()/2},t=>{const s=t.gwt(0);return()=>s.jSt()-100},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1),i=t.gwt(2);return()=>.75*(s()-2*(e.jSt(1)-i.jSt()))},t=>{const s=t.gwt(0);return()=>s.jSt(1)-800},()=>8e3,t=>{const s=t.gwt(0);return()=>1.025*s.jSt(2)},()=>6e3,t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt();return()=>(s.jSt(1)+e.jSt()+2*i())/3},t=>{const s=t.gwt(0);return()=>s.jSt()+1200},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>s.jSt()+(e.jSt()+i.jSt())/2},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>kc.In(s.jSt(),e.jSt(),i.jSt(1),r.jSt(1))},t=>{const s=t.gwt(0);return()=>45-s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3),n=t.gwt(4);return()=>(s.twt()+e.jSt()+i.jSt()+r.jSt()+n.jSt())/5-90},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>(s.jSt()+e.jSt()+i.jSt()+r.jSt())/4+100},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3);return()=>.75*s.jSt()-.1*e.jSt()+.1*Math.abs(i.jSt()-r.jSt())},()=>360,()=>17,()=>1.3,t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt();return()=>h(s.jSt(),a(e.jSt(),i(-.5,-.4,-.3,-.2,.2,.3,.4,.5)))},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2),r=t.gwt(3).OSt(),n=t.gwt(4);return()=>l(h(h(s.jSt(),h(e.jSt(),a(i.jSt(),r(-.5,-.4,-.3,-.2,.2,.3,.4,.5)))),n.jSt(1)),3)},t=>{const s=t.gwt(0);return()=>.4*s.jSt()},()=>12,()=>-40,()=>110,()=>"storage",t=>{const s=t.gwt(0);return()=>1.01*s.jSt()},()=>"HardLight",t=>{const s=t.gwt(0);return()=>s.jSt(14)},t=>{const s=t.gwt(0);return()=>1+.05*(100-s.jSt())},t=>{const s=t.gwt(0);return()=>1.5*s.jSt()},t=>{const s=t.gwt(0);return()=>1+.3*(100-s.jSt())},()=>3.5,t=>{const s=t.gwt(0);return()=>14+s.jSt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>s(e.jSt())},t=>{const s=t.gwt(0);return()=>s.jSt()/4},()=>.2,t=>{const s=t.gwt(0).OSt();return()=>s(1,2,3,4,5)},t=>{const s=t.gwt(0).OSt();return()=>3.75+s(1.25)},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt(),r=t.gwt(3).OSt(),n=t.gwt(4).OSt();return()=>h((2*s.jSt(1)+e.jSt())/3,a(i(-1,1),r(n(200))))},t=>{const s=t.gwt(0).OSt();return()=>s("Animation 1","Animation 2","Animation 3")},()=>"Screen",t=>{const s=t.gwt(0),e=t.gwt(1);return()=>Math.abs(s.jSt()-e.jSt())},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt();return()=>s(e(100))},t=>{const s=t.gwt(0);return()=>s.jSt(1)-50},t=>{const s=t.gwt(0);return()=>.0125*s.jSt()},t=>{const s=t.gwt(0);return()=>2*s.twt()},t=>{const s=t.gwt(0);return()=>1.02*s.jSt()},t=>{const s=t.gwt(0);return()=>.825*s.jSt()},t=>{const s=t.gwt(0);return()=>1.03*s.jSt()},t=>{const s=t.gwt(0);return()=>.7*s.jSt()},t=>{const s=t.gwt(0);return()=>.75*s.jSt()},t=>{const s=t.gwt(0);return()=>.7+175e-6*s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>1+.001*Math.abs(s.jSt()-e())},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>1+15e-5*Math.abs(s.jSt()-e())},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>(s.jSt()+e.jSt())/10},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>1+.01*s.jSt()+.01*e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>.25+.001*s.jSt()+1e-4*e.jSt()},t=>{const s=t.gwt(0);return()=>100+s.jSt()/2},t=>{const s=t.gwt(0);return()=>s.jSt(5)+50},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt();return()=>s.jSt(5)+2*Math.abs(e.jSt()-i())-100},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>1+.0025*Math.abs(s.jSt()-e())},t=>{const s=t.gwt(0);return()=>s.jSt(1)+100},t=>{const s=t.gwt(0);return()=>1.425*s.jSt()},()=>"BG02",t=>{const s=t.gwt(0);return()=>s.jSt(1)+400},t=>{const s=t.gwt(0);return()=>0-1.5*s.jSt()},t=>{const s=t.gwt(0).OSt();return()=>s()-100},()=>"Animation 1",t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>30+Math.abs(s.jSt()-e())},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt(1)/2+2*e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt();return()=>.25*s.jSt()+10+Math.pow(Math.abs(e.jSt()-i()),1.5)},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>1.5*s()-e.jSt()},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>2*(s()+e.jSt())},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>Math.sqrt(s.jSt()+e.jSt())/4},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>s()+.25*e.jSt()},()=>"Vignette",t=>{const s=t.gwt(0);return()=>1-1e-4*s.jSt()},t=>{const s=t.gwt(0);return()=>1-2e-4*s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>(2*s.jSt()+2*e())/3+100},t=>{const s=t.gwt(0).OSt();return()=>.75*s()},t=>{const s=t.gwt(0);return()=>s.jSt()-200},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>s.jSt()+1.3*Math.abs(e.jSt(4)-i.jSt())},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>s()+3*e.twt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()+200+e.twt()},()=>1.0475,()=>120,()=>2.25,()=>150,()=>"Track01",t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2).OSt();return()=>s.XSt()/e.jSt()*i("Track01")},()=>-281483566646271,()=>"fade",()=>500,()=>690,()=>1300,()=>1500,()=>1650,()=>1790,()=>2060,()=>2330,()=>2405,()=>2670,()=>2830,()=>2980,t=>{const s=t.gwt(0);return()=>s.jSt()-115},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()+e.JSt()},()=>25,()=>35,()=>99,t=>{const s=t.gwt(0);return()=>1.15*-s.jSt()},t=>{const s=t.gwt(0);return()=>1.125*-s.jSt()},t=>{const s=t.gwt(0);return()=>.99995*s.jSt()},t=>{const s=t.gwt(0);return()=>s.jSt()+.001},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>200+.5*Math.abs(s.jSt()-e.jSt())},t=>{const s=t.gwt(0);return()=>.1*s.jSt()},t=>{const s=t.gwt(0);return()=>-s.jSt()-56},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>100-10*Math.sqrt(Math.abs(s.jSt()-e.jSt()))},t=>{const s=t.gwt(0);return()=>1.05*s.twt()},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>.3*Math.abs(s.jSt()-1.25*e())-300},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>200-10*Math.sqrt(Math.abs(s.jSt()-e.jSt()))},()=>69,t=>{const s=t.gwt(0),e=t.gwt(1);return()=>1.175*s.jSt()+.01*e.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>10-.005*Math.abs(s.jSt()-e.jSt())},t=>{const s=t.gwt(0);return()=>s.jSt()+1480},t=>{const s=t.gwt(0);return()=>s.jSt(5)-100},t=>{const s=t.gwt(0);return()=>25+.05*s.jSt()},t=>{const s=t.gwt(0);return()=>200-s.jSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()+.5*e.JSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()-.5*e.JSt()},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>60+(s.twt()+e.twt())/2},t=>{const s=t.gwt(0);return()=>.65*s.jSt(1)},()=>18,t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>100-100*Math.abs((s.jSt()-e.jSt())/i.jSt())},t=>{const s=t.gwt(0);return()=>2*s.JSt()},()=>"layoutDriveAway",()=>"layoutTerminalRestroom",()=>"Drone01",()=>"ambianceStartScreen",t=>{const s=t.gwt(0).OSt(),e=t.gwt(1).OSt();return()=>s(e())},()=>"Track00",t=>{const s=t.gwt(0);return()=>s.jSt(1)+64},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()-e.jSt()/2},t=>{const s=t.gwt(0).OSt(),e=t.gwt(1),i=t.gwt(2).OSt(),r=t.gwt(3).nwt();return()=>s("Track01")*e.jSt()/i(r.Lit())},t=>{const s=t.gwt(0),e=t.gwt(1);return()=>s.jSt()+e.XSt()},()=>270,t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>2*s()-100+e.jSt()},()=>"bgTexture",t=>{const s=t.gwt(0).OSt(),e=t.gwt(1);return()=>.0375*Math.abs(3*s()-e.jSt())},()=>-0x7302330003ff,t=>{const s=t.gwt(0);return()=>s.jSt()+100},()=>-0x8cc2990003ff,()=>-0xa6430000cfff,()=>"EPISODE::1",()=>"EXTRAS",()=>"CREDITS",t=>{const s=t.gwt(0);return()=>.25*-s.jSt()},t=>{const s=t.gwt(0);return()=>100-s.jSt()},()=>39,t=>{const s=t.gwt(0);return()=>60-1e3/s.jSt()},()=>-281488717251583,t=>{const s=t.gwt(0),e=t.gwt(1);return()=>100-20*Math.sqrt(Math.abs(s.jSt()-e.jSt()))},t=>{const s=t.gwt(0),e=t.gwt(1),i=t.gwt(2);return()=>(s.jSt()+e.jSt(i.JSt()+1))/2},t=>{const s=t.gwt(0).OSt();return()=>s()+300},t=>{const s=t.gwt(0);return()=>1.05*s.jSt()},()=>-2,()=>"Lighten",t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>.75*(s.jSt(1)-e())},t=>{const s=t.gwt(0);return()=>.01*s.jSt()*64},t=>{const s=t.gwt(0),e=t.gwt(1).OSt();return()=>.45*(s.jSt(1)-e())},t=>{const s=t.gwt(0);return()=>.01*s.jSt()*16}]}var t=self.Ls;self.VBt=function(){return[t.T$.$rt,t.nlt.kZt,t.nlt.gts,t.nlt.Hts,t.nlt.jss,t.nlt.xes,t.nlt.wrap,t.nlt.qes,t.T$.Qjt,t.T$.Text,t.T$.PHt,t.T$.Audio,t.T$.Keyboard,t.T$.Touch,t.T$.AKt,t.T$.M$.x$.E4t,t.T$.M$.dnt.sUt,t.T$.M$.x$.F4t,t.nlt.xes.fnt.QQt,t.T$.$rt.dnt.Mxt,t.T$.M$.x$.T4t,t.T$.$rt.x$.fvt,t.T$.$rt.fnt.rxt,t.T$.M$.dnt.kSt,t.T$.M$.x$.x4t,t.T$.$rt.fnt.Jbt,t.T$.$rt.dnt.Hjt,t.T$.$rt.dnt.zjt,t.nlt.xes.fnt.Wes,t.T$.$rt.dnt.Axt,t.T$.$rt.dnt.vxt,t.T$.$rt.dnt.xxt,t.nlt.kZt.fnt.XQt,t.T$.$rt.fnt.yB,t.T$.$rt.fnt.mB,t.T$.M$.dnt.tUt,t.T$.M$.dnt.QWt,t.T$.M$.dnt.random,t.T$.M$.dnt.yWt,t.T$.$rt.x$.Sbt,t.T$.$rt.fnt.Ajt,t.T$.M$.x$.v$,t.T$.$rt.fnt.Mbt,t.T$.$rt.fnt.sL,t.T$.$rt.x$.bbt,t.T$.$rt.x$.wbt,t.T$.$rt.fnt.ajt,t.T$.$rt.fnt.hjt,t.T$.$rt.fnt.mC,t.T$.$rt.fnt.evt,t.T$.$rt.x$.xjt,t.T$.$rt.dnt.Ljt,t.T$.$rt.dnt.Wjt,t.T$.$rt.fnt.svt,t.T$.$rt.fnt.Qbt,t.T$.$rt.x$.sxt,t.T$.$rt.dnt.Xjt,t.T$.$rt.dnt.$jt,t.T$.$rt.fnt.K3,t.T$.$rt.dnt.Opacity,t.T$.$rt.dnt.Txt,t.T$.$rt.fnt.txt,t.nlt.gts.fnt.Nts,t.T$.$rt.fnt._m,t.T$.$rt.fnt.wm,t.nlt.kZt.fnt.sts,t.T$.$rt.dnt.mxt,t.T$.M$.fnt.c6t,t.T$.$rt.fnt.Gbt,t.nlt.kZt.fnt.qQt,t.nlt.kZt.fnt.tts,t.nlt.kZt.dnt.rts,t.nlt.kZt.fnt.izt,t.nlt.Hts.fnt.kss,t.nlt.Hts.fnt.Uxt,t.T$.M$.x$.J4t,t.T$.$rt.fnt.Db,t.nlt.gts.fnt.Lts,t.T$.M$.fnt.Bh,t.T$.M$.fnt.r6t,t.T$.M$.fnt.o6t,t.T$.$rt.fnt.Lb,t.T$.M$.x$.wd,t.T$.$rt.dnt.Vxt,t.nlt.qes.fnt.QQt,t.nlt.kZt.x$.gQt,t.T$.M$.fnt.h6t,t.nlt.gts.x$.Dts,t.T$.M$.x$.M4t,t.nlt.jss.fnt.ges,t.nlt.jss.fnt.Ses,t.nlt.jss.fnt.mes,t.T$.$rt.fnt.njt,t.T$.$rt.dnt.Ujt,t.T$.$rt.fnt.tvt,t.T$.$rt.x$.Pbt,t.nlt.Hts.fnt.Oss,t.T$.M$.x$.Fpt,t.nlt.Hts.fnt.Ass,t.nlt.Hts.fnt.Fss,t.T$.Touch.x$.LYt,t.T$.Qjt.fnt.Mbt,t.T$.Qjt.fnt.mC,t.T$.Text.fnt.K3,t.T$.Audio.x$.pXt,t.T$.Qjt.fnt.evt,t.nlt.Hts.fnt.Bss,t.nlt.kZt.fnt.Uxt,t.nlt.kZt.fnt.QQt,t.nlt.Hts.dnt.Uss,t.T$.$rt.x$.iL,t.T$.$rt.x$.Hvt,t.T$.$rt.fnt.ojt,t.T$.$rt.x$.gvt,t.T$.Text.x$.Hvt,t.T$.Text.fnt.yB,t.T$.Text.dnt.mxt,t.T$.Text.x$.sxt,t.T$.Text.fnt.rxt,t.nlt.jss.fnt.yes,t.T$.Text.fnt.mC,t.T$.Text.dnt.bHt,t.T$.Text.fnt.fHt,t.T$.Text.fnt.cHt,t.T$.Text.fnt.JI,t.T$.Text.fnt.aHt,t.T$.Text.fnt.oHt,t.T$.Audio.dnt.gnt,t.T$.Text.fnt.sL,t.T$.Text.fnt.hHt,t.T$.Text.x$.iHt,t.T$.Text.x$.x7t,t.T$.Text.fnt.wf,t.nlt.jss.x$.Qss,t.T$.Audio.dnt.t$t,t.T$.Text.x$.bbt,t.T$.Text.dnt.vxt,t.T$.Text.x$.wbt,t.T$.Text.dnt.xxt,t.T$.Text.fnt.txt,t.T$.M$.fnt.E6t,t.T$.$rt.fnt.Hbt,t.nlt.kZt.fnt.ZQt,t.nlt.Hts.fnt.Dss,t.nlt.kZt.dnt.nts,t.T$.$rt.x$.qbt,t.T$.$rt.fnt.Rjt,t.T$.$rt.dnt.nvt,t.T$.$rt.fnt.uvt,t.T$.$rt.fnt.cvt,t.T$.$rt.fnt.zbt,t.T$.PHt.x$.Hvt,t.T$.PHt.fnt.dzt,t.nlt.kZt.x$.zQt,t.T$.PHt.fnt.Mbt,t.T$.PHt.fnt.$Ht,t.T$.PHt.dnt.vxt,t.T$.PHt.fnt.v9t,t.T$.PHt.fnt.lzt,t.T$.PHt.fnt.rxt,t.T$.PHt.fnt.YHt,t.T$.PHt.x$.sxt,t.T$.PHt.fnt.HHt,t.T$.PHt.fnt.KHt,t.T$.PHt.fnt.T9t,t.T$.PHt.fnt.zHt,t.T$.PHt.fnt.XHt,t.T$.PHt.fnt._9t,t.T$.PHt.fnt.rzt,t.T$.PHt.x$.Ybt,t.T$.PHt.fnt.txt,t.nlt.jss.fnt.pes,t.T$.$rt.x$.U8t,t.nlt.kZt.fnt.UW,t.T$.$rt.fnt.kjt,t.T$.$rt.x$.j8t,t.T$.M$.fnt.X6t,t.T$.M$.fnt.$6t,t.nlt.Hts.x$.rc,t.T$.$rt.x$.xbt,t.T$.Keyboard.x$.G$t,t.T$.Touch.x$.bYt,t.T$.Audio.fnt.RXt,t.T$.Text.fnt.Gbt,t.T$.Text.fnt.evt,t.T$.M$.fnt.k6t,t.T$.M$.x$.A4t,t.T$.Audio.fnt.IXt,t.T$.Audio.fnt.Play,t.T$.Audio.dnt.a$t,t.T$.Audio.x$.eXt,t.T$.$rt.fnt.Ebt,t.T$.Text.fnt.svt,t.T$.Text.dnt.vHt,t.T$.Text.dnt.xHt,t.T$.Touch.x$.MYt,t.T$.Text.x$.qbt,t.T$.Text.dnt.Opacity,t.T$.AKt.x$.oZt,t.T$.AKt.dnt.vxt,t.T$.AKt.dnt.xxt,t.T$.$rt.x$.Pxt]},self.eLt=[{$es:0},{kZt:0},{Yes:0},{Kes:0},{Zes:0},{gts:0},{Qes:0},{tis:0},{sis:0},{eis:0},{iis:0},{ris:0},{nis:0},{his:0},{ois:0},{ais:0},{jss:0},{lis:0},{title:0},{uis:0},{target:0},{xes:0},{cis:0},{fis:0},{dis:0},{pis:0},{mis:0},{gis:0},{yis:0},{Sis:0},{wis:0},{bis:0},{vis:0},{xis:0},{Mis:0},{Tis:0},{Gis:0},{_is:0},{Iis:0},{Cis:0},{Ris:0},{Eis:0},{Pis:0},{Fis:0},{Ais:0},{kis:0},{Dis:0},{Ois:0},{Bis:0},{qes:0},{Lis:0},{Nis:0},{Wis:0},{Uis:0},{jis:0},{Vis:0},{His:0},{zis:0},{Jis:0},{qis:0},{Xis:0},{$is:0},{Yis:0},{Kis:0},{Zis:0},{Qis:0},{trs:0},{srs:0},{ers:0},{irs:0},{rrs:0},{nrs:0},{hrs:0},{ors:0},{ars:0},{lrs:0},{urs:0},{crs:0},{frs:0},{drs:0},{prs:0},{mrs:0},{grs:0},{yrs:0},{Srs:0},{wrs:0},{brs:0},{vrs:0},{xrs:0},{Mrs:0},{Trs:0},{Grs:0},{$rt:0},{_rs:0},{Irs:0},{Crs:0},{Rrs:0},{Ers:0},{Prs:0},{Frs:0},{Ars:0},{krs:0},{Drs:0},{Ors:0},{Brs:0},{Lrs:0},{Nrs:0},{Wrs:0},{Urs:0},{jrs:0},{Vrs:0},{Hrs:0},{zrs:0},{Jrs:0},{qrs:0},{Xrs:0},{$rs:0},{Yrs:0},{Krs:0},{Zrs:0},{Qrs:0},{tns:0},{sns:0},{ens:0},{ins:0},{rns:0},{nns:0},{hns:0},{ons:0},{ans:0},{lns:0},{uns:0},{cns:0},{fns:0},{dns:0},{pns:0},{mns:0},{gns:0},{yns:0},{Sns:0},{wns:0},{bns:0},{vns:0},{xns:0},{Mns:0},{Tns:0},{Gns:0},{_ns:0},{Ins:0},{Cns:0},{Rns:0},{Ens:0},{Pns:0},{Fns:0},{Ans:0},{kns:0},{Dns:0},{Ons:0},{Bns:0},{Lns:0},{Nns:0},{Wns:0},{Uns:0},{jns:0},{Vns:0},{Hns:0},{zns:0},{Jns:0},{qns:0},{Xns:0},{$ns:0},{Yns:0},{Kns:0},{Zns:0},{Qns:0},{ths:0},{shs:0},{ehs:0},{ihs:0},{rhs:0},{nhs:0},{hhs:0},{ohs:0},{ahs:0},{lhs:0},{uhs:0},{chs:0},{fhs:0},{dhs:0},{phs:0},{mhs:0},{ghs:0},{yhs:0},{Shs:0},{whs:0},{bhs:0},{vhs:0},{xhs:0},{Mhs:0},{Ths:0},{Ghs:0},{_hs:0},{Ihs:0},{Chs:0},{Rhs:0},{Ehs:0},{Phs:0},{Fhs:0},{Ahs:0},{khs:0},{Dhs:0},{Ohs:0},{Bhs:0},{Lhs:0},{Nhs:0},{Whs:0},{Uhs:0},{jhs:0},{Vhs:0},{Hhs:0},{zhs:0},{Jhs:0},{qhs:0},{Xhs:0},{$hs:0},{Yhs:0},{Khs:0},{Zhs:0},{Qhs:0},{tos:0},{eos:0},{ios:0},{ros:0},{nos:0},{hos:0},{oos:0},{aos:0},{los:0},{uos:0},{fos:0},{dos:0},{mos:0},{gos:0},{yos:0},{Sos:0},{wos:0},{vos:0},{xos:0},{Mos:0},{Tos:0},{Gos:0},{_os:0},{Ios:0},{Cos:0},{Ros:0},{Eos:0},{Pos:0},{Fos:0},{Aos:0},{kos:0},{Dos:0},{Oos:0},{Bos:0},{Los:0},{Nos:0},{Wos:0},{Uos:0},{jos:0},{Vos:0},{Hos:0},{zos:0},{Jos:0},{qos:0},{Xos:0},{$os:0},{Yos:0},{Kos:0},{Zos:0},{Qos:0},{tas:0},{sas:0},{eas:0},{ias:0},{ras:0},{nas:0},{oas:0},{aas:0},{las:0},{uas:0},{fas:0},{das:0},{pas:0},{mas:0},{gas:0},{yas:0},{Sas:0},{was:0},{bas:0},{vas:0},{xas:0},{Audio:0},{Mas:0},{Keyboard:0},{Tas:0},{Touch:0},{Gas:0},{AKt:0},{_as:0},{Ias:0},{Cas:0},{Ras:0},{Eas:0},{Pas:0},{Fas:0},{Aas:0},{kas:0},{Das:0},{Oas:0},{Bas:0},{Las:0},{Nas:0},{Was:0},{Uas:0},{jas:0},{Vas:0},{Has:0},{zas:0},{Jas:0},{qas:0},{Xas:0},{$as:0},{Yas:0},{Kas:0},{Zas:0},{Qas:0},{tls:0},{sls:0},{els:0},{ils:0},{rls:0},{nls:0},{hls:0},{ols:0},{als:0},{lls:0},{uls:0},{cls:0},{fls:0},{dls:0}],self.pls={Yes:class extends self.ujt{},Kes:class extends self.ujt{},Zes:class extends self.ujt{},Qes:class extends self.ujt{},tis:class extends self.ujt{},sis:class extends self.ujt{},eis:class extends self.ujt{},iis:class extends self.ujt{},nis:class extends self.ujt{},ois:class extends self.ujt{},lis:class extends self.ujt{},title:class extends self.ujt{},uis:class extends self.ujt{},cis:class extends self.ujt{},fis:class extends self.ujt{},pis:class extends self.ujt{},mis:class extends self.ujt{},gis:class extends self.ujt{},yis:class extends self.ujt{},Sis:class extends self.ujt{},wis:class extends self.ujt{},bis:class extends self.ujt{},vis:class extends self.ujt{},xis:class extends self.ujt{},Mis:class extends self.ujt{},Tis:class extends self.ujt{},Gis:class extends self.ujt{},_is:class extends self.ujt{},Iis:class extends self.ujt{},Cis:class extends self.ujt{},Ris:class extends self.ujt{},Eis:class extends self.ujt{},Pis:class extends self.ujt{},Fis:class extends self.ujt{},Ais:class extends self.ujt{},kis:class extends self.ujt{},Dis:class extends self.ujt{},Ois:class extends self.ujt{},Lis:class extends self.ujt{},Nis:class extends self.ujt{},Wis:class extends self.ujt{},Uis:class extends self.ujt{},jis:class extends self.ujt{},Vis:class extends self.ujt{},Jis:class extends self.ujt{},qis:class extends self.ujt{},Xis:class extends self.ujt{},$is:class extends self.ujt{},Yis:class extends self.ujt{},Zis:class extends self.ujt{},Qis:class extends self.ujt{},srs:class extends self.ujt{},ers:class extends self.ujt{},irs:class extends self.ujt{},rrs:class extends self.ujt{},nrs:class extends self.ujt{},hrs:class extends self.ujt{},ors:class extends self.ujt{},ars:class extends self.ujt{},lrs:class extends self.ujt{},urs:class extends self.ujt{},crs:class extends self.ujt{},frs:class extends self.ujt{},drs:class extends self.ujt{},prs:class extends self.ujt{},mrs:class extends self.ujt{},grs:class extends self.ujt{},yrs:class extends self.ujt{},Srs:class extends self.ujt{},wrs:class extends self.ujt{},brs:class extends self.ujt{},vrs:class extends self.ujt{},xrs:class extends self.ujt{},Mrs:class extends self.ujt{},Trs:class extends self.ujt{},Grs:class extends self.ujt{},$rt:class extends self.ujt{},_rs:class extends self.ujt{},Irs:class extends self.ujt{},Crs:class extends self.ujt{},Rrs:class extends self.ujt{},Ers:class extends self.ujt{},Prs:class extends self.ujt{},Frs:class extends self.ujt{},Ars:class extends self.ujt{},krs:class extends self.ujt{},Drs:class extends self.ujt{},Ors:class extends self.ujt{},Brs:class extends self.ujt{},Lrs:class extends self.ujt{},Nrs:class extends self.ujt{},Wrs:class extends self.ujt{},Urs:class extends self.ujt{},jrs:class extends self.ujt{},Vrs:class extends self.ujt{},Hrs:class extends self.ujt{},zrs:class extends self.ujt{},Jrs:class extends self.ujt{},qrs:class extends self.ujt{},Xrs:class extends self.ujt{},$rs:class extends self.ujt{},Yrs:class extends self.ujt{},Krs:class extends self.ujt{},Zrs:class extends self.ujt{},Qrs:class extends self.ujt{},tns:class extends self.ujt{},sns:class extends self.ujt{},ens:class extends self.ujt{},ins:class extends self.ujt{},rns:class extends self.ujt{},nns:class extends self.ujt{},hns:class extends self.R6{},ons:class extends self.ujt{},ans:class extends self.ujt{},lns:class extends self.ujt{},uns:class extends self.ujt{},cns:class extends self.ujt{},fns:class extends self.ujt{},dns:class extends self.ujt{},mns:class extends self.ujt{},gns:class extends self.ujt{},yns:class extends self.ujt{},Sns:class extends self.ujt{},wns:class extends self.ujt{},bns:class extends self.ujt{},vns:class extends self.ujt{},xns:class extends self.ujt{},Gns:class extends self.ujt{},_ns:class extends self.ujt{},Ins:class extends self.ujt{},Cns:class extends self.ujt{},Rns:class extends self.ujt{},Ens:class extends self.ujt{},Pns:class extends self.ujt{},Fns:class extends self.ujt{},Ans:class extends self.ujt{},kns:class extends self.ujt{},Dns:class extends self.ujt{},Ons:class extends self.ujt{},Bns:class extends self.ujt{},Uns:class extends self.ujt{},jns:class extends self.ujt{},zns:class extends self.ujt{},Jns:class extends self.ujt{},qns:class extends self.ujt{},Xns:class extends self.ujt{},$ns:class extends self.ujt{},Zns:class extends self.j7t{},Qns:class extends self.ujt{},ths:class extends self.ujt{},shs:class extends self.ujt{},ehs:class extends self.ujt{},ihs:class extends self.ujt{},rhs:class extends self.ujt{},nhs:class extends self.ujt{},hhs:class extends self.ujt{},ohs:class extends self.ujt{},ahs:class extends self.ujt{},lhs:class extends self.ujt{},uhs:class extends self.ujt{},chs:class extends self.ujt{},fhs:class extends self.ujt{},dhs:class extends self.ujt{},phs:class extends self.ujt{},mhs:class extends self.ujt{},ghs:class extends self.ujt{},yhs:class extends self.ujt{},Shs:class extends self.j7t{},whs:class extends self.j7t{},bhs:class extends self.j7t{},vhs:class extends self.ujt{},xhs:class extends self.j7t{},Mhs:class extends self.ujt{},Ths:class extends self.ujt{},Ghs:class extends self.ujt{},_hs:class extends self.s9t{},Chs:class extends self.s9t{},Rhs:class extends self.ujt{},Ehs:class extends self.ujt{},Phs:class extends self.ujt{},Fhs:class extends self.ujt{},Ahs:class extends self.ujt{},khs:class extends self.ujt{},Dhs:class extends self.ujt{},Bhs:class extends self.ujt{},Lhs:class extends self.ujt{},Nhs:class extends self.ujt{},Whs:class extends self.ujt{},Uhs:class extends self.ujt{},jhs:class extends self.ujt{},Vhs:class extends self.ujt{},Hhs:class extends self.ujt{},zhs:class extends self.ujt{},Jhs:class extends self.ujt{},Xhs:class extends self.ujt{},$hs:class extends self.ujt{},Yhs:class extends self.ujt{},Khs:class extends self.ujt{},Zhs:class extends self.ujt{},Qhs:class extends self.ujt{},eos:class extends self.ujt{},ios:class extends self.ujt{},ros:class extends self.ujt{},nos:class extends self.ujt{},hos:class extends self.ujt{},oos:class extends self.ujt{},aos:class extends self.ujt{},los:class extends self.ujt{},uos:class extends self.ujt{},fos:class extends self.ujt{},dos:class extends self.ujt{},mos:class extends self.ujt{},gos:class extends self.ujt{},yos:class extends self.ujt{},Sos:class extends self.ujt{},wos:class extends self.ujt{},vos:class extends self.ujt{},xos:class extends self.ujt{},Mos:class extends self.ujt{},Tos:class extends self.ujt{},Gos:class extends self.ujt{},_os:class extends self.ujt{},Ios:class extends self.ujt{},Cos:class extends self.ujt{},Ros:class extends self.ujt{},Eos:class extends self.ujt{},Pos:class extends self.ujt{},Aos:class extends self.ujt{},kos:class extends self.ujt{},Dos:class extends self.ujt{},Bos:class extends self.ujt{},Los:class extends self.ujt{},Wos:class extends self.ujt{},jos:class extends self.ujt{},Vos:class extends self.ujt{},Hos:class extends self.ujt{},zos:class extends self.ujt{},Jos:class extends self.ujt{},qos:class extends self.ujt{},Xos:class extends self.ujt{},$os:class extends self.ujt{},Yos:class extends self.ujt{},Kos:class extends self.ujt{},Zos:class extends self.ujt{},Qos:class extends self.ujt{},tas:class extends self.ujt{},sas:class extends self.ujt{},eas:class extends self.ujt{},ias:class extends self.ujt{},ras:class extends self.ujt{},nas:class extends self.ujt{},oas:class extends self.ujt{},aas:class extends self.ujt{},las:class extends self.ujt{},uas:class extends self.ujt{},fas:class extends self.ujt{},das:class extends self.ujt{},pas:class extends self.ujt{},mas:class extends self.ujt{},gas:class extends self.ujt{},yas:class extends self.ujt{},Sas:class extends self.ujt{},was:class extends self.ujt{},bas:class extends self.ujt{},vas:class extends self.ujt{},xas:class extends self.ujt{},Audio:class extends self.HL{},Mas:class extends self.j7t{},Keyboard:class extends self.HL{},Tas:class extends self.ujt{},Touch:class extends self.HL{},Gas:class extends self.j7t{},AKt:class extends self.HL{},_as:class extends self.ujt{},Ias:class extends self.ujt{},Cas:class extends self.ujt{},Ras:class extends self.ujt{},Eas:class extends self.ujt{},Pas:class extends self.ujt{},Fas:class extends self.ujt{},Aas:class extends self.ujt{},kas:class extends self.ujt{},Das:class extends self.ujt{},Oas:class extends self.ujt{},Bas:class extends self.ujt{},Las:class extends self.ujt{},Nas:class extends self.ujt{},Was:class extends self.ujt{},Uas:class extends self.j7t{},jas:class extends self.ujt{}};